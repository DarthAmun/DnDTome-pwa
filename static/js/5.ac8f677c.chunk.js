(this.webpackJsonpdndtome=this.webpackJsonpdndtome||[]).push([[5],{120:function(e,n,t){"use strict";var i,r,o,c,a=t(5),s=(t(2),t(4)),u=t(12),l=t(1);n.a=function(e){var n=e.value,t=e.max,i=e.step,r=e.label,o=e.icon,c=e.transform,a=e.onChange;return Object(l.jsxs)(d,{children:[Object(l.jsxs)(h,{children:[o?Object(l.jsx)(b,{icon:o,transform:c}):""," ",r]}),t&&Object(l.jsx)(p,{type:"number",max:t,step:i||1,value:n,onChange:function(e){return a(+e.target.value)}}),!t&&Object(l.jsx)(p,{type:"number",step:i||1,value:n,onChange:function(e){return a(+e.target.value)}})]})};var d=s.b.label(i||(i=Object(a.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),b=Object(s.b)(u.a)(r||(r=Object(a.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"])),(function(e){return e.theme.main.highlight})),h=s.b.div(o||(o=Object(a.a)(["\n  flex: 1 1;\n"]))),p=s.b.input(c||(c=Object(a.a)(["\n  flex: 1 1 auto;\n  max-width: 6em;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n"])),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}))},135:function(e,n,t){"use strict";var i,r=t(5),o=t(14),c=(t(2),t(4)),a=t(180),s=t(1);n.a=function(e){var n=e.label,t=e.onFinished;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(u,{children:Object(s.jsx)(a.a,{label:n||"",isMulti:!1,accept:"image/png, image/jpeg",icon:o.H,onChange:function(e){return function(e){if(console.log("Start File Upload"),null!==e){var n=Array.from(e),i=new FileReader;i.onload=function(e){t(e.target.result)},i.readAsDataURL(n[0]),console.log(n)}}(e)}})})})};var u=c.b.div(i||(i=Object(r.a)(["\n  flex: 1 1 auto;\n"])))},145:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return o}));var i=t(6),r=function e(n,t,r){Object(i.a)(this,e),this.classe=void 0,this.level=void 0,this.subclasse=void 0,this.level=t,this.classe=n,this.subclasse=r};function o(e){var n=void 0!==e.classe&&"string"==typeof e.classe,t=void 0!==e.level&&"number"==typeof e.level,i=void 0!==e.subclasse&&"string"==typeof e.subclasse;return e&&t&&n&&i}},157:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return l}));var i=t(6),r=function e(n,t,r,o,c,a,s,u,l,d,b,h,p,f,j,x,m,g){Object(i.a)(this,e),this.acrobaticsProf=void 0,this.animalHandlingProf=void 0,this.arcanaProf=void 0,this.athleticsProf=void 0,this.deceptionProf=void 0,this.historyProf=void 0,this.insightProf=void 0,this.intimidationProf=void 0,this.investigationProf=void 0,this.medicineProf=void 0,this.natureProf=void 0,this.perceptionProf=void 0,this.performanceProf=void 0,this.persuasionProf=void 0,this.religionProf=void 0,this.sleightOfHandProf=void 0,this.stealthProf=void 0,this.survivalProf=void 0,this.acrobaticsProf=n||0,this.animalHandlingProf=t||0,this.arcanaProf=r||0,this.athleticsProf=o||0,this.deceptionProf=c||0,this.historyProf=a||0,this.insightProf=s||0,this.intimidationProf=u||0,this.investigationProf=l||0,this.medicineProf=d||0,this.natureProf=b||0,this.perceptionProf=h||0,this.performanceProf=p||0,this.persuasionProf=f||0,this.religionProf=j||0,this.sleightOfHandProf=x||0,this.stealthProf=m||0,this.survivalProf=g||0};var o=function e(n,t,r,o,c,a){Object(i.a)(this,e),this.strSaveProf=void 0,this.dexSaveProf=void 0,this.conSaveProf=void 0,this.intSaveProf=void 0,this.wisSaveProf=void 0,this.chaSaveProf=void 0,this.strSaveProf=n||0,this.dexSaveProf=t||0,this.conSaveProf=r||0,this.intSaveProf=o||0,this.wisSaveProf=c||0,this.chaSaveProf=a||0};var c=function e(n,t,r,o,c){Object(i.a)(this,e),this.copper=void 0,this.silver=void 0,this.electrum=void 0,this.gold=void 0,this.platinum=void 0,this.copper=n||0,this.silver=t||0,this.electrum=r||0,this.gold=o||0,this.platinum=c||0};var a=t(145),s=function e(n,t){Object(i.a)(this,e),this.race=void 0,this.subrace=void 0,this.race=n||"",this.subrace=t||""};var u=function e(n,t,a,u,l,d,b,h,p,f,j,x,m,g,O,v,y,w,k,C,z,P,E,S,H,B,N,D,M,V,F,I,A,T,L,_,J){Object(i.a)(this,e),this.id=void 0,this.name=void 0,this.player=void 0,this.campaign=void 0,this.pic=void 0,this.picBase64=void 0,this.classes=void 0,this.race=void 0,this.background=void 0,this.spells=void 0,this.spellSlots=void 0,this.activeSelections=void 0,this.currencyBonis=void 0,this.items=void 0,this.monsters=void 0,this.ac=void 0,this.hp=void 0,this.currentHp=void 0,this.init=void 0,this.speed=void 0,this.str=void 0,this.dex=void 0,this.con=void 0,this.int=void 0,this.wis=void 0,this.cha=void 0,this.saves=void 0,this.actions=void 0,this.profsLangs=void 0,this.senses=void 0,this.money=void 0,this.skills=void 0,this.spellNotes=void 0,this.alignment=void 0,this.inspiration=void 0,this.castingHit=void 0,this.castingDC=void 0,this.id=n||-1,this.name=t||"",this.player=a||"",this.campaign=u||"",this.pic=l||"",this.picBase64=d||"",this.classes=b||[],this.race=h||new s,this.background=p||"",this.spells=f||[],this.spellSlots=j||[],this.activeSelections=x||[],this.currencyBonis=m||[],this.items=g||[],this.monsters=O||[],this.ac=v||0,this.hp=y||0,this.currentHp=w||0,this.init=k||0,this.speed=C||"",this.str=z||0,this.dex=P||0,this.con=E||0,this.int=S||0,this.wis=H||0,this.cha=B||0,this.saves=N||new o,this.actions=D||"",this.profsLangs=M||"",this.senses=V||"",this.money=F||new c,this.skills=I||new r,this.spellNotes=A||"",this.alignment=T||"",this.inspiration=L||0,this.castingHit=_||0,this.castingDC=J||0};function l(e){var n=void 0!==e.name&&"string"==typeof e.name,t=void 0!==e.player&&"string"==typeof e.player,i=void 0!==e.campaign&&"string"==typeof e.campaign,r=void 0!==e.pic&&"string"==typeof e.pic,o=void 0!==e.picBase64&&"string"==typeof e.picBase64,c=void 0!==e.race&&function(e){var n=void 0!==e.race&&"string"==typeof e.race,t=void 0!==e.subrace&&"string"==typeof e.subrace;return e&&n&&t}(e.race),s=void 0!==e.background&&"string"==typeof e.background,u=void 0!==e.ac&&"number"==typeof e.ac,l=void 0!==e.hp&&"number"==typeof e.hp,d=void 0!==e.currentHp&&"number"==typeof e.currentHp,b=void 0!==e.init&&"number"==typeof e.init,h=void 0!==e.classes&&Array.isArray(e.classes)&&Object(a.b)(e.classes[0]);return e&&n&&t&&i&&r&&o&&c&&s&&u&&l&&d&&b&&h}},163:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var i=function(){for(var e,n,t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<13;r++)t+=i[(e=0,n=i.length-1,Math.floor(Math.random()*(n-e+1))+e)];return t}},180:function(e,n,t){"use strict";var i,r,o,c,a=t(5),s=(t(2),t(4)),u=t(12),l=t(1);n.a=function(e){var n=e.label,t=e.accept,i=e.isMulti,r=e.icon,o=e.transform,c=e.onChange;return Object(l.jsxs)(d,{children:[Object(l.jsxs)(h,{children:[r?Object(l.jsx)(b,{icon:r,transform:o}):""," ",n]}),i&&Object(l.jsx)(p,{onChange:function(e){return c(e.target.files)},type:"file",accept:t,multiple:!0}),!i&&Object(l.jsx)(p,{onChange:function(e){return c(e.target.files)},accept:t,type:"file"})]})};var d=s.b.label(i||(i=Object(a.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 38px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),b=Object(s.b)(u.a)(r||(r=Object(a.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"])),(function(e){return e.theme.main.highlight})),h=s.b.div(o||(o=Object(a.a)(["\n  flex: 1 1 auto;\n"]))),p=s.b.input(c||(c=Object(a.a)(["\n  flex: 3 1 auto;\n  height: 38px;\n  line-height: 30px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n"])),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}))},185:function(e,n,t){"use strict";t.d(n,"b",(function(){return f})),t.d(n,"a",(function(){return j}));var i,r,o,c,a=t(5),s=t(15),u=t(2),l=t(4),d=t(12),b=t(42),h=t(120),p=t(1),f=function(e){var n=e.message,t=e.icon,i=e.confirmeText,r=e.confirmeClick,o=e.abortText,c=e.abortClick;return Object(p.jsxs)(x,{children:[Object(p.jsxs)(m,{children:[t?Object(p.jsx)(O,{icon:t}):""," ",n]}),Object(p.jsxs)(g,{children:[Object(p.jsx)(b.a,{text:o,onClick:c}),Object(p.jsx)(b.a,{text:i,onClick:r})]})]})},j=function(e){var n=e.name,t=e.damageText,i=e.damageClick,r=e.healText,o=e.healClick,c=e.abortText,a=e.abortClick,l=Object(u.useState)(0),d=Object(s.a)(l,2),f=d[0],j=d[1];return Object(p.jsxs)(x,{children:[Object(p.jsx)(h.a,{value:f,label:n,onChange:j}),Object(p.jsxs)(g,{children:[Object(p.jsx)(b.a,{text:c,onClick:a}),Object(p.jsx)(b.a,{text:t,onClick:function(){return i(f)},style:{float:"left"}}),Object(p.jsx)(b.a,{text:r,onClick:function(){return o(f)},style:{backgroundColor:"lightgreen",float:"left"}})]})]})},x=l.b.div(i||(i=Object(a.a)(["\n  width: 280px;\n  position: fixed;\n  z-index: 1010;\n  top: 100px;\n  left: calc(50% - 150px);\n  padding: 10px;\n  background-color: ",";\n  color: ",";\n"])),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.color})),m=l.b.div(r||(r=Object(a.a)(["\n  width: 100%;\n  text-align: center;\n"]))),g=l.b.div(o||(o=Object(a.a)(["\n  width: 100%;\n"]))),O=Object(l.b)(d.a)(c||(c=Object(a.a)(["\n  flex: 1 1 auto;\n  margin-right: 5px;\n"])))},189:function(e,n,t){"use strict";var i,r,o,c,a,s,u=t(5),l=t(9),d=t.n(l),b=t(17),h=t(15),p=t(2),f=t(4),j=t(12),x=t(40),m=t(1);n.a=function(e){var n=e.optionTable,t=e.options,i=e.filters,r=e.value,o=e.label,c=e.icon,a=e.transform,s=e.onChange,u=Object(p.useState)(r),l=Object(h.a)(u,2),f=l[0],j=l[1],C=Object(p.useState)(void 0!==n?n:[]),z=Object(h.a)(C,1)[0],P=Object(p.useState)(void 0!==t?t:[]),E=Object(h.a)(P,2),S=E[0],H=E[1],B=Object(p.useState)([]),N=Object(h.a)(B,2),D=N[0],M=N[1],V=Object(p.useCallback)(function(){var e=Object(b.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n.forEach((function(e){t.push(Object(x.i)(e,void 0!==i?i:[]))})),e.next=4,Promise.all(t);case 4:e.sent.forEach((function(e){H((function(n){return n.concat(e)}))}));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[i]);Object(p.useEffect)((function(){void 0!==n&&("string"===typeof z&&Object(x.h)(z,void 0!==i?i:[],(function(e){H(e)})),z instanceof Array&&z.length>0&&V(z))}),[n,z,V,i]);var F=Object(p.useCallback)((function(e){if(console.time("search"),j(e),e.length>2){var n=S.filter((function(n){return n.name.toLowerCase().startsWith(e.toLowerCase())})).slice(0,5);M(n)}else M([]);console.timeEnd("search")}),[S]);return Object(m.jsxs)(g,{children:[Object(m.jsxs)(v,{children:[c?Object(m.jsx)(O,{icon:c,transform:a}):""," ",o]}),Object(m.jsx)(k,{type:"text",value:f,onChange:function(e){return F(e.target.value)},onKeyDown:function(e){return function(e){"Enter"===e.key&&s(f)}(e)}}),Object(m.jsx)(y,{children:D.length>0&&D.map((function(e,n){return Object(m.jsxs)(w,{onClick:function(n){j(e.name+"|"+e.sources),s(e.name+"|"+e.sources)},children:[e.name,"|",e.sources]},n)}))})]})};var g=f.b.label(i||(i=Object(u.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n  position: relative;\n  overflow: visible;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),O=Object(f.b)(j.a)(r||(r=Object(u.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"])),(function(e){return e.theme.main.highlight})),v=f.b.div(o||(o=Object(u.a)(["\n  flex: 1 1 auto;\n"]))),y=f.b.div(c||(c=Object(u.a)(["\n  display: none;\n  position: absolute;\n  border-bottom: none;\n  border-top: none;\n  z-index: 99;\n  top: 100%;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n\n  &:hover {\n    display: block;\n  }\n"]))),w=f.b.div(a||(a=Object(u.a)(["\n  padding: 5px;\n  cursor: pointer;\n  color: ",";\n  background-color: ",";\n  margin-bottom: 1px;\n  border-radius: 5px;\n"])),(function(e){return e.theme.input.color}),(function(e){return e.theme.input.backgroundColor})),k=f.b.input(s||(s=Object(u.a)(["\n  flex: 3 1 auto;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n\n  &:focus ~ "," {\n    display: block;\n  }\n"])),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}),y)},233:function(e,n,t){"use strict";var i,r,o=t(5),c=(t(2),t(4)),a=t(12),s=t(1);n.a=function(e){var n=e.icon,t=e.transform,i=e.action;return Object(s.jsx)(l,{onClick:i,children:Object(s.jsx)(u,{icon:n,transform:t})})};var u=Object(c.b)(a.a)(i||(i=Object(o.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.main.highlight}),(function(e){return e.theme.buttons.color})),l=c.b.div(r||(r=Object(o.a)(["\n  float: left;\n  font-size: calc("," + 10px);\n  margin: 10px 0px 0px 10px;\n  cursor: pointer;\n"])),(function(e){return e.theme.buttons.height}))},234:function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"c",(function(){return u})),t.d(n,"a",(function(){return l}));var i,r,o,c=t(5),a=t(4),s=a.b.div(i||(i=Object(c.a)(["\n  width: auto;\n  padding: 10px;\n  margin: 5px 0px 5px 5px;\n  height: ",";\n  line-height: ",";\n  float: left;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  border-radius: 5px 0px 0px 5px;\n\n  transition: color 0.2s, background-color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.hoverColor})),u=Object(a.b)(s)(r||(r=Object(c.a)(["\n  margin: 5px 5px 5px 0px;\n\n  border-radius: 0px 5px 5px 0px;\n"]))),l=a.b.div(o||(o=Object(c.a)(["\n  width: auto;\n  height: ",";\n  float: right;\n  color: ",";\n\n  "," {\n    background-color: ",";\n  }\n\n  "," {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.color}),s,(function(e){return"true"!==e.mode?function(e){return e.theme.buttons.backgroundColor}:function(e){return e.theme.tile.backgroundColor}}),u,(function(e){return"true"===e.mode?function(e){return e.theme.buttons.backgroundColor}:function(e){return e.theme.tile.backgroundColor}}))},246:function(e,n,t){"use strict";var i,r,o,c,a=t(5),s=(t(2),t(4)),u=t(12),l=t(161),d=t(1);n.a=function(e){var n=e.options,t=e.value,i=e.label,r=e.style,o=e.icon,c=e.transform,a=e.onChange,s=function(e){null!==e&&void 0!==e&&a(e.value)};return Object(d.jsxs)(b,{style:r,children:[Object(d.jsxs)(p,{children:[o?Object(d.jsx)(h,{icon:o,transform:c}):""," ",i]}),Object(d.jsx)(f,{isMulti:!1,classNamePrefix:"react-select",value:{value:t,label:t},options:n,onChange:function(e){return s(e)}})]})};var b=s.b.label(i||(i=Object(a.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),h=Object(s.b)(u.a)(r||(r=Object(a.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"])),(function(e){return e.theme.main.highlight})),p=s.b.div(o||(o=Object(a.a)(["\n  flex: 1 1 auto;\n"]))),f=Object(s.b)(l.a)(c||(c=Object(a.a)(["\n  flex: 3 2 auto;\n  box-sizing: border-box;\n  border: none;\n  min-width: 120px;\n\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n\n  .react-select__single-value {\n    color: ",";\n  }\n  .react-select__control {\n    background-color: ",";\n    border: none;\n    border-radius: 5px;\n  }\n  .react-select__menu {\n    background-color: ",";\n\n    .react-select__option:hover {\n      background-color: ",";\n      color: ",";\n    }\n    .react-select__option--is-focused {\n      background-color: ",";\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}),(function(e){return e.theme.input.color}),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.buttons.backgroundColor}),(function(e){return e.theme.buttons.color}),(function(e){return e.theme.buttons.backgroundColor}),(function(e){return e.theme.buttons.color}))},247:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=247},250:function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return c})),t.d(n,"c",(function(){return a}));var i=t(15),r=t(2),o=(t(46),function(e,n){var t=Object(r.useState)(!0),o=Object(i.a)(t,2),c=o[0],a=o[1],s=Object(r.useCallback)((function(e,n){switch(n.type){case"resolved":return[n.data,!1,void 0];case"empty":return[void 0,!1,void 0];case"error":return[void 0,!1,n.error];default:return[void 0,!0,void 0]}}),[]),u=Object(r.useReducer)(s,[void 0,!0,void 0]),l=Object(i.a)(u,2),d=l[0],b=l[1];return Object(r.useEffect)((function(){if(c&&void 0!==e){e.get(n).then((function(e){b(void 0!==e?{type:"resolved",data:e}:{type:"empty"})})).catch((function(e){b({type:"error",error:e})})),a(!1)}}),[e,n,c]),d}),c=function(e,n,t){var o=Object(r.useState)(!0),c=Object(i.a)(o,2),a=c[0],s=c[1],u=Object(r.useCallback)((function(e,n){switch(n.type){case"resolved":return[n.data,!1,void 0];case"empty":return[void 0,!1,void 0];case"error":return[void 0,!1,n.error];default:return[void 0,!0,void 0]}}),[]),l=Object(r.useReducer)(u,[void 0,!0,void 0]),d=Object(i.a)(l,2),b=d[0],h=d[1];return Object(r.useEffect)((function(){if(a&&void 0!==e){e.where(n).equalsIgnoreCase(t).first().then((function(e){h(void 0!==e?{type:"resolved",data:e}:{type:"empty"})})).catch((function(e){h({type:"error",error:e})})),s(!1)}}),[e,n,t,a]),b},a=function(e,n){var t=Object(r.useState)(!0),o=Object(i.a)(t,2),c=o[0],a=o[1],s=Object(r.useCallback)((function(e,n){switch(n.type){case"resolved":return[n.data,!1,void 0];case"empty":return[void 0,!1,void 0];case"error":return[void 0,!1,n.error];default:return[void 0,!0,void 0]}}),[]),u=Object(r.useReducer)(s,[void 0,!0,void 0]),l=Object(i.a)(u,2),d=l[0],b=l[1];return Object(r.useEffect)((function(){if(c&&void 0!==e){e.where(n).first().then((function(e){b(void 0!==e?{type:"resolved",data:e}:{type:"empty"})})).catch((function(e){b({type:"error",error:e})})),a(!1)}}),[e,n,c]),d}},417:function(e,n,t){"use strict";var i,r=t(5),o=t(43),c=t(15),a=t(2),s=t(4),u=t(237),l=t.n(u),d=t(163),b=t(14),h=t(45),p=t(12),f=t(1);n.a=function(e){var n=e.encounter,t=e.isHost,i=e.onEdit,r=Object(a.useState)(""),s=Object(c.a)(r,2),u=s[0],p=s[1],x=Object(a.useState)(),m=Object(c.a)(x,2),g=m[0],O=m[1],v=Object(a.useState)(),y=Object(c.a)(v,2),w=y[0],k=y[1],C=Object(a.useState)([]),z=Object(c.a)(C,2),P=z[0],E=z[1],S=Object(a.useState)(!1),H=Object(c.a)(S,2),B=H[0],N=H[1];return Object(a.useEffect)((function(){if(void 0===g){var e=Object(d.a)(),t=new l.a(e,{host:"peerjs.thorbenkuck.de",secure:!0});t.on("connection",(function(e){E((function(n){return[].concat(Object(o.a)(n),[e])})),e.on("open",(function(){e.send(JSON.stringify(n))})),e.on("error",(function(e){k(e)})),e.on("data",(function(e){n!==e&&i(JSON.parse(e))})),e.on("close",(function(){E((function(n){return n.filter((function(n){return n!==e}))}))}))})),O(t)}}),[]),Object(a.useEffect)((function(){if(void 0!==g&&""!==u){var e=g.connect(u);e.on("open",(function(){E((function(n){return[].concat(Object(o.a)(n),[e])}))})),e.on("data",(function(e){n!==e&&(N(!0),i(JSON.parse(e)))})),e.on("close",(function(){E((function(n){return n.filter((function(n){return n!==e}))}))}))}}),[g,u,i]),Object(a.useEffect)((function(){n&&t&&P.forEach((function(e){e.send(JSON.stringify(n))}))}),[n,P,t]),Object(a.useEffect)((function(){!n||t||B?!t&&B&&N(!1):P.forEach((function(e){e.send(JSON.stringify(n))}))}),[n,P,t]),Object(f.jsxs)(f.Fragment,{children:[void 0!==g&&t&&Object(f.jsx)(h.a,{value:g.id,label:"Your ID:",onChange:function(){},style:{minWidth:"250px",float:"right",height:"30px"}}),void 0!==g&&!t&&Object(f.jsx)(h.a,{value:u,label:"ID to recive from",onChange:p,style:{minWidth:"250px",float:"right"}}),w&&Object(f.jsx)(j,{icon:b.A})]})};var j=Object(s.b)(p.a)(i||(i=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ",";\n"])),(function(e){return e.theme.main.highlight}))},418:function(e,n,t){"use strict";var i,r,o,c=t(5),a=(t(2),t(4)),s=t(1);n.a=function(e){var n=e.value,t=e.max,i=e.showMax,r=e.onChange;return Object(s.jsxs)(u,{children:[void 0!==t&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(l,{type:"number",max:t,value:n,onChange:function(e){return r(+e.target.value)}}),i&&Object(s.jsxs)(d,{children:["/ ",t]})]}),void 0===t&&Object(s.jsx)(l,{type:"number",value:n,onChange:function(e){return r(+e.target.value)}})]})};var u=a.b.label(i||(i=Object(c.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 30px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 2px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),l=a.b.input(r||(r=Object(c.a)(["\n  flex: 1 1 auto;\n  max-width: 4em;\n  height: 30px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n"])),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color})),d=a.b.span(o||(o=Object(c.a)(["\n  margin-left: 5px;\n"])))},419:function(e,n,t){"use strict";var i,r,o,c,a,s,u,l,d,b,h=t(5),p=t(16),f=t(43),j=t(15),x=t(14),m=t(12),g=t(2),O=t(4),v=t(41),y=t(120),w=t(246),k=t(1);n.a=function(e){var n=e.isHost,t=e.img,i=e.players,r=e.showName,o=e.dimension,c=e.fogBoard,a=e.currentPlayerNumber,s=e.onChangePlayers,u=e.onChangeDimension,l=e.onChangeBoard,d=Object(g.useState)(),b=Object(j.a)(d,2),h=b[0],m=b[1],O=Object(g.useState)(c),N=Object(j.a)(O,2),D=N[0],M=N[1],V=Object(g.useState)(!1),F=Object(j.a)(V,2),I=F[0],A=F[1],T=Object(g.useState)("dot"),L=Object(j.a)(T,2),_=L[0],J=L[1];Object(g.useEffect)((function(){M(c)}),[c]);var R=Object(g.useCallback)((function(e){m(e)}),[]),q=Object(g.useCallback)((function(){return h}),[h]),U=Object(g.useCallback)((function(e){if(I){var n=Object(f.a)(D);"cross"===_?(e-o.width>=0&&(n[e-o.width].fog=!n[e-o.width].fog),(e-1)%o.width<e%o.width&&e-1>=0&&(n[e-1].fog=!n[e-1].fog),n[e].fog=!n[e].fog,(e+1)%o.width>e%o.width&&(n[e+1].fog=!n[e+1].fog),e+o.width<o.width*o.height&&(n[e+o.width].fog=!n[e+o.width].fog)):"quarter"===_?(e-o.width-1>=0&&(e-o.width-1)%o.width<e%o.width&&(n[e-o.width-1].fog=!n[e-o.width-1].fog),e-o.width>=0&&(n[e-o.width].fog=!n[e-o.width].fog),e-o.width+1>=0&&(e-o.width+1)%o.width>e%o.width&&(n[e-o.width+1].fog=!n[e-o.width+1].fog),(e-1)%o.width<e%o.width&&e-1>=0&&(n[e-1].fog=!n[e-1].fog),n[e].fog=!n[e].fog,(e+1)%o.width>e%o.width&&(n[e+1].fog=!n[e+1].fog),e+o.width-1<o.width*o.height&&(e+o.width-1)%o.width<e%o.width&&(n[e+o.width-1].fog=!n[e+o.width-1].fog),e+o.width<o.width*o.height&&(n[e+o.width].fog=!n[e+o.width].fog),e+o.width+1<o.width*o.height+1&&(e+o.width+1)%o.width>e%o.width&&(n[e+o.width+1].fog=!n[e+o.width+1].fog)):n[e].fog=!n[e].fog,M(n)}}),[M,I,D,_,o]),W=Object(g.useCallback)((function(){A((function(e){return!e})),I&&(console.log("push board"),l(D))}),[I,D,l]);return Object(k.jsxs)(z,{children:[n&&Object(k.jsxs)(H,{children:[Object(k.jsx)(y.a,{value:o.zoom,label:"Zoom",step:10,onChange:function(e){return u(Object(p.a)(Object(p.a)({},o),{},{zoom:e}))}}),Object(k.jsx)(y.a,{value:o.width,label:"Horizontal",onChange:function(e){return u(Object(p.a)(Object(p.a)({},o),{},{width:e}))}}),Object(k.jsx)(y.a,{value:o.height,label:"Vertical",onChange:function(e){return u(Object(p.a)(Object(p.a)({},o),{},{height:e}))}}),Object(k.jsx)(y.a,{value:o.size,label:"Size",onChange:function(e){return u(Object(p.a)(Object(p.a)({},o),{},{size:e}))}}),Object(k.jsx)(w.a,{options:[{value:"dot",label:"dot"},{value:"cross",label:"cross"},{value:"quarter",label:"quarder"}],style:{zIndex:"600"},value:_,label:"Fog Tool",onChange:J}),Object(k.jsx)(v.a,{onClick:W,toggle:I,icon:x.J})]}),Object(k.jsx)(P,{children:Object(k.jsxs)(E,{zoom:o.zoom/100,children:[Object(k.jsx)(B,{children:null===c||void 0===c?void 0:c.map((function(e,t){return Object(k.jsx)(C,{isHost:n,cord:t,showName:r,players:i,size:o.size,zoom:o.zoom/100,fog:e.fog,makeDrop:q,makeDrag:R,toggleFog:U,updatePlayers:s,currentPlayerNumber:a},t)}))}),Object(k.jsx)(S,{zoom:o.zoom/100,src:t})]})})]})};var C=function(e){var n=e.isHost,t=e.size,i=e.zoom,r=e.cord,o=e.showName,c=e.players,a=e.fog,s=e.currentPlayerNumber,u=e.makeDrop,l=e.makeDrag,d=e.toggleFog,b=e.updatePlayers,h=function(e,n){console.log("drag",n.name,n.cord),l(n)},f=function(e){e.preventDefault()},j=Object(g.useCallback)((function(e,n){if(n.isMonster)switch(n.size){case"gargantuan":return 4*e*i;case"huge":return 3*e*i;case"large":return 2*e*i}return e*i}),[i]);return Object(k.jsx)(N,{size:t*i,fog:a,onDrop:function(e){return function(e,n){e.preventDefault();var t=u(),i=c.map((function(e){return e===t?Object(p.a)(Object(p.a)({},e),{},{cord:n}):e}));console.log("update Players"),b(i)}(e,r)},isHost:n,onDragOver:f,onClick:function(){return d(r)},children:c.map((function(e,i){return e.isVisible&&!n||e.cord!==r?Object(k.jsx)(F,{},"icon"+i):Object(k.jsx)(D,{index:i,drag:h,player:e,isHost:n,showName:o,dragOver:f,pic:e.pic,size:j(t,e),isDead:e.currentHp<=0,isCurrent:s===i},"icon"+i)}))})},z=O.b.div(i||(i=Object(h.a)(["\n  padding: 5px;\n  height: calc(100vh - 140px);\n  width: calc(100vw - 110px);\n\n  @media (max-width: 576px) {\n    width: 100vw;\n  }\n\n  display: flex;\n  flex-wrap: no-wrap;\n  flex-direction: column;\n  justify-content: flex-start;\n"]))),P=O.b.div(r||(r=Object(h.a)(["\n  flex: 1 1 100%;\n  position: relative;\n\n  max-width: calc(100% - 10px);\n\n  overflow: scroll;\n\n  display: flex;\n  flex-wrap: wrap;\n"]))),E=O.b.div(o||(o=Object(h.a)(["\n  width: calc(100px * ",");\n  position: absolute;\n  left: 0;\n  right: 0;\n"])),(function(e){return 10*e.zoom})),S=O.b.img(c||(c=Object(h.a)(["\n  width: calc(800px * ",");\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n"])),(function(e){return e.zoom})),H=O.b.div(a||(a=Object(h.a)(["\n  flex: 1 1 100%;\n\n  max-height: 50px;\n  width: 100%;\n\n  display: flex;\n  flex-wrap: no-wrap;\n  justify-content: space-between;\n"]))),B=O.b.div(s||(s=Object(h.a)(["\n  z-index: 100;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: flex-start;\n"]))),N=O.b.div(u||(u=Object(h.a)(["\n  flex: 1 1;\n  min-width: calc(","px + 1px);\n  max-width: calc(","px + 1px);\n  min-height: calc(","px + 1px);\n  max-height: calc(","px + 1px);\n  margin-left: -1px;\n  margin-top: -1px;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  position: relative;\n  box-sizing: border-box;\n  ","\n"])),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.size}),(function(e){var n=e.fog,t=e.isHost;return n?t?"background-color: rgba(0,0,0,0.5);":"background-color: rgba(0,0,0,1);":""})),D=function(e){var n=e.index,t=e.dragOver,i=e.drag,r=e.pic,o=e.size,c=e.showName,a=e.player,s=e.isDead,u=e.isCurrent,l=e.isHost;if(""!==r){var d={backgroundImage:"url(".concat(r,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",height:o-6+"px",width:o-6+"px",opacity:s?"0.5":"1",border:u?"":"none",zIndex:200};return Object(k.jsxs)(V,{onDragStart:function(e){return i(e,a)},onDragOver:t,draggable:!0,style:d,children:[l&&a.isMonster&&Object(k.jsx)(M,{children:n}),a.isVisible&&Object(k.jsx)(m.a,{icon:x.E,style:{color:"white"}})]})}var b={height:o-6+"px",width:o-6+"px",opacity:s?"0.5":"1",border:u?"":"none",padding:o/5+"px",fontSize:o/6+"px"};return Object(k.jsxs)(V,{onDragStart:function(e){return i(e,a)},onDragOver:t,draggable:!0,style:b,children:[a.isVisible&&Object(k.jsx)(m.a,{icon:x.E}),c?"".concat(a.name.split("|")[0]," ").concat(n):"??? ".concat(n)]})},M=O.b.div(l||(l=Object(h.a)(["\n  display: none;\n  position: absolute;\n  top: -35px;\n  left: 0;\n  right: 0;\n  text-align: center;\n  white-space: nowrap;\n  background-color: ",';\n  color: #fff;\n  border-radius: 10px;\n  padding: 5px;\n  transition: 0.3s;\n\n  &::after {\n    content: "";\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    margin-left: -5px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: '," transparent transparent transparent;\n  }\n"])),(function(e){return e.theme.main.highlight}),(function(e){return e.theme.main.highlight})),V=O.b.div(d||(d=Object(h.a)(["\n  margin: 3px;\n  float: left;\n  border-radius: 500px;\n  border: 3px solid ",";\n  box-shadow: 0px 0px 10px 0px rgba(172, 172, 172, 0.2);\n  background-color: white;\n  box-sizing: border-box;\n  cursor: move;\n  position: absolute;\n  text-align: center;\n\n  &:hover "," {\n    display: inline;\n  }\n"])),(function(e){return e.theme.main.highlight}),M),F=O.b.div(b||(b=Object(h.a)([""])))},469:function(e,n,t){"use strict";var i=t(5),r=t(16),o=t(15),c=t(14),a=t(12),s=t(2),u=t(3),l=t(4),d=t(40),b=t(233),h=t(41),p=t(234),f=t(417),j=t(29),x=t(43),m=t(9),g=t.n(m),O=t(17),v=t(53),y=t(157),w=t(6),k=function e(n,t,i,r,o,c,a,s,u,l,d,b,h,p,f){Object(w.a)(this,e),this.name=void 0,this.hp=void 0,this.currentHp=void 0,this.initBonus=void 0,this.init=void 0,this.ac=void 0,this.tag=void 0,this.isEnemy=void 0,this.isMonster=void 0,this.isNpc=void 0,this.isVisible=void 0,this.level=void 0,this.cord=void 0,this.pic=void 0,this.size=void 0,this.name=n||"",this.hp=t||0,this.currentHp=i||0,this.initBonus=o||0,this.init=r||-1,this.ac=c||0,this.tag=a||"",this.isEnemy=s||!1,this.isMonster=u||!1,this.isNpc=l||!1,this.isVisible=d||!0,this.level=b||0,this.cord=h||0,this.pic=p||"",this.size=f||""};var C,z,P,E,S,H,B,N,D,M,V,F,I,A,T,L,_,J,R,q,U,W,K,Z,Y,G,Q,X,$=t(56),ee=[{cr:0,exp:0},{cr:.125,exp:25},{cr:.25,exp:50},{cr:.5,exp:100},{cr:1,exp:200},{cr:2,exp:450},{cr:3,exp:700},{cr:4,exp:1100},{cr:5,exp:1800},{cr:6,exp:2300},{cr:7,exp:2900},{cr:8,exp:3900},{cr:9,exp:5e3},{cr:10,exp:5900},{cr:11,exp:7200},{cr:12,exp:8400},{cr:13,exp:1e4},{cr:14,exp:11500},{cr:15,exp:13e3},{cr:16,exp:15e3},{cr:17,exp:18e3},{cr:18,exp:2e4},{cr:19,exp:22e3},{cr:20,exp:25e3},{cr:21,exp:33e3},{cr:22,exp:41e3},{cr:23,exp:5e4},{cr:24,exp:62e3},{cr:25,exp:75e3},{cr:26,exp:9e4},{cr:27,exp:105e3},{cr:28,exp:12e4},{cr:29,exp:135e3},{cr:30,exp:155e3}],ne=[{level:1,easy:25,medium:50,hard:75,deadly:100},{level:2,easy:50,medium:100,hard:150,deadly:200},{level:3,easy:75,medium:150,hard:225,deadly:400},{level:4,easy:125,medium:250,hard:375,deadly:500},{level:5,easy:250,medium:500,hard:750,deadly:1100},{level:6,easy:300,medium:600,hard:900,deadly:1400},{level:7,easy:350,medium:750,hard:1100,deadly:1700},{level:8,easy:450,medium:900,hard:1400,deadly:2100},{level:9,easy:550,medium:1100,hard:1600,deadly:2400},{level:10,easy:600,medium:1200,hard:1900,deadly:2800},{level:11,easy:800,medium:1600,hard:2400,deadly:3600},{level:12,easy:1e3,medium:2e3,hard:3e3,deadly:4500},{level:13,easy:1100,medium:2200,hard:3400,deadly:5100},{level:14,easy:1250,medium:2500,hard:3800,deadly:5700},{level:15,easy:1400,medium:2800,hard:4300,deadly:6400},{level:16,easy:1600,medium:3200,hard:4800,deadly:7200},{level:17,easy:2e3,medium:3900,hard:5900,deadly:8800},{level:18,easy:2100,medium:4200,hard:6300,deadly:9500},{level:19,easy:2400,medium:4900,hard:7300,deadly:10900},{level:20,easy:2800,medium:5700,hard:8500,deadly:12700}],te=function(e){console.time("calcDifficulty");var n={easy:0,medium:0,hard:0,deadly:0};e.players.forEach((function(e){ne.length>=e.level&&(e.isMonster?ee.forEach((function(t){e.level===t.cr&&(n.easy+=t.exp,n.medium+=t.exp,n.hard+=t.exp,n.deadly+=t.exp)})):(n.easy+=ne[e.level].easy,n.medium+=ne[e.level].medium,n.hard+=ne[e.level].hard,n.deadly+=ne[e.level].deadly))}));var t=0;e.enemies.forEach((function(e){ee.forEach((function(n){e.level===n.cr&&(t+=n.exp)}))})),1===e.enemies.length?t*=1:e.enemies.length<=3?t*=1.5:e.enemies.length<=6?t*=2:e.enemies.length<=10?t*=2.5:e.enemies.length<=14?t*=3:e.enemies.length>14&&(t*=4);var i="";return i=n.easy+(n.medium-n.easy)/2>t?"Easy ("+t+" Exp)":n.medium+(n.hard-n.medium)/2>t?"Medium ("+t+" Exp)":n.hard+(n.deadly-n.hard)/2>t?"Hard ("+t+" Exp)":"Deadly ("+t+" Exp)",console.timeEnd("calcDifficulty"),{difficulty:i,calcExp:n}},ie=t(189),re=t(135),oe=t(120),ce=t(246),ae=t(45),se=t(42),ue=t(1),le=function(e){var n=e.encounter,t=e.onEdit,i=Object(s.useState)(""),a=Object(o.a)(i,2),u=a[0],l=a[1],b=Object(s.useState)(""),p=Object(o.a)(b,2),f=p[0],m=p[1],w=Object(s.useState)([]),C=Object(o.a)(w,2),z=C[0],P=C[1];Object(s.useEffect)((function(){var e=te(n),t=e.difficulty,i=e.calcExp;l(t),m("Easy: "+i.easy+" | Medium: "+i.medium+" | Hard: "+i.hard+" | Deadly: "+i.deadly)}),[n]);var E=Object(s.useCallback)(function(){var e=Object(O.a)(g.a.mark((function e(n){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n.forEach((function(e){t.push(Object(d.i)(e,[]))})),e.next=4,Promise.all(t);case 4:e.sent.forEach((function(e){P((function(n){return n.concat(e)}))}));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]);Object(s.useEffect)((function(){E(["monsters","chars","npcs"])}),[E]);var S=Object(s.useCallback)((function(e){var i=Object(x.a)(n.enemies);i.splice(e,1),t(Object(r.a)(Object(r.a)({},n),{},{enemies:i}))}),[n,t]),H=Object(s.useCallback)((function(){var e=Object(x.a)(n.enemies);e.push(new k),t(Object(r.a)(Object(r.a)({},n),{},{enemies:e}))}),[n,t]),B=Object(s.useCallback)((function(e,i,o,c){var a=Object(x.a)(n.enemies);a[c]=Object(r.a)(Object(r.a)({},o),{},Object(j.a)({},e,i)),t(Object(r.a)(Object(r.a)({},n),{},{enemies:a}))}),[n,t]),N=Object(s.useCallback)(function(){var e=Object(O.a)(g.a.mark((function e(i,c,a){var s,u,l,b,h,p,f,j,m;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(x.a)(n.enemies),u=[],l=i.split("|"),b=Object(o.a)(l,2),h=b[0],p=b[1],u.push(Object(d.r)("monsters",{name:h,sources:p})),u.push(Object(d.p)("npcs","name",i)),u.push(Object(d.p)("chars","name",i)),e.next=8,Promise.all(u);case 8:(f=(f=e.sent).filter((function(e){return void 0!==e})))[0]&&Object($.b)(f[0])?(s[a]=Object(r.a)(Object(r.a)({},c),{},{name:i,hp:f[0].hp,currentHp:f[0].hp,ac:f[0].ac,isEnemy:!0,isMonster:!0,isNpc:!1,isVisible:!0,level:f[0].cr,pic:f[0].pic,size:f[0].size,cord:0}),t(Object(r.a)(Object(r.a)({},n),{},{enemies:s}))):f[0]&&Object(y.b)(f[0])?(j=0,f[0].classes.forEach((function(e){j+=e.level})),s[a]=Object(r.a)(Object(r.a)({},c),{},{name:i,hp:f[0].hp,currentHp:f[0].hp,ac:f[0].ac,isEnemy:!0,isMonster:!0,isNpc:!1,isVisible:!0,level:j,pic:f[0].pic,size:"medium",cord:0}),t(Object(r.a)(Object(r.a)({},n),{},{enemies:s}))):f[0]&&Object(v.b)(f[0])?(void 0!==f[0].monster?s[a]=Object(r.a)(Object(r.a)({},c),{},{name:i,hp:f[0].monster.hp,currentHp:f[0].monster.hp,ac:f[0].monster.ac,isEnemy:!0,isMonster:!0,isNpc:!0,isVisible:!0,level:f[0].monster.cr,pic:f[0].monster.pic,size:f[0].monster.size,cord:0}):void 0!==f[0].char?(m=0,f[0].char.classes.forEach((function(e){m+=e.level})),s[a]=Object(r.a)(Object(r.a)({},c),{},{name:i,hp:f[0].char.hp,currentHp:f[0].char.hp,ac:f[0].char.ac,isEnemy:!0,isMonster:!1,isNpc:!0,isVisible:!0,level:m,pic:f[0].char.pic,size:"medium",cord:0})):s[a]=Object(r.a)(Object(r.a)({},c),{},{name:i,isNpc:!0}),t(Object(r.a)(Object(r.a)({},n),{},{enemies:s}))):(s[a]=Object(r.a)(Object(r.a)({},c),{},{name:i}),t(Object(r.a)(Object(r.a)({},n),{},{enemies:s})));case 11:case"end":return e.stop()}}),e)})));return function(n,t,i){return e.apply(this,arguments)}}(),[n,t]),D=Object(s.useCallback)((function(e){var i=Object(x.a)(n.players);i.splice(e,1),t(Object(r.a)(Object(r.a)({},n),{},{players:i}))}),[n,t]),M=Object(s.useCallback)((function(){var e=Object(x.a)(n.players);e.push(new k),t(Object(r.a)(Object(r.a)({},n),{},{players:e}))}),[n,t]),V=Object(s.useCallback)((function(e,i,o,c){var a=Object(x.a)(n.players);a[c]=Object(r.a)(Object(r.a)({},o),{},Object(j.a)({},e,i)),t(Object(r.a)(Object(r.a)({},n),{},{players:a}))}),[n,t]),F=Object(s.useCallback)(function(){var e=Object(O.a)(g.a.mark((function e(i,c,a){var s,u,l,b,h,p,f,j,m;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(x.a)(n.players),u=[],l=i.split("|"),b=Object(o.a)(l,2),h=b[0],p=b[1],u.push(Object(d.r)("monsters",{name:h,sources:p})),u.push(Object(d.p)("npcs","name",i)),u.push(Object(d.p)("chars","name",i)),e.next=8,Promise.all(u);case 8:(f=(f=e.sent).filter((function(e){return void 0!==e})))[0]&&Object($.b)(f[0])?(s[a]=Object(r.a)(Object(r.a)({},c),{},{name:i,hp:f[0].hp,currentHp:f[0].hp,ac:f[0].ac,isEnemy:!1,isMonster:!0,isNpc:!1,isVisible:!0,level:f[0].cr,pic:f[0].pic,size:f[0].size,cord:0}),t(Object(r.a)(Object(r.a)({},n),{},{players:s}))):f[0]&&Object(y.b)(f[0])?(j=0,f[0].classes.forEach((function(e){j+=e.level})),s[a]=Object(r.a)(Object(r.a)({},c),{},{name:i,hp:f[0].hp,currentHp:f[0].hp,ac:f[0].ac,isEnemy:!1,isMonster:!1,isNpc:!1,isVisible:!0,level:j,pic:f[0].pic,size:"medium",cord:0}),t(Object(r.a)(Object(r.a)({},n),{},{players:s}))):f[0]&&Object(v.b)(f[0])?(void 0!==f[0].monster?s[a]=Object(r.a)(Object(r.a)({},c),{},{name:i,hp:f[0].monster.hp,currentHp:f[0].monster.hp,ac:f[0].monster.ac,isEnemy:!1,isMonster:!0,isNpc:!0,isVisible:!0,level:f[0].monster.cr,pic:f[0].monster.pic,size:f[0].monster.size,cord:0}):void 0!==f[0].char?(m=0,f[0].char.classes.forEach((function(e){m+=e.level})),s[a]=Object(r.a)(Object(r.a)({},c),{},{name:i,hp:f[0].char.hp,currentHp:f[0].char.hp,ac:f[0].char.ac,isMonster:!1,isEnemy:!1,isNpc:!0,isVisible:!0,level:m,pic:f[0].char.pic,size:"medium",cord:0})):s[a]=Object(r.a)(Object(r.a)({},c),{},{name:i,isNpc:!0}),t(Object(r.a)(Object(r.a)({},n),{},{players:s}))):(s[a]=Object(r.a)(Object(r.a)({},c),{},{name:i}),t(Object(r.a)(Object(r.a)({},n),{},{players:s})));case 11:case"end":return e.stop()}}),e)})));return function(n,t,i){return e.apply(this,arguments)}}(),[n,t]);return Object(ue.jsxs)(de,{children:[Object(ue.jsxs)(be,{children:[Object(ue.jsx)(ae.a,{value:n.name,label:"Encounter Name",onChange:function(e){return t(Object(r.a)(Object(r.a)({},n),{},{name:e}))}}),Object(ue.jsx)(ae.a,{value:n.map,label:"Map",onChange:function(e){return t(Object(r.a)(Object(r.a)({},n),{},{map:e}))}}),Object(ue.jsxs)(me,{children:[Object(ue.jsx)(re.a,{label:"Map",onFinished:function(e){return t(Object(r.a)(Object(r.a)({},n),{},{mapBase64:e}))}}),Object(ue.jsx)(h.a,{icon:c.rb,onClick:function(){return t(Object(r.a)(Object(r.a)({},n),{},{mapBase64:""}))}})]})]}),Object(ue.jsx)(be,{children:Object(ue.jsxs)(xe,{children:[Object(ue.jsxs)(fe,{children:[Object(ue.jsx)(je,{children:"Difficulty: "}),u]}),Object(ue.jsxs)(fe,{children:[Object(ue.jsx)(je,{children:"Exp: "}),f]})]})}),Object(ue.jsxs)(he,{children:[z.length>0&&n.enemies.map((function(e,n){return Object(ue.jsxs)(pe,{children:[Object(ue.jsx)(ie.a,{options:z,value:e.name,label:"Monster",onChange:function(t){return N(t,e,n)}}),Object(ue.jsx)(oe.a,{value:e.currentHp,label:"Current Hp",onChange:function(t){return B("currentHp",t,e,n)}}),Object(ue.jsx)(oe.a,{value:e.hp,label:"Hp",onChange:function(t){return B("hp",t,e,n)}}),Object(ue.jsx)(oe.a,{value:e.ac,label:"AC",onChange:function(t){return B("ac",t,e,n)}}),Object(ue.jsx)(oe.a,{value:e.initBonus,label:"Init Bonus",onChange:function(t){return B("initBonus",t,e,n)}}),Object(ue.jsx)(oe.a,{value:e.level,label:"Cr",onChange:function(t){return B("level",t,e,n)}}),Object(ue.jsx)(ae.a,{value:e.pic,label:"Pic",onChange:function(t){return B("pic",t,e,n)}}),Object(ue.jsx)(ce.a,{options:[{value:"tiny",label:"tiny"},{value:"small",label:"small"},{value:"medium",label:"medium"},{value:"large",label:"large"},{value:"huge",label:"huge"},{value:"gargantuan",label:"gargantuan"}],value:e.size,label:"Size",onChange:function(t){return V("size",t,e,n)}}),Object(ue.jsx)(h.a,{icon:c.rb,onClick:function(){return S(n)}})]},n)})),Object(ue.jsx)(pe,{children:Object(ue.jsx)(se.a,{text:"Add new Monster",icon:c.ab,onClick:function(){return H()}})})]}),Object(ue.jsxs)(he,{children:[z.length>0&&n.players.map((function(e,n){return Object(ue.jsxs)(pe,{children:[Object(ue.jsx)(ie.a,{options:z,value:e.name,label:"Character",onChange:function(t){return F(t,e,n)}}),Object(ue.jsx)(oe.a,{value:e.currentHp,label:"Current Hp",onChange:function(t){return V("currentHp",t,e,n)}}),Object(ue.jsx)(oe.a,{value:e.hp,label:"Hp",onChange:function(t){return V("hp",t,e,n)}}),Object(ue.jsx)(oe.a,{value:e.ac,label:"AC",onChange:function(t){return V("ac",t,e,n)}}),Object(ue.jsx)(oe.a,{value:e.initBonus,label:"Init Bonus",onChange:function(t){return V("initBonus",t,e,n)}}),Object(ue.jsx)(oe.a,{value:e.level,label:"Level",onChange:function(t){return V("level",t,e,n)}}),Object(ue.jsx)(ae.a,{value:e.pic,label:"Pic",onChange:function(t){return V("pic",t,e,n)}}),Object(ue.jsx)(ce.a,{options:[{value:"tiny",label:"tiny"},{value:"small",label:"small"},{value:"medium",label:"medium"},{value:"large",label:"large"},{value:"huge",label:"huge"},{value:"gargantuan",label:"gargantuan"}],value:e.size,label:"Size",onChange:function(t){return V("size",t,e,n)}}),Object(ue.jsx)(h.a,{icon:c.rb,onClick:function(){return D(n)}})]},n)})),Object(ue.jsx)(pe,{children:Object(ue.jsx)(se.a,{text:"Add new Character",icon:c.ab,onClick:function(){return M()}})})]})]})},de=l.b.div(C||(C=Object(i.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]))),be=l.b.div(z||(z=Object(i.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  flex: 1 1;\n  min-width: calc(100% - 40px);\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"])),(function(e){return e.theme.tile.color})),he=l.b.div(P||(P=Object(i.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: stretch;\n"])),(function(e){return e.theme.tile.color})),pe=l.b.div(E||(E=Object(i.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  flex: 1 1 600px;\n"]))),fe=l.b.div(S||(S=Object(i.a)(["\n  flex: 1 1 auto;\n  height: auto;\n  margin: 2px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ",";\n  }\n"])),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.main.highlight})),je=l.b.span(H||(H=Object(i.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"])),(function(e){return e.theme.tile.backgroundColorLink})),xe=l.b.div(B||(B=Object(i.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]))),me=l.b.div(N||(N=Object(i.a)(["\n  flex: 2 2 auto;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n\n  @media (max-width: 576px) {\n    flex-wrap: wrap;\n  }\n"]))),ge=t(20),Oe=t(51),ve=t(418),ye=t(419),we=t(185),ke=t(44),Ce=function e(n){Object(w.a)(this,e),this.fog=void 0,this.fog=n||!0},ze=function(e){var n=e.encounter,t=e.dmView,i=e.onEdit,l=Object(u.f)(),d=Object(s.useState)(!1),b=Object(o.a)(d,2),p=b[0],f=b[1],m=Object(s.useState)(0),g=Object(o.a)(m,2),O=g[0],v=g[1],y=Object(s.useState)(""),w=Object(o.a)(y,2),k=w[0],C=w[1],z=Object(s.useState)([]),P=Object(o.a)(z,2),E=P[0],S=P[1],H=Object(s.useState)(!1),B=Object(o.a)(H,2),N=B[0],D=B[1];Object(s.useEffect)((function(){void 0!==n&&S([].concat(Object(x.a)(n.players),Object(x.a)(n.enemies)))}),[n]),Object(s.useEffect)((function(){if(void 0!==n){var e=te(n).difficulty;C(e)}}),[n]);var M=function(e,t,o){if(void 0!==n)if(o.isEnemy){var c=n.enemies.map((function(n){return o===n?Object(r.a)(Object(r.a)({},n),{},Object(j.a)({},e,t)):n}));i(Object(r.a)(Object(r.a)({},n),{},{enemies:c}))}else{var a=n.players.map((function(n){return o===n?Object(r.a)(Object(r.a)({},n),{},Object(j.a)({},e,t)):n}));i(Object(r.a)(Object(r.a)({},n),{},{players:a}))}},V=function(){if(void 0!==n){var e=n.players.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{init:-1})})),t=n.enemies.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{init:-1})}));i(Object(r.a)(Object(r.a)({},n),{},{enemies:t,players:e,isPlaying:!1,currentInit:0,roundCounter:0}))}},F=Object(s.useCallback)((function(e){if(void 0!==n&&e!==n.players){var t=[];e.forEach((function(e){e.isEnemy||t.push(e)}));var o=[];e.forEach((function(e){e.isEnemy&&o.push(e)})),i(Object(r.a)(Object(r.a)({},n),{},{players:t,enemies:o}))}}),[n,i]),I=Object(s.useCallback)((function(){if(void 0!==n){if(""!==n.mapBase64&&null!==n.mapBase64&&void 0!==n.mapBase64)return n.mapBase64;if(""!==n.map&&null!==n.map&&void 0!==n.map)return n.map}return""}),[n]),A=function(e){M("isVisible",!e.isVisible,e)};return Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsxs)(He,{children:[n&&p&&Object(ue.jsx)(we.a,{name:E[O].name,damageText:"Damage",damageClick:function(e){M("currentHp",E[O].currentHp-e,E[O]),f(!1)},healText:"Heal",healClick:function(e){M("currentHp",E[O].currentHp+e>E[O].hp?E[O].hp:E[O].currentHp+e,E[O]),f(!1)},abortText:"Back",abortClick:function(){f(!1)}}),Object(ue.jsxs)(Be,{mode:t?1:0,show:N,window:""!==n.map||""!==n.mapBase64,children:[Object(ue.jsxs)(Ne,{window:""!==n.map||""!==n.mapBase64,children:[Object(ue.jsx)(De,{children:Object(ue.jsx)("b",{children:null===n||void 0===n?void 0:n.name})}),Object(ue.jsxs)(_e,{children:[t&&Object(ue.jsxs)(Ie,{children:[Object(ue.jsx)(Te,{children:"Difficulty: "}),k]}),Object(ue.jsxs)(Ie,{children:[Object(ue.jsx)(Te,{children:"Round: "}),null===n||void 0===n?void 0:n.roundCounter]}),n&&!n.isPlaying&&Object(ue.jsx)(se.a,{text:"Start Encounter",icon:c.Z,onClick:function(){return function(){if(void 0!==n){var e=n.players.map((function(e){if(e.init<0){var n=Object(Oe.b)(20);return n+=e.initBonus||0,Object(r.a)(Object(r.a)({},e),{},{init:n})}return e})),t=n.enemies.map((function(e){if(e.init<0){var n=Object(Oe.b)(20);return n+=e.initBonus||0,Object(r.a)(Object(r.a)({},e),{},{init:n})}return e}));i(Object(r.a)(Object(r.a)({},n),{},{enemies:t,players:e,isPlaying:!0,currentInit:0,roundCounter:0}))}}()}}),n&&n.isPlaying&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(se.a,{text:"Next",icon:c.lb,onClick:function(){return function(){if(void 0!==n){var e=(n.currentInit+1)%E.length,t=n.roundCounter;(n.currentInit+1)%E.length===0&&t++;for(var o=0;(E[e].currentHp<=0||E[e].isVisible)&&((e+1)%E.length===0&&t++,e=(e+1)%E.length,!(++o>E.length)););o>E.length?V():i(Object(r.a)(Object(r.a)({},n),{},{currentInit:e,roundCounter:t}))}}()}}),Object(ue.jsx)(se.a,{text:"End Encounter",icon:c.mb,onClick:function(){return V()}})]})]}),!n&&Object(ue.jsx)(ke.b,{}),n&&Object(ue.jsxs)(Se,{children:[Object(ue.jsx)("thead",{children:Object(ue.jsxs)("tr",{children:[Object(ue.jsx)("th",{children:"Init"}),Object(ue.jsx)("th",{children:"Name"}),t&&Object(ue.jsx)("th",{children:"Current Hp"}),t&&Object(ue.jsx)("th",{children:"AC"}),Object(ue.jsx)("th",{})]})}),Object(ue.jsx)("tbody",{children:n&&E.sort((function(e,t){return t.init!==e.init&&n.isPlaying?t.init-e.init:e.name.localeCompare(t.name)})).filter((function(e){return!e.isVisible||t})).map((function(e,i){return Object(ue.jsxs)(Me,{current:n.currentInit===i&&n.isPlaying,isDead:e.currentHp<=0,children:[Object(ue.jsx)(Ae,{children:Object(ue.jsx)(ve.a,{value:e.init,onChange:function(n){return M("init",n,e)}})}),Object(ue.jsxs)(Ve,{children:[""!==e.pic&&void 0!==e.pic?Object(ue.jsx)(Ee,{player:e}):Object(ue.jsx)(ue.Fragment,{}),e.isMonster&&Object(ue.jsx)(Le,{onClick:function(){return l.push("/monster-detail/name/".concat(e.name))},children:t?"".concat(e.name.split("|")[0]," ").concat(i):"??? ".concat(i)}),!e.isMonster&&Object(ue.jsx)(Le,{onClick:function(){return l.push("/char-detail/name/".concat(e.name))},children:e.name})]}),Object(ue.jsxs)(Fe,{children:[Object(ue.jsxs)(Pe,{onClick:function(){return v(i),void f(!0)},children:[Object(ue.jsx)(ge.f,{}),Object(ue.jsx)(ge.l,{})]}),t&&"".concat(e.currentHp," / ").concat(e.hp)]}),t&&Object(ue.jsx)(Ve,{children:e.ac}),Object(ue.jsxs)(Ve,{style:{minWidth:"100px"},children:[e.currentHp>0&&Object(ue.jsx)(h.a,{icon:c.jb,onClick:function(){M("currentHp",0,e)}}),e.currentHp<=0&&Object(ue.jsx)(h.a,{icon:c.K,onClick:function(){M("currentHp",1,e)}}),e.isVisible&&Object(ue.jsx)(h.a,{icon:c.E,onClick:function(){return A(e)}}),!e.isVisible&&Object(ue.jsx)(h.a,{icon:c.D,onClick:function(){return A(e)}})]})]},i)}))})]})]}),(""!==n.map||""!==n.mapBase64)&&Object(ue.jsx)(Ue,{onClick:function(){return D((function(e){return!e}))},children:Object(ue.jsx)(a.a,{icon:N?c.d:c.c})})]}),n&&(""!==n.map||""!==n.mapBase64)&&Object(ue.jsx)(ye.a,{isHost:t,onChangePlayers:F,players:E,showName:t,dimension:void 0!==n.dimension?n.dimension:{width:20,height:20,size:20,zoom:100},fogBoard:n.board,currentPlayerNumber:n.currentInit,onChangeDimension:function(e){return function(e){if(e.zoom===n.dimension.zoom){console.time("makeFogBoard");var t=Object(x.a)(Array(e.width*e.height)).map((function(){return new Ce}));console.timeEnd("makeFogBoard"),i(Object(r.a)(Object(r.a)({},n),{},{dimension:e,board:t}))}else i(Object(r.a)(Object(r.a)({},n),{},{dimension:e}))}(e)},onChangeBoard:function(e){return i(Object(r.a)(Object(r.a)({},n),{},{board:e}))},img:I()})]})})},Pe=l.b.button(D||(D=Object(i.a)(["\n  svg {\n    color: ",";\n  }\n  font-size: 16px;\n  float: left;\n  padding: 5px;\n  margin-right: 5px;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  box-sizing: content-box;\n  border-radius: 10px;\n  border: none;\n\n  transition: color 0.2s;\n  background: ",";\n  &:hover {\n    color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.buttons.color}),(function(e){return e.theme.buttons.backgroundColor}),(function(e){return e.theme.buttons.hoverColor}),(function(e){return e.theme.buttons.disabled})),Ee=function(e){var n=e.player;return Object(ue.jsx)(Je,{pic:n.pic})},Se=l.b.table(M||(M=Object(i.a)(["\n  width: 100%;\n"]))),He=l.b.div(V||(V=Object(i.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]))),Be=l.b.div(F||(F=Object(i.a)(["\n  ","\n\n  color: ",";\n\n  font-size: 16px;\n  ","\n  padding: 5px;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n"])),(function(e){if(e.window){var n="position: fixed;top: 120px;";return e.show?e.mode?n+="left: -510px;":n+="left: -360px;":n+="left: 100px;",n+"transition: left 0.5s; z-index: 500; height: calc(100vh - 140px); overflow-x: visible; box-shadow: 2px 2px 5px 0px rgba(0, 0, 0, 0.3);"}return"max-width: 600px;"}),(function(e){return e.theme.tile.color}),(function(e){return e.mode?e.window?"min-width: 600px;":"width: 600px;":e.window?"min-width: 450px;":"width: 450px;"})),Ne=l.b.div(I||(I=Object(i.a)(["\n  ","\n  background-color: ",";\n"])),(function(e){if(e.window)return"width: 100%; height: 100%; overflow-y: auto; position: absolute; z-index: 500;"}),(function(e){return e.theme.main.backgroundColor})),De=l.b.div(A||(A=Object(i.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"])),(function(e){return e.theme.tile.backgroundColor})),Me=l.b.tr(T||(T=Object(i.a)(["\n  ","\n  margin: 2px;\n"])),(function(e){return e.isDead?"opacity: 0.5;":e.current?"td:nth-child(1) {background-color: ".concat(e.theme.main.highlight,";}"):""})),Ve=l.b.td(L||(L=Object(i.a)(["\n  margin: 2px;\n  padding: 5px;\n  border-radius: 5px;\n  background-color: ",";\n  line-height: 34px;\n  white-space: nowrap;\n  display: table-cell;\n"])),(function(e){return e.theme.tile.backgroundColor})),Fe=Object(l.b)(Ve)(_||(_=Object(i.a)(["\n  text-align: right;\n"]))),Ie=l.b.div(J||(J=Object(i.a)(["\n  margin: 5px;\n  padding: 10px;\n  height: 20px;\n  flex: 1 1 auto;\n  line-height: 20px;\n  border-radius: 5px;\n  background-color: ",";\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ",";\n  }\n"])),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.main.highlight})),Ae=Object(l.b)(Ve)(R||(R=Object(i.a)(["\n  padding: 0px;\n"]))),Te=l.b.span(q||(q=Object(i.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"])),(function(e){return e.theme.tile.backgroundColorLink})),Le=l.b.span(U||(U=Object(i.a)(["\n  display: inline-block;\n  background-color: ",";\n  border-radius: 5px;\n  text-decoration: none;\n  color: ",";\n  font-size: 16px;\n  padding: 0px 5px 0px 5px;\n  cursor: pointer;\n"])),(function(e){return e.theme.tile.backgroundColorLink}),(function(e){return e.theme.tile.backgroundColor})),_e=l.b.div(W||(W=Object(i.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]))),Je=function(e){var n=e.pic,t={backgroundImage:"url(".concat(n,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==n?Object(ue.jsx)(Re,{style:t}):Object(ue.jsx)(qe,{})},Re=l.b.div(K||(K=Object(i.a)(["\n  margin-right: 5px;\n  margin-top: -7px;\n  margin-bottom: -7px;\n  height: 43px;\n  width: 43px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  box-shadow: 0px 0px 10px 0px rgba(172, 172, 172, 0.2);\n  background-color: white;\n  overflow: hidden;\n\n  @media (max-width: 576px) {\n    display: none;\n  }\n"])),(function(e){return e.theme.main.highlight})),qe=l.b.div(Z||(Z=Object(i.a)([""]))),Ue=l.b.div(Y||(Y=Object(i.a)(["\n  position: absolute;\n  top: 40vh;\n  right: -40px;\n  z-index: 400;\n\n  height: 40px;\n  width: 40px;\n  text-align: center;\n  line-height: 40px;\n  transform: rotate(45deg);\n  cursor: pointer;\n\n  background-color: ",";\n  color: ",";\n\n  svg {\n    transform: rotate(-45deg);\n  }\n"])),(function(e){return e.theme.tile.backgroundColorLink}),(function(e){return e.theme.buttons.color})),We=(n.a=function(e){var n=e.encounter,t=e.isNew,i=Object(s.useState)(t),a=Object(o.a)(i,2),l=a[0],j=a[1],x=Object(s.useState)(!0),m=Object(o.a)(x,2),g=m[0],O=m[1],v=Object(s.useState)(n),y=Object(o.a)(v,2),w=y[0],k=y[1],C=Object(s.useState)(!1),z=Object(o.a)(C,2),P=z[0],E=z[1],S=Object(s.useState)(""),H=Object(o.a)(S,2),B=H[0],N=H[1],D=Object(s.useState)(!1),M=Object(o.a)(D,2),V=M[0],F=M[1],I=Object(u.f)();Object(s.useEffect)((function(){w!==n&&F(!0)}),[w,n]);var A=function(e,n,t){Object(d.y)(e,n,(function(e){e>0?(F(!1),N(t),E(!0)):(N("Something went wrong!"),E(!0)),setTimeout((function(){E(!1)}),3e3)}))},T=function(e,n){k(e),A("encounters",e,n)};return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)(We,{children:[Object(ue.jsx)(b.a,{icon:c.e,action:function(){return I.goBack()}}),Object(ue.jsxs)(p.a,{mode:l.toString(),children:[Object(ue.jsx)(p.b,{onClick:function(){return j(!1)},children:"View"}),Object(ue.jsx)(p.c,{onClick:function(){return j(!0)},children:"Edit"})]}),!l&&Object(ue.jsxs)(p.a,{mode:(!g).toString(),children:[Object(ue.jsx)(p.b,{onClick:function(){return O(!0)},children:"DM"}),Object(ue.jsx)(p.c,{onClick:function(){return O(!1)},children:"Player"})]}),l&&V&&Object(ue.jsx)(Ze,{icon:c.B}),l&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(h.a,{onClick:function(){return A("encounters",w,"Saved successful!")},icon:c.gb}),Object(ue.jsx)(h.a,{onClick:function(){return function(e,t){var i=Object(r.a)({},t);delete i.id,Object(d.b)(e,i,(function(e){T(Object(r.a)(Object(r.a)({},n),{},{name:n.name+" [Clone]"}),"Cloning successful!")}))}("encounters",w)},icon:c.s}),Object(ue.jsx)(h.a,{onClick:function(){return e=w.id,Object(d.s)("encounters",e),void I.goBack();var e},icon:c.rb}),B&&P&&Object(ue.jsx)(Ke,{children:B})]}),Object(ue.jsx)(f.a,{encounter:w,onEdit:function(e){return k(e)},isHost:!0})]}),l?Object(ue.jsx)(le,{encounter:w,onEdit:function(e){return k(e)}}):Object(ue.jsx)(ze,{encounter:w,dmView:g,onEdit:function(e){return T(e,"Saved successful!")}})]})},l.b.div(G||(G=Object(i.a)(["\n  color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  flex: 1 1;\n  width: 100%;\n  max-width: calc(100% - 20px);\n  height: 45px;\n  padding: 10px;\n\n  @media (max-width: 576px) {\n    max-width: calc(100% - 20px);\n  }\n"])),(function(e){return e.theme.tile.color}))),Ke=l.b.div(Q||(Q=Object(i.a)(["\n  padding: 5px;\n  width: 150px;\n  height: 30px;\n  line-height: 30px;\n  border-radius: 5px;\n  float: right;\n"]))),Ze=Object(l.b)(a.a)(X||(X=Object(i.a)(["\n  float: right;\n  line-height: 30px;\n  display: block;\n  height: 30px;\n  padding: 10px;\n  color: ",";\n"])),(function(e){return e.theme.main.highlight}))}}]);
//# sourceMappingURL=5.ac8f677c.chunk.js.map