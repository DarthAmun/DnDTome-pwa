(this.webpackJsonpdndtome=this.webpackJsonpdndtome||[]).push([[5],{104:function(n,e,t){"use strict";t.d(e,"a",(function(){return i})),t.d(e,"b",(function(){return a}));var r=t(59),i=function n(e,t,i){Object(r.a)(this,n),this.classe=void 0,this.level=void 0,this.subclasse=void 0,this.level=t,this.classe=e,this.subclasse=i};function a(n){var e=void 0!==n.classe&&"string"==typeof n.classe,t=void 0!==n.level&&"number"==typeof n.level,r=void 0!==n.subclasse&&"string"==typeof n.subclasse;return n&&t&&e&&r}},107:function(n,e,t){"use strict";t.d(e,"a",(function(){return i})),t.d(e,"b",(function(){return a}));var r=t(59),i=function n(e,t,i,a,o,c,u,l,s,d,h,f,p,m,b,v,g,x,y,j,O,E,w,k,C,P,z,S,H,I){Object(r.a)(this,n),this.id=void 0,this.filename=void 0,this.name=void 0,this.pic=void 0,this.sources=void 0,this.size=void 0,this.type=void 0,this.subtype=void 0,this.alignment=void 0,this.ac=void 0,this.hp=void 0,this.speed=void 0,this.cr=void 0,this.str=void 0,this.dex=void 0,this.con=void 0,this.int=void 0,this.wis=void 0,this.cha=void 0,this.savingThrows=void 0,this.skills=void 0,this.senses=void 0,this.lang=void 0,this.dmgVulnerabilitie=void 0,this.dmgResistance=void 0,this.dmgImmunities=void 0,this.conImmunities=void 0,this.sAblt=void 0,this.ablt=void 0,this.lAblt=void 0,this.name=t||"",this.sources=i||"",this.id=e,this.pic=a||"",this.size=o||"",this.type=c||"",this.subtype=u||"",this.alignment=l||"",this.ac=s||0,this.hp=d||0,this.speed=h||"",this.cr=f||0,this.str=p||0,this.dex=m||0,this.con=b||0,this.int=v||0,this.wis=g||0,this.cha=x||0,this.savingThrows=y||"",this.skills=j||"",this.senses=O||"",this.lang=E||"",this.dmgVulnerabilitie=w||"",this.dmgResistance=k||"",this.dmgImmunities=C||"",this.conImmunities=P||"",this.sAblt=z||"",this.ablt=S||"",this.lAblt=H||"",this.filename=I||""};function a(n){var e=void 0!==n.name&&"string"==typeof n.name,t=void 0!==n.pic&&"string"==typeof n.pic,r=void 0!==n.sources&&"string"==typeof n.sources,i=void 0!==n.size&&"string"==typeof n.size,a=void 0!==n.type&&"string"==typeof n.type,o=void 0!==n.subtype&&"string"==typeof n.subtype,c=void 0!==n.alignment&&"string"==typeof n.alignment,u=void 0!==n.ac&&"number"==typeof n.ac,l=void 0!==n.hp&&"number"==typeof n.hp,s=void 0!==n.speed&&"string"==typeof n.speed,d=void 0!==n.cr&&"number"==typeof n.cr,h=void 0!==n.str&&"number"==typeof n.str,f=void 0!==n.dex&&"number"==typeof n.dex,p=void 0!==n.con&&"number"==typeof n.con,m=void 0!==n.int&&"number"==typeof n.int,b=void 0!==n.wis&&"number"==typeof n.wis,v=void 0!==n.cha&&"number"==typeof n.cha,g=void 0!==n.savingThrows&&"string"==typeof n.savingThrows,x=void 0!==n.skills&&"string"==typeof n.skills,y=void 0!==n.senses&&"string"==typeof n.senses,j=void 0!==n.lang&&"string"==typeof n.lang,O=void 0!==n.dmgVulnerabilitie&&"string"==typeof n.dmgVulnerabilitie,E=void 0!==n.dmgResistance&&"string"==typeof n.dmgResistance,w=void 0!==n.dmgImmunities&&"string"==typeof n.dmgImmunities,k=void 0!==n.conImmunities&&"string"==typeof n.conImmunities,C=void 0!==n.sAblt&&"string"==typeof n.sAblt,P=void 0!==n.ablt&&"string"==typeof n.ablt,z=void 0!==n.lAblt&&"string"==typeof n.lAblt;return n&&e&&t&&r&&i&&a&&o&&c&&u&&l&&s&&d&&h&&f&&p&&m&&b&&v&&g&&x&&y&&j&&O&&E&&w&&k&&C&&P&&z}},109:function(n,e,t){"use strict";t.d(e,"a",(function(){return l})),t.d(e,"b",(function(){return s}));var r=t(59),i=function n(e,t,i,a,o,c,u,l,s,d,h,f,p,m,b,v,g,x){Object(r.a)(this,n),this.acrobaticsProf=void 0,this.animalHandlingProf=void 0,this.arcanaProf=void 0,this.athleticsProf=void 0,this.deceptionProf=void 0,this.historyProf=void 0,this.insightProf=void 0,this.intimidationProf=void 0,this.investigationProf=void 0,this.medicineProf=void 0,this.natureProf=void 0,this.perceptionProf=void 0,this.performanceProf=void 0,this.persuasionProf=void 0,this.religionProf=void 0,this.sleightOfHandProf=void 0,this.stealthProf=void 0,this.survivalProf=void 0,this.acrobaticsProf=e||0,this.animalHandlingProf=t||0,this.arcanaProf=i||0,this.athleticsProf=a||0,this.deceptionProf=o||0,this.historyProf=c||0,this.insightProf=u||0,this.intimidationProf=l||0,this.investigationProf=s||0,this.medicineProf=d||0,this.natureProf=h||0,this.perceptionProf=f||0,this.performanceProf=p||0,this.persuasionProf=m||0,this.religionProf=b||0,this.sleightOfHandProf=v||0,this.stealthProf=g||0,this.survivalProf=x||0};var a=function n(e,t,i,a,o,c){Object(r.a)(this,n),this.strSaveProf=void 0,this.dexSaveProf=void 0,this.conSaveProf=void 0,this.intSaveProf=void 0,this.wisSaveProf=void 0,this.chaSaveProf=void 0,this.strSaveProf=e||0,this.dexSaveProf=t||0,this.conSaveProf=i||0,this.intSaveProf=a||0,this.wisSaveProf=o||0,this.chaSaveProf=c||0};var o=function n(e,t,i,a,o){Object(r.a)(this,n),this.copper=void 0,this.silver=void 0,this.electrum=void 0,this.gold=void 0,this.platinum=void 0,this.copper=e||0,this.silver=t||0,this.electrum=i||0,this.gold=a||0,this.platinum=o||0};var c=t(104),u=function n(e,t){Object(r.a)(this,n),this.race=void 0,this.subrace=void 0,this.race=e||"",this.subrace=t||""};var l=function n(e,t,c,l,s,d,h,f,p,m,b,v,g,x,y,j,O,E,w,k,C,P,z,S,H,I,A,D,M,B,N,R,T,V,F,L){Object(r.a)(this,n),this.id=void 0,this.name=void 0,this.player=void 0,this.campaign=void 0,this.pic=void 0,this.classes=void 0,this.race=void 0,this.background=void 0,this.spells=void 0,this.spellSlots=void 0,this.activeSelections=void 0,this.currencyBonis=void 0,this.items=void 0,this.monsters=void 0,this.ac=void 0,this.hp=void 0,this.currentHp=void 0,this.init=void 0,this.speed=void 0,this.str=void 0,this.dex=void 0,this.con=void 0,this.int=void 0,this.wis=void 0,this.cha=void 0,this.saves=void 0,this.actions=void 0,this.profsLangs=void 0,this.senses=void 0,this.money=void 0,this.skills=void 0,this.spellNotes=void 0,this.alignment=void 0,this.inspiration=void 0,this.castingHit=void 0,this.castingDC=void 0,this.id=e||-1,this.name=t||"",this.player=c||"",this.campaign=l||"",this.pic=s||"",this.classes=d||[],this.race=h||new u,this.background=f||"",this.spells=p||[],this.spellSlots=m||[],this.activeSelections=b||[],this.currencyBonis=v||[],this.items=g||[],this.monsters=x||[],this.ac=y||0,this.hp=j||0,this.currentHp=O||0,this.init=E||0,this.speed=w||"",this.str=k||0,this.dex=C||0,this.con=P||0,this.int=z||0,this.wis=S||0,this.cha=H||0,this.saves=I||new a,this.actions=A||"",this.profsLangs=D||"",this.senses=M||"",this.money=B||new o,this.skills=N||new i,this.spellNotes=R||"",this.alignment=T||"",this.inspiration=V||0,this.castingHit=F||0,this.castingDC=L||0};function s(n){var e=void 0!==n.name&&"string"==typeof n.name,t=void 0!==n.player&&"string"==typeof n.player,r=void 0!==n.campaign&&"string"==typeof n.campaign,i=void 0!==n.pic&&"string"==typeof n.pic,a=void 0!==n.race&&function(n){var e=void 0!==n.race&&"string"==typeof n.race,t=void 0!==n.subrace&&"string"==typeof n.subrace;return n&&e&&t}(n.race),o=void 0!==n.background&&"string"==typeof n.background,u=void 0!==n.ac&&"number"==typeof n.ac,l=void 0!==n.hp&&"number"==typeof n.hp,s=void 0!==n.currentHp&&"number"==typeof n.currentHp,d=void 0!==n.init&&"number"==typeof n.init,h=void 0!==n.classes&&Array.isArray(n.classes)&&Object(c.b)(n.classes[0]);return n&&e&&t&&r&&i&&a&&o&&u&&l&&s&&d&&h}},128:function(n,e,t){"use strict";var r=t(4),i=t(1),a=t.n(i),o=t(3),c=t(13);function u(){var n=Object(r.a)(["\n  float: left;\n  font-size: calc("," + 10px);\n  margin: 10px 0px 0px 10px;\n  cursor: pointer;\n"]);return u=function(){return n},n}function l(){var n=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n"]);return l=function(){return n},n}e.a=function(n){var e=n.icon,t=n.transform,r=n.action;return a.a.createElement(d,{onClick:r},a.a.createElement(s,{icon:e,transform:t}))};var s=Object(o.b)(c.a)(l(),(function(n){return n.theme.main.highlight}),(function(n){return n.theme.buttons.color})),d=o.b.div(u(),(function(n){return n.theme.buttons.height}))},129:function(n,e,t){"use strict";t.d(e,"b",(function(){return u})),t.d(e,"c",(function(){return l})),t.d(e,"a",(function(){return s}));var r=t(4),i=t(3);function a(){var n=Object(r.a)(["\n  width: auto;\n  height: ",";\n  float: right;\n  color: ",";\n\n  "," {\n    background-color: ",";\n  }\n\n  "," {\n    background-color: ",";\n  }\n"]);return a=function(){return n},n}function o(){var n=Object(r.a)(["\n  margin: 5px 5px 5px 0px;\n\n  border-radius: 0px 5px 5px 0px;\n"]);return o=function(){return n},n}function c(){var n=Object(r.a)(["\n  width: auto;\n  padding: 10px;\n  margin: 5px 0px 5px 5px;\n  height: ",";\n  line-height: ",";\n  float: left;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  border-radius: 5px 0px 0px 5px;\n\n  transition: color 0.2s, background-color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n"]);return c=function(){return n},n}var u=i.b.div(c(),(function(n){return n.theme.buttons.height}),(function(n){return n.theme.buttons.height}),(function(n){return n.theme.buttons.hoverColor})),l=Object(i.b)(u)(o()),s=i.b.div(a(),(function(n){return n.theme.buttons.height}),(function(n){return n.theme.buttons.color}),u,(function(n){return"true"!==n.mode?function(n){return n.theme.buttons.backgroundColor}:function(n){return n.theme.tile.backgroundColor}}),l,(function(n){return"true"===n.mode?function(n){return n.theme.buttons.backgroundColor}:function(n){return n.theme.tile.backgroundColor}}))},137:function(n,e,t){"use strict";t.d(e,"a",(function(){return i})),t.d(e,"b",(function(){return a}));var r=t(59),i=function n(e,t,i,a,o,c,u,l,s){Object(r.a)(this,n),this.id=void 0,this.name=void 0,this.enemies=void 0,this.players=void 0,this.isPlaying=void 0,this.currentInit=void 0,this.roundCounter=void 0,this.map=void 0,this.dimension=void 0,this.id=e,this.name=t||"",this.enemies=i||[],this.players=a||[],this.isPlaying=o||!1,this.currentInit=c||0,this.roundCounter=u||0,this.map=l||"",this.dimension=s||{width:20,height:20,size:20,zoom:100}};function a(n){var e=void 0!==n.name&&"string"==typeof n.name,t=void 0!==n.enemies&&Array.isArray(n.enemies),r=void 0!==n.players&&Array.isArray(n.players),i=void 0!==n.isPlaying&&"boolean"==typeof n.isPlaying,a=void 0!==n.map&&"string"==typeof n.map,o=void 0!==n.currentInit&&"number"==typeof n.currentInit,c=void 0!==n.roundCounter&&"number"==typeof n.roundCounter;return n&&e&&t&&r&&i&&a&&o&&c}},168:function(n,e,t){"use strict";t.d(e,"a",(function(){return a})),t.d(e,"b",(function(){return o}));var r=t(16),i=t(1),a=(t(29),function(n,e){var t=Object(i.useState)(!0),a=Object(r.a)(t,2),o=a[0],c=a[1],u=Object(i.useCallback)((function(n,e){switch(e.type){case"resolved":return[e.data,!1,void 0];case"empty":return[void 0,!1,void 0];case"error":return[void 0,!1,e.error];default:return[void 0,!0,void 0]}}),[]),l=Object(i.useReducer)(u,[void 0,!0,void 0]),s=Object(r.a)(l,2),d=s[0],h=s[1];return Object(i.useEffect)((function(){if(o&&void 0!==n){n.get(e).then((function(n){h(void 0!==n?{type:"resolved",data:n}:{type:"empty"})})).catch((function(n){h({type:"error",error:n})})),c(!1)}}),[n,e,o]),d}),o=function(n,e,t){var a=Object(i.useState)(!0),o=Object(r.a)(a,2),c=o[0],u=o[1],l=Object(i.useCallback)((function(n,e){switch(e.type){case"resolved":return[e.data,!1,void 0];case"empty":return[void 0,!1,void 0];case"error":return[void 0,!1,e.error];default:return[void 0,!0,void 0]}}),[]),s=Object(i.useReducer)(l,[void 0,!0,void 0]),d=Object(r.a)(s,2),h=d[0],f=d[1];return Object(i.useEffect)((function(){if(c&&void 0!==n){n.where(e).equalsIgnoreCase(t).first().then((function(n){f(void 0!==n?{type:"resolved",data:n}:{type:"empty"})})).catch((function(n){f({type:"error",error:n})})),u(!1)}}),[n,e,t,c]),h}},485:function(n,e,t){"use strict";var r=t(4),i=t(27),a=t(16),o=t(1),c=t.n(o),u=t(2),l=t(3),s=t(9),d=t(13),h=t(61),f=t(128),p=t(62),m=t(30),b=t(109),v=t(59),g=function n(e,t,r,i,a,o,c,u,l,s){Object(v.a)(this,n),this.name=void 0,this.hp=void 0,this.currentHp=void 0,this.initBonus=void 0,this.init=void 0,this.ac=void 0,this.tag=void 0,this.isMonster=void 0,this.level=void 0,this.cord=void 0,this.name=e||"",this.hp=t||0,this.currentHp=r||0,this.initBonus=a||0,this.init=i||-1,this.ac=o||0,this.tag=c||"",this.isMonster=u||!1,this.level=l||0,this.cord=s||[0,0]};var x=t(107),y=t(67),j=t.n(y),O=t(71),E=t(69),w=t(137),k=function n(e,t,r,i,a){Object(v.a)(this,n),this.encounter=void 0,this.characters=void 0,this.enemies=void 0,this.players=void 0,this.difficulty=void 0,this.encounter=e||new w.a,this.characters=t||[],this.enemies=r||[],this.players=i||[],this.difficulty=a||{difficulty:"",calcExp:{easy:0,medium:0,hard:0,deadly:0}}},C=function n(e,t){Object(v.a)(this,n),this.player=void 0,this.entity=void 0,this.player=e||new g,this.entity=t||new x.a},P=function(){var n=Object(E.a)(j.a.mark((function n(e){var t,r,i,a,o,c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.time("t"),console.time("load"),i=[],a=[],e.players.forEach((function(n){i.push(z(n))})),e.enemies.forEach((function(n){a.push(z(n))})),n.next=8,Promise.all(i);case 8:return t=n.sent,n.next=11,Promise.all(a);case 11:return r=n.sent,console.timeEnd("load"),t=t.filter((function(n){return void 0!==n})),r=r.filter((function(n){return void 0!==n})),o=[].concat(Object(O.a)(t),Object(O.a)(r)),e.isPlaying&&(o=o.sort((function(n,e){return n.player.init<e.player.init?1:-1}))),c=I(e),console.timeEnd("t"),n.abrupt("return",new k(e,t,r,o,c));case 20:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),z=function(){var n=Object(E.a)(j.a.mark((function n(e){var t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isMonster){n.next=6;break}return n.next=3,Object(h.o)("monsters","name",e.name);case 3:t=n.sent,n.next=9;break;case 6:return n.next=8,Object(h.o)("chars","name",e.name);case 8:t=n.sent;case 9:return n.abrupt("return",new C(e,t));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),S=[{cr:0,exp:0},{cr:.125,exp:25},{cr:.25,exp:50},{cr:.5,exp:100},{cr:1,exp:200},{cr:2,exp:450},{cr:3,exp:700},{cr:4,exp:1100},{cr:5,exp:1800},{cr:6,exp:2300},{cr:7,exp:2900},{cr:8,exp:3900},{cr:9,exp:5e3},{cr:10,exp:5900},{cr:11,exp:7200},{cr:12,exp:8400},{cr:13,exp:1e4},{cr:14,exp:11500},{cr:15,exp:13e3},{cr:16,exp:15e3},{cr:17,exp:18e3},{cr:18,exp:2e4},{cr:19,exp:22e3},{cr:20,exp:25e3},{cr:21,exp:33e3},{cr:22,exp:41e3},{cr:23,exp:5e4},{cr:24,exp:62e3},{cr:25,exp:75e3},{cr:26,exp:9e4},{cr:27,exp:105e3},{cr:28,exp:12e4},{cr:29,exp:135e3},{cr:30,exp:155e3}],H=[{level:1,easy:25,medium:50,hard:75,deadly:100},{level:2,easy:50,medium:100,hard:150,deadly:200},{level:3,easy:75,medium:150,hard:225,deadly:400},{level:4,easy:125,medium:250,hard:375,deadly:500},{level:5,easy:250,medium:500,hard:750,deadly:1100},{level:6,easy:300,medium:600,hard:900,deadly:1400},{level:7,easy:350,medium:750,hard:1100,deadly:1700},{level:8,easy:450,medium:900,hard:1400,deadly:2100},{level:9,easy:550,medium:1100,hard:1600,deadly:2400},{level:10,easy:600,medium:1200,hard:1900,deadly:2800},{level:11,easy:800,medium:1600,hard:2400,deadly:3600},{level:12,easy:1e3,medium:2e3,hard:3e3,deadly:4500},{level:13,easy:1100,medium:2200,hard:3400,deadly:5100},{level:14,easy:1250,medium:2500,hard:3800,deadly:5700},{level:15,easy:1400,medium:2800,hard:4300,deadly:6400},{level:16,easy:1600,medium:3200,hard:4800,deadly:7200},{level:17,easy:2e3,medium:3900,hard:5900,deadly:8800},{level:18,easy:2100,medium:4200,hard:6300,deadly:9500},{level:19,easy:2400,medium:4900,hard:7300,deadly:10900},{level:20,easy:2800,medium:5700,hard:8500,deadly:12700}],I=function(n){var e={easy:0,medium:0,hard:0,deadly:0};n.players.forEach((function(n){H.length>=n.level&&(e.easy+=H[n.level].easy,e.medium+=H[n.level].medium,e.hard+=H[n.level].hard,e.deadly+=H[n.level].deadly)}));var t=0;n.enemies.forEach((function(n){S.forEach((function(e){n.level===e.cr&&(t+=e.exp)}))})),1===n.enemies.length?t*=1:n.enemies.length<=3?t*=1.5:n.enemies.length<=6?t*=2:n.enemies.length<=10?t*=2.5:n.enemies.length<=14?t*=3:n.enemies.length>14&&(t*=4);return{difficulty:e.easy+(e.medium-e.easy)/2>t?"Easy ("+t+" Exp)":e.medium+(e.hard-e.medium)/2>t?"Medium ("+t+" Exp)":e.hard+(e.deadly-e.hard)/2>t?"Hard ("+t+" Exp)":"Deadly ("+t+" Exp)",calcExp:e}},A=t(92),D=t(79),M=t(70),B=t(64);function N(){var n=Object(r.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return N=function(){return n},n}function R(){var n=Object(r.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return R=function(){return n},n}function T(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  height: auto;\n  margin: 2px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ",";\n  }\n"]);return T=function(){return n},n}function V(){var n=Object(r.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  flex: 1 1 600px;\n"]);return V=function(){return n},n}function F(){var n=Object(r.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: stretch;\n"]);return F=function(){return n},n}function L(){var n=Object(r.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  flex: 1 1;\n  min-width: calc(100% - 40px);\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return L=function(){return n},n}function q(){var n=Object(r.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return q=function(){return n},n}var J=function(n){var e=n.encounter,t=n.onEdit,r=Object(o.useState)(""),u=Object(a.a)(r,2),l=u[0],d=u[1],f=Object(o.useState)(""),v=Object(a.a)(f,2),y=v[0],j=v[1];Object(o.useEffect)((function(){var n=I(e),t=n.difficulty,r=n.calcExp;d(t),j("Easy: "+r.easy+" | Medium: "+r.medium+" | Hard: "+r.hard+" | Deadly: "+r.deadly)}),[e]);var O=function(n,r,a,o){var c=e.enemies;c[o]=Object(i.a)(Object(i.a)({},a),{},Object(m.a)({},n,r)),t(Object(i.a)(Object(i.a)({},e),{},{enemies:c}))},E=function(n,r,a,o){var c=e.players;c[o]=Object(i.a)(Object(i.a)({},a),{},Object(m.a)({},n,r)),t(Object(i.a)(Object(i.a)({},e),{},{players:c}))};return c.a.createElement(Q,null,c.a.createElement(Z,null,c.a.createElement(M.a,{value:e.name,label:"Encounter Name",onChange:function(n){return t(Object(i.a)(Object(i.a)({},e),{},{name:n}))}}),c.a.createElement(A.a,{optionTable:"locations",value:e.map,label:"Map",onChange:function(n){return t(Object(i.a)(Object(i.a)({},e),{},{map:n}))}})),c.a.createElement(Z,null,c.a.createElement(X,null,c.a.createElement(K,null,c.a.createElement(U,null,"Difficulty: "),l),c.a.createElement(K,null,c.a.createElement(U,null,"Exp: "),y))),c.a.createElement(W,null,e.enemies.map((function(n,r){return c.a.createElement(G,{key:r},c.a.createElement(A.a,{optionTable:["monsters","chars"],value:n.name,label:"Monster",onChange:function(a){return function(n,r,a){var o=e.enemies;Object(h.k)("monsters","name",n,(function(c){c&&Object(x.b)(c)?(o[a]=Object(i.a)(Object(i.a)({},r),{},{name:n,hp:c.hp,currentHp:c.hp,ac:c.ac,isMonster:!0,level:c.cr}),t(Object(i.a)(Object(i.a)({},e),{},{enemies:o}))):(o[a]=Object(i.a)(Object(i.a)({},r),{},{name:n}),t(Object(i.a)(Object(i.a)({},e),{},{enemies:o})))}))}(a,n,r)}}),c.a.createElement(D.a,{value:n.currentHp,label:"Current Hp",onChange:function(e){return O("currentHp",e,n,r)}}),c.a.createElement(D.a,{value:n.hp,label:"Hp",onChange:function(e){return O("hp",e,n,r)}}),c.a.createElement(D.a,{value:n.ac,label:"AC",onChange:function(e){return O("ac",e,n,r)}}),c.a.createElement(D.a,{value:n.initBonus,label:"Init Bonus",onChange:function(e){return O("initBonus",e,n,r)}}),c.a.createElement(D.a,{value:n.level,label:"Cr",onChange:function(e){return E("level",e,n,r)}}),c.a.createElement(p.a,{icon:s.hb,onClick:function(){return function(n){var r=e.enemies;r.splice(n,1),t(Object(i.a)(Object(i.a)({},e),{},{enemies:r}))}(r)}}))})),c.a.createElement(G,null,c.a.createElement(B.a,{text:"Add new Monster",icon:s.Q,onClick:function(){return function(){var n=e.enemies;n.push(new g),t(Object(i.a)(Object(i.a)({},e),{},{enemies:n}))}()}}))),c.a.createElement(W,null,e.players.map((function(n,r){return c.a.createElement(G,{key:r},c.a.createElement(A.a,{optionTable:"chars",value:n.name,label:"Character",onChange:function(a){return function(n,r,a){var o=e.players;Object(h.k)("chars","name",n,(function(c){if(c&&Object(b.b)(c)){var u=0;c.classes.forEach((function(n){u+=n.level})),o[a]=Object(i.a)(Object(i.a)({},r),{},{name:n,hp:c.hp,currentHp:c.currentHp,initBonus:c.init,ac:c.ac,isMonster:!1,level:u}),t(Object(i.a)(Object(i.a)({},e),{},{players:o}))}else o[a]=Object(i.a)(Object(i.a)({},r),{},{name:n}),t(Object(i.a)(Object(i.a)({},e),{},{players:o}))}))}(a,n,r)}}),c.a.createElement(D.a,{value:n.currentHp,label:"Current Hp",onChange:function(e){return E("currentHp",e,n,r)}}),c.a.createElement(D.a,{value:n.hp,label:"Hp",onChange:function(e){return E("hp",e,n,r)}}),c.a.createElement(D.a,{value:n.ac,label:"AC",onChange:function(e){return E("ac",e,n,r)}}),c.a.createElement(D.a,{value:n.initBonus,label:"Init Bonus",onChange:function(e){return E("initBonus",e,n,r)}}),c.a.createElement(D.a,{value:n.level,label:"Level",onChange:function(e){return E("level",e,n,r)}}),c.a.createElement(p.a,{icon:s.hb,onClick:function(){return function(n){var r=e.players;r.splice(n,1),t(Object(i.a)(Object(i.a)({},e),{},{players:r}))}(r)}}))})),c.a.createElement(G,null,c.a.createElement(B.a,{text:"Add new Character",icon:s.Q,onClick:function(){return function(){var n=e.players;n.push(new g),t(Object(i.a)(Object(i.a)({},e),{},{players:n}))}()}}))))},Q=l.b.div(q()),Z=l.b.div(L(),(function(n){return n.theme.tile.color})),W=l.b.div(F(),(function(n){return n.theme.tile.color})),G=l.b.div(V()),K=l.b.div(T(),(function(n){return n.theme.tile.backgroundColor}),(function(n){return n.theme.main.highlight})),U=l.b.span(R(),(function(n){return n.theme.tile.backgroundColorLink})),X=l.b.div(N()),Y=function(n){var e=n;return Math.round(1+Math.random()*(e-1))},$=t(28);function _(){var n=Object(r.a)(["\n  margin-left: 5px;\n"]);return _=function(){return n},n}function nn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  max-width: 4em;\n  height: 30px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n"]);return nn=function(){return n},n}function en(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 30px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 2px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return en=function(){return n},n}var tn=function(n){var e=n.value,t=n.max,r=n.showMax,i=n.onChange;return c.a.createElement(rn,null,void 0!==t&&c.a.createElement(c.a.Fragment,null,c.a.createElement(an,{type:"number",max:t,value:e,onChange:function(n){return i(+n.target.value)}}),r&&c.a.createElement(on,null,"/ ",t)),void 0===t&&c.a.createElement(an,{type:"number",value:e,onChange:function(n){return i(+n.target.value)}}))},rn=l.b.label(en(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor})),an=l.b.input(nn(),(function(n){return n.theme.input.backgroundColor}),(function(n){return n.theme.input.color})),on=l.b.span(_());function cn(){var n=Object(r.a)([""]);return cn=function(){return n},n}function un(){var n=Object(r.a)(["\n  margin: 3px;\n  float: left;\n  border-radius: 500px;\n  border: 3px solid ",";\n  box-shadow: 0px 0px 10px 0px rgba(172, 172, 172, 0.2);\n  background-color: white;\n  overflow: hidden;\n  box-sizing: border-box;\n  cursor: move;\n  position: absolute;\n"]);return un=function(){return n},n}function ln(){var n=Object(r.a)(["\n  flex: 1;\n  min-height: ","px;\n  min-width: ","px;\n  max-height: ","px;\n  max-width: ","px;\n\n  box-sizing: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  position: releativ;\n"]);return ln=function(){return n},n}function sn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  min-width: max-content;\n  display: flex;\n  flex-wrap: wrap;\n"]);return sn=function(){return n},n}function dn(){var n=Object(r.a)(["\n  flex: 1 1 100%;\n\n  height: 50px;\n  width: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n"]);return dn=function(){return n},n}function hn(){var n=Object(r.a)(["\n  width: calc(800px * ",");\n"]);return hn=function(){return n},n}function fn(){var n=Object(r.a)(["\n  position: absolute;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return fn=function(){return n},n}function pn(){var n=Object(r.a)(["\n  flex: 1 1 100%;\n  position: relative;\n\n  max-width: calc(100% - 10px);\n\n  overflow: scroll;\n\n  display: flex;\n  flex-wrap: wrap;\n"]);return pn=function(){return n},n}function mn(){var n=Object(r.a)(["\n  flex: 1 1 min-content;\n  padding: 5px;\n  margin: 5px;\n  // position: relative;\n  max-width: calc(100vw - 120px);\n\n  @media (max-width: 576px) {\n    max-width: 100vw;\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n"]);return mn=function(){return n},n}var bn=function(n){var e=n.img,t=n.players,r=n.dimension,u=n.currentPlayerNumber,l=n.onChangePlayers,s=n.onChangeDimension,d=Object(o.useState)(),h=Object(a.a)(d,2),f=h[0],p=h[1],m=Object(o.useState)(),b=Object(a.a)(m,2),v=b[0],g=b[1],x=Object(o.useCallback)((function(n){g(n)}),[]),y=Object(o.useCallback)((function(){return v}),[v]),j=Object(o.useCallback)((function(n){for(var e=[],i=0;i<r.width;i++)e.push(c.a.createElement(vn,{key:"slot"+n+i,cord:[n,i],players:t,size:r.size,zoom:r.zoom/100,makeDrop:y,makeDrag:x,updatePlayers:l,currentPlayerNumber:u}));return e}),[r,t,l,u,y,x]),O=Object(o.useCallback)((function(){for(var n=[],e=0;e<r.height;e++)n.push(c.a.createElement(En,{key:e},j(e)));p(n)}),[r,j]);return Object(o.useEffect)((function(){console.log("Redo Board"),O()}),[e,r,t,y]),c.a.createElement(gn,null,c.a.createElement(On,null,c.a.createElement(D.a,{value:r.zoom,label:"Zoom",step:10,onChange:function(n){return s(Object(i.a)(Object(i.a)({},r),{},{zoom:n}))}}),c.a.createElement(D.a,{value:r.width,label:"Horizontal",onChange:function(n){return s(Object(i.a)(Object(i.a)({},r),{},{width:n}))}}),c.a.createElement(D.a,{value:r.height,label:"Vertical",onChange:function(n){return s(Object(i.a)(Object(i.a)({},r),{},{height:n}))}}),c.a.createElement(D.a,{value:r.size,label:"Size",onChange:function(n){return s(Object(i.a)(Object(i.a)({},r),{},{size:n}))}})),c.a.createElement(xn,null,c.a.createElement(yn,null,f),c.a.createElement(jn,{zoom:r.zoom/100,src:e})))},vn=function(n){var e=n.size,t=n.zoom,r=n.cord,a=n.players,u=n.currentPlayerNumber,l=n.makeDrop,s=n.makeDrag,d=n.updatePlayers,h=function(n,e){console.log("drag",e.player.name,e.player.cord),s(e)},f=function(n){n.preventDefault()},p=Object(o.useCallback)((function(n,e){if(e.player.isMonster)switch(e.entity.size){case"gargantuan":return 4*n*t;case"huge":return 3*n*t;case"large":return 2*n*t}return n*t}),[t]);return c.a.createElement(wn,{size:e*t,onDrop:function(n){return function(n,e){n.preventDefault();var t=l(),r=a.map((function(n){return n===t?Object(i.a)(Object(i.a)({},n),{},{player:Object(i.a)(Object(i.a)({},n.player),{},{cord:e})}):n}));d(r)}(n,r)},onDragOver:f},a.map((function(n,t){return void 0===n.player.cord&&0===r[0]&&0===r[1]||void 0!==n.player.cord&&n.player.cord[0]===r[0]&&n.player.cord[1]===r[1]?c.a.createElement(kn,{key:"icon"+t,drag:h,player:n,dragOver:f,pic:n.entity.pic,size:p(e,n),isDead:n.player.currentHp<=0,isCurrent:u===t}):c.a.createElement(Pn,{key:"icon"+t})})))},gn=l.b.div(mn()),xn=l.b.div(pn()),yn=l.b.div(fn()),jn=l.b.img(hn(),(function(n){return n.zoom})),On=l.b.div(dn()),En=l.b.div(sn()),wn=l.b.div(ln(),(function(n){return n.size}),(function(n){return n.size}),(function(n){return n.size}),(function(n){return n.size})),kn=function(n){var e=n.dragOver,t=n.drag,r=n.pic,i=n.size,a=n.player,o=n.isDead,u=n.isCurrent,l={backgroundImage:"url(".concat(r,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",height:i-6+"px",width:i-6+"px",opacity:o?"0.5":"1",border:u?"":"none"};return""!==r?c.a.createElement(Cn,{onDragStart:function(n){return t(n,a)},onDragOver:e,draggable:!0,style:l}):c.a.createElement(c.a.Fragment,null)},Cn=l.b.div(un(),(function(n){return n.theme.main.highlight})),Pn=l.b.div(cn());function zn(){var n=Object(r.a)([""]);return zn=function(){return n},n}function Sn(){var n=Object(r.a)(["\n  margin-right: 5px;\n  margin-top: -7px;\n  margin-bottom: -7px;\n  height: 43px;\n  width: 43px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  box-shadow: 0px 0px 10px 0px rgba(172, 172, 172, 0.2);\n  background-color: white;\n  overflow: hidden;\n\n  @media (max-width: 576px) {\n    display: none;\n  }\n"]);return Sn=function(){return n},n}function Hn(){var n=Object(r.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Hn=function(){return n},n}function In(){var n=Object(r.a)(["\n  display: inline-block;\n  background-color: ",";\n  border-radius: 5px;\n  text-decoration: none;\n  color: ",";\n  font-size: 16px;\n  padding: 0px 5px 0px 5px;\n  cursor: pointer;\n"]);return In=function(){return n},n}function An(){var n=Object(r.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return An=function(){return n},n}function Dn(){var n=Object(r.a)(["\n  padding: 0px;\n"]);return Dn=function(){return n},n}function Mn(){var n=Object(r.a)(["\n  margin: 5px;\n  padding: 10px;\n  height: 20px;\n  flex: 1 1 auto;\n  line-height: 20px;\n  border-radius: 5px;\n  background-color: ",";\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ",";\n  }\n"]);return Mn=function(){return n},n}function Bn(){var n=Object(r.a)(["\n  margin: 2px;\n  padding: 5px;\n  border-radius: 5px;\n  background-color: ",";\n  line-height: 34px;\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ",";\n  }\n"]);return Bn=function(){return n},n}function Nn(){var n=Object(r.a)(["\n  ","\n  margin: 2px;\n"]);return Nn=function(){return n},n}function Rn(){var n=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Rn=function(){return n},n}function Tn(){var n=Object(r.a)(["\n  flex: 1 1;\n  color: ",";\n  font-size: 16px;\n  max-width: 800px;\n  min-width: 500px;\n  padding: 5px;\n\n  @media (max-width: 576px) {\n    min-width: 100%;\n  }\n"]);return Tn=function(){return n},n}function Vn(){var n=Object(r.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Vn=function(){return n},n}function Fn(){var n=Object(r.a)(["\n  width: 100%;\n"]);return Fn=function(){return n},n}var Ln=function(n){var e=n.encounter,t=n.dmView,r=n.onEdit,l=Object(u.f)(),d=Object(o.useState)(new k),h=Object(a.a)(d,2),f=h[0],b=h[1],v=Object(o.useState)(!0),g=Object(a.a)(v,2),x=g[0],y=g[1];Object(o.useEffect)((function(){P(e).then((function(n){b(n),y(!1)}))}),[e,b]);var j=function(n,t,a){if(a.isMonster){var o=f.encounter.enemies.map((function(e){return a===e?Object(i.a)(Object(i.a)({},e),{},Object(m.a)({},n,t)):e}));r(Object(i.a)(Object(i.a)({},e),{},{enemies:o}))}else{var c=f.encounter.players.map((function(e){return a===e?Object(i.a)(Object(i.a)({},e),{},Object(m.a)({},n,t)):e}));r(Object(i.a)(Object(i.a)({},e),{},{players:c}))}},O=function(){var n=e.players.map((function(n){return Object(i.a)(Object(i.a)({},n),{},{init:-1})})),t=e.enemies.map((function(n){return Object(i.a)(Object(i.a)({},n),{},{init:-1})}));r(Object(i.a)(Object(i.a)({},e),{},{enemies:t,players:n,isPlaying:!1,currentInit:0,roundCounter:0}))},E=Object(o.useCallback)((function(n){r(Object(i.a)(Object(i.a)({},f.encounter),{},{dimension:n}))}),[f.encounter,r]),w=Object(o.useCallback)((function(n){if(n!==f.players){var e=[];n.forEach((function(n){n.player.isMonster||e.push(n.player)}));var t=[];n.forEach((function(n){n.player.isMonster&&t.push(n.player)})),r(Object(i.a)(Object(i.a)({},f.encounter),{},{players:e,enemies:t}))}}),[f.encounter,f.players,r]);return c.a.createElement(Qn,null,c.a.createElement(Zn,null,c.a.createElement(Wn,null,c.a.createElement("b",null,e.name)),c.a.createElement(_n,null,t&&c.a.createElement(Un,null,c.a.createElement(Yn,null,"Difficulty: "),f.difficulty.difficulty),c.a.createElement(Un,null,c.a.createElement(Yn,null,"Round: "),e.roundCounter),e&&!e.isPlaying&&c.a.createElement(B.a,{text:"Start Encounter",icon:s.P,onClick:function(){return function(){var n=e.players.map((function(n){if(n.init<0){var e=Y(20);return e+=n.initBonus||0,Object(i.a)(Object(i.a)({},n),{},{init:e})}return n})),t=e.enemies.map((function(n){if(n.init<0){var e=Y(20);return e+=n.initBonus||0,Object(i.a)(Object(i.a)({},n),{},{init:e})}return n}));r(Object(i.a)(Object(i.a)({},e),{},{enemies:t,players:n,isPlaying:!0,currentInit:0,roundCounter:0}))}()}}),e&&e.isPlaying&&c.a.createElement(c.a.Fragment,null,c.a.createElement(B.a,{text:"Next",icon:s.bb,onClick:function(){return function(){var n=(e.currentInit+1)%f.players.length,t=e.roundCounter;(e.currentInit+1)%f.players.length===0&&t++;for(var a=0;f.players[n].player.currentHp<=0&&((n+1)%f.players.length===0&&t++,n=(n+1)%f.players.length,!(++a>f.players.length)););a>f.players.length?O():r(Object(i.a)(Object(i.a)({},e),{},{currentInit:n,roundCounter:t}))}()}}),c.a.createElement(B.a,{text:"End Encounter",icon:s.cb,onClick:function(){return O()}}))),x&&c.a.createElement($.b,null),!x&&c.a.createElement(Jn,null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Init"),c.a.createElement("th",null,"Name"),t&&c.a.createElement("th",null,"Current Hp"),t&&c.a.createElement("th",null,"Hp"),t&&c.a.createElement("th",null,"AC"),c.a.createElement("th",null))),c.a.createElement("tbody",null,f.players.map((function(n,r){return c.a.createElement(Gn,{current:e.currentInit===r&&e.isPlaying,isDead:n.player.currentHp<=0,key:r},c.a.createElement(Xn,null,c.a.createElement(tn,{value:n.player.init,onChange:function(e){return j("init",e,n.player)}})),c.a.createElement(Kn,null,""!==n.entity.pic&&void 0!==n.entity.pic?c.a.createElement(qn,{player:n}):c.a.createElement(c.a.Fragment,null),n.player.isMonster&&c.a.createElement($n,{onClick:function(){return l.push("/monster-detail/name/".concat(n.player.name))}},t?n.player.name:"???"),!n.player.isMonster&&c.a.createElement($n,{onClick:function(){return l.push("/char-detail/name/".concat(n.player.name))}},n.player.name)),t&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Xn,null,c.a.createElement(tn,{value:n.player.currentHp,max:n.player.hp,onChange:function(e){return j("currentHp",e,n.player)}})),c.a.createElement(Kn,null,n.player.hp),c.a.createElement(Kn,null,n.player.ac)),c.a.createElement("td",null,n.player.currentHp>0&&c.a.createElement(p.a,{icon:s.Z,onClick:function(){return e=n.player,void j("currentHp",0,e);var e}})))}))))),f&&""!==e.map&&void 0!==e.map&&c.a.createElement(bn,{onChangePlayers:w,players:f.players,dimension:void 0!==e.dimension?e.dimension:{width:20,height:20,size:20,zoom:100},currentPlayerNumber:f.encounter.currentInit,onChangeDimension:E,img:e.map}))},qn=function(n){var e=n.player;return c.a.createElement(ne,{pic:e.entity.pic})},Jn=l.b.table(Fn()),Qn=l.b.div(Vn()),Zn=l.b.div(Tn(),(function(n){return n.theme.tile.color})),Wn=l.b.div(Rn(),(function(n){return n.theme.tile.backgroundColor})),Gn=l.b.tr(Nn(),(function(n){return n.isDead?"opacity: 0.5;":n.current?"td:nth-child(1) {background-color: ".concat(n.theme.main.highlight,";}"):""})),Kn=l.b.td(Bn(),(function(n){return n.theme.tile.backgroundColor}),(function(n){return n.theme.main.highlight})),Un=l.b.div(Mn(),(function(n){return n.theme.tile.backgroundColor}),(function(n){return n.theme.main.highlight})),Xn=Object(l.b)(Kn)(Dn()),Yn=l.b.span(An(),(function(n){return n.theme.tile.backgroundColorLink})),$n=l.b.span(In(),(function(n){return n.theme.tile.backgroundColorLink}),(function(n){return n.theme.tile.backgroundColor})),_n=l.b.div(Hn()),ne=function(n){var e=n.pic,t={backgroundImage:"url(".concat(e,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==e?c.a.createElement(ee,{style:t}):c.a.createElement(te,null)},ee=l.b.div(Sn(),(function(n){return n.theme.main.highlight})),te=l.b.div(zn()),re=t(129);function ie(){var n=Object(r.a)(["\n  float: right;\n  line-height: 30px;\n  display: block;\n  height: 30px;\n  padding: 10px;\n  color: ",";\n"]);return ie=function(){return n},n}function ae(){var n=Object(r.a)(["\n  padding: 5px;\n  width: 150px;\n  height: 30px;\n  line-height: 30px;\n  border-radius: 5px;\n  float: right;\n"]);return ae=function(){return n},n}function oe(){var n=Object(r.a)(["\n  color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  flex: 1 1;\n  width: 100%;\n  max-width: calc(100% - 20px);\n  height: 45px;\n  padding: 10px;\n\n  @media (max-width: 576px) {\n    max-width: calc(100% - 20px);\n  }\n"]);return oe=function(){return n},n}e.a=function(n){var e=n.encounter,t=n.isNew,r=Object(o.useState)(t),l=Object(a.a)(r,2),d=l[0],m=l[1],b=Object(o.useState)(!0),v=Object(a.a)(b,2),g=v[0],x=v[1],y=Object(o.useState)(e),j=Object(a.a)(y,2),O=j[0],E=j[1],w=Object(o.useState)(!1),k=Object(a.a)(w,2),C=k[0],P=k[1],z=Object(o.useState)(""),S=Object(a.a)(z,2),H=S[0],I=S[1],A=Object(o.useState)(!1),D=Object(a.a)(A,2),M=D[0],B=D[1],N=Object(u.f)();Object(o.useEffect)((function(){O!==e&&B(!0)}),[O,e]);var R=function(n,e,t){Object(h.v)(n,e,(function(n){n>0?(B(!1),I(t),P(!0)):(I("Something went wrong!"),P(!0)),setTimeout((function(){P(!1)}),3e3)}))},T=function(n,e){E(n),R("encounters",n,e)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(ce,null,c.a.createElement(f.a,{icon:s.c,action:function(){return N.goBack()}}),c.a.createElement(re.a,{mode:d.toString()},c.a.createElement(re.b,{onClick:function(){return m(!1)}},"View"),c.a.createElement(re.c,{onClick:function(){return m(!0)}},"Edit")),!d&&c.a.createElement(re.a,{mode:(!g).toString()},c.a.createElement(re.b,{onClick:function(){return x(!0)}},"DM View"),c.a.createElement(re.c,{onClick:function(){return x(!1)}},"Player View")),d&&M&&c.a.createElement(le,{icon:s.v}),d&&c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{onClick:function(){return R("encounters",O,"Saved successful!")},icon:s.W}),c.a.createElement(p.a,{onClick:function(){return function(n,t){var r=Object(i.a)({},t);delete r.id,Object(h.b)(n,r,(function(n){T(Object(i.a)(Object(i.a)({},e),{},{name:e.name+" [Clone]"}),"Cloning successful!")}))}("encounters",O)},icon:s.m}),c.a.createElement(p.a,{onClick:function(){return n=O.id,Object(h.q)("encounters",n),void N.goBack();var n},icon:s.hb}),H&&C&&c.a.createElement(ue,null,H))),d?c.a.createElement(J,{encounter:O,onEdit:function(n){return E(n)}}):c.a.createElement(Ln,{encounter:O,dmView:g,onEdit:function(n){return T(n,"Saved successful!")}}))};var ce=l.b.div(oe(),(function(n){return n.theme.tile.color})),ue=l.b.div(ae()),le=Object(l.b)(d.a)(ie(),(function(n){return n.theme.main.highlight}))},62:function(n,e,t){"use strict";var r=t(4),i=t(1),a=t.n(i),o=t(3),c=t(13);function u(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return u=function(){return n},n}function l(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  cursor: not-allowed;\n"]);return l=function(){return n},n}function s(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  cursor: pointer;\n\n  font-size: 16px;\n  overflow: hidden;\n  height: ",";\n  line-height: ",";\n  float: ",";\n  padding: 10px;\n  margin: 5px;\n  border-radius: 10px;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n\n  transition: color 0.2s;\n\n  &:hover {\n    color: white;\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n"]);return s=function(){return n},n}e.a=function(n){var e=n.icon,t=n.floatLeft,r=n.disabled,i=n.transform,o=n.onClick;return a.a.createElement(a.a.Fragment,null,!r&&a.a.createElement(d,{left:t,onClick:o},a.a.createElement(f,{icon:e,transform:i})),r&&a.a.createElement(h,null,a.a.createElement(f,{icon:e,transform:i})))};var d=o.b.div(s(),(function(n){return n.theme.buttons.color}),(function(n){return n.theme.buttons.backgroundColor}),(function(n){return n.theme.buttons.height}),(function(n){return n.theme.buttons.height}),(function(n){return n.left?"left":"right"})),h=Object(o.b)(d)(l(),(function(n){return n.theme.buttons.backgroundColor}),(function(n){return n.theme.buttons.color})),f=Object(o.b)(c.a)(u())},64:function(n,e,t){"use strict";var r=t(4),i=t(1),a=t.n(i),o=t(3),c=t(13);function u(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  margin-right: 5px;\n"]);return u=function(){return n},n}function l(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: ",";\n  line-height: ",";\n  float: right;\n  padding: 10px;\n  margin: 5px;\n  border-radius: 10px;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  box-sizing: content-box;\n  border: none;\n\n  transition: color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n"]);return l=function(){return n},n}e.a=function(n){var e=n.text,t=n.icon,r=n.transform,i=n.disabled,o=n.onClick;return a.a.createElement(s,{onClick:o,disabled:i},t?a.a.createElement(d,{icon:t,transform:r}):""," ",e)};var s=o.b.button(l(),(function(n){return n.theme.buttons.color}),(function(n){return n.theme.buttons.backgroundColor}),(function(n){return n.theme.buttons.height}),(function(n){return n.theme.buttons.height}),(function(n){return n.theme.buttons.hoverColor}),(function(n){return n.theme.buttons.disabled})),d=Object(o.b)(c.a)(u())},70:function(n,e,t){"use strict";var r=t(4),i=t(1),a=t.n(i),o=t(3),c=t(13);function u(){var n=Object(r.a)(["\n  flex: 3 1 auto;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n  width: 0;\n  min-width: 100px;\n"]);return u=function(){return n},n}function l(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return l=function(){return n},n}function s(){var n=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return s=function(){return n},n}function d(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return d=function(){return n},n}e.a=function(n){var e=n.value,t=n.label,r=n.placeholder,i=n.icon,o=n.transform,c=n.onChange;return a.a.createElement(h,null,a.a.createElement(p,null,i?a.a.createElement(f,{icon:i,transform:o}):""," ",t),a.a.createElement(m,{type:"text",value:e,onChange:function(n){return c(n.target.value)},placeholder:r}))};var h=o.b.label(d(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor})),f=Object(o.b)(c.a)(s(),(function(n){return n.theme.main.highlight})),p=o.b.div(l()),m=o.b.input(u(),(function(n){return n.theme.input.backgroundColor}),(function(n){return n.theme.input.color}))},71:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t(21);var i=t(33);function a(n){return function(n){if(Array.isArray(n))return Object(r.a)(n)}(n)||function(n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||Object(i.a)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},79:function(n,e,t){"use strict";var r=t(4),i=t(1),a=t.n(i),o=t(3),c=t(13);function u(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  max-width: 6em;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n"]);return u=function(){return n},n}function l(){var n=Object(r.a)(["\n  flex: 1 1;\n"]);return l=function(){return n},n}function s(){var n=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return s=function(){return n},n}function d(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return d=function(){return n},n}e.a=function(n){var e=n.value,t=n.max,r=n.step,i=n.label,o=n.icon,c=n.transform,u=n.onChange;return a.a.createElement(h,null,a.a.createElement(p,null,o?a.a.createElement(f,{icon:o,transform:c}):""," ",i),t&&a.a.createElement(m,{type:"number",max:t,step:r||1,value:e,onChange:function(n){return u(+n.target.value)}}),!t&&a.a.createElement(m,{type:"number",step:r||1,value:e,onChange:function(n){return u(+n.target.value)}}))};var h=o.b.label(d(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor})),f=Object(o.b)(c.a)(s(),(function(n){return n.theme.main.highlight})),p=o.b.div(l()),m=o.b.input(u(),(function(n){return n.theme.input.backgroundColor}),(function(n){return n.theme.input.color}))},92:function(n,e,t){"use strict";var r=t(4),i=t(67),a=t.n(i),o=t(69),c=t(16),u=t(1),l=t.n(u),s=t(3),d=t(13),h=t(61);function f(){var n=Object(r.a)(["\n  flex: 3 1 auto;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n\n  &:focus ~ "," {\n    display: block;\n  }\n"]);return f=function(){return n},n}function p(){var n=Object(r.a)(["\n  padding: 5px;\n  cursor: pointer;\n  color: ",";\n  background-color: ",";\n  margin-bottom: 1px;\n  border-radius: 5px;\n"]);return p=function(){return n},n}function m(){var n=Object(r.a)(["\n  display: none;\n  position: absolute;\n  border-bottom: none;\n  border-top: none;\n  z-index: 99;\n  top: 100%;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n\n  &:hover {\n    display: block;\n  }\n"]);return m=function(){return n},n}function b(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return b=function(){return n},n}function v(){var n=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return v=function(){return n},n}function g(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n  position: relative;\n  overflow: visible;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return g=function(){return n},n}e.a=function(n){var e=n.optionTable,t=n.filters,r=n.value,i=n.label,s=n.icon,d=n.transform,f=n.onChange,p=Object(u.useState)(e),m=Object(c.a)(p,1)[0],b=Object(u.useState)([]),v=Object(c.a)(b,2),g=v[0],k=v[1],C=Object(u.useState)([]),P=Object(c.a)(C,2),z=P[0],S=P[1],H=Object(u.useCallback)(function(){var n=Object(o.a)(a.a.mark((function n(e){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[],e.forEach((function(n){r.push(Object(h.g)(n,void 0!==t?t:[]))})),n.next=4,Promise.all(r);case 4:n.sent.forEach((function(n){k((function(e){return e.concat(n)}))}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t]);Object(u.useEffect)((function(){"string"===typeof m&&Object(h.f)(m,void 0!==t?t:[],(function(n){k(n)})),m instanceof Array&&m.length>0&&H(m)}),[m,H,t]);var I=Object(u.useCallback)((function(n){f(n);var e=g.filter((function(e){return e.name.includes(n)}));S(e)}),[g,f]);return l.a.createElement(x,null,l.a.createElement(j,null,s?l.a.createElement(y,{icon:s,transform:d}):""," ",i),l.a.createElement(w,{type:"text",value:r,onChange:function(n){return I(n.target.value)}}),l.a.createElement(O,null,z.length>0&&z.map((function(n,e){return l.a.createElement(E,{key:e,onClick:function(e){return I(n.name)}},n.name)}))))};var x=s.b.label(g(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor})),y=Object(s.b)(d.a)(v(),(function(n){return n.theme.main.highlight})),j=s.b.div(b()),O=s.b.div(m()),E=s.b.div(p(),(function(n){return n.theme.input.color}),(function(n){return n.theme.input.backgroundColor})),w=s.b.input(f(),(function(n){return n.theme.input.backgroundColor}),(function(n){return n.theme.input.color}),O)}}]);
//# sourceMappingURL=5.609d4b52.chunk.js.map