{"version":3,"sources":["data/races/Race.tsx","data/races/Subrace.tsx","components/entities/races/details/RaceView.tsx","components/entities/races/details/RaceEditView.tsx","components/entities/races/details/RaceDetail.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/entities/races/details/link_wrapper/NameToRace.tsx","components/general_elements/ErrorTile.tsx","data/races/Trait.tsx"],"names":["Race","name","id","filename","pic","abilityScores","age","alignment","size","speed","lang","traits","sources","this","isRace","arg","nameCheck","undefined","picCheck","abilityScoresCheck","ageCheck","alignmentCheck","sizeCheck","speedCheck","langCheck","traitsCheck","Array","isArray","isTrait","sourcesCheck","findRaceFormattError","Subrace","type","isSubrace","typeCheck","findSubraceFormattError","RaceView","race","useState","send","setSend","subraces","setSubraces","history","useHistory","useEffect","reciveAllFiltered","fieldName","value","sort","results","getPicture","useCallback","CenterWrapper","ImageView","View","Name","PropWrapper","Prop","Text","PropTitle","FormatedText","text","length","map","subrace","index","link","SubraceLink","key","onClick","push","CreateButton","newSubrace","createNewWithId","createNewSubrace","icon","faPlusCircle","Icon","faLink","TextButton","faPaperPlane","P2PSender","data","mode","trait","TraitWrapper","TraitName","TraitLevel","level","TraitText","styled","div","theme","tile","color","backgroundColor","main","highlight","span","backgroundColorLink","Link","FontAwesomeIcon","Image","ImageElm","src","Empty","img","button","RaceEditView","onEdit","onTraitChange","oldTrait","field","StringField","label","onChange","ShortTextField","faImage","TraitView","IconButton","faTrash","indexOf","splice","removeTrait","faPlus","NumberField","RaceDetail","isNew","editMode","setMode","raceObj","editRace","showAlert","setAlert","showDeleteDialog","setDeleteDialog","message","setMessage","unsavedChanges","setUnsavedChanges","Dialog","faExclamationTriangle","confirmeText","confirmeClick","remove","goBack","abortText","abortClick","TopBar","BackButton","faArrowLeft","action","toString","title","tableName","updateWithCallback","result","setTimeout","updateRace","faSave","Message","_toConsumableArray","arr","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","NameToRace","match","db","MyAppDatabase","useItemByAttr","races","params","loading","error","buttonText","onButton","newRace","createNewRace","ErrorTile","Tile","boxShadow","headerColor","Trait","textCheck","levelCheck"],"mappings":"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","file":"static/js/59.89bff252.chunk.js","sourcesContent":["import IEntity from \"../IEntity\";\nimport Trait, { isTrait } from \"./Trait\";\n\nexport default class Race implements IEntity {\n  id?: number;\n  name: string;\n  abilityScores: string;\n  age: string;\n  alignment: string;\n  size: string;\n  speed: string;\n  lang: string;\n  traits: Trait[];\n  sources: string;\n  filename: string;\n  pic: string;\n\n  constructor(\n    name?: string,\n    id?: number,\n    filename?: string,\n    pic?: string,\n    abilityScores?: string,\n    age?: string,\n    alignment?: string,\n    size?: string,\n    speed?: string,\n    lang?: string,\n    traits?: Trait[],\n    sources?: string\n  ) {\n    this.name = name || \"\";\n    this.id = id;\n    this.filename = filename || \"\";\n    this.pic = pic || \"\";\n    this.abilityScores = abilityScores || \"\";\n    this.age = age || \"\";\n    this.alignment = alignment || \"\";\n    this.size = size || \"\";\n    this.speed = speed || \"\";\n    this.lang = lang || \"\";\n    this.traits = traits || [];\n    this.sources = sources || \"\";\n  }\n}\n\nexport function isRace(arg: any): arg is Race {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const picCheck = arg.pic !== undefined && typeof arg.pic == \"string\";\n  const abilityScoresCheck =\n    arg.abilityScores !== undefined && typeof arg.abilityScores == \"string\";\n  const ageCheck = arg.age !== undefined && typeof arg.age == \"string\";\n  const alignmentCheck =\n    arg.alignment !== undefined && typeof arg.alignment == \"string\";\n  const sizeCheck = arg.size !== undefined && typeof arg.size == \"string\";\n  const speedCheck = arg.speed !== undefined && typeof arg.speed == \"string\";\n  const langCheck = arg.lang !== undefined && typeof arg.lang == \"string\";\n  const traitsCheck =\n    arg.traits !== undefined &&\n    Array.isArray(arg.traits) &&\n    isTrait(arg.traits[0]);\n  const sourcesCheck =\n    arg.sources !== undefined && typeof arg.sources == \"string\";\n  return (\n    arg &&\n    nameCheck &&\n    picCheck &&\n    abilityScoresCheck &&\n    ageCheck &&\n    alignmentCheck &&\n    sizeCheck &&\n    speedCheck &&\n    langCheck &&\n    traitsCheck &&\n    sourcesCheck\n  );\n}\n\nexport function findRaceFormattError(\n  arg: any\n): {\n  nameCheck: boolean;\n  picCheck: boolean;\n  abilityScoresCheck: boolean;\n  ageCheck: boolean;\n  alignmentCheck: boolean;\n  sizeCheck: boolean;\n  speedCheck: boolean;\n  langCheck: boolean;\n  traitsCheck: boolean;\n  sourcesCheck: boolean;\n} {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const picCheck = arg.pic !== undefined && typeof arg.pic == \"string\";\n  const abilityScoresCheck =\n    arg.abilityScores !== undefined && typeof arg.abilityScores == \"string\";\n  const ageCheck = arg.age !== undefined && typeof arg.age == \"string\";\n  const alignmentCheck =\n    arg.alignment !== undefined && typeof arg.alignment == \"string\";\n  const sizeCheck = arg.size !== undefined && typeof arg.size == \"string\";\n  const speedCheck = arg.speed !== undefined && typeof arg.speed == \"string\";\n  const langCheck = arg.lang !== undefined && typeof arg.lang == \"string\";\n  const traitsCheck =\n    arg.traits !== undefined &&\n    Array.isArray(arg.traits) &&\n    isTrait(arg.traits[0]);\n  const sourcesCheck =\n    arg.sources !== undefined && typeof arg.sources == \"string\";\n  return {\n    nameCheck: nameCheck,\n    picCheck: picCheck,\n    abilityScoresCheck: abilityScoresCheck,\n    ageCheck: ageCheck,\n    alignmentCheck: alignmentCheck,\n    sizeCheck: sizeCheck,\n    speedCheck: speedCheck,\n    langCheck: langCheck,\n    traitsCheck: traitsCheck,\n    sourcesCheck: sourcesCheck,\n  };\n}\n","import IEntity from \"../IEntity\";\nimport Trait, { isTrait } from \"./Trait\";\n\nexport default class Subrace implements IEntity {\n  id?: number;\n  name: string;\n  type: string;\n  abilityScores: string;\n  traits: Trait[];\n  sources: string;\n  filename: string;\n\n  constructor(\n    name?: string,\n    id?: number,\n    type?: string,\n    filename?: string,\n    abilityScores?: string,\n    traits?: Trait[],\n    sources?: string\n  ) {\n    this.name = name || \"\";\n    this.id = id;\n    this.type = type || \"\";\n    this.filename = filename || \"\";\n    this.abilityScores = abilityScores || \"\";\n    this.traits = traits || [];\n    this.sources = sources || \"\";\n  }\n}\n\nexport function isSubrace(arg: any): arg is Subrace {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const typeCheck = arg.type !== undefined && typeof arg.type == \"string\";\n  const abilityScoresCheck =\n    arg.abilityScores !== undefined && typeof arg.abilityScores == \"string\";\n  const traitsCheck =\n    arg.traits !== undefined &&\n    Array.isArray(arg.traits) &&\n    isTrait(arg.traits[0]);\n  const sourcesCheck =\n    arg.sources !== undefined && typeof arg.sources == \"string\";\n  return (\n    arg &&\n    nameCheck &&\n    typeCheck &&\n    abilityScoresCheck &&\n    traitsCheck &&\n    sourcesCheck\n  );\n}\n\nexport function findSubraceFormattError(\n  arg: any\n): {\n  nameCheck: boolean;\n  typeCheck: boolean;\n  abilityScoresCheck: boolean;\n  traitsCheck: boolean;\n  sourcesCheck: boolean;\n} {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const typeCheck = arg.type !== undefined && typeof arg.type == \"string\";\n  const abilityScoresCheck =\n    arg.abilityScores !== undefined && typeof arg.abilityScores == \"string\";\n  const traitsCheck =\n    arg.traits !== undefined &&\n    Array.isArray(arg.traits) &&\n    isTrait(arg.traits[0]);\n  const sourcesCheck =\n    arg.sources !== undefined && typeof arg.sources == \"string\";\n  return {\n    nameCheck: nameCheck,\n    typeCheck: typeCheck,\n    abilityScoresCheck: abilityScoresCheck,\n    traitsCheck: traitsCheck,\n    sourcesCheck: sourcesCheck,\n  };\n}\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport {\n  reciveAllFiltered,\n  createNewWithId,\n} from \"../../../../services/DatabaseService\";\nimport Race from \"../../../../data/races/Race\";\nimport Trait from \"../../../../data/races/Trait\";\nimport Subrace from \"../../../../data/races/Subrace\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faLink,\n  faPaperPlane,\n  faPlusCircle,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { GiUpgrade } from \"react-icons/gi\";\nimport FormatedText from \"../../../general_elements/FormatedText\";\nimport TextButton from \"../../../form_elements/TextButton\";\nimport P2PSender from \"../../../p2p/P2PSender\";\n\ninterface $Props {\n  race: Race;\n}\n\nconst RaceView = ({ race }: $Props) => {\n  const [send, setSend] = useState<boolean>(false);\n  const [subraces, setSubraces] = useState<Subrace[]>([]);\n  let history = useHistory();\n\n  useEffect(() => {\n    reciveAllFiltered(\n      \"subraces\",\n      [{ fieldName: \"type\", value: race.name, sort: 0 }],\n      (results: any[]) => {\n        setSubraces(results);\n      }\n    );\n  }, [race]);\n\n  const getPicture = useCallback(() => {\n    if (race !== undefined) {\n      if (race.pic === \"\" || race.pic === null) {\n        return \"\";\n      }\n      return race.pic;\n    }\n    return \"\";\n  }, [race]);\n\n  const createNewSubrace = () => {\n    let newSubrace = new Subrace();\n    delete newSubrace.id;\n    newSubrace.type = race.name;\n    createNewWithId(\"subraces\", newSubrace, (id) => {\n      history.push(`/subrace-detail/id/${id}`);\n    });\n  };\n\n  return (\n    <CenterWrapper>\n      {getPicture() !== \"\" ? (\n        <ImageView>\n          <Image pic={getPicture()}></Image>\n        </ImageView>\n      ) : (\n        \"\"\n      )}\n      <View>\n        <Name>\n          <b>{race.name}</b>\n        </Name>\n        <PropWrapper>\n          <Prop>\n            <GiUpgrade />\n            {race.abilityScores}\n          </Prop>\n          <Text>\n            <PropTitle>Age:</PropTitle>\n            <FormatedText text={race.age} />\n          </Text>\n          <Text>\n            <PropTitle>Alignment:</PropTitle>\n            <FormatedText text={race.alignment} />\n          </Text>\n          <Text>\n            <PropTitle>Size:</PropTitle>\n            <FormatedText text={race.size} />\n          </Text>\n          <Text>\n            <PropTitle>Speed:</PropTitle>\n            <FormatedText text={race.speed} />\n          </Text>\n          <Text>\n            <PropTitle>Language:</PropTitle>\n            <FormatedText text={race.lang} />\n          </Text>\n          <Text>\n            <PropTitle>Subraces:</PropTitle>\n            {subraces.length !== 0 &&\n              subraces.map((subrace: Subrace, index: number) => {\n                const link: string = \"/subrace-detail/id/\" + subrace.id;\n                return (\n                  <SubraceLink key={index} onClick={() => history.push(link)}>\n                    {subrace.name}\n                  </SubraceLink>\n                );\n              })}\n            <CreateButton onClick={() => createNewSubrace()}>\n              <FontAwesomeIcon icon={faPlusCircle} />\n            </CreateButton>\n          </Text>\n          <Prop>\n            <Icon icon={faLink} />\n            {race.sources}\n          </Prop>\n        </PropWrapper>\n        <PropWrapper>\n          {!send && (\n            <TextButton\n              text={`Send ${race.name}`}\n              icon={faPaperPlane}\n              onClick={() => setSend(true)}\n            />\n          )}\n          {!!send && <P2PSender data={race} mode={\"THIS\"} />}\n        </PropWrapper>\n      </View>\n      {race.traits.map((trait: Trait, index: number) => {\n        return (\n          <View key={index}>\n            <TraitWrapper>\n              <TraitName>{trait.name}</TraitName>\n              <TraitLevel>{trait.level}</TraitLevel>\n              <TraitText>\n                <FormatedText text={trait.text} />\n              </TraitText>\n            </TraitWrapper>\n          </View>\n        );\n      })}\n    </CenterWrapper>\n  );\n};\n\nexport default RaceView;\n\nconst CenterWrapper = styled.div`\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nconst View = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 auto;\n  max-width: 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n`;\n\nconst ImageView = styled(View)`\n  justify-content: flex-end;\n  flex: 1 1 300px;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst Prop = styled.div`\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ${({ theme }) => theme.main.highlight};\n  }\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst TraitWrapper = styled(PropWrapper)``;\nconst TraitName = styled.div`\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 3 3 auto;\n`;\nconst TraitLevel = styled(TraitName)`\n  flex: 1 1 auto;\n`;\nconst TraitText = styled(TraitName)`\n  flex: 4 4 auto;\n`;\n\nconst Text = styled.div`\n  height: auto;\n  width: calc(100% - 24px);\n  margin: 2px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst Link = styled.span`\n  display: inline-block;\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  text-decoration: none;\n  color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 10px;\n  padding: 0px 5px 0px 5px;\n  cursor: pointer;\n`;\n\nconst SubraceLink = styled(Link)`\n  font-size: 16px;\n  margin: 5px;\n  padding: 5px;\n  cursor: pointer;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\ninterface $ImageProps {\n  pic: string;\n}\n\nconst Image = ({ pic }: $ImageProps) => {\n  if (pic !== \"\") {\n    return <ImageElm src={pic}></ImageElm>;\n  } else {\n    return <Empty />;\n  }\n};\n\nconst ImageElm = styled.img`\n  margin: 5px;\n  max-height: 60vh;\n`;\nconst Empty = styled.div``;\n\nconst CreateButton = styled.button`\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 10px;\n  padding: 0px 5px 0px 5px;\n  margin: 5px;\n  border: none;\n  box-sizing: content-box;\n  height: 28px;\n  line-height: 28px;\n  float: right;\n  cursor: pointer;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Race from \"../../../../data/races/Race\";\n\nimport StringField from \"../../../form_elements/StringField\";\nimport ShortTextField from \"../../../form_elements/ShortTextField\";\n\nimport {\n  faLink,\n  faImage,\n  faPlus,\n  faTrash,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport Trait from \"../../../../data/races/Trait\";\nimport NumberField from \"../../../form_elements/NumberField\";\nimport IconButton from \"../../../form_elements/IconButton\";\n\ninterface $Props {\n  race: Race;\n  onEdit: (value: Race) => void;\n}\n\nconst RaceEditView = ({ race, onEdit }: $Props) => {\n  const onTraitChange = (\n    oldTrait: Trait,\n    field: string,\n    value: string | number\n  ) => {\n    let traits = race.traits.map((trait: Trait) => {\n      if (trait === oldTrait) {\n        return {\n          ...trait,\n          [field]: value,\n        };\n      } else {\n        return trait;\n      }\n    });\n    onEdit({ ...race, traits: traits });\n  };\n\n  const addNewTrait = () => {\n    onEdit({\n      ...race,\n      traits: [...race.traits, { name: \"New Trait\", level: 1, text: \"\" }],\n    });\n  };\n\n  const removeTrait = (oldTrait: Trait) => {\n    let traits = race.traits;\n    const index: number = traits.indexOf(oldTrait);\n    if (index !== -1) {\n      traits.splice(index, 1);\n      onEdit({ ...race, traits: traits });\n    }\n  };\n\n  return (\n    <CenterWrapper>\n      <RaceView>\n        <StringField\n          value={race.name}\n          label=\"Name\"\n          onChange={(name) => onEdit({ ...race, name: name })}\n        />\n        <StringField\n          value={race.abilityScores}\n          label=\"Ability Scores\"\n          onChange={(abilityScores) =>\n            onEdit({ ...race, abilityScores: abilityScores })\n          }\n        />\n        <ShortTextField\n          value={race.age}\n          label=\"Age\"\n          onChange={(age) => onEdit({ ...race, age: age })}\n        />\n        <ShortTextField\n          value={race.alignment}\n          label=\"Alignment\"\n          onChange={(alignment) => onEdit({ ...race, alignment: alignment })}\n        />\n        <ShortTextField\n          value={race.size}\n          label=\"Size\"\n          onChange={(size) => onEdit({ ...race, size: size })}\n        />\n        <ShortTextField\n          value={race.speed}\n          label=\"Speed\"\n          onChange={(speed) => onEdit({ ...race, speed: speed })}\n        />\n        <ShortTextField\n          value={race.lang}\n          label=\"Language\"\n          onChange={(lang) => onEdit({ ...race, lang: lang })}\n        />\n        <StringField\n          value={race.pic}\n          label=\"Picture\"\n          icon={faImage}\n          onChange={(pic) => onEdit({ ...race, pic: pic })}\n        />\n        <StringField\n          value={race.sources}\n          label=\"Sources\"\n          icon={faLink}\n          onChange={(sources) => onEdit({ ...race, sources: sources })}\n        />\n      </RaceView>\n      <TraitView>\n        {race.traits.map((trait: Trait, index: number) => {\n          return (\n            <TraitWrapper key={index}>\n              <TraitName\n                value={trait.name}\n                label=\"Name\"\n                onChange={(name) => onTraitChange(trait, \"name\", name)}\n              />\n              <TraitLevel\n                value={trait.level}\n                label=\"Level\"\n                onChange={(level) => onTraitChange(trait, \"level\", level)}\n              />\n              <IconButton icon={faTrash} onClick={() => removeTrait(trait)} />\n              <TraitText\n                value={trait.text}\n                label=\"Text\"\n                onChange={(text) => onTraitChange(trait, \"text\", text)}\n              />\n            </TraitWrapper>\n          );\n        })}\n        <TraitWrapper>\n          <IconButton icon={faPlus} onClick={() => addNewTrait()} />\n        </TraitWrapper>\n      </TraitView>\n    </CenterWrapper>\n  );\n};\n\nexport default RaceEditView;\n\nconst CenterWrapper = styled.div`\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst RaceView = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: flex-start;\n`;\n\nconst TraitView = styled(RaceView)``;\n\nconst TraitWrapper = styled.div`\n  flex: 1 1 600px;\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\nconst TraitName = styled(StringField)`\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 3 3 auto;\n`;\nconst TraitLevel = styled(NumberField)`\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 1 1 auto;\n`;\nconst TraitText = styled(ShortTextField)`\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 4 4 auto;\n`;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\n\nimport {\n  faArrowLeft,\n  faSave,\n  faTrash,\n  faExclamationTriangle,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport RaceView from \"./RaceView\";\nimport RaceEditView from \"./RaceEditView\";\nimport BackButton from \"../../../form_elements/BackButton\";\nimport Race from \"../../../../data/races/Race\";\nimport IconButton from \"../../../form_elements/IconButton\";\nimport { remove, updateWithCallback } from \"../../../../services/DatabaseService\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Dialog from \"../../../general_elements/Dialog\";\nimport { EditToggle, ToggleLeft, ToggleRight } from \"../../../general_elements/ToggleStyle\";\n\ninterface $Props {\n  race: Race;\n  isNew: boolean;\n}\n\nconst RaceDetail = ({ race, isNew }: $Props) => {\n  const [editMode, setMode] = useState<boolean>(isNew);\n  const [raceObj, editRace] = useState<Race>(race);\n  const [showAlert, setAlert] = useState<boolean>(false);\n  const [showDeleteDialog, setDeleteDialog] = useState<boolean>(false);\n  const [message, setMessage] = useState<string>(\"\");\n  const [unsavedChanges, setUnsavedChanges] = useState<boolean>(false);\n  let history = useHistory();\n\n  const deleteRace = () => {\n    setDeleteDialog(true);\n  };\n\n  useEffect(() => {\n    if (raceObj !== race) {\n      setUnsavedChanges(true);\n    }\n  }, [raceObj, race]);\n\n  const updateRace = (tableName: string, raceObj: Race) => {\n    updateWithCallback(tableName, raceObj, (result) => {\n      if (result > 0) {\n        setUnsavedChanges(false);\n        setMessage(\"Saved successful!\");\n        setAlert(true);\n      } else {\n        setMessage(\"Something went wrong!\");\n        setAlert(true);\n      }\n      setTimeout(() => {\n        setAlert(false);\n      }, 3000);\n    });\n  };\n\n  return (\n    <>\n      {showDeleteDialog && (\n        <Dialog\n          message={`Delete ${race.name}?`}\n          icon={faExclamationTriangle}\n          confirmeText={\"Delete\"}\n          confirmeClick={() => {\n            remove(\"races\", race.id);\n            history.goBack();\n          }}\n          abortText={\"Back\"}\n          abortClick={() => {\n            setDeleteDialog(false);\n          }}\n        />\n      )}\n      <TopBar>\n        <BackButton icon={faArrowLeft} action={() => history.goBack()} />\n        <EditToggle mode={editMode.toString()}>\n          <ToggleLeft onClick={() => setMode(false)}>View</ToggleLeft>\n          <ToggleRight onClick={() => setMode(true)}>Edit</ToggleRight>\n        </EditToggle>\n        {unsavedChanges && <Icon icon={faExclamationTriangle} title={\"Unsaved changes!\"} />}\n        {editMode && (\n          <>\n            <IconButton onClick={() => updateRace(\"races\", raceObj)} icon={faSave} />\n            <IconButton onClick={() => deleteRace()} icon={faTrash} />\n            {message && showAlert && <Message>{message}</Message>}\n          </>\n        )}\n      </TopBar>\n      {editMode ? (\n        <RaceEditView race={raceObj} onEdit={(value) => editRace(value)} />\n      ) : (\n        <RaceView race={raceObj} />\n      )}\n    </>\n  );\n};\n\nexport default RaceDetail;\n\nconst TopBar = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  overflow: hidden;\n  flex: 1 1;\n  min-width: calc(100% - 20px);\n  height: 45px;\n  padding: 10px;\n`;\n\nconst Message = styled.div`\n  padding: 5px;\n  width: 150px;\n  height: 30px;\n  line-height: 30px;\n  border-radius: 5px;\n  float: right;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  float: right;\n  line-height: 30px;\n  display: block;\n  height: 30px;\n  padding: 10px;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\nimport { RouteComponentProps, useHistory } from \"react-router\";\nimport { MyAppDatabase } from \"../../../../../database/MyDatabase\";\nimport { useItemByAttr } from \"../../../../../hooks/DexieHooks\";\nimport { LoadingSpinner } from \"../../../../Loading\";\nimport AppWrapper from \"../../../../AppWrapper\";\nimport RaceDetail from \"../RaceDetail\";\nimport Race from \"../../../../../data/races/Race\";\nimport { createNewWithId } from \"../../../../../services/DatabaseService\";\nimport ErrorTile from \"../../../../general_elements/ErrorTile\";\n\ntype TParams = { name: string };\n\nconst NameToRace = ({ match }: RouteComponentProps<TParams>) => {\n  let history = useHistory();\n  const db = new MyAppDatabase();\n  const [race, loading, error] = useItemByAttr(db.races, \"name\", match.params.name);\n\n  const createNewRace = () => {\n    let newRace = new Race(match.params.name);\n    delete newRace.id;\n    createNewWithId(\"races\", newRace, (id) => {\n      history.push(`/race-detail/id/${id}`);\n    });\n  };\n\n  return (\n    <AppWrapper>\n      {!error && loading && <LoadingSpinner />}\n      {error && !loading && <>Error occured</>}\n      {!error && !loading && race === undefined && (\n        <ErrorTile\n          text={\"No such race exists. Want to creat such race?\"}\n          buttonText={\"Add\"}\n          onButton={() => createNewRace()}\n        />\n      )}\n      {!error && !loading && race !== undefined && (\n        <RaceDetail race={race} isNew={race.name === \"\" ? true : false} />\n      )}\n    </AppWrapper>\n  );\n};\n\nexport default NameToRace;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport TextButton from \"../form_elements/TextButton\";\n\ninterface $Props {\n  text: string;\n  buttonText: string;\n  onButton: () => void;\n}\n\nconst ErrorTile = ({ text, buttonText, onButton }: $Props) => {\n  return (\n    <Tile>\n      <PropWrapper>\n        <Name>\n          <b>A problem occured!</b>\n        </Name>\n        <Text>\n          <PropTitle>Text: </PropTitle>\n          {text}\n        </Text>\n        <TextButton text={buttonText} onClick={() => onButton()} icon={faPlusCircle} />\n      </PropWrapper>\n    </Tile>\n  );\n};\n\nexport default ErrorTile;\n\nconst Tile = styled.div`\n  flex: 1 1 15em;\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ${({ theme }) => theme.tile.boxShadow};\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ${({ theme }) => theme.tile.headerColor};\n  text-align: center;\n  border-radius: 5px;\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst Text = styled.div`\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n","import IEntity from \"../IEntity\";\n\nexport default class Trait implements IEntity {\n  name: string;\n  text: string;\n  level: number;\n  constructor(name: string, text: string, level: number) {\n    this.name = name;\n    this.text = text;\n    this.level = level;\n  }\n}\n\nexport function isTrait(arg: any): arg is Trait {\n  if (arg !== undefined) {\n    const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n    const textCheck = arg.text !== undefined && typeof arg.text == \"string\";\n    const levelCheck = arg.level !== undefined && typeof arg.level == \"number\";\n    return arg && nameCheck && textCheck && levelCheck;\n  } else {\n    return true;\n  }\n}\n"],"sourceRoot":""}