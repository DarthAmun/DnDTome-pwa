{"version":3,"sources":["data/encounter/Encounter.tsx","components/general_elements/ErrorTile.tsx","components/entities/encounters/details/link_wrapper/NameToEncounter.tsx"],"names":["Encounter","id","name","enemies","players","isPlaying","currentInit","roundCounter","map","mapBase64","dimension","board","this","width","height","size","zoom","isEncounter","arg","nameCheck","undefined","enemiesCheck","Array","isArray","playersCheck","isPlayingCheck","mapCheck","mapBase64Check","currentInitCheck","roundCounterCheck","boardCheck","ErrorTile","text","buttonText","onButton","Tile","PropWrapper","Name","Text","PropTitle","onClick","icon","faPlusCircle","styled","div","theme","tile","color","backgroundColor","boxShadow","headerColor","span","backgroundColorLink","NameToEncounter","match","history","useHistory","db","MyAppDatabase","useItemByAttr","encounters","params","encounter","loading","error","newEncounter","createNewWithId","push","createNewEncounter","isNew"],"mappings":"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","file":"static/js/17.072c3707.chunk.js","sourcesContent":["import IEntity from \"../IEntity\";\nimport Player from \"./Player\";\nimport Slot from \"./Slot\";\n\nexport default class Encounter implements IEntity {\n  id?: number;\n  name: string;\n  enemies: Player[];\n  players: Player[];\n  isPlaying: boolean;\n  currentInit: number;\n  roundCounter: number;\n  map: string;\n  mapBase64: string;\n  dimension: { width: number; height: number; size: number; zoom: number };\n  board: Slot[];\n\n  constructor(\n    id?: number,\n    name?: string,\n    enemies?: Player[],\n    players?: Player[],\n    isPlaying?: boolean,\n    currentInit?: number,\n    roundCounter?: number,\n    map?: string,\n    mapBase64?: string,\n    dimension?: { width: number; height: number; size: number; zoom: number },\n    board?: Slot[]\n  ) {\n    this.id = id;\n    this.name = name || \"\";\n    this.enemies = enemies || [];\n    this.players = players || [];\n    this.isPlaying = isPlaying || false;\n    this.currentInit = currentInit || 0;\n    this.roundCounter = roundCounter || 0;\n    this.map = map || \"\";\n    this.mapBase64 = mapBase64 || \"\";\n    this.dimension = dimension || { width: 20, height: 20, size: 20, zoom: 100 };\n    this.board = board || [];\n  }\n}\n\nexport function isEncounter(arg: any): arg is Encounter {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const enemiesCheck = arg.enemies !== undefined && Array.isArray(arg.enemies);\n  const playersCheck = arg.players !== undefined && Array.isArray(arg.players);\n  const isPlayingCheck = arg.isPlaying !== undefined && typeof arg.isPlaying == \"boolean\";\n  const mapCheck = arg.map !== undefined && typeof arg.map == \"string\";\n  const mapBase64Check = arg.mapBase64 !== undefined && typeof arg.mapBase64 == \"string\";\n  const currentInitCheck = arg.currentInit !== undefined && typeof arg.currentInit == \"number\";\n  const roundCounterCheck = arg.roundCounter !== undefined && typeof arg.roundCounter == \"number\";\n  const boardCheck = arg.board !== undefined && Array.isArray(arg.board);\n  return (\n    arg &&\n    nameCheck &&\n    enemiesCheck &&\n    playersCheck &&\n    isPlayingCheck &&\n    mapCheck &&\n    mapBase64Check &&\n    currentInitCheck &&\n    boardCheck &&\n    roundCounterCheck\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport TextButton from \"../form_elements/TextButton\";\n\ninterface $Props {\n  text: string;\n  buttonText: string;\n  onButton: () => void;\n}\n\nconst ErrorTile = ({ text, buttonText, onButton }: $Props) => {\n  return (\n    <Tile>\n      <PropWrapper>\n        <Name>\n          <b>A problem occured!</b>\n        </Name>\n        <Text>\n          <PropTitle>Text: </PropTitle>\n          {text}\n        </Text>\n        <TextButton text={buttonText} onClick={() => onButton()} icon={faPlusCircle} />\n      </PropWrapper>\n    </Tile>\n  );\n};\n\nexport default ErrorTile;\n\nconst Tile = styled.div`\n  flex: 1 1 15em;\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ${({ theme }) => theme.tile.boxShadow};\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ${({ theme }) => theme.tile.headerColor};\n  text-align: center;\n  border-radius: 5px;\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst Text = styled.div`\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n","import React from \"react\";\nimport { RouteComponentProps, useHistory } from \"react-router\";\nimport Encounter from \"../../../../../data/encounter/Encounter\";\nimport { MyAppDatabase } from \"../../../../../database/MyDatabase\";\nimport { useItemByAttr } from \"../../../../../hooks/DexieHooks\";\nimport { createNewWithId } from \"../../../../../services/DatabaseService\";\nimport ErrorTile from \"../../../../general_elements/ErrorTile\";\nimport { LoadingSpinner } from \"../../../../Loading\";\nimport EncounterDetail from \"../EncounterDetail\";\n\ntype TParams = { name: string };\n\nconst NameToEncounter = ({ match }: RouteComponentProps<TParams>) => {\n  let history = useHistory();\n  const db = new MyAppDatabase();\n  const [encounter, loading, error] = useItemByAttr(db.encounters, \"name\", match.params.name);\n\n  const createNewEncounter = () => {\n    let newEncounter = new Encounter(0, match.params.name);\n    delete newEncounter.id;\n    createNewWithId(\"encounters\", newEncounter, (id) => {\n      history.push(`/encounter-detail/id/${id}`);\n    });\n  };\n\n  return (\n    <>\n      {!error && loading && <LoadingSpinner />}\n      {error && !loading && <>Error occured</>}\n      {!error && !loading && encounter === undefined && (\n        <ErrorTile\n          text={\"No such encounter exists. Want to creat such encounter?\"}\n          buttonText={\"Add\"}\n          onButton={() => createNewEncounter()}\n        />\n      )}\n      {!error && !loading && encounter !== undefined ? (\n        <EncounterDetail encounter={encounter} isNew={encounter.name === \"\" ? true : false} />\n      ) : (\n        \"\"\n      )}\n    </>\n  );\n};\n\nexport default NameToEncounter;\n"],"sourceRoot":""}