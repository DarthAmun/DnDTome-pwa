{"version":3,"sources":["../node_modules/inherits/inherits_browser.js","data/world/Location.tsx","../node_modules/readable-stream/lib/_stream_duplex.js","../node_modules/events/events.js","../node_modules/core-util-is/lib/util.js","components/general_elements/map/MarkerEditDialog.tsx","components/general_elements/map/Map.tsx","../node_modules/process-nextick-args/index.js","../node_modules/webpack/buildin/module.js","../node_modules/readable-stream/node_modules/safe-buffer/index.js","../node_modules/url/url.js","../node_modules/stream-http/lib/capability.js","../node_modules/stream-http/lib/response.js","../node_modules/readable-stream/readable-browser.js","../node_modules/readable-stream/lib/_stream_readable.js","../node_modules/readable-stream/lib/internal/streams/stream-browser.js","../node_modules/readable-stream/lib/internal/streams/destroy.js","../node_modules/readable-stream/lib/_stream_writable.js","../node_modules/string_decoder/lib/string_decoder.js","../node_modules/readable-stream/lib/_stream_transform.js","../node_modules/image-size/dist/types.js","../node_modules/image-size/dist/types/ico.js","../node_modules/image-size/dist/readUInt.js","components/entities/location/details/LocationEditView.tsx","../node_modules/node-libs-browser/node_modules/punycode/punycode.js","../node_modules/url/util.js","../node_modules/querystring-es3/index.js","../node_modules/querystring-es3/decode.js","../node_modules/querystring-es3/encode.js","../node_modules/stream-http/index.js","../node_modules/stream-http/lib/request.js","../node_modules/readable-stream/lib/internal/streams/BufferList.js","../node_modules/util-deprecate/browser.js","../node_modules/safe-buffer/index.js","../node_modules/readable-stream/lib/_stream_passthrough.js","../node_modules/to-arraybuffer/index.js","../node_modules/xtend/immutable.js","../node_modules/builtin-status-codes/browser.js","../node_modules/image-size/dist/index.js","../node_modules/path-browserify/index.js","../node_modules/queue/index.js","../node_modules/image-size/dist/types/bmp.js","../node_modules/image-size/dist/types/cur.js","../node_modules/image-size/dist/types/dds.js","../node_modules/image-size/dist/types/gif.js","../node_modules/image-size/dist/types/icns.js","../node_modules/image-size/dist/types/j2c.js","../node_modules/image-size/dist/types/jp2.js","../node_modules/image-size/dist/types/jpg.js","../node_modules/image-size/dist/types/ktx.js","../node_modules/image-size/dist/types/png.js","../node_modules/image-size/dist/types/pnm.js","../node_modules/image-size/dist/types/psd.js","../node_modules/image-size/dist/types/svg.js","../node_modules/image-size/dist/types/tiff.js","../node_modules/image-size/dist/types/webp.js","../node_modules/image-size/dist/detector.js","components/entities/location/details/LocationView.tsx","components/entities/location/details/LocationDetail.tsx","services/DatabaseService.tsx","components/form_elements/IconButton.tsx","components/form_elements/TextButton.tsx","components/form_elements/StringField.tsx","components/general_elements/LinkCheck.tsx","components/general_elements/FormatedText.tsx","hooks/DexieHooks.tsx","components/entities/location/details/link_wrapper/NameToLocation.tsx","components/form_elements/BackButton.tsx","components/general_elements/ToggleStyle.tsx","components/p2p/P2PSender.tsx","services/PeerIdService.tsx","database/MyDatabase.tsx","components/general_elements/Dialog.tsx","components/form_elements/NumberField.tsx","components/general_elements/ErrorTile.tsx","../node_modules/peerjs/dist sync"],"names":["Object","create","module","exports","ctor","superCtor","super_","prototype","constructor","value","enumerable","writable","configurable","TempCtor","Location","id","name","sources","map","dimension","markers","this","height","width","isLocation","arg","nameCheck","undefined","sourcesCheck","mapCheck","dimensionCheck","markersCheck","Array","isArray","pna","require","objectKeys","keys","obj","key","push","Duplex","util","inherits","Readable","Writable","v","length","method","options","call","readable","allowHalfOpen","once","onend","_writableState","ended","nextTick","onEndNT","self","end","defineProperty","get","highWaterMark","_readableState","destroyed","set","_destroy","err","cb","ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","EventEmitter","init","emitter","Promise","resolve","reject","eventListener","errorListener","removeListener","slice","arguments","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","newListener","emit","unshift","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","i","unwrapListeners","arrayClone","listenerCount","n","copy","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","handler","len","listeners","addListener","on","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","rawListeners","eventNames","objectToString","o","toString","isBoolean","isNull","isNullOrUndefined","isNumber","isString","isSymbol","isUndefined","isRegExp","re","isObject","isDate","d","isError","e","isFunction","isPrimitive","isBuffer","Buffer","EditDialog","activeElement","onSave","onClose","onDelete","useState","text","label","setLabel","useEffect","Dialog","StringField","onChange","TextButton","icon","faTimes","onClick","faSave","newElement","onSaveClick","styled","div","theme","tile","color","main","backgroundColor","boxShadow","Map","location","editable","onEdit","showEditDialog","setEditDialaog","setActive","mapWrap","useRef","setMap","mapHeight","setHeight","bounds","setBounds","gcd","useCallback","a","b","divisor","widthratio","heightratio","number","fitBounds","current","clientHeight","MapWrapper","ref","MarkerEditDialog","element","markerList","splice","MapContainer","style","center","zoom","scrollWheelZoom","whenCreated","TileLayer","url","ImageOverlay","markerPositions","Markers","useMapEvents","click","latlng","Icon","iconRetinaUrl","iconUrl","shadowUrl","iconSize","iconAnchor","marker","Marker","Popup","autoPan","minWidth","onOpen","log","editMarker","FormatedText","process","version","indexOf","fn","arg1","arg2","arg3","webpackPolyfill","deprecate","paths","children","l","buffer","copyProps","src","dst","SafeBuffer","encodingOrOffset","from","alloc","allocUnsafe","allocUnsafeSlow","size","fill","encoding","buf","SlowBuffer","punycode","Url","protocol","slashes","auth","host","port","hostname","hash","search","query","pathname","path","href","parse","urlParse","source","relative","resolveObject","format","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","parseQueryString","slashesDenoteHost","u","queryIndex","splitter","uSplit","split","replace","rest","join","trim","simplePath","exec","substr","proto","lowerProto","toLowerCase","match","atSign","hostEnd","hec","lastIndexOf","decodeURIComponent","parseHost","ipv6Hostname","hostparts","part","newpart","j","k","charCodeAt","validParts","notHost","bit","toASCII","p","h","ae","esc","encodeURIComponent","escape","qm","s","stringify","charAt","rel","result","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","authInHost","last","hasTrailingSlash","up","isAbsolute","fetch","global","ReadableStream","writableStream","WritableStream","abortController","AbortController","blobConstructor","Blob","ArrayBuffer","xhr","getXHR","XMLHttpRequest","open","XDomainRequest","checkTypeSupport","responseType","haveArrayBuffer","haveSlice","arraybuffer","msstream","mozchunkedarraybuffer","overrideMimeType","vbArray","VBArray","capability","stream","rStates","readyStates","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","IncomingMessage","response","mode","fetchTimer","_mode","headers","rawHeaders","trailers","rawTrailers","_fetchResponse","statusCode","status","statusMessage","statusText","forEach","header","write","chunk","_destroyed","_resumeFetch","close","clearTimeout","abort","body","pipeTo","catch","reader","getReader","read","then","done","_xhr","_pos","responseURL","getAllResponseHeaders","matches","_charset","mimeType","charsetMatch","_read","_onXHRProgress","readyState","responseBody","toArray","responseText","newData","Uint8Array","MSStreamReader","onprogress","byteLength","onload","readAsArrayBuffer","Stream","Transform","PassThrough","ReadableState","EElistenerCount","OurUint8Array","debugUtil","debug","debuglog","StringDecoder","BufferList","destroyImpl","kProxyEvents","isDuplex","objectMode","readableObjectMode","hwm","readableHwm","readableHighWaterMark","defaultHwm","Math","floor","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","defaultEncoding","awaitDrain","readingMore","decoder","destroy","readableAddChunk","addToFront","skipChunkCheck","emitReadable","onEofChunk","chunkInvalid","_uint8ArrayToBuffer","addChunk","maybeReadMore","needMoreData","_undestroy","undestroy","isPaused","setEncoding","enc","howMuchToRead","head","data","computeNewHighWaterMark","emitReadable_","flow","maybeReadMore_","nReadingNextTick","resume_","fromList","clear","hasStrings","c","next","str","nb","tail","copyFromBufferString","copyFromBuffer","fromListPartial","endReadable","endReadableNT","xs","x","parseInt","nOrig","doRead","pipe","dest","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","onclose","onfinish","ondrain","onerror","ondata","cleanedUp","needDrain","pipeOnDrain","increasedAwaitDrain","pause","event","resume","dests","ev","res","wrap","_this","paused","_fromList","emitErrorNT","readableDestroyed","writableDestroyed","errorEmitted","ending","finished","CorkedRequest","entry","finish","corkReq","callback","pendingcb","corkedRequestsFree","onCorkedFinish","asyncWrite","browser","setImmediate","WritableState","internalUtil","realHasInstance","nop","writableObjectMode","writableHwm","writableHighWaterMark","finalCalled","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writecb","writelen","onwriteStateUpdate","finishMaybe","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","_write","writev","_writev","final","_final","doWrite","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","prefinish","getBuffer","out","_","Symbol","hasInstance","object","writeAfterEnd","valid","validChunk","newChunk","decodeChunk","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","isEncoding","nenc","retried","_normalizeEncoding","normalizeEncoding","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","r","utf8CheckExtraBytes","total","utf8CheckIncomplete","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","transform","_transform","flush","_flush","_this2","err2","typeHandlers","bmp_1","cur_1","dds_1","gif_1","icns_1","ico_1","j2c_1","jp2_1","jpg_1","ktx_1","png_1","pnm_1","psd_1","svg_1","tiff_1","webp_1","bmp","BMP","cur","CUR","dds","DDS","gif","GIF","icns","ICNS","ico","ICO","j2c","J2C","jp2","JP2","jpg","JPG","ktx","KTX","png","PNG","pnm","PNM","psd","PSD","svg","SVG","tiff","TIFF","webp","WEBP","getSizeFromOffset","offset","readUInt8","getImageSize","imageIndex","validate","readUInt16LE","calculate","nbImages","imageSize","imgs","images","readUInt","bits","isBigEndian","LocationEditView","http","sizeOf","chunks","CenterWrapper","View","faImage","pic","faLink","root","nodeType","freeGlobal","window","maxInt","regexPunycode","regexNonASCII","regexSeparators","errors","stringFromCharCode","fromCharCode","array","mapDomain","string","parts","ucs2decode","extra","output","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","baseMinusTMin","base","decode","input","basic","oldi","t","baseMinusT","codePoint","inputLength","bias","encode","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","test","define","hasOwnProperty","prop","qs","sep","eq","regexp","maxKeys","kstr","vstr","idx","stringifyPrimitive","isFinite","ks","f","ClientRequest","extend","statusCodes","request","opts","defaultProtocol","toUpperCase","req","Agent","defaultMaxSockets","globalAgent","STATUS_CODES","METHODS","toArrayBuffer","preferBinary","_opts","_body","_headers","setHeader","useFetch","decideMode","_fetchTimer","_onFinish","lowerName","unsafeHeaders","getHeader","removeHeader","headersObj","headersList","keyName","signal","controller","_fetchAbortController","requestTimeout","setTimeout","credentials","withCredentials","_connect","reason","timeout","ontimeout","setRequestHeader","_response","onreadystatechange","send","statusValid","flushHeaders","setNoDelay","setSocketKeepAlive","instance","Constructor","_classCallCheck","inspect","custom","config","localStorage","val","msg","trace","byteOffset","arrayCopy","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","types","setConcurrency","fs","queue_1","types_1","detector_1","queue","default","concurrency","autostart","lookup","filepath","detector","descriptor","openSync","fstatSync","closeSync","bufferSize","min","readSync","syncFileToBuffer","promises","handle","stat","asyncFileToBuffer","normalizeArray","allowAboveRoot","filter","resolvedPath","resolvedAbsolute","cwd","normalize","trailingSlash","to","start","fromParts","toParts","samePartsLength","outputParts","delimiter","dirname","code","hasRoot","matchedSlash","basename","ext","extname","startDot","startPart","preDotState","Queue","Infinity","results","pending","session","running","jobs","timers","begin","reverse","clearTimers","timeoutId","callOnErrorOrEnd","methodResult","job","didTimeout","resultIndex","promise","stop","abs","readInt32LE","readUInt32LE","gifRegexp","signature","ICON_TYPE_SIZE","ICON","icm4","icm8","ics4","ics8","is32","s8mk","icp4","icl4","icl8","il32","l8mk","icp5","ic11","ich4","ich8","ih32","h8mk","icp6","ic12","it32","t8mk","ic07","ic08","ic13","ic09","ic14","ic10","readImageHeader","imageOffset","imageLengthOffset","readUInt32BE","bufferLength","fileLength","imageHeader","BoxTypes","parseIHDR","box","signatureLength","ftypeBoxStart","ftypBoxLength","readUInt16BE","unit","calculateRREQLength","readUInt_1","isEXIF","extractSize","validateExifBlock","exifBlock","byteAlign","EXIF_HEADER_BYTES","idfDirectoryEntries","directoryEntryNumber","block","extractOrientation","validateBuffer","orientation","chunkName","PNMTypes","P1","P2","P3","P4","P5","P6","P7","PF","Signatures","handlers","lines","dimensions","line","pam","includes","svgReg","extractorRegExps","viewbox","units","cm","em","ex","mm","pc","pt","parseLength","round","parseFloat","parseViewbox","attrs","parseAttributes","calculateByDimensions","ratio","calculateByViewbox","readValue","low","nextTag","signatures","determineEndianness","tags","temp","extractTags","ifdOffset","fileSize","statSync","endBuffer","readIFD","riffHeader","webpHeader","vp8Header","chunkHeader","extendedHeader","readUIntLE","calculateExtended","readInt16LE","calculateLossy","calculateLossless","firstBytes","find","LocationView","setSend","getPicture","ImageName","Name","PropWrapper","faPaperPlane","P2PSender","Image","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","ImageElm","Empty","highlight","LocationDetail","isNew","editMode","setMode","locationObj","editLocation","showAlert","setAlert","showDeleteDialog","setDeleteDialog","setMessage","unsavedChanges","setUnsavedChanges","history","useHistory","updateLocation","tableName","updateWithCallback","faExclamationTriangle","confirmeText","confirmeClick","remove","goBack","abortText","abortClick","TopBar","BackButton","faArrowLeft","action","title","IconButton","faTrash","Message","FontAwesomeIcon","update","db","MyAppDatabase","table","finally","saveNew","entity","filename","put","prom","saveWithCallback","add","delete","reciveAll","reciveCount","reciveCountPromise","reciveByAttribute","where","equalsIgnoreCase","recivePromiseByAttribute","recivePromiseByAttributeCount","equals","reciveAllPromise","applyFilters","filters","fieldName","hasTag","fieldPart","arrayTest","filterPart","reciveAllFiltered","sortedFiled","sort","sortBy","reciveAttributeSelection","attribute","orderBy","uniqueKeys","reciveAttributeSelectionPromise","createNewWithId","deleteAll","exportFilteredFromTable","all","navigator","msSaveOrOpenBlob","blob","encodeURI","JSON","document","createElement","download","appendChild","removeChild","floatLeft","disabled","SimpleButton","left","DisabledSimpleButton","buttons","button","hoverColor","placeholder","Field","LabelText","Input","LinkCheck","loading","setLoading","entitiyFound","setEntity","newType","faMeteor","faIdCard","faDragon","faMapMarkedAlt","faTable","formatIcon","formatedText","setFormatedText","cut","cutStart","cutEnd","formatLink","formattedParts","codePart","linkParts","link","TextPart","Link","formatTable","textPart","tableRows","isHead","row","cells","cell","TableHeadProp","TableProp","formatText","span","backgroundColorLink","th","td","useItem","effect","setEffect","reducer","useReducer","dispatch","useItemByAttr","attr","attrValue","first","NameToLocation","locations","params","buttonText","onButton","newLocation","createNewLocation","Back","ToggleLeft","ToggleRight","EditToggle","props","setName","peer","setPeer","setError","brokerId","max","password","characters","random","generateBrokerId","newPeer","Peer","secure","conn","errorData","disconnected","reconnect","faExclamationCircle","spells","items","gears","monsters","races","subraces","classes","subclasses","chars","encounters","books","selections","randomTables","campaigns","quests","npcs","worlds","groups","stores","chars_spells","chars_monsters","chars_items","upgrade","trans","toCollection","modify","char","campaign","Dexie","DialogWrapper","ButtonBar","NumberField","ErrorTile","Tile","Text","PropTitle","faPlusCircle","headerColor","webpackEmptyContext"],"mappings":"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E,+9BAEJ,EAAK//B,QAAQ,GAAGygC,OAAO,CACrBlB,OACE,oGACFC,MAAO,iEACPC,MAAO,gFACPC,SACE,mOACFK,MACE,69BACFW,aAAc,oCACdC,eAAgB,4BAChBC,YACE,8FAEJ,EAAK5gC,QAAQ,GAAGygC,OAAO,CACrBlB,OACE,oGACFC,MACE,6FACFC,MACE,0FACFC,SACE,mOACFC,MACE,+FACFC,SAAU,6DACVC,QAAS,qFACTC,WAAY,gDACZC,MACE,iSAEJ,EAAK//B,QAAQ,GAAGygC,OAAO,CACrBC,aAAc,KACdC,eAAgB,KAChBC,YAAa,KAEbrB,OACE,oGACFC,MACE,6FACFC,MACE,0FACFC,SACE,mOACFC,MACE,+FACFC,SAAU,6DACVC,QAAS,qFACTC,WAAY,gDACZC,MACE,+RACFC,WAAY,kCAEd,EAAKhgC,QAAQ,GAAGygC,OAAO,CACrBlB,OACE,oGACFC,MACE,6FACFC,MACE,0FACFC,SACE,mOACFC,MACE,+FACFC,SAAU,6DACVC,QAAS,qFACTC,WAAY,gDACZC,MACE,+RACFC,WAAY,gCACZC,MAAO,yCAET,EAAKjgC,QAAQ,IAAIygC,OAAO,CACtBlB,OACE,oGACFC,MACE,6FACFC,MACE,0FACFC,SACE,mOACFC,MACE,+FACFC,SAAU,6DACVC,QAAS,qFACTC,WAAY,gDACZC,MACE,+RACFC,WAAY,gCACZC,MAAO,uCACPC,WAAY,2CAEd,EAAKlgC,QAAQ,IAAIygC,OAAO,CACtBlB,OACE,oGACFC,MACE,6FACFC,MACE,0FACFC,SACE,mOACFC,MACE,+FACFC,SAAU,6DACVC,QAAS,qFACTC,WAAY,gDACZC,MACE,iTACFC,WAAY,gCACZC,MAAO,uCACPC,WAAY,2CAEd,EAAKlgC,QAAQ,IAAIygC,OAAO,CACtBlB,OACE,oGACFC,MACE,6FACFC,MACE,0FACFC,SACE,mOACFC,MACE,+FACFC,SAAU,6DACVC,QAAS,qFACTC,WAAY,gDACZC,MACE,iTACFC,WAAY,gCACZC,MAAO,uCACPC,WAAY,yCACZC,aAAc,uCAEhB,EAAKngC,QAAQ,IAAIygC,OAAO,CACtBlB,OACE,8GACFC,MACE,6FACFC,MACE,0FACFC,SACE,mOACFC,MACE,+FACFC,SAAU,6DACVC,QAAS,qFACTC,WAAY,gDACZC,MACE,iTACFC,WAAY,gCACZC,MAAO,uCACPC,WAAY,yCACZC,aAAc,uCAEhB,EAAKngC,QAAQ,IAAIygC,OAAO,CACtBlB,OACE,8GACFC,MACE,6FACFC,MACE,0FACFC,SACE,mOACFC,MACE,+FACFC,SAAU,6DACVC,QAAS,qFACTC,WAAY,gDACZC,MACE,iTACFC,WAAY,gCACZC,MAAO,uCACPC,WAAY,yCACZC,aAAc,qCACdC,UACE,yFAEJ,EAAKpgC,QAAQ,IAAIygC,OAAO,CACtBlB,OACE,8GACFC,MACE,6FACFC,MACE,0FACFC,SACE,mOACFC,MACE,+FACFC,SAAU,6DACVC,QAAS,qFACTC,WAAY,gDACZC,MACE,iTACFC,WAAY,gCACZC,MAAO,uCACPC,WAAY,yCACZC,aAAc,qCACdC,UACE,uFACFC,OACE,2FACFC,KAAM,gEACNC,OAAQ,4EACR7C,UAAW,iEACXloC,OAAQ,uEAEV,EAAKwK,QAAQ,IAAIygC,OAAO,CACtBlB,OACE,8GACFC,MACE,6FACFC,MACE,0FACFC,SACE,mOACFC,MACE,+FACFC,SAAU,6DACVC,QAAS,qFACTC,WAAY,gDACZC,MACE,iTACFC,WAAY,gCACZC,MAAO,uCACPC,WAAY,yCACZC,aAAc,qCACdC,UACE,4FACFC,OACE,2FACFC,KAAM,gEACNC,OAAQ,4EACR7C,UAAW,iEACXloC,OAAQ,uEAEV,EAAKwK,QAAQ,IAAIygC,OAAO,CACtBlB,OACE,8GACFC,MACE,6FACFC,MACE,0FACFC,SACE,mOACFC,MACE,+FACFC,SAAU,6DACVC,QAAS,qFACTC,WAAY,gDACZC,MACE,iTACFC,WAAY,gCACZC,MAAO,uCACPC,WAAY,yCACZC,aAAc,qCACdC,UACE,gGACFC,OAAQ,wEACRC,KAAM,gEACNC,OAAQ,iEACR7C,UACE,qFACFloC,OAAQ,4DAEV,EAAKwK,QAAQ,IAAIygC,OAAO,CACtBlB,OACE,8G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","file":"static/js/25.915207b8.chunk.js","sourcesContent":["if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","import { LatLng } from \"leaflet\";\nimport IEntity from \"../IEntity\";\n\nexport default class Location implements IEntity {\n  id?: number;\n  name: string;\n  map: string;\n  dimension: { height: number; width: number };\n  markers: { position: LatLng; text: string }[];\n  sources: string;\n\n  constructor(\n    id?: number,\n    name?: string,\n    sources?: string,\n    map?: string,\n    dimension?: { height: number; width: number },\n    markers?: { position: LatLng; text: string }[]\n  ) {\n    this.id = id;\n    this.name = name || \"\";\n    this.sources = sources || \"\";\n    this.map = map || \"\";\n    this.dimension = dimension || {\n      height: 1,\n      width: 1,\n    };\n    this.markers = markers || [];\n  }\n}\n\nexport function isLocation(arg: any): arg is Location {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const sourcesCheck = arg.sources !== undefined && typeof arg.sources == \"string\";\n  const mapCheck = arg.map !== undefined && typeof arg.map == \"string\";\n  const dimensionCheck =\n    arg.dimension !== undefined &&\n    typeof arg.dimension.height == \"number\" &&\n    typeof arg.dimension.width == \"number\";\n  const markersCheck = arg.markers !== undefined && Array.isArray(arg.markers);\n  return arg && nameCheck && sourcesCheck && mapCheck && dimensionCheck && markersCheck;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport StringField from \"../../form_elements/StringField\";\nimport { faSave, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport TextButton from \"../../form_elements/TextButton\";\nimport { LatLng } from \"leaflet\";\n\ninterface $Props {\n  activeElement: { position: LatLng; text: string };\n  onSave: (element: { position: LatLng; text: string }) => void;\n  onDelete: () => void;\n  onClose: () => void;\n}\n\nconst EditDialog = ({ activeElement, onSave, onClose, onDelete }: $Props) => {\n  const [label, setLabel] = useState<string>(activeElement.text);\n\n  useEffect(() => {\n    setLabel(activeElement.text);\n  }, [activeElement]);\n\n  const onSaveClick = () => {\n    let newElement = { ...activeElement };\n    newElement.text = label;\n    onSave(newElement);\n  };\n\n  return (\n    <Dialog>\n      <StringField value={label} label=\"Label\" onChange={setLabel} />\n      <TextButton text={\"Cancel\"} icon={faTimes} onClick={onClose} />\n      <TextButton text={\"Delete\"} icon={faTimes} onClick={onDelete} />\n      <TextButton text={\"Save\"} icon={faSave} onClick={() => onSaveClick()} />\n    </Dialog>\n  );\n};\n\nexport default EditDialog;\n\nconst Dialog = styled.div`\n  position: absolute;\n  z-index: 1000;\n  top: 0px;\n\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.main.backgroundColor};\n  margin: 0.5em;\n  padding: 10px;\n  border-radius: 10px;\n  box-shadow: ${({ theme }) => theme.tile.boxShadow};\n`;\n","import { Icon, LatLng } from \"leaflet\";\nimport React, { useRef, useState, useCallback, useEffect } from \"react\";\nimport { ImageOverlay, MapContainer, Marker, TileLayer, Popup, useMapEvents } from \"react-leaflet\";\nimport styled from \"styled-components\";\nimport Location from \"../../../data/world/Location\";\nimport FormatedText from \"../FormatedText\";\nimport MarkerEditDialog from \"./MarkerEditDialog\";\n\ninterface $Props {\n  location: Location;\n  editable: boolean;\n  onEdit?: (value: Location) => void;\n}\n\nconst Map = ({ location, editable, onEdit }: $Props) => {\n  const [showEditDialog, setEditDialaog] = useState<boolean>(false);\n  const [activeElement, setActive] = useState<number>();\n\n  const mapWrap = useRef<HTMLDivElement>(null);\n  const [map, setMap] = useState<any>(null);\n  const [mapHeight, setHeight] = useState<string>();\n  const [bounds, setBounds] = useState<any>();\n  const position: any = [0, 0];\n\n  const gcd = useCallback((a: number, b: number): number => {\n    return b ? gcd(b, a % b) : a;\n  }, []);\n\n  const reduceBounds = (number: number[][]): number[][] => {\n    const newBounds = [\n      [number[0][0] * 0.5, number[0][1] * 0.5],\n      [number[1][0] * 0.5, number[1][1] * 0.5],\n    ];\n    return newBounds;\n  };\n\n  useEffect(() => {\n    if (\n      location.dimension !== undefined &&\n      location.map !== undefined &&\n      location.map !== \"\" &&\n      location.dimension !== { height: 0, width: 0 }\n    ) {\n      const divisor = gcd(location.dimension.width, location.dimension.height);\n      const widthratio = location.dimension.width / divisor;\n      const heightratio = location.dimension.height / divisor;\n      const bounds: any = [\n        [-(heightratio / 2), -(widthratio / 2)],\n        [heightratio / 2, widthratio / 2],\n      ];\n      setBounds(bounds);\n    }\n  }, [location.map, location.dimension, gcd]);\n\n  useEffect(() => {\n    if (map !== null && bounds) {\n      map.fitBounds(reduceBounds(bounds));\n    }\n  }, [map, bounds]);\n\n  useEffect(() => {\n    if (mapWrap && mapWrap.current) {\n      const height = mapWrap.current.clientHeight;\n      setHeight(height + \"px\");\n    }\n  }, []);\n\n  const onSave = (element: { position: LatLng; text: string }) => {\n    if (editable && onEdit !== undefined && activeElement !== undefined) {\n      let markerList = [...location.markers];\n      markerList[activeElement] = element;\n      onEdit({\n        ...location,\n        markers: markerList,\n      });\n    }\n  };\n\n  const onDelete = () => {\n    if (editable && onEdit !== undefined && activeElement !== undefined) {\n      let markerList = [...location.markers];\n      markerList.splice(activeElement, 1);\n      setEditDialaog(false);\n      setActive(undefined);\n      onEdit({\n        ...location,\n        markers: markerList,\n      });\n    }\n  };\n\n  return (\n    <MapWrapper ref={mapWrap}>\n      {showEditDialog && activeElement !== undefined && (\n        <MarkerEditDialog\n          activeElement={location.markers[activeElement]}\n          onSave={onSave}\n          onDelete={onDelete}\n          onClose={() => setEditDialaog(false)}\n        ></MarkerEditDialog>\n      )}\n      {location.map && mapHeight && bounds && (\n        <MapContainer\n          style={{ height: mapHeight, width: \"100%\" }}\n          center={position}\n          zoom={1}\n          scrollWheelZoom={false}\n          whenCreated={setMap}\n        >\n          <TileLayer url={\"\"} />\n          <ImageOverlay bounds={bounds} url={location.map} />\n          <Markers\n            markerPositions={location.markers}\n            location={location}\n            editable={editable}\n            onEdit={onEdit}\n            setActive={setActive}\n            setEditDialaog={setEditDialaog}\n          />\n        </MapContainer>\n      )}\n    </MapWrapper>\n  );\n};\n\nexport default Map;\n\ninterface $MarkersProps {\n  location: Location;\n  editable: boolean;\n  markerPositions: { position: LatLng; text: string }[];\n  onEdit?: (value: Location) => void;\n  setActive: (value: number) => void;\n  setEditDialaog: (value: boolean) => void;\n}\n\nconst Markers = ({\n  location,\n  editable,\n  markerPositions,\n  onEdit,\n  setActive,\n  setEditDialaog,\n}: $MarkersProps) => {\n  useMapEvents({\n    click(e) {\n      if (editable && onEdit !== undefined) {\n        onEdit({\n          ...location,\n          markers: [...location.markers, { position: e.latlng, text: \"New\" }],\n        });\n      }\n    },\n  });\n\n  const editMarker = (index: number) => {\n    if (editable && onEdit !== undefined) {\n      console.log(index);\n      setActive(index);\n      setEditDialaog(true);\n    }\n  };\n\n  let icon = new Icon({\n    iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\"),\n    iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\n    shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\"),\n    iconSize: [25, 41],\n    iconAnchor: [12, 41],\n  });\n\n  return (\n    <>\n      {markerPositions &&\n        markerPositions.map((marker: { position: LatLng; text: string }, index: number) => {\n          return (\n            <Marker key={index} position={marker.position} icon={icon}>\n              <Popup autoPan={true} minWidth={120} onOpen={() => editMarker(index)}>\n                <FormatedText text={marker.text} />\n              </Popup>\n            </Marker>\n          );\n        })}\n    </>\n  );\n};\n\nconst MapWrapper = styled.div`\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  position: relative;\n\n  height: calc(100vh - 265px);\n  width: calc(100% - 6px);\n\n  & .leaflet-popup {\n    .leaflet-popup-content-wrapper {\n      background-color: ${({ theme }) => theme.tile.backgroundColor};\n      color: ${({ theme }) => theme.tile.color};\n    }\n    .leaflet-popup-tip {\n      background-color: ${({ theme }) => theme.tile.backgroundColor};\n    }\n  }\n`;\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","exports.fetch = isFunction(global.fetch) && isFunction(global.ReadableStream)\n\nexports.writableStream = isFunction(global.WritableStream)\n\nexports.abortController = isFunction(global.AbortController)\n\nexports.blobConstructor = false\ntry {\n\tnew Blob([new ArrayBuffer(1)])\n\texports.blobConstructor = true\n} catch (e) {}\n\n// The xhr request to example.com may violate some restrictive CSP configurations,\n// so if we're running in a browser that supports `fetch`, avoid calling getXHR()\n// and assume support for certain features below.\nvar xhr\nfunction getXHR () {\n\t// Cache the xhr value\n\tif (xhr !== undefined) return xhr\n\n\tif (global.XMLHttpRequest) {\n\t\txhr = new global.XMLHttpRequest()\n\t\t// If XDomainRequest is available (ie only, where xhr might not work\n\t\t// cross domain), use the page location. Otherwise use example.com\n\t\t// Note: this doesn't actually make an http request.\n\t\ttry {\n\t\t\txhr.open('GET', global.XDomainRequest ? '/' : 'https://example.com')\n\t\t} catch(e) {\n\t\t\txhr = null\n\t\t}\n\t} else {\n\t\t// Service workers don't have XHR\n\t\txhr = null\n\t}\n\treturn xhr\n}\n\nfunction checkTypeSupport (type) {\n\tvar xhr = getXHR()\n\tif (!xhr) return false\n\ttry {\n\t\txhr.responseType = type\n\t\treturn xhr.responseType === type\n\t} catch (e) {}\n\treturn false\n}\n\n// For some strange reason, Safari 7.0 reports typeof global.ArrayBuffer === 'object'.\n// Safari 7.1 appears to have fixed this bug.\nvar haveArrayBuffer = typeof global.ArrayBuffer !== 'undefined'\nvar haveSlice = haveArrayBuffer && isFunction(global.ArrayBuffer.prototype.slice)\n\n// If fetch is supported, then arraybuffer will be supported too. Skip calling\n// checkTypeSupport(), since that calls getXHR().\nexports.arraybuffer = exports.fetch || (haveArrayBuffer && checkTypeSupport('arraybuffer'))\n\n// These next two tests unavoidably show warnings in Chrome. Since fetch will always\n// be used if it's available, just return false for these to avoid the warnings.\nexports.msstream = !exports.fetch && haveSlice && checkTypeSupport('ms-stream')\nexports.mozchunkedarraybuffer = !exports.fetch && haveArrayBuffer &&\n\tcheckTypeSupport('moz-chunked-arraybuffer')\n\n// If fetch is supported, then overrideMimeType will be supported too. Skip calling\n// getXHR().\nexports.overrideMimeType = exports.fetch || (getXHR() ? isFunction(getXHR().overrideMimeType) : false)\n\nexports.vbArray = isFunction(global.VBArray)\n\nfunction isFunction (value) {\n\treturn typeof value === 'function'\n}\n\nxhr = null // Help gc\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar stream = require('readable-stream')\n\nvar rStates = exports.readyStates = {\n\tUNSENT: 0,\n\tOPENED: 1,\n\tHEADERS_RECEIVED: 2,\n\tLOADING: 3,\n\tDONE: 4\n}\n\nvar IncomingMessage = exports.IncomingMessage = function (xhr, response, mode, fetchTimer) {\n\tvar self = this\n\tstream.Readable.call(self)\n\n\tself._mode = mode\n\tself.headers = {}\n\tself.rawHeaders = []\n\tself.trailers = {}\n\tself.rawTrailers = []\n\n\t// Fake the 'close' event, but only once 'end' fires\n\tself.on('end', function () {\n\t\t// The nextTick is necessary to prevent the 'request' module from causing an infinite loop\n\t\tprocess.nextTick(function () {\n\t\t\tself.emit('close')\n\t\t})\n\t})\n\n\tif (mode === 'fetch') {\n\t\tself._fetchResponse = response\n\n\t\tself.url = response.url\n\t\tself.statusCode = response.status\n\t\tself.statusMessage = response.statusText\n\t\t\n\t\tresponse.headers.forEach(function (header, key){\n\t\t\tself.headers[key.toLowerCase()] = header\n\t\t\tself.rawHeaders.push(key, header)\n\t\t})\n\n\t\tif (capability.writableStream) {\n\t\t\tvar writable = new WritableStream({\n\t\t\t\twrite: function (chunk) {\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\tif (self._destroyed) {\n\t\t\t\t\t\t\treject()\n\t\t\t\t\t\t} else if(self.push(new Buffer(chunk))) {\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself._resumeFetch = resolve\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tclose: function () {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.push(null)\n\t\t\t\t},\n\t\t\t\tabort: function (err) {\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\ttry {\n\t\t\t\tresponse.body.pipeTo(writable).catch(function (err) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} catch (e) {} // pipeTo method isn't defined. Can't find a better way to feature test this\n\t\t}\n\t\t// fallback for when writableStream or pipeTo aren't available\n\t\tvar reader = response.body.getReader()\n\t\tfunction read () {\n\t\t\treader.read().then(function (result) {\n\t\t\t\tif (self._destroyed)\n\t\t\t\t\treturn\n\t\t\t\tif (result.done) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tself.push(null)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tself.push(new Buffer(result.value))\n\t\t\t\tread()\n\t\t\t}).catch(function (err) {\n\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\tif (!self._destroyed)\n\t\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t}\n\t\tread()\n\t} else {\n\t\tself._xhr = xhr\n\t\tself._pos = 0\n\n\t\tself.url = xhr.responseURL\n\t\tself.statusCode = xhr.status\n\t\tself.statusMessage = xhr.statusText\n\t\tvar headers = xhr.getAllResponseHeaders().split(/\\r?\\n/)\n\t\theaders.forEach(function (header) {\n\t\t\tvar matches = header.match(/^([^:]+):\\s*(.*)/)\n\t\t\tif (matches) {\n\t\t\t\tvar key = matches[1].toLowerCase()\n\t\t\t\tif (key === 'set-cookie') {\n\t\t\t\t\tif (self.headers[key] === undefined) {\n\t\t\t\t\t\tself.headers[key] = []\n\t\t\t\t\t}\n\t\t\t\t\tself.headers[key].push(matches[2])\n\t\t\t\t} else if (self.headers[key] !== undefined) {\n\t\t\t\t\tself.headers[key] += ', ' + matches[2]\n\t\t\t\t} else {\n\t\t\t\t\tself.headers[key] = matches[2]\n\t\t\t\t}\n\t\t\t\tself.rawHeaders.push(matches[1], matches[2])\n\t\t\t}\n\t\t})\n\n\t\tself._charset = 'x-user-defined'\n\t\tif (!capability.overrideMimeType) {\n\t\t\tvar mimeType = self.rawHeaders['mime-type']\n\t\t\tif (mimeType) {\n\t\t\t\tvar charsetMatch = mimeType.match(/;\\s*charset=([^;])(;|$)/)\n\t\t\t\tif (charsetMatch) {\n\t\t\t\t\tself._charset = charsetMatch[1].toLowerCase()\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!self._charset)\n\t\t\t\tself._charset = 'utf-8' // best guess\n\t\t}\n\t}\n}\n\ninherits(IncomingMessage, stream.Readable)\n\nIncomingMessage.prototype._read = function () {\n\tvar self = this\n\n\tvar resolve = self._resumeFetch\n\tif (resolve) {\n\t\tself._resumeFetch = null\n\t\tresolve()\n\t}\n}\n\nIncomingMessage.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tvar xhr = self._xhr\n\n\tvar response = null\n\tswitch (self._mode) {\n\t\tcase 'text:vbarray': // For IE9\n\t\t\tif (xhr.readyState !== rStates.DONE)\n\t\t\t\tbreak\n\t\t\ttry {\n\t\t\t\t// This fails in IE8\n\t\t\t\tresponse = new global.VBArray(xhr.responseBody).toArray()\n\t\t\t} catch (e) {}\n\t\t\tif (response !== null) {\n\t\t\t\tself.push(new Buffer(response))\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// Falls through in IE8\t\n\t\tcase 'text':\n\t\t\ttry { // This will fail when readyState = 3 in IE9. Switch mode and wait for readyState = 4\n\t\t\t\tresponse = xhr.responseText\n\t\t\t} catch (e) {\n\t\t\t\tself._mode = 'text:vbarray'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tif (response.length > self._pos) {\n\t\t\t\tvar newData = response.substr(self._pos)\n\t\t\t\tif (self._charset === 'x-user-defined') {\n\t\t\t\t\tvar buffer = new Buffer(newData.length)\n\t\t\t\t\tfor (var i = 0; i < newData.length; i++)\n\t\t\t\t\t\tbuffer[i] = newData.charCodeAt(i) & 0xff\n\n\t\t\t\t\tself.push(buffer)\n\t\t\t\t} else {\n\t\t\t\t\tself.push(newData, self._charset)\n\t\t\t\t}\n\t\t\t\tself._pos = response.length\n\t\t\t}\n\t\t\tbreak\n\t\tcase 'arraybuffer':\n\t\t\tif (xhr.readyState !== rStates.DONE || !xhr.response)\n\t\t\t\tbreak\n\t\t\tresponse = xhr.response\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'moz-chunked-arraybuffer': // take whole\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING || !response)\n\t\t\t\tbreak\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'ms-stream':\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING)\n\t\t\t\tbreak\n\t\t\tvar reader = new global.MSStreamReader()\n\t\t\treader.onprogress = function () {\n\t\t\t\tif (reader.result.byteLength > self._pos) {\n\t\t\t\t\tself.push(new Buffer(new Uint8Array(reader.result.slice(self._pos))))\n\t\t\t\t\tself._pos = reader.result.byteLength\n\t\t\t\t}\n\t\t\t}\n\t\t\treader.onload = function () {\n\t\t\t\tself.push(null)\n\t\t\t}\n\t\t\t// reader.onerror = ??? // TODO: this\n\t\t\treader.readAsArrayBuffer(response)\n\t\t\tbreak\n\t}\n\n\t// The ms-stream case handles end separately in reader.onload()\n\tif (self._xhr.readyState === rStates.DONE && self._mode !== 'ms-stream') {\n\t\tself.push(null)\n\t}\n}\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","module.exports = require('events').EventEmitter;\n","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.typeHandlers = void 0;\nconst bmp_1 = require(\"./types/bmp\");\nconst cur_1 = require(\"./types/cur\");\nconst dds_1 = require(\"./types/dds\");\nconst gif_1 = require(\"./types/gif\");\nconst icns_1 = require(\"./types/icns\");\nconst ico_1 = require(\"./types/ico\");\nconst j2c_1 = require(\"./types/j2c\");\nconst jp2_1 = require(\"./types/jp2\");\nconst jpg_1 = require(\"./types/jpg\");\nconst ktx_1 = require(\"./types/ktx\");\nconst png_1 = require(\"./types/png\");\nconst pnm_1 = require(\"./types/pnm\");\nconst psd_1 = require(\"./types/psd\");\nconst svg_1 = require(\"./types/svg\");\nconst tiff_1 = require(\"./types/tiff\");\nconst webp_1 = require(\"./types/webp\");\nexports.typeHandlers = {\n    bmp: bmp_1.BMP,\n    cur: cur_1.CUR,\n    dds: dds_1.DDS,\n    gif: gif_1.GIF,\n    icns: icns_1.ICNS,\n    ico: ico_1.ICO,\n    j2c: j2c_1.J2C,\n    jp2: jp2_1.JP2,\n    jpg: jpg_1.JPG,\n    ktx: ktx_1.KTX,\n    png: png_1.PNG,\n    pnm: pnm_1.PNM,\n    psd: psd_1.PSD,\n    svg: svg_1.SVG,\n    tiff: tiff_1.TIFF,\n    webp: webp_1.WEBP,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ICO = void 0;\nconst TYPE_ICON = 1;\n/**\n * ICON Header\n *\n * | Offset | Size | Purpose |\n * | 0\t    | 2    | Reserved. Must always be 0.  |\n * | 2      | 2    | Image type: 1 for icon (.ICO) image, 2 for cursor (.CUR) image. Other values are invalid. |\n * | 4      | 2    | Number of images in the file. |\n *\n */\nconst SIZE_HEADER = 2 + 2 + 2; // 6\n/**\n * Image Entry\n *\n * | Offset | Size | Purpose |\n * | 0\t    | 1    | Image width in pixels. Can be any number between 0 and 255. Value 0 means width is 256 pixels. |\n * | 1      | 1    | Image height in pixels. Can be any number between 0 and 255. Value 0 means height is 256 pixels. |\n * | 2      | 1    | Number of colors in the color palette. Should be 0 if the image does not use a color palette. |\n * | 3      | 1    | Reserved. Should be 0. |\n * | 4      | 2    | ICO format: Color planes. Should be 0 or 1. |\n * |        |      | CUR format: The horizontal coordinates of the hotspot in number of pixels from the left. |\n * | 6      | 2    | ICO format: Bits per pixel. |\n * |        |      | CUR format: The vertical coordinates of the hotspot in number of pixels from the top. |\n * | 8      | 4    | The size of the image's data in bytes |\n * | 12     | 4    | The offset of BMP or PNG data from the beginning of the ICO/CUR file |\n *\n */\nconst SIZE_IMAGE_ENTRY = 1 + 1 + 1 + 1 + 2 + 2 + 4 + 4; // 16\nfunction getSizeFromOffset(buffer, offset) {\n    const value = buffer.readUInt8(offset);\n    return value === 0 ? 256 : value;\n}\nfunction getImageSize(buffer, imageIndex) {\n    const offset = SIZE_HEADER + (imageIndex * SIZE_IMAGE_ENTRY);\n    return {\n        height: getSizeFromOffset(buffer, offset + 1),\n        width: getSizeFromOffset(buffer, offset)\n    };\n}\nexports.ICO = {\n    validate(buffer) {\n        if (buffer.readUInt16LE(0) !== 0) {\n            return false;\n        }\n        return buffer.readUInt16LE(2) === TYPE_ICON;\n    },\n    calculate(buffer) {\n        const nbImages = buffer.readUInt16LE(4);\n        const imageSize = getImageSize(buffer, 0);\n        if (nbImages === 1) {\n            return imageSize;\n        }\n        const imgs = [imageSize];\n        for (let imageIndex = 1; imageIndex < nbImages; imageIndex += 1) {\n            imgs.push(getImageSize(buffer, imageIndex));\n        }\n        const result = {\n            height: imageSize.height,\n            images: imgs,\n            width: imageSize.width\n        };\n        return result;\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readUInt = void 0;\n// Abstract reading multi-byte unsigned integers\nfunction readUInt(buffer, bits, offset, isBigEndian) {\n    offset = offset || 0;\n    const endian = isBigEndian ? 'BE' : 'LE';\n    const methodName = ('readUInt' + bits + endian);\n    return buffer[methodName].call(buffer, offset);\n}\nexports.readUInt = readUInt;\n","import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Location from \"../../../../data/world/Location\";\n\nimport StringField from \"../../../form_elements/StringField\";\nimport Map from \"../../../general_elements/map/Map\";\n\nimport { faLink, faImage } from \"@fortawesome/free-solid-svg-icons\";\nimport NumberField from \"../../../form_elements/NumberField\";\n\ninterface $Props {\n  location: Location;\n  onEdit: (value: Location) => void;\n}\n\nconst LocationEditView = ({ location, onEdit }: $Props) => {\n  useEffect(() => {\n    if (location.map !== undefined && location.map !== \"\") {\n      let url = require(\"url\");\n      let http = require(\"http\");\n      let sizeOf = require(\"image-size\");\n\n      let options = url.parse(location.map);\n      http.get(options, function (response: any) {\n        let chunks: any = [];\n        response\n          .on(\"data\", function (chunk: any) {\n            chunks.push(chunk);\n          })\n          .on(\"end\", function () {\n            let buffer = Buffer.concat(chunks);\n            let size = sizeOf(buffer);\n            console.log(size);\n            onEdit({ ...location, dimension: { height: size.height, width: size.width } });\n          });\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.map]);\n\n  return (\n    <CenterWrapper>\n      <View>\n        <StringField\n          value={location.name}\n          label=\"Name\"\n          onChange={(name) => onEdit({ ...location, name: name })}\n        />\n\n        <StringField\n          value={location.map}\n          label=\"Picture\"\n          icon={faImage}\n          onChange={(pic) => onEdit({ ...location, map: pic })}\n        />\n        <NumberField\n          value={location.dimension.width}\n          label=\"Map width\"\n          onChange={(width) =>\n            onEdit({ ...location, dimension: { ...location.dimension, width: width } })\n          }\n        />\n        <NumberField\n          value={location.dimension.height}\n          label=\"Map height\"\n          onChange={(height) =>\n            onEdit({ ...location, dimension: { ...location.dimension, height: height } })\n          }\n        />\n        <StringField\n          value={location.sources}\n          label=\"Sources\"\n          icon={faLink}\n          onChange={(sources) => onEdit({ ...location, sources: sources })}\n        />\n      </View>\n      <Map editable={true} location={location} onEdit={onEdit} />\n    </CenterWrapper>\n  );\n};\n\nexport default LocationEditView;\n\nconst CenterWrapper = styled.div`\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n`;\n\nconst View = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  padding: 5px;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","var ClientRequest = require('./lib/request')\nvar response = require('./lib/response')\nvar extend = require('xtend')\nvar statusCodes = require('builtin-status-codes')\nvar url = require('url')\n\nvar http = exports\n\nhttp.request = function (opts, cb) {\n\tif (typeof opts === 'string')\n\t\topts = url.parse(opts)\n\telse\n\t\topts = extend(opts)\n\n\t// Normally, the page is loaded from http or https, so not specifying a protocol\n\t// will result in a (valid) protocol-relative url. However, this won't work if\n\t// the protocol is something else, like 'file:'\n\tvar defaultProtocol = global.location.protocol.search(/^https?:$/) === -1 ? 'http:' : ''\n\n\tvar protocol = opts.protocol || defaultProtocol\n\tvar host = opts.hostname || opts.host\n\tvar port = opts.port\n\tvar path = opts.path || '/'\n\n\t// Necessary for IPv6 addresses\n\tif (host && host.indexOf(':') !== -1)\n\t\thost = '[' + host + ']'\n\n\t// This may be a relative url. The browser should always be able to interpret it correctly.\n\topts.url = (host ? (protocol + '//' + host) : '') + (port ? ':' + port : '') + path\n\topts.method = (opts.method || 'GET').toUpperCase()\n\topts.headers = opts.headers || {}\n\n\t// Also valid opts.auth, opts.mode\n\n\tvar req = new ClientRequest(opts)\n\tif (cb)\n\t\treq.on('response', cb)\n\treturn req\n}\n\nhttp.get = function get (opts, cb) {\n\tvar req = http.request(opts, cb)\n\treq.end()\n\treturn req\n}\n\nhttp.ClientRequest = ClientRequest\nhttp.IncomingMessage = response.IncomingMessage\n\nhttp.Agent = function () {}\nhttp.Agent.defaultMaxSockets = 4\n\nhttp.globalAgent = new http.Agent()\n\nhttp.STATUS_CODES = statusCodes\n\nhttp.METHODS = [\n\t'CHECKOUT',\n\t'CONNECT',\n\t'COPY',\n\t'DELETE',\n\t'GET',\n\t'HEAD',\n\t'LOCK',\n\t'M-SEARCH',\n\t'MERGE',\n\t'MKACTIVITY',\n\t'MKCOL',\n\t'MOVE',\n\t'NOTIFY',\n\t'OPTIONS',\n\t'PATCH',\n\t'POST',\n\t'PROPFIND',\n\t'PROPPATCH',\n\t'PURGE',\n\t'PUT',\n\t'REPORT',\n\t'SEARCH',\n\t'SUBSCRIBE',\n\t'TRACE',\n\t'UNLOCK',\n\t'UNSUBSCRIBE'\n]","var capability = require('./capability')\nvar inherits = require('inherits')\nvar response = require('./response')\nvar stream = require('readable-stream')\nvar toArrayBuffer = require('to-arraybuffer')\n\nvar IncomingMessage = response.IncomingMessage\nvar rStates = response.readyStates\n\nfunction decideMode (preferBinary, useFetch) {\n\tif (capability.fetch && useFetch) {\n\t\treturn 'fetch'\n\t} else if (capability.mozchunkedarraybuffer) {\n\t\treturn 'moz-chunked-arraybuffer'\n\t} else if (capability.msstream) {\n\t\treturn 'ms-stream'\n\t} else if (capability.arraybuffer && preferBinary) {\n\t\treturn 'arraybuffer'\n\t} else if (capability.vbArray && preferBinary) {\n\t\treturn 'text:vbarray'\n\t} else {\n\t\treturn 'text'\n\t}\n}\n\nvar ClientRequest = module.exports = function (opts) {\n\tvar self = this\n\tstream.Writable.call(self)\n\n\tself._opts = opts\n\tself._body = []\n\tself._headers = {}\n\tif (opts.auth)\n\t\tself.setHeader('Authorization', 'Basic ' + new Buffer(opts.auth).toString('base64'))\n\tObject.keys(opts.headers).forEach(function (name) {\n\t\tself.setHeader(name, opts.headers[name])\n\t})\n\n\tvar preferBinary\n\tvar useFetch = true\n\tif (opts.mode === 'disable-fetch' || ('requestTimeout' in opts && !capability.abortController)) {\n\t\t// If the use of XHR should be preferred. Not typically needed.\n\t\tuseFetch = false\n\t\tpreferBinary = true\n\t} else if (opts.mode === 'prefer-streaming') {\n\t\t// If streaming is a high priority but binary compatibility and\n\t\t// the accuracy of the 'content-type' header aren't\n\t\tpreferBinary = false\n\t} else if (opts.mode === 'allow-wrong-content-type') {\n\t\t// If streaming is more important than preserving the 'content-type' header\n\t\tpreferBinary = !capability.overrideMimeType\n\t} else if (!opts.mode || opts.mode === 'default' || opts.mode === 'prefer-fast') {\n\t\t// Use binary if text streaming may corrupt data or the content-type header, or for speed\n\t\tpreferBinary = true\n\t} else {\n\t\tthrow new Error('Invalid value for opts.mode')\n\t}\n\tself._mode = decideMode(preferBinary, useFetch)\n\tself._fetchTimer = null\n\n\tself.on('finish', function () {\n\t\tself._onFinish()\n\t})\n}\n\ninherits(ClientRequest, stream.Writable)\n\nClientRequest.prototype.setHeader = function (name, value) {\n\tvar self = this\n\tvar lowerName = name.toLowerCase()\n\t// This check is not necessary, but it prevents warnings from browsers about setting unsafe\n\t// headers. To be honest I'm not entirely sure hiding these warnings is a good thing, but\n\t// http-browserify did it, so I will too.\n\tif (unsafeHeaders.indexOf(lowerName) !== -1)\n\t\treturn\n\n\tself._headers[lowerName] = {\n\t\tname: name,\n\t\tvalue: value\n\t}\n}\n\nClientRequest.prototype.getHeader = function (name) {\n\tvar header = this._headers[name.toLowerCase()]\n\tif (header)\n\t\treturn header.value\n\treturn null\n}\n\nClientRequest.prototype.removeHeader = function (name) {\n\tvar self = this\n\tdelete self._headers[name.toLowerCase()]\n}\n\nClientRequest.prototype._onFinish = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\tvar opts = self._opts\n\n\tvar headersObj = self._headers\n\tvar body = null\n\tif (opts.method !== 'GET' && opts.method !== 'HEAD') {\n\t\tif (capability.arraybuffer) {\n\t\t\tbody = toArrayBuffer(Buffer.concat(self._body))\n\t\t} else if (capability.blobConstructor) {\n\t\t\tbody = new global.Blob(self._body.map(function (buffer) {\n\t\t\t\treturn toArrayBuffer(buffer)\n\t\t\t}), {\n\t\t\t\ttype: (headersObj['content-type'] || {}).value || ''\n\t\t\t})\n\t\t} else {\n\t\t\t// get utf8 string\n\t\t\tbody = Buffer.concat(self._body).toString()\n\t\t}\n\t}\n\n\t// create flattened list of headers\n\tvar headersList = []\n\tObject.keys(headersObj).forEach(function (keyName) {\n\t\tvar name = headersObj[keyName].name\n\t\tvar value = headersObj[keyName].value\n\t\tif (Array.isArray(value)) {\n\t\t\tvalue.forEach(function (v) {\n\t\t\t\theadersList.push([name, v])\n\t\t\t})\n\t\t} else {\n\t\t\theadersList.push([name, value])\n\t\t}\n\t})\n\n\tif (self._mode === 'fetch') {\n\t\tvar signal = null\n\t\tvar fetchTimer = null\n\t\tif (capability.abortController) {\n\t\t\tvar controller = new AbortController()\n\t\t\tsignal = controller.signal\n\t\t\tself._fetchAbortController = controller\n\n\t\t\tif ('requestTimeout' in opts && opts.requestTimeout !== 0) {\n\t\t\t\tself._fetchTimer = global.setTimeout(function () {\n\t\t\t\t\tself.emit('requestTimeout')\n\t\t\t\t\tif (self._fetchAbortController)\n\t\t\t\t\t\tself._fetchAbortController.abort()\n\t\t\t\t}, opts.requestTimeout)\n\t\t\t}\n\t\t}\n\n\t\tglobal.fetch(self._opts.url, {\n\t\t\tmethod: self._opts.method,\n\t\t\theaders: headersList,\n\t\t\tbody: body || undefined,\n\t\t\tmode: 'cors',\n\t\t\tcredentials: opts.withCredentials ? 'include' : 'same-origin',\n\t\t\tsignal: signal\n\t\t}).then(function (response) {\n\t\t\tself._fetchResponse = response\n\t\t\tself._connect()\n\t\t}, function (reason) {\n\t\t\tglobal.clearTimeout(self._fetchTimer)\n\t\t\tif (!self._destroyed)\n\t\t\t\tself.emit('error', reason)\n\t\t})\n\t} else {\n\t\tvar xhr = self._xhr = new global.XMLHttpRequest()\n\t\ttry {\n\t\t\txhr.open(self._opts.method, self._opts.url, true)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\t// Can't set responseType on really old browsers\n\t\tif ('responseType' in xhr)\n\t\t\txhr.responseType = self._mode.split(':')[0]\n\n\t\tif ('withCredentials' in xhr)\n\t\t\txhr.withCredentials = !!opts.withCredentials\n\n\t\tif (self._mode === 'text' && 'overrideMimeType' in xhr)\n\t\t\txhr.overrideMimeType('text/plain; charset=x-user-defined')\n\n\t\tif ('requestTimeout' in opts) {\n\t\t\txhr.timeout = opts.requestTimeout\n\t\t\txhr.ontimeout = function () {\n\t\t\t\tself.emit('requestTimeout')\n\t\t\t}\n\t\t}\n\n\t\theadersList.forEach(function (header) {\n\t\t\txhr.setRequestHeader(header[0], header[1])\n\t\t})\n\n\t\tself._response = null\n\t\txhr.onreadystatechange = function () {\n\t\t\tswitch (xhr.readyState) {\n\t\t\t\tcase rStates.LOADING:\n\t\t\t\tcase rStates.DONE:\n\t\t\t\t\tself._onXHRProgress()\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// Necessary for streaming in Firefox, since xhr.response is ONLY defined\n\t\t// in onprogress, not in onreadystatechange with xhr.readyState = 3\n\t\tif (self._mode === 'moz-chunked-arraybuffer') {\n\t\t\txhr.onprogress = function () {\n\t\t\t\tself._onXHRProgress()\n\t\t\t}\n\t\t}\n\n\t\txhr.onerror = function () {\n\t\t\tif (self._destroyed)\n\t\t\t\treturn\n\t\t\tself.emit('error', new Error('XHR error'))\n\t\t}\n\n\t\ttry {\n\t\t\txhr.send(body)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t}\n}\n\n/**\n * Checks if xhr.status is readable and non-zero, indicating no error.\n * Even though the spec says it should be available in readyState 3,\n * accessing it throws an exception in IE8\n */\nfunction statusValid (xhr) {\n\ttry {\n\t\tvar status = xhr.status\n\t\treturn (status !== null && status !== 0)\n\t} catch (e) {\n\t\treturn false\n\t}\n}\n\nClientRequest.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tif (!statusValid(self._xhr) || self._destroyed)\n\t\treturn\n\n\tif (!self._response)\n\t\tself._connect()\n\n\tself._response._onXHRProgress()\n}\n\nClientRequest.prototype._connect = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\n\tself._response = new IncomingMessage(self._xhr, self._fetchResponse, self._mode, self._fetchTimer)\n\tself._response.on('error', function(err) {\n\t\tself.emit('error', err)\n\t})\n\n\tself.emit('response', self._response)\n}\n\nClientRequest.prototype._write = function (chunk, encoding, cb) {\n\tvar self = this\n\n\tself._body.push(chunk)\n\tcb()\n}\n\nClientRequest.prototype.abort = ClientRequest.prototype.destroy = function () {\n\tvar self = this\n\tself._destroyed = true\n\tglobal.clearTimeout(self._fetchTimer)\n\tif (self._response)\n\t\tself._response._destroyed = true\n\tif (self._xhr)\n\t\tself._xhr.abort()\n\telse if (self._fetchAbortController)\n\t\tself._fetchAbortController.abort()\n}\n\nClientRequest.prototype.end = function (data, encoding, cb) {\n\tvar self = this\n\tif (typeof data === 'function') {\n\t\tcb = data\n\t\tdata = undefined\n\t}\n\n\tstream.Writable.prototype.end.call(self, data, encoding, cb)\n}\n\nClientRequest.prototype.flushHeaders = function () {}\nClientRequest.prototype.setTimeout = function () {}\nClientRequest.prototype.setNoDelay = function () {}\nClientRequest.prototype.setSocketKeepAlive = function () {}\n\n// Taken from http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader%28%29-method\nvar unsafeHeaders = [\n\t'accept-charset',\n\t'accept-encoding',\n\t'access-control-request-headers',\n\t'access-control-request-method',\n\t'connection',\n\t'content-length',\n\t'cookie',\n\t'cookie2',\n\t'date',\n\t'dnt',\n\t'expect',\n\t'host',\n\t'keep-alive',\n\t'origin',\n\t'referer',\n\t'te',\n\t'trailer',\n\t'transfer-encoding',\n\t'upgrade',\n\t'via'\n]\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","var Buffer = require('buffer').Buffer\n\nmodule.exports = function (buf) {\n\t// If the buffer is backed by a Uint8Array, a faster version will work\n\tif (buf instanceof Uint8Array) {\n\t\t// If the buffer isn't a subarray, return the underlying ArrayBuffer\n\t\tif (buf.byteOffset === 0 && buf.byteLength === buf.buffer.byteLength) {\n\t\t\treturn buf.buffer\n\t\t} else if (typeof buf.buffer.slice === 'function') {\n\t\t\t// Otherwise we need to get a proper copy\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength)\n\t\t}\n\t}\n\n\tif (Buffer.isBuffer(buf)) {\n\t\t// This is the slow version that will work with any Buffer\n\t\t// implementation (even in old browsers)\n\t\tvar arrayCopy = new Uint8Array(buf.length)\n\t\tvar len = buf.length\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tarrayCopy[i] = buf[i]\n\t\t}\n\t\treturn arrayCopy.buffer\n\t} else {\n\t\tthrow new Error('Argument must be a Buffer')\n\t}\n}\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","module.exports = {\n  \"100\": \"Continue\",\n  \"101\": \"Switching Protocols\",\n  \"102\": \"Processing\",\n  \"200\": \"OK\",\n  \"201\": \"Created\",\n  \"202\": \"Accepted\",\n  \"203\": \"Non-Authoritative Information\",\n  \"204\": \"No Content\",\n  \"205\": \"Reset Content\",\n  \"206\": \"Partial Content\",\n  \"207\": \"Multi-Status\",\n  \"208\": \"Already Reported\",\n  \"226\": \"IM Used\",\n  \"300\": \"Multiple Choices\",\n  \"301\": \"Moved Permanently\",\n  \"302\": \"Found\",\n  \"303\": \"See Other\",\n  \"304\": \"Not Modified\",\n  \"305\": \"Use Proxy\",\n  \"307\": \"Temporary Redirect\",\n  \"308\": \"Permanent Redirect\",\n  \"400\": \"Bad Request\",\n  \"401\": \"Unauthorized\",\n  \"402\": \"Payment Required\",\n  \"403\": \"Forbidden\",\n  \"404\": \"Not Found\",\n  \"405\": \"Method Not Allowed\",\n  \"406\": \"Not Acceptable\",\n  \"407\": \"Proxy Authentication Required\",\n  \"408\": \"Request Timeout\",\n  \"409\": \"Conflict\",\n  \"410\": \"Gone\",\n  \"411\": \"Length Required\",\n  \"412\": \"Precondition Failed\",\n  \"413\": \"Payload Too Large\",\n  \"414\": \"URI Too Long\",\n  \"415\": \"Unsupported Media Type\",\n  \"416\": \"Range Not Satisfiable\",\n  \"417\": \"Expectation Failed\",\n  \"418\": \"I'm a teapot\",\n  \"421\": \"Misdirected Request\",\n  \"422\": \"Unprocessable Entity\",\n  \"423\": \"Locked\",\n  \"424\": \"Failed Dependency\",\n  \"425\": \"Unordered Collection\",\n  \"426\": \"Upgrade Required\",\n  \"428\": \"Precondition Required\",\n  \"429\": \"Too Many Requests\",\n  \"431\": \"Request Header Fields Too Large\",\n  \"451\": \"Unavailable For Legal Reasons\",\n  \"500\": \"Internal Server Error\",\n  \"501\": \"Not Implemented\",\n  \"502\": \"Bad Gateway\",\n  \"503\": \"Service Unavailable\",\n  \"504\": \"Gateway Timeout\",\n  \"505\": \"HTTP Version Not Supported\",\n  \"506\": \"Variant Also Negotiates\",\n  \"507\": \"Insufficient Storage\",\n  \"508\": \"Loop Detected\",\n  \"509\": \"Bandwidth Limit Exceeded\",\n  \"510\": \"Not Extended\",\n  \"511\": \"Network Authentication Required\"\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.types = exports.setConcurrency = exports.imageSize = void 0;\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst queue_1 = require(\"queue\");\nconst types_1 = require(\"./types\");\nconst detector_1 = require(\"./detector\");\n// Maximum buffer size, with a default of 512 kilobytes.\n// TO-DO: make this adaptive based on the initial signature of the image\nconst MaxBufferSize = 512 * 1024;\n// This queue is for async `fs` operations, to avoid reaching file-descriptor limits\nconst queue = new queue_1.default({ concurrency: 100, autostart: true });\n/**\n * Return size information based on a buffer\n *\n * @param {Buffer} buffer\n * @param {String} filepath\n * @returns {Object}\n */\nfunction lookup(buffer, filepath) {\n    // detect the file type.. don't rely on the extension\n    const type = detector_1.detector(buffer);\n    // find an appropriate handler for this file type\n    if (type && type in types_1.typeHandlers) {\n        const size = types_1.typeHandlers[type].calculate(buffer, filepath);\n        if (size !== undefined) {\n            size.type = type;\n            return size;\n        }\n    }\n    // throw up, if we don't understand the file\n    throw new TypeError('unsupported file type: ' + type + ' (file: ' + filepath + ')');\n}\n/**\n * Reads a file into a buffer.\n * @param {String} filepath\n * @returns {Promise<Buffer>}\n */\nfunction asyncFileToBuffer(filepath) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const handle = yield fs.promises.open(filepath, 'r');\n        const { size } = yield handle.stat();\n        if (size <= 0) {\n            yield handle.close();\n            throw new Error('Empty file');\n        }\n        const bufferSize = Math.min(size, MaxBufferSize);\n        const buffer = Buffer.alloc(bufferSize);\n        yield handle.read(buffer, 0, bufferSize, 0);\n        yield handle.close();\n        return buffer;\n    });\n}\n/**\n * Synchronously reads a file into a buffer, blocking the nodejs process.\n *\n * @param {String} filepath\n * @returns {Buffer}\n */\nfunction syncFileToBuffer(filepath) {\n    // read from the file, synchronously\n    const descriptor = fs.openSync(filepath, 'r');\n    const { size } = fs.fstatSync(descriptor);\n    if (size <= 0) {\n        fs.closeSync(descriptor);\n        throw new Error('Empty file');\n    }\n    const bufferSize = Math.min(size, MaxBufferSize);\n    const buffer = Buffer.alloc(bufferSize);\n    fs.readSync(descriptor, buffer, 0, bufferSize, 0);\n    fs.closeSync(descriptor);\n    return buffer;\n}\n// eslint-disable-next-line @typescript-eslint/no-use-before-define\nmodule.exports = exports = imageSize; // backwards compatibility\nexports.default = imageSize;\n/**\n * @param {Buffer|string} input - buffer or relative/absolute path of the image file\n * @param {Function=} [callback] - optional function for async detection\n */\nfunction imageSize(input, callback) {\n    // Handle buffer input\n    if (Buffer.isBuffer(input)) {\n        return lookup(input);\n    }\n    // input should be a string at this point\n    if (typeof input !== 'string') {\n        throw new TypeError('invalid invocation');\n    }\n    // resolve the file path\n    const filepath = path.resolve(input);\n    if (typeof callback === 'function') {\n        queue.push(() => asyncFileToBuffer(filepath)\n            .then((buffer) => process.nextTick(callback, null, lookup(buffer, filepath)))\n            .catch(callback));\n    }\n    else {\n        const buffer = syncFileToBuffer(filepath);\n        return lookup(buffer, filepath);\n    }\n}\nexports.imageSize = imageSize;\nexports.setConcurrency = (c) => { queue.concurrency = c; };\nexports.types = Object.keys(types_1.typeHandlers);\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","var inherits = require('inherits')\nvar EventEmitter = require('events').EventEmitter\n\nmodule.exports = Queue\nmodule.exports.default = Queue\n\nfunction Queue (options) {\n  if (!(this instanceof Queue)) {\n    return new Queue(options)\n  }\n\n  EventEmitter.call(this)\n  options = options || {}\n  this.concurrency = options.concurrency || Infinity\n  this.timeout = options.timeout || 0\n  this.autostart = options.autostart || false\n  this.results = options.results || null\n  this.pending = 0\n  this.session = 0\n  this.running = false\n  this.jobs = []\n  this.timers = {}\n}\ninherits(Queue, EventEmitter)\n\nvar arrayMethods = [\n  'pop',\n  'shift',\n  'indexOf',\n  'lastIndexOf'\n]\n\narrayMethods.forEach(function (method) {\n  Queue.prototype[method] = function () {\n    return Array.prototype[method].apply(this.jobs, arguments)\n  }\n})\n\nQueue.prototype.slice = function (begin, end) {\n  this.jobs = this.jobs.slice(begin, end)\n  return this\n}\n\nQueue.prototype.reverse = function () {\n  this.jobs.reverse()\n  return this\n}\n\nvar arrayAddMethods = [\n  'push',\n  'unshift',\n  'splice'\n]\n\narrayAddMethods.forEach(function (method) {\n  Queue.prototype[method] = function () {\n    var methodResult = Array.prototype[method].apply(this.jobs, arguments)\n    if (this.autostart) {\n      this.start()\n    }\n    return methodResult\n  }\n})\n\nObject.defineProperty(Queue.prototype, 'length', {\n  get: function () {\n    return this.pending + this.jobs.length\n  }\n})\n\nQueue.prototype.start = function (cb) {\n  if (cb) {\n    callOnErrorOrEnd.call(this, cb)\n  }\n\n  this.running = true\n\n  if (this.pending >= this.concurrency) {\n    return\n  }\n\n  if (this.jobs.length === 0) {\n    if (this.pending === 0) {\n      done.call(this)\n    }\n    return\n  }\n\n  var self = this\n  var job = this.jobs.shift()\n  var once = true\n  var session = this.session\n  var timeoutId = null\n  var didTimeout = false\n  var resultIndex = null\n  var timeout = job.timeout || this.timeout\n\n  function next (err, result) {\n    if (once && self.session === session) {\n      once = false\n      self.pending--\n      if (timeoutId !== null) {\n        delete self.timers[timeoutId]\n        clearTimeout(timeoutId)\n      }\n\n      if (err) {\n        self.emit('error', err, job)\n      } else if (didTimeout === false) {\n        if (resultIndex !== null) {\n          self.results[resultIndex] = Array.prototype.slice.call(arguments, 1)\n        }\n        self.emit('success', result, job)\n      }\n\n      if (self.session === session) {\n        if (self.pending === 0 && self.jobs.length === 0) {\n          done.call(self)\n        } else if (self.running) {\n          self.start()\n        }\n      }\n    }\n  }\n\n  if (timeout) {\n    timeoutId = setTimeout(function () {\n      didTimeout = true\n      if (self.listeners('timeout').length > 0) {\n        self.emit('timeout', next, job)\n      } else {\n        next()\n      }\n    }, timeout)\n    this.timers[timeoutId] = timeoutId\n  }\n\n  if (this.results) {\n    resultIndex = this.results.length\n    this.results[resultIndex] = null\n  }\n\n  this.pending++\n  self.emit('start', job)\n  var promise = job(next)\n  if (promise && promise.then && typeof promise.then === 'function') {\n    promise.then(function (result) {\n      return next(null, result)\n    }).catch(function (err) {\n      return next(err || true)\n    })\n  }\n\n  if (this.running && this.jobs.length > 0) {\n    this.start()\n  }\n}\n\nQueue.prototype.stop = function () {\n  this.running = false\n}\n\nQueue.prototype.end = function (err) {\n  clearTimers.call(this)\n  this.jobs.length = 0\n  this.pending = 0\n  done.call(this, err)\n}\n\nfunction clearTimers () {\n  for (var key in this.timers) {\n    var timeoutId = this.timers[key]\n    delete this.timers[key]\n    clearTimeout(timeoutId)\n  }\n}\n\nfunction callOnErrorOrEnd (cb) {\n  var self = this\n  this.on('error', onerror)\n  this.on('end', onend)\n\n  function onerror (err) { self.end(err) }\n  function onend (err) {\n    self.removeListener('error', onerror)\n    self.removeListener('end', onend)\n    cb(err, this.results)\n  }\n}\n\nfunction done (err) {\n  this.session++\n  this.running = false\n  this.emit('end', err)\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BMP = void 0;\nexports.BMP = {\n    validate(buffer) {\n        return ('BM' === buffer.toString('ascii', 0, 2));\n    },\n    calculate(buffer) {\n        return {\n            height: Math.abs(buffer.readInt32LE(22)),\n            width: buffer.readUInt32LE(18)\n        };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CUR = void 0;\nconst ico_1 = require(\"./ico\");\nconst TYPE_CURSOR = 2;\nexports.CUR = {\n    validate(buffer) {\n        if (buffer.readUInt16LE(0) !== 0) {\n            return false;\n        }\n        return buffer.readUInt16LE(2) === TYPE_CURSOR;\n    },\n    calculate(buffer) {\n        return ico_1.ICO.calculate(buffer);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DDS = void 0;\nexports.DDS = {\n    validate(buffer) {\n        return buffer.readUInt32LE(0) === 0x20534444;\n    },\n    calculate(buffer) {\n        return {\n            height: buffer.readUInt32LE(12),\n            width: buffer.readUInt32LE(16)\n        };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GIF = void 0;\nconst gifRegexp = /^GIF8[79]a/;\nexports.GIF = {\n    validate(buffer) {\n        const signature = buffer.toString('ascii', 0, 6);\n        return (gifRegexp.test(signature));\n    },\n    calculate(buffer) {\n        return {\n            height: buffer.readUInt16LE(8),\n            width: buffer.readUInt16LE(6)\n        };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ICNS = void 0;\n/**\n * ICNS Header\n *\n * | Offset | Size | Purpose                                                |\n * | 0\t    | 4    | Magic literal, must be \"icns\" (0x69, 0x63, 0x6e, 0x73) |\n * | 4      | 4    | Length of file, in bytes, msb first.                   |\n *\n */\nconst SIZE_HEADER = 4 + 4; // 8\nconst FILE_LENGTH_OFFSET = 4; // MSB => BIG ENDIAN\n/**\n * Image Entry\n *\n * | Offset | Size | Purpose                                                          |\n * | 0\t    | 4    | Icon type, see OSType below.                                     |\n * | 4      | 4    | Length of data, in bytes (including type and length), msb first. |\n * | 8      | n    | Icon data                                                        |\n */\nconst ENTRY_LENGTH_OFFSET = 4; // MSB => BIG ENDIAN\nconst ICON_TYPE_SIZE = {\n    ICON: 32,\n    'ICN#': 32,\n    // m => 16 x 16\n    'icm#': 16,\n    icm4: 16,\n    icm8: 16,\n    // s => 16 x 16\n    'ics#': 16,\n    ics4: 16,\n    ics8: 16,\n    is32: 16,\n    s8mk: 16,\n    icp4: 16,\n    // l => 32 x 32\n    icl4: 32,\n    icl8: 32,\n    il32: 32,\n    l8mk: 32,\n    icp5: 32,\n    ic11: 32,\n    // h => 48 x 48\n    ich4: 48,\n    ich8: 48,\n    ih32: 48,\n    h8mk: 48,\n    // . => 64 x 64\n    icp6: 64,\n    ic12: 32,\n    // t => 128 x 128\n    it32: 128,\n    t8mk: 128,\n    ic07: 128,\n    // . => 256 x 256\n    ic08: 256,\n    ic13: 256,\n    // . => 512 x 512\n    ic09: 512,\n    ic14: 512,\n    // . => 1024 x 1024\n    ic10: 1024,\n};\nfunction readImageHeader(buffer, imageOffset) {\n    const imageLengthOffset = imageOffset + ENTRY_LENGTH_OFFSET;\n    return [\n        buffer.toString('ascii', imageOffset, imageLengthOffset),\n        buffer.readUInt32BE(imageLengthOffset)\n    ];\n}\nfunction getImageSize(type) {\n    const size = ICON_TYPE_SIZE[type];\n    return { width: size, height: size, type };\n}\nexports.ICNS = {\n    validate(buffer) {\n        return ('icns' === buffer.toString('ascii', 0, 4));\n    },\n    calculate(buffer) {\n        const bufferLength = buffer.length;\n        const fileLength = buffer.readUInt32BE(FILE_LENGTH_OFFSET);\n        let imageOffset = SIZE_HEADER;\n        let imageHeader = readImageHeader(buffer, imageOffset);\n        let imageSize = getImageSize(imageHeader[0]);\n        imageOffset += imageHeader[1];\n        if (imageOffset === fileLength) {\n            return imageSize;\n        }\n        const result = {\n            height: imageSize.height,\n            images: [imageSize],\n            width: imageSize.width\n        };\n        while (imageOffset < fileLength && imageOffset < bufferLength) {\n            imageHeader = readImageHeader(buffer, imageOffset);\n            imageSize = getImageSize(imageHeader[0]);\n            imageOffset += imageHeader[1];\n            result.images.push(imageSize);\n        }\n        return result;\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.J2C = void 0;\nexports.J2C = {\n    validate(buffer) {\n        // TODO: this doesn't seem right. SIZ marker doesnt have to be right after the SOC\n        return buffer.toString('hex', 0, 4) === 'ff4fff51';\n    },\n    calculate(buffer) {\n        return {\n            height: buffer.readUInt32BE(12),\n            width: buffer.readUInt32BE(8),\n        };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JP2 = void 0;\nconst BoxTypes = {\n    ftyp: '66747970',\n    ihdr: '69686472',\n    jp2h: '6a703268',\n    jp__: '6a502020',\n    rreq: '72726571',\n    xml_: '786d6c20'\n};\nconst calculateRREQLength = (box) => {\n    const unit = box.readUInt8(0);\n    let offset = 1 + (2 * unit);\n    const numStdFlags = box.readUInt16BE(offset);\n    const flagsLength = numStdFlags * (2 + unit);\n    offset = offset + 2 + flagsLength;\n    const numVendorFeatures = box.readUInt16BE(offset);\n    const featuresLength = numVendorFeatures * (16 + unit);\n    return offset + 2 + featuresLength;\n};\nconst parseIHDR = (box) => {\n    return {\n        height: box.readUInt32BE(4),\n        width: box.readUInt32BE(8),\n    };\n};\nexports.JP2 = {\n    validate(buffer) {\n        const signature = buffer.toString('hex', 4, 8);\n        const signatureLength = buffer.readUInt32BE(0);\n        if (signature !== BoxTypes.jp__ || signatureLength < 1) {\n            return false;\n        }\n        const ftypeBoxStart = signatureLength + 4;\n        const ftypBoxLength = buffer.readUInt32BE(signatureLength);\n        const ftypBox = buffer.slice(ftypeBoxStart, ftypeBoxStart + ftypBoxLength);\n        return ftypBox.toString('hex', 0, 4) === BoxTypes.ftyp;\n    },\n    calculate(buffer) {\n        const signatureLength = buffer.readUInt32BE(0);\n        const ftypBoxLength = buffer.readUInt16BE(signatureLength + 2);\n        let offset = signatureLength + 4 + ftypBoxLength;\n        const nextBoxType = buffer.toString('hex', offset, offset + 4);\n        switch (nextBoxType) {\n            case BoxTypes.rreq:\n                // WHAT ARE THESE 4 BYTES?????\n                // eslint-disable-next-line no-case-declarations\n                const MAGIC = 4;\n                offset = offset + 4 + MAGIC + calculateRREQLength(buffer.slice(offset + 4));\n                return parseIHDR(buffer.slice(offset + 8, offset + 24));\n            case BoxTypes.jp2h:\n                return parseIHDR(buffer.slice(offset + 8, offset + 24));\n            default:\n                throw new TypeError('Unsupported header found: ' + buffer.toString('ascii', offset, offset + 4));\n        }\n    }\n};\n","\"use strict\";\n// NOTE: we only support baseline and progressive JPGs here\n// due to the structure of the loader class, we only get a buffer\n// with a maximum size of 4096 bytes. so if the SOF marker is outside\n// if this range we can't detect the file size correctly.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JPG = void 0;\nconst readUInt_1 = require(\"../readUInt\");\nconst EXIF_MARKER = '45786966';\nconst APP1_DATA_SIZE_BYTES = 2;\nconst EXIF_HEADER_BYTES = 6;\nconst TIFF_BYTE_ALIGN_BYTES = 2;\nconst BIG_ENDIAN_BYTE_ALIGN = '4d4d';\nconst LITTLE_ENDIAN_BYTE_ALIGN = '4949';\n// Each entry is exactly 12 bytes\nconst IDF_ENTRY_BYTES = 12;\nconst NUM_DIRECTORY_ENTRIES_BYTES = 2;\nfunction isEXIF(buffer) {\n    return (buffer.toString('hex', 2, 6) === EXIF_MARKER);\n}\nfunction extractSize(buffer, index) {\n    return {\n        height: buffer.readUInt16BE(index),\n        width: buffer.readUInt16BE(index + 2)\n    };\n}\nfunction extractOrientation(exifBlock, isBigEndian) {\n    // TODO: assert that this contains 0x002A\n    // let STATIC_MOTOROLA_TIFF_HEADER_BYTES = 2\n    // let TIFF_IMAGE_FILE_DIRECTORY_BYTES = 4\n    // TODO: derive from TIFF_IMAGE_FILE_DIRECTORY_BYTES\n    const idfOffset = 8;\n    // IDF osset works from right after the header bytes\n    // (so the offset includes the tiff byte align)\n    const offset = EXIF_HEADER_BYTES + idfOffset;\n    const idfDirectoryEntries = readUInt_1.readUInt(exifBlock, 16, offset, isBigEndian);\n    for (let directoryEntryNumber = 0; directoryEntryNumber < idfDirectoryEntries; directoryEntryNumber++) {\n        const start = offset + NUM_DIRECTORY_ENTRIES_BYTES + (directoryEntryNumber * IDF_ENTRY_BYTES);\n        const end = start + IDF_ENTRY_BYTES;\n        // Skip on corrupt EXIF blocks\n        if (start > exifBlock.length) {\n            return;\n        }\n        const block = exifBlock.slice(start, end);\n        const tagNumber = readUInt_1.readUInt(block, 16, 0, isBigEndian);\n        // 0x0112 (decimal: 274) is the `orientation` tag ID\n        if (tagNumber === 274) {\n            const dataFormat = readUInt_1.readUInt(block, 16, 2, isBigEndian);\n            if (dataFormat !== 3) {\n                return;\n            }\n            // unsinged int has 2 bytes per component\n            // if there would more than 4 bytes in total it's a pointer\n            const numberOfComponents = readUInt_1.readUInt(block, 32, 4, isBigEndian);\n            if (numberOfComponents !== 1) {\n                return;\n            }\n            return readUInt_1.readUInt(block, 16, 8, isBigEndian);\n        }\n    }\n}\nfunction validateExifBlock(buffer, index) {\n    // Skip APP1 Data Size\n    const exifBlock = buffer.slice(APP1_DATA_SIZE_BYTES, index);\n    // Consider byte alignment\n    const byteAlign = exifBlock.toString('hex', EXIF_HEADER_BYTES, EXIF_HEADER_BYTES + TIFF_BYTE_ALIGN_BYTES);\n    // Ignore Empty EXIF. Validate byte alignment\n    const isBigEndian = byteAlign === BIG_ENDIAN_BYTE_ALIGN;\n    const isLittleEndian = byteAlign === LITTLE_ENDIAN_BYTE_ALIGN;\n    if (isBigEndian || isLittleEndian) {\n        return extractOrientation(exifBlock, isBigEndian);\n    }\n}\nfunction validateBuffer(buffer, index) {\n    // index should be within buffer limits\n    if (index > buffer.length) {\n        throw new TypeError('Corrupt JPG, exceeded buffer limits');\n    }\n    // Every JPEG block must begin with a 0xFF\n    if (buffer[index] !== 0xFF) {\n        throw new TypeError('Invalid JPG, marker table corrupted');\n    }\n}\nexports.JPG = {\n    validate(buffer) {\n        const SOIMarker = buffer.toString('hex', 0, 2);\n        return ('ffd8' === SOIMarker);\n    },\n    calculate(buffer) {\n        // Skip 4 chars, they are for signature\n        buffer = buffer.slice(4);\n        let orientation;\n        let next;\n        while (buffer.length) {\n            // read length of the next block\n            const i = buffer.readUInt16BE(0);\n            if (isEXIF(buffer)) {\n                orientation = validateExifBlock(buffer, i);\n            }\n            // ensure correct format\n            validateBuffer(buffer, i);\n            // 0xFFC0 is baseline standard(SOF)\n            // 0xFFC1 is baseline optimized(SOF)\n            // 0xFFC2 is progressive(SOF2)\n            next = buffer[i + 1];\n            if (next === 0xC0 || next === 0xC1 || next === 0xC2) {\n                const size = extractSize(buffer, i + 5);\n                // TODO: is orientation=0 a valid answer here?\n                if (!orientation) {\n                    return size;\n                }\n                return {\n                    height: size.height,\n                    orientation,\n                    width: size.width\n                };\n            }\n            // move to the next block\n            buffer = buffer.slice(i + 2);\n        }\n        throw new TypeError('Invalid JPG, no size found');\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KTX = void 0;\nconst SIGNATURE = 'KTX 11';\nexports.KTX = {\n    validate(buffer) {\n        return SIGNATURE === buffer.toString('ascii', 1, 7);\n    },\n    calculate(buffer) {\n        return {\n            height: buffer.readUInt32LE(40),\n            width: buffer.readUInt32LE(36),\n        };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PNG = void 0;\nconst pngSignature = 'PNG\\r\\n\\x1a\\n';\nconst pngImageHeaderChunkName = 'IHDR';\n// Used to detect \"fried\" png's: http://www.jongware.com/pngdefry.html\nconst pngFriedChunkName = 'CgBI';\nexports.PNG = {\n    validate(buffer) {\n        if (pngSignature === buffer.toString('ascii', 1, 8)) {\n            let chunkName = buffer.toString('ascii', 12, 16);\n            if (chunkName === pngFriedChunkName) {\n                chunkName = buffer.toString('ascii', 28, 32);\n            }\n            if (chunkName !== pngImageHeaderChunkName) {\n                throw new TypeError('Invalid PNG');\n            }\n            return true;\n        }\n        return false;\n    },\n    calculate(buffer) {\n        if (buffer.toString('ascii', 12, 16) === pngFriedChunkName) {\n            return {\n                height: buffer.readUInt32BE(36),\n                width: buffer.readUInt32BE(32)\n            };\n        }\n        return {\n            height: buffer.readUInt32BE(20),\n            width: buffer.readUInt32BE(16)\n        };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PNM = void 0;\nconst PNMTypes = {\n    P1: 'pbm/ascii',\n    P2: 'pgm/ascii',\n    P3: 'ppm/ascii',\n    P4: 'pbm',\n    P5: 'pgm',\n    P6: 'ppm',\n    P7: 'pam',\n    PF: 'pfm'\n};\nconst Signatures = Object.keys(PNMTypes);\nconst handlers = {\n    default: (lines) => {\n        let dimensions = [];\n        while (lines.length > 0) {\n            const line = lines.shift();\n            if (line[0] === '#') {\n                continue;\n            }\n            dimensions = line.split(' ');\n            break;\n        }\n        if (dimensions.length === 2) {\n            return {\n                height: parseInt(dimensions[1], 10),\n                width: parseInt(dimensions[0], 10),\n            };\n        }\n        else {\n            throw new TypeError('Invalid PNM');\n        }\n    },\n    pam: (lines) => {\n        const size = {};\n        while (lines.length > 0) {\n            const line = lines.shift();\n            if (line.length > 16 || line.charCodeAt(0) > 128) {\n                continue;\n            }\n            const [key, value] = line.split(' ');\n            if (key && value) {\n                size[key.toLowerCase()] = parseInt(value, 10);\n            }\n            if (size.height && size.width) {\n                break;\n            }\n        }\n        if (size.height && size.width) {\n            return {\n                height: size.height,\n                width: size.width\n            };\n        }\n        else {\n            throw new TypeError('Invalid PAM');\n        }\n    }\n};\nexports.PNM = {\n    validate(buffer) {\n        const signature = buffer.toString('ascii', 0, 2);\n        return Signatures.includes(signature);\n    },\n    calculate(buffer) {\n        const signature = buffer.toString('ascii', 0, 2);\n        const type = PNMTypes[signature];\n        // TODO: this probably generates garbage. move to a stream based parser\n        const lines = buffer.toString('ascii', 3).split(/[\\r\\n]+/);\n        const handler = handlers[type] || handlers.default;\n        return handler(lines);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PSD = void 0;\nexports.PSD = {\n    validate(buffer) {\n        return ('8BPS' === buffer.toString('ascii', 0, 4));\n    },\n    calculate(buffer) {\n        return {\n            height: buffer.readUInt32BE(14),\n            width: buffer.readUInt32BE(18)\n        };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SVG = void 0;\nconst svgReg = /<svg\\s([^>\"']|\"[^\"]*\"|'[^']*')*>/;\nconst extractorRegExps = {\n    height: /\\sheight=(['\"])([^%]+?)\\1/,\n    root: svgReg,\n    viewbox: /\\sviewBox=(['\"])(.+?)\\1/,\n    width: /\\swidth=(['\"])([^%]+?)\\1/,\n};\nconst INCH_CM = 2.54;\nconst units = {\n    cm: 96 / INCH_CM,\n    em: 16,\n    ex: 8,\n    m: 96 / INCH_CM * 100,\n    mm: 96 / INCH_CM / 10,\n    pc: 96 / 72 / 12,\n    pt: 96 / 72,\n};\nfunction parseLength(len) {\n    const m = /([0-9.]+)([a-z]*)/.exec(len);\n    if (!m) {\n        return undefined;\n    }\n    return Math.round(parseFloat(m[1]) * (units[m[2]] || 1));\n}\nfunction parseViewbox(viewbox) {\n    const bounds = viewbox.split(' ');\n    return {\n        height: parseLength(bounds[3]),\n        width: parseLength(bounds[2])\n    };\n}\nfunction parseAttributes(root) {\n    const width = root.match(extractorRegExps.width);\n    const height = root.match(extractorRegExps.height);\n    const viewbox = root.match(extractorRegExps.viewbox);\n    return {\n        height: height && parseLength(height[2]),\n        viewbox: viewbox && parseViewbox(viewbox[2]),\n        width: width && parseLength(width[2]),\n    };\n}\nfunction calculateByDimensions(attrs) {\n    return {\n        height: attrs.height,\n        width: attrs.width,\n    };\n}\nfunction calculateByViewbox(attrs, viewbox) {\n    const ratio = viewbox.width / viewbox.height;\n    if (attrs.width) {\n        return {\n            height: Math.floor(attrs.width / ratio),\n            width: attrs.width,\n        };\n    }\n    if (attrs.height) {\n        return {\n            height: attrs.height,\n            width: Math.floor(attrs.height * ratio),\n        };\n    }\n    return {\n        height: viewbox.height,\n        width: viewbox.width,\n    };\n}\nexports.SVG = {\n    validate(buffer) {\n        const str = String(buffer);\n        return svgReg.test(str);\n    },\n    calculate(buffer) {\n        const root = buffer.toString('utf8').match(extractorRegExps.root);\n        if (root) {\n            const attrs = parseAttributes(root[0]);\n            if (attrs.width && attrs.height) {\n                return calculateByDimensions(attrs);\n            }\n            if (attrs.viewbox) {\n                return calculateByViewbox(attrs, attrs.viewbox);\n            }\n        }\n        throw new TypeError('Invalid SVG');\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TIFF = void 0;\n// based on http://www.compix.com/fileformattif.htm\n// TO-DO: support big-endian as well\nconst fs = require(\"fs\");\nconst readUInt_1 = require(\"../readUInt\");\n// Read IFD (image-file-directory) into a buffer\nfunction readIFD(buffer, filepath, isBigEndian) {\n    const ifdOffset = readUInt_1.readUInt(buffer, 32, 4, isBigEndian);\n    // read only till the end of the file\n    let bufferSize = 1024;\n    const fileSize = fs.statSync(filepath).size;\n    if (ifdOffset + bufferSize > fileSize) {\n        bufferSize = fileSize - ifdOffset - 10;\n    }\n    // populate the buffer\n    const endBuffer = Buffer.alloc(bufferSize);\n    const descriptor = fs.openSync(filepath, 'r');\n    fs.readSync(descriptor, endBuffer, 0, bufferSize, ifdOffset);\n    fs.closeSync(descriptor);\n    return endBuffer.slice(2);\n}\n// TIFF values seem to be messed up on Big-Endian, this helps\nfunction readValue(buffer, isBigEndian) {\n    const low = readUInt_1.readUInt(buffer, 16, 8, isBigEndian);\n    const high = readUInt_1.readUInt(buffer, 16, 10, isBigEndian);\n    return (high << 16) + low;\n}\n// move to the next tag\nfunction nextTag(buffer) {\n    if (buffer.length > 24) {\n        return buffer.slice(12);\n    }\n}\n// Extract IFD tags from TIFF metadata\nfunction extractTags(buffer, isBigEndian) {\n    const tags = {};\n    let temp = buffer;\n    while (temp && temp.length) {\n        const code = readUInt_1.readUInt(temp, 16, 0, isBigEndian);\n        const type = readUInt_1.readUInt(temp, 16, 2, isBigEndian);\n        const length = readUInt_1.readUInt(temp, 32, 4, isBigEndian);\n        // 0 means end of IFD\n        if (code === 0) {\n            break;\n        }\n        else {\n            // 256 is width, 257 is height\n            // if (code === 256 || code === 257) {\n            if (length === 1 && (type === 3 || type === 4)) {\n                tags[code] = readValue(temp, isBigEndian);\n            }\n            // move to the next tag\n            temp = nextTag(temp);\n        }\n    }\n    return tags;\n}\n// Test if the TIFF is Big Endian or Little Endian\nfunction determineEndianness(buffer) {\n    const signature = buffer.toString('ascii', 0, 2);\n    if ('II' === signature) {\n        return 'LE';\n    }\n    else if ('MM' === signature) {\n        return 'BE';\n    }\n}\nconst signatures = [\n    // '492049', // currently not supported\n    '49492a00',\n    '4d4d002a',\n];\nexports.TIFF = {\n    validate(buffer) {\n        return signatures.includes(buffer.toString('hex', 0, 4));\n    },\n    calculate(buffer, filepath) {\n        if (!filepath) {\n            throw new TypeError('Tiff doesn\\'t support buffer');\n        }\n        // Determine BE/LE\n        const isBigEndian = determineEndianness(buffer) === 'BE';\n        // read the IFD\n        const ifdBuffer = readIFD(buffer, filepath, isBigEndian);\n        // extract the tags from the IFD\n        const tags = extractTags(ifdBuffer, isBigEndian);\n        const width = tags[256];\n        const height = tags[257];\n        if (!width || !height) {\n            throw new TypeError('Invalid Tiff. Missing tags');\n        }\n        return { height, width };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WEBP = void 0;\nfunction calculateExtended(buffer) {\n    return {\n        height: 1 + buffer.readUIntLE(7, 3),\n        width: 1 + buffer.readUIntLE(4, 3)\n    };\n}\nfunction calculateLossless(buffer) {\n    return {\n        height: 1 + (((buffer[4] & 0xF) << 10) | (buffer[3] << 2) | ((buffer[2] & 0xC0) >> 6)),\n        width: 1 + (((buffer[2] & 0x3F) << 8) | buffer[1])\n    };\n}\nfunction calculateLossy(buffer) {\n    // `& 0x3fff` returns the last 14 bits\n    // TO-DO: include webp scaling in the calculations\n    return {\n        height: buffer.readInt16LE(8) & 0x3fff,\n        width: buffer.readInt16LE(6) & 0x3fff\n    };\n}\nexports.WEBP = {\n    validate(buffer) {\n        const riffHeader = 'RIFF' === buffer.toString('ascii', 0, 4);\n        const webpHeader = 'WEBP' === buffer.toString('ascii', 8, 12);\n        const vp8Header = 'VP8' === buffer.toString('ascii', 12, 15);\n        return (riffHeader && webpHeader && vp8Header);\n    },\n    calculate(buffer) {\n        const chunkHeader = buffer.toString('ascii', 12, 16);\n        buffer = buffer.slice(20, 30);\n        // Extended webp stream signature\n        if (chunkHeader === 'VP8X') {\n            const extendedHeader = buffer[0];\n            const validStart = (extendedHeader & 0xc0) === 0;\n            const validEnd = (extendedHeader & 0x01) === 0;\n            if (validStart && validEnd) {\n                return calculateExtended(buffer);\n            }\n            else {\n                // TODO: breaking change\n                throw new TypeError('Invalid WebP');\n            }\n        }\n        // Lossless webp stream signature\n        if (chunkHeader === 'VP8 ' && buffer[0] !== 0x2f) {\n            return calculateLossy(buffer);\n        }\n        // Lossy webp stream signature\n        const signature = buffer.toString('hex', 3, 6);\n        if (chunkHeader === 'VP8L' && signature !== '9d012a') {\n            return calculateLossless(buffer);\n        }\n        throw new TypeError('Invalid WebP');\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.detector = void 0;\nconst types_1 = require(\"./types\");\nconst keys = Object.keys(types_1.typeHandlers);\n// This map helps avoid validating for every single image type\nconst firstBytes = {\n    0x38: 'psd',\n    0x42: 'bmp',\n    0x44: 'dds',\n    0x47: 'gif',\n    0x49: 'tiff',\n    0x4d: 'tiff',\n    0x52: 'webp',\n    0x69: 'icns',\n    0x89: 'png',\n    0xff: 'jpg'\n};\nfunction detector(buffer) {\n    const byte = buffer[0];\n    if (byte in firstBytes) {\n        const type = firstBytes[byte];\n        if (types_1.typeHandlers[type].validate(buffer)) {\n            return type;\n        }\n    }\n    const finder = (key) => types_1.typeHandlers[key].validate(buffer);\n    return keys.find(finder);\n}\nexports.detector = detector;\n","import React, { useCallback, useState } from \"react\";\nimport Location from \"../../../../data/world/Location\";\nimport styled from \"styled-components\";\n\nimport { faPaperPlane } from \"@fortawesome/free-solid-svg-icons\";\nimport TextButton from \"../../../form_elements/TextButton\";\nimport Map from \"../../../general_elements/map/Map\";\nimport P2PSender from \"../../../p2p/P2PSender\";\n\nimport \"leaflet/dist/leaflet.css\";\n\ninterface $Props {\n  location: Location;\n}\n\nconst LocationView = ({ location }: $Props) => {\n  const [send, setSend] = useState<boolean>(false);\n\n  const getPicture = useCallback(() => {\n    if (location !== undefined) {\n      if (location.map === \"\" || location.map === null) {\n        return \"\";\n      }\n      return location.map;\n    }\n    return \"\";\n  }, [location]);\n\n  return (\n    <CenterWrapper>\n      <View>\n        {getPicture() !== \"\" ? (\n          <ImageName>\n            <Image pic={getPicture()}></Image>\n            <b>{location.name}</b>\n          </ImageName>\n        ) : (\n          <Name>\n            <b>{location.name}</b>\n          </Name>\n        )}\n      </View>\n\n      <Map editable={false} location={location} />\n      <View>\n        <PropWrapper>\n          {!send && (\n            <TextButton\n              text={`Send ${location.name}`}\n              icon={faPaperPlane}\n              onClick={() => setSend(true)}\n            />\n          )}\n          {!!send && <P2PSender data={location} mode={\"THIS\"} />}\n        </PropWrapper>\n      </View>\n    </CenterWrapper>\n  );\n};\n\nexport default LocationView;\n\nconst CenterWrapper = styled.div`\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n`;\n\nconst View = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  max-width: 800px;\n  padding: 5px;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst ImageName = styled.div`\n  height: 30px;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 50px 5px 5px 50px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\ninterface $ImageProps {\n  pic: string;\n}\n\nconst Image = ({ pic }: $ImageProps) => {\n  const style = {\n    backgroundImage: `url(${pic})`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n  };\n\n  if (pic !== \"\") {\n    return <ImageElm style={style}></ImageElm>;\n  } else {\n    return <Empty />;\n  }\n};\n\nconst ImageElm = styled.div`\n  margin: -10px 5px -10px -10px;\n  height: 47px;\n  width: 47px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ${({ theme }) => theme.main.highlight};\n  background-color: white;\n  overflow: hidden;\n`;\nconst Empty = styled.div``;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\n\nimport {\n  faArrowLeft,\n  faSave,\n  faTrash,\n  faExclamationTriangle,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport LocationView from \"./LocationView\";\nimport LocationEditView from \"./LocationEditView\";\nimport BackButton from \"../../../form_elements/BackButton\";\nimport Location from \"../../../../data/world/Location\";\nimport IconButton from \"../../../form_elements/IconButton\";\nimport { remove, updateWithCallback } from \"../../../../services/DatabaseService\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Dialog from \"../../../general_elements/Dialog\";\nimport { EditToggle, ToggleLeft, ToggleRight } from \"../../../general_elements/ToggleStyle\";\n\ninterface $Props {\n  location: Location;\n  isNew: boolean;\n}\n\nconst LocationDetail = ({ location, isNew }: $Props) => {\n  const [editMode, setMode] = useState<boolean>(isNew);\n  const [locationObj, editLocation] = useState<Location>(location);\n  const [showAlert, setAlert] = useState<boolean>(false);\n  const [showDeleteDialog, setDeleteDialog] = useState<boolean>(false);\n  const [message, setMessage] = useState<string>(\"\");\n  const [unsavedChanges, setUnsavedChanges] = useState<boolean>(false);\n  let history = useHistory();\n\n  const deleteLocation = () => {\n    setDeleteDialog(true);\n  };\n\n  useEffect(() => {\n    if (locationObj !== location) {\n      setUnsavedChanges(true);\n    }\n  }, [locationObj, location]);\n\n  const updateLocation = useCallback((tableName: string, locationObj: Location) => {\n    updateWithCallback(tableName, locationObj, (result) => {\n      if (result > 0) {\n        setUnsavedChanges(false);\n        setMessage(\"Saved successful!\");\n        setAlert(true);\n      } else {\n        setMessage(\"Something went wrong!\");\n        setAlert(true);\n      }\n      setTimeout(() => {\n        setAlert(false);\n      }, 3000);\n    });\n  },[]);\n\n  return (\n    <>\n      {showDeleteDialog && (\n        <Dialog\n          message={`Delete ${location.name}?`}\n          icon={faExclamationTriangle}\n          confirmeText={\"Delete\"}\n          confirmeClick={() => {\n            remove(\"locations\", location.id);\n            history.goBack();\n          }}\n          abortText={\"Back\"}\n          abortClick={() => {\n            setDeleteDialog(false);\n          }}\n        />\n      )}\n      <TopBar>\n        <BackButton icon={faArrowLeft} action={() => history.goBack()} />\n        <EditToggle mode={editMode.toString()}>\n          <ToggleLeft onClick={() => setMode(false)}>View</ToggleLeft>\n          <ToggleRight onClick={() => setMode(true)}>Edit</ToggleRight>\n        </EditToggle>\n        {unsavedChanges && <Icon icon={faExclamationTriangle} title={\"Unsaved changes!\"} />}\n        {editMode && (\n          <>\n            <IconButton onClick={() => updateLocation(\"locations\", locationObj)} icon={faSave} />\n            <IconButton onClick={() => deleteLocation()} icon={faTrash} />\n            {message && showAlert && <Message>{message}</Message>}\n          </>\n        )}\n      </TopBar>\n      {editMode ? (\n        <LocationEditView location={locationObj} onEdit={(value) => editLocation(value)} />\n      ) : (\n        <LocationView location={locationObj} />\n      )}\n    </>\n  );\n};\n\nexport default LocationDetail;\n\nconst TopBar = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  overflow: hidden;\n  flex: 1 1;\n  min-width: calc(100% - 20px);\n  height: 45px;\n  padding: 10px;\n`;\n\nconst Message = styled.div`\n  padding: 5px;\n  width: 150px;\n  height: 30px;\n  line-height: 30px;\n  border-radius: 5px;\n  float: right;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  float: right;\n  line-height: 30px;\n  display: block;\n  height: 30px;\n  padding: 10px;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n","import { MyAppDatabase } from \"../database/MyDatabase\";\nimport { IndexableType } from \"dexie\";\nimport IEntity from \"../data/IEntity\";\nimport Filter from \"../data/Filter\";\n\nexport const update = (tableName: string, data: IEntity) => {\n  const db = new MyAppDatabase();\n  db.open()\n    .then(function () {\n      db.table(tableName).update(data.id, data);\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const updateWithCallback = (\n  tableName: string,\n  data: IEntity,\n  callback: (data: number) => void\n) => {\n  const db = new MyAppDatabase();\n  db.open()\n    .then(function () {\n      db.table(tableName)\n        .update(data.id, data)\n        .then((result: number) => {\n          callback(result);\n        });\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const save = (tableName: string, data: IEntity) => {\n  const db = new MyAppDatabase();\n  db.open()\n    .then(function () {\n      db.table(tableName).add(data);\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const saveNew = (tableName: string, entity: IEntity, filename: string) => {\n  const db = new MyAppDatabase();\n  return db\n    .open()\n    .then(async function () {\n      delete entity[\"id\"];\n      const prom = await db.table(tableName).put({ ...entity, filename: filename });\n      return prom;\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const saveNewFromList = (\n  tableName: string,\n  entities: IEntity[],\n  filename: string,\n  callback: () => void\n) => {\n  const db = new MyAppDatabase();\n  db.open()\n    .then(function () {\n      const refinedEntities = (entities as IEntity[]).map((entity: IEntity) => {\n        delete entity[\"id\"];\n        return { ...entity, filename: filename };\n      });\n      db.table(tableName)\n        .bulkPut(refinedEntities)\n        .then(() => {\n          callback();\n        });\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const saveWithCallback = (\n  tableName: string,\n  data: IEntity,\n  callback: (data: number) => void\n) => {\n  const db = new MyAppDatabase();\n  db.open()\n    .then(function () {\n      db.table(tableName)\n        .add(data)\n        .then((result: number) => {\n          callback(result);\n        });\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const remove = (tableName: string, id: number | undefined) => {\n  const db = new MyAppDatabase();\n  if (id !== undefined) {\n    db.open()\n      .then(function () {\n        db.table(tableName).delete(id);\n      })\n      .finally(function () {\n        db.close();\n      });\n  }\n};\n\nexport const reciveAll = (tableName: string, callback: (data: IndexableType[]) => void) => {\n  const db = new MyAppDatabase();\n  db.open()\n    .then(function () {\n      db.table(tableName)\n        .toArray()\n        .then((array) => {\n          callback(array);\n        });\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const reciveCount = (tableName: string, callback: (value: number) => void) => {\n  const db = new MyAppDatabase();\n  db.open()\n    .then(function () {\n      db.table(tableName).count((count) => {\n        callback(count);\n      });\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const reciveCountPromise = (tableName: string) => {\n  const db = new MyAppDatabase();\n  return db\n    .open()\n    .then(function () {\n      return db.table(tableName).count();\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const reciveByAttribute = (\n  tableName: string,\n  name: string,\n  value: string,\n  callback: (data: IEntity) => void\n) => {\n  const db = new MyAppDatabase();\n  db.open()\n    .then(function () {\n      db.table(tableName)\n        .where(name)\n        .equalsIgnoreCase(value)\n        .toArray()\n        .then((array) => {\n          callback(array[0]);\n        });\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const recivePromiseByAttribute = (tableName: string, name: string, value: string) => {\n  const db = new MyAppDatabase();\n  return db\n    .open()\n    .then(async function () {\n      const array = await db.table(tableName).where(name).equalsIgnoreCase(value).toArray();\n      return array[0];\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const recivePromiseByAttributeCount = (\n  tableName: string,\n  name: string,\n  value: string | number\n) => {\n  const db = new MyAppDatabase();\n  if (typeof value === \"string\") {\n    return db\n      .open()\n      .then(async function () {\n        return await db.table(tableName).where(name).equalsIgnoreCase(value).count();\n      })\n      .finally(function () {\n        db.close();\n      });\n  } else if (typeof value === \"number\") {\n    return db\n      .open()\n      .then(async function () {\n        return await db.table(tableName).where(name).equals(value).count();\n      })\n      .finally(function () {\n        db.close();\n      });\n  } else {\n    return db\n      .open()\n      .then(async function () {\n        return await db\n          .table(tableName)\n          .where(name)\n          .equalsIgnoreCase(\"\" + value)\n          .count();\n      })\n      .finally(function () {\n        db.close();\n      });\n  }\n};\n\nexport const reciveAllPromise = (tableName: string) => {\n  const db = new MyAppDatabase();\n  return db\n    .open()\n    .then(async function () {\n      return await db.table(tableName).toArray();\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const applyFilters = (obj: any, filters: Filter[]) => {\n  let test: boolean[] = [];\n  filters.forEach((filter) => {\n    if (typeof filter.value === \"string\") {\n      if (obj[filter.fieldName] instanceof Array) {\n        let hasTag = false;\n        obj[filter.fieldName].forEach((fieldPart: string) => {\n          // @ts-ignore\n          if (fieldPart.toLowerCase().includes(filter.value.toLowerCase())) {\n            hasTag = true;\n          }\n        });\n        if (hasTag) {\n          test.push(true);\n        } else {\n          test.push(false);\n        }\n      } else {\n        console.log(obj, filter);\n        test.push(\n          // @ts-ignore\n          obj[filter.fieldName].toLowerCase().includes(filter.value.toLowerCase())\n        );\n      }\n    } else if (typeof filter.value === \"number\") {\n      // @ts-ignore\n      test.push(obj[filter.fieldName] === filter.value);\n    } else if (typeof filter.value === \"boolean\") {\n      // @ts-ignore\n      test.push(obj[filter.fieldName] === filter.value);\n    } else if (filter.value instanceof Array) {\n      let arrayTest: boolean = false;\n      filter.value.forEach((filterPart: string | boolean | number) => {\n        if (typeof filterPart === \"string\") {\n          if (\n            // @ts-ignore\n            obj[filter.fieldName].toLowerCase().includes(filterPart.toLowerCase())\n          )\n            arrayTest = true;\n        } else if (typeof filterPart === \"number\") {\n          // @ts-ignore\n          if (obj[filter.fieldName] === filterPart) arrayTest = true;\n        } else if (typeof filterPart === \"boolean\") {\n          // @ts-ignore\n          if (obj[filter.fieldName] === filterPart) arrayTest = true;\n        }\n      });\n      test.push(arrayTest);\n    }\n  });\n\n  let result = true;\n  test.forEach((val) => {\n    if (!val) result = false;\n  });\n  return result;\n};\n\nexport const reciveAllFiltered = (\n  tableName: string,\n  filters: Filter[],\n  callback: (data: IndexableType[]) => void\n) => {\n  const db = new MyAppDatabase();\n  db.open()\n    .then(function () {\n      let sortedFiled: string = \"name\";\n      let reverse: boolean = false;\n\n      filters.forEach((filter: Filter) => {\n        if (filter.sort !== 0) {\n          sortedFiled = filter.fieldName;\n          if (filter.sort === 2) reverse = true;\n        }\n      });\n\n      if (reverse) {\n        db.table(tableName)\n          .filter((obj) => applyFilters(obj, filters))\n          .reverse()\n          .sortBy(sortedFiled)\n          .then((data) => {\n            callback(data);\n          });\n      } else {\n        db.table(tableName)\n          .filter((obj) => applyFilters(obj, filters))\n          .sortBy(sortedFiled)\n          .then((data) => {\n            callback(data);\n          });\n      }\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const reciveAttributeSelection = (\n  tableName: string,\n  attribute: string,\n  callback: (data: IndexableType[]) => void\n) => {\n  const db = new MyAppDatabase();\n  db.open()\n    .then(function () {\n      db.table(tableName)\n        .orderBy(attribute)\n        .uniqueKeys(function (array) {\n          callback(array);\n        });\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const reciveAttributeSelectionPromise = (tableName: string, attribute: string) => {\n  const db = new MyAppDatabase();\n  return db\n    .open()\n    .then(function () {\n      return db.table(tableName).orderBy(attribute).uniqueKeys();\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const createNewWithId = (\n  tableName: string,\n  entity: IEntity,\n  callback: (id: number) => void\n) => {\n  const db = new MyAppDatabase();\n  db.open()\n    .then(function () {\n      db.table(tableName)\n        .put(entity)\n        .then((id: number) => {\n          callback(id);\n        });\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const deleteAll = (tableName: string) => {\n  const db = new MyAppDatabase();\n  db.open()\n    .then(function () {\n      db.table(tableName).clear();\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const exportFilteredFromTable = (tableName: string, filters: Filter[], filename: string) => {\n  reciveAllFiltered(tableName, filters, (all: IndexableType[]) => {\n    let contentType = \"application/json;charset=utf-8;\";\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n      var blob = new Blob([decodeURIComponent(encodeURI(JSON.stringify(all)))], {\n        type: contentType,\n      });\n      navigator.msSaveOrOpenBlob(blob, filename);\n    } else {\n      var a = document.createElement(\"a\");\n      a.download = filename;\n      a.href = \"data:\" + contentType + \",\" + encodeURIComponent(JSON.stringify(all));\n      a.target = \"_blank\";\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    }\n  });\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  icon: IconDefinition;\n  floatLeft?: boolean;\n  disabled?: boolean;\n  transform?: string | Transform;\n  onClick: (() => void) | ((e: any) => void);\n}\n\nconst IconButton = ({ icon, floatLeft, disabled, transform, onClick }: $Props) => {\n  return (\n    <>\n      {!disabled && (\n        <SimpleButton left={floatLeft} onClick={onClick}>\n          <Icon icon={icon} transform={transform} />\n        </SimpleButton>\n      )}\n      {disabled && (\n        <DisabledSimpleButton>\n          <Icon icon={icon} transform={transform} />\n        </DisabledSimpleButton>\n      )}\n    </>\n  );\n};\n\nexport default IconButton;\n\ntype FloatMpde = {\n  left?: boolean;\n};\n\nconst SimpleButton = styled.div<FloatMpde>`\n  color: ${({ theme }) => theme.buttons.color};\n  background-color: ${({ theme }) => theme.buttons.backgroundColor};\n  cursor: pointer;\n\n  font-size: 16px;\n  overflow: hidden;\n  height: ${({ theme }) => theme.buttons.height};\n  line-height: ${({ theme }) => theme.buttons.height};\n  float: ${({ left }) => (left ? \"left\" : \"right\")};\n  padding: 10px;\n  margin: 5px;\n  border-radius: 10px;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n\n  transition: color 0.2s;\n\n  &:hover {\n    color: white;\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst DisabledSimpleButton = styled(SimpleButton)`\n  color: ${({ theme }) => theme.buttons.backgroundColor};\n  background-color: ${({ theme }) => theme.buttons.color};\n  cursor: not-allowed;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  flex: 1 1 auto;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  text: string;\n  disabled?: boolean;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onClick: () => void;\n}\n\nconst TextButton = ({ text, icon, transform, disabled, onClick }: $Props) => {\n  return (\n    <SimpleButton onClick={onClick} disabled={disabled}>\n      {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {text}\n    </SimpleButton>\n  );\n};\n\nexport default TextButton;\n\nconst SimpleButton = styled.button`\n  color: ${({ theme }) => theme.buttons.color};\n  background-color: ${({ theme }) => theme.buttons.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: ${({ theme }) => theme.buttons.height};\n  line-height: ${({ theme }) => theme.buttons.height};\n  float: right;\n  padding: 10px;\n  margin: 5px;\n  border-radius: 10px;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  box-sizing: content-box;\n  border: none;\n\n  transition: color 0.2s;\n\n  &:hover {\n    color: ${({ theme }) => theme.buttons.hoverColor};\n  }\n\n  &:disabled {\n    background-color: ${({ theme }) => theme.buttons.disabled};\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  flex: 1 1 auto;\n  margin-right: 5px;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  value: string;\n  label: string;\n  placeholder?: string;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: string) => void;\n}\n\nconst StringField = ({ value, label, placeholder, icon, transform, onChange }: $Props) => (\n  <Field>\n    <LabelText>\n      {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n    </LabelText>\n    <Input\n      type=\"text\"\n      value={value}\n      onChange={(e) => onChange(e.target.value)}\n      placeholder={placeholder}\n    ></Input>\n  </Field>\n);\n\nexport default StringField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1 auto;\n`;\n\nconst Input = styled.input`\n  flex: 3 1 auto;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  border-radius: 5px;\n  width: 0;\n  min-width: 100px;\n`;\n","import React, { useEffect, useState } from \"react\";\nimport { BiError, BiHistory, BiSelectMultiple } from \"react-icons/bi\";\nimport {\n  GiCrystalWand,\n  GiBackpack,\n  GiWomanElfFace,\n  GiPlagueDoctorProfile,\n  GiSwordClash,\n  GiBookmarklet,\n  GiScrollUnfurled,\n  GiSolarSystem,\n  GiDjinn,\n  GiBookshelf,\n} from \"react-icons/gi\";\nimport {\n  faMeteor,\n  faIdCard,\n  faDragon,\n  faMapMarkedAlt,\n  faTable,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { MdEvent } from \"react-icons/md\";\nimport { HiUserGroup } from \"react-icons/hi\";\nimport { recivePromiseByAttributeCount } from \"../../services/DatabaseService\";\n\ninterface $Props {\n  type: string;\n  name: string;\n}\n\nconst LinkCheck = ({ type, name }: $Props) => {\n  const [loading, setLoading] = useState<boolean>(true);\n  const [entitiyFound, setEntity] = useState<boolean>(false);\n\n  useEffect(() => {\n    let newType = type + \"s\";\n    if (type === \"class\" || type === \"subclass\") newType = type + \"es\";\n    recivePromiseByAttributeCount(newType, \"name\", name).then((count: number) => {\n      setEntity(count > 0);\n      setLoading(false);\n    });\n  }, [type, name]);\n\n  const formatIcon = (type: string) => {\n    switch (type) {\n      case \"spell\":\n        return <FontAwesomeIcon icon={faMeteor} />;\n      case \"item\":\n        return <GiCrystalWand />;\n      case \"gear\":\n        return <GiBackpack />;\n      case \"race\":\n      case \"subrace\":\n        return <GiWomanElfFace />;\n      case \"class\":\n      case \"subclass\":\n        return <GiPlagueDoctorProfile />;\n      case \"selection\":\n        return <BiSelectMultiple />;\n      case \"char\":\n        return <FontAwesomeIcon icon={faIdCard} />;\n      case \"monster\":\n        return <FontAwesomeIcon icon={faDragon} />;\n      case \"encounter\":\n        return <GiSwordClash />;\n      case \"campaign\":\n        return <GiBookmarklet />;\n      case \"quest\":\n        return <GiScrollUnfurled />;\n      case \"event\":\n        return <MdEvent />;\n      case \"world\":\n        return <GiSolarSystem />;\n      case \"location\":\n        return <FontAwesomeIcon icon={faMapMarkedAlt} />;\n      case \"npc\":\n        return <GiDjinn />;\n      case \"randomTable\":\n        return <FontAwesomeIcon icon={faTable} />;\n      case \"book\":\n        return <GiBookshelf />;\n      case \"group\":\n        return <HiUserGroup />;\n      default:\n        return \"\";\n    }\n  };\n\n  return (\n    <>\n      {loading && <BiHistory />}\n      {!loading && !entitiyFound && <BiError />}\n      {!loading && entitiyFound && <>{formatIcon(type)}</>}\n    </>\n  );\n};\n\nexport default LinkCheck;\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\nimport LinkCheck from \"./LinkCheck\";\n\ninterface $Props {\n  text: string;\n}\n\nconst FormatedText = ({ text }: $Props) => {\n  const [formatedText, setFormatedText] = useState<JSX.Element>();\n  let history = useHistory();\n\n  const cut = (str: string, cutStart: number, cutEnd: number) => {\n    return str.substr(0, cutStart) + str.substr(cutEnd + 1);\n  };\n\n  const formatLink = useCallback(\n    (text: string) => {\n      if (text !== undefined) {\n        if (text.includes(\"[[\") && text.includes(\"]]\")) {\n          const parts = text.split(\"[[\");\n          let formattedParts: any[] = [];\n          parts.forEach((part: string, index: number) => {\n            if (part.includes(\"]]\")) {\n              const codePart: string[] = part.split(\"]]\");\n              const linkParts: string[] = codePart[0].split(\".\");\n              const link: string = \"/\" + linkParts[0] + \"-detail/name/\" + linkParts[1];\n              formattedParts.push(\n                <TextPart key={index}>\n                  <Link onClick={() => history.push(link)}>\n                    <LinkCheck type={linkParts[0]} name={linkParts[1]} /> {linkParts[1]}\n                  </Link>\n                  <TextPart>{codePart[1]}</TextPart>\n                </TextPart>\n              );\n            } else {\n              if (part !== \"\") formattedParts.push(<TextPart key={index}>{part}</TextPart>);\n            }\n          });\n          return <>{formattedParts}</>;\n        } else {\n          return <TextPart>{text}</TextPart>;\n        }\n      }\n    },\n    [history]\n  );\n\n  const formatTable = useCallback(\n    (textPart: string) => {\n      if (textPart.includes(\"||table||\")) {\n        const table: string[] = text.split(\"||table||\");\n        const tableRows: string[] = table[1].split(\"||\");\n        let isHead = true;\n        return (\n          <>\n            {formatLink(table[0])}\n            <table>\n              <tbody>\n                {tableRows.map((row: string, index: number) => {\n                  if (row.includes(\"|\")) {\n                    if (isHead) {\n                      isHead = false;\n                      const cells = row.split(\"|\");\n                      return (\n                        <tr key={index}>\n                          {cells.map((cell: string, index: number) => {\n                            return <TableHeadProp key={index}>{cell}</TableHeadProp>;\n                          })}\n                        </tr>\n                      );\n                    } else {\n                      const cells = row.split(\"|\");\n                      return (\n                        <tr key={index}>\n                          {cells.map((cell: string, index: number) => {\n                            return <TableProp key={index}>{formatLink(cell)}</TableProp>;\n                          })}\n                        </tr>\n                      );\n                    }\n                  } else {\n                    return <></>;\n                  }\n                })}\n              </tbody>\n            </table>\n            {formatLink(table[2])}\n          </>\n        );\n      } else {\n        return formatLink(textPart);\n      }\n    },\n    [text, formatLink]\n  );\n\n  const formatText = useCallback(\n    (textPart: string) => {\n      while (textPart.includes(\"{{\")) {\n        const cutStart = textPart.indexOf(\"{{\");\n        const cutEnd = textPart.indexOf(\"}}\") + 1;\n        textPart = cut(textPart, cutStart, cutEnd);\n      }\n      return formatTable(textPart);\n    },\n    [formatTable]\n  );\n\n  useEffect(() => {\n    if (text !== undefined) {\n      let formatedText = formatText(text);\n      setFormatedText(formatedText);\n    }\n  }, [text, history, formatText]);\n\n  return <>{formatedText}</>;\n};\n\nexport default FormatedText;\n\nconst Link = styled.span`\n  display: inline-block;\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  text-decoration: none;\n  color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 14px;\n  padding: 0px 5px 0px 5px;\n  cursor: pointer;\n  white-space: pre;\n`;\n\nconst TextPart = styled.span`\n  white-space: pre-line;\n`;\n\nconst TableHeadProp = styled.th`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n  padding: 2px 5px 2px 5px;\n`;\n\nconst TableProp = styled.td`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n  padding: 5px;\n  text-align: center;\n`;\n","import Dexie from \"dexie\";\nimport { useReducer, useEffect, useCallback, useState } from \"react\";\nimport Filter from \"../data/Filter\";\nimport ReactDOM from \"react-dom\";\n\ntype TableState<T> = [T[] | undefined, boolean, Dexie.DexieError | undefined];\ntype TableAction<T> =\n  | { type: \"resolved\"; data: T[] }\n  | { type: \"empty\" }\n  | { type: \"reset\" }\n  | { type: \"error\"; error: Dexie.DexieError };\n\ntype ItemState<T> = [T | undefined, boolean, Dexie.DexieError | undefined];\ntype ItemAction<T> =\n  | { type: \"resolved\"; data: T }\n  | { type: \"empty\" }\n  | { type: \"reset\" }\n  | { type: \"error\"; error: Dexie.DexieError };\n\nexport const useTable = <T, U>(table: Dexie.Table<T, U>): TableState<T> => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const reducer = useCallback((state: TableState<T>, action: TableAction<T>): TableState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (effect) {\n      const getAndDispatch = () =>\n        table\n          .toArray()\n          .then((data) => {\n            dispatch({\n              type: \"resolved\",\n              data,\n            });\n          })\n          .catch((error) => {\n            dispatch({\n              type: \"error\",\n              error,\n            });\n          });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, effect]);\n\n  return state;\n};\n\nexport const useTableByFilter = <T, U>(\n  table: Dexie.Table<T, U>,\n  filters: Filter[]\n): TableState<T> => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const [filter, setFilter] = useState<Filter[]>(filters);\n  const reducer = useCallback((state: TableState<T>, action: TableAction<T>): TableState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      case \"reset\":\n        return [undefined, true, undefined];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (filter !== filters) {\n      ReactDOM.unstable_batchedUpdates(() => {\n        dispatch({ type: \"reset\" });\n        setFilter(filters);\n        setEffect(true);\n      });\n    }\n  }, [filter, filters, setEffect]);\n\n  useEffect(() => {\n    if (effect) {\n      const getAndDispatch = () => console.time(\"filtered get all\");\n      table\n        .filter((obj: T) => {\n          let test: boolean[] = [];\n          filters.forEach((filter) => {\n            if (typeof filter.value === \"string\") {\n              test.push(\n                // @ts-ignore\n                obj[filter.fieldName].toLowerCase().includes(filter.value.toLowerCase())\n              );\n            } else if (typeof filter.value === \"number\") {\n              // @ts-ignore\n              test.push(obj[filter.fieldName] === filter.value);\n            } else if (typeof filter.value === \"boolean\") {\n              // @ts-ignore\n              test.push(obj[filter.fieldName] === filter.value);\n            } else if (filter.value instanceof Array) {\n              let arrayTest: boolean = false;\n              filter.value.forEach((filterPart: string | boolean | number) => {\n                if (typeof filterPart === \"string\") {\n                  if (\n                    // @ts-ignore\n                    obj[filter.fieldName].toLowerCase().includes(filterPart.toLowerCase())\n                  )\n                    arrayTest = true;\n                } else if (typeof filterPart === \"number\") {\n                  // @ts-ignore\n                  if (obj[filter.fieldName] === filterPart) arrayTest = true;\n                } else if (typeof filterPart === \"boolean\") {\n                  // @ts-ignore\n                  if (obj[filter.fieldName] === filterPart) arrayTest = true;\n                }\n              });\n              test.push(arrayTest);\n            }\n          });\n\n          let result = true;\n          test.forEach((val) => {\n            if (!val) result = false;\n          });\n          return result;\n        })\n        .sortBy(\"name\")\n        .then((data) => {\n          console.timeEnd(\"filtered get all\");\n          dispatch({\n            type: \"resolved\",\n            data,\n          });\n        })\n        .catch((error) => {\n          dispatch({\n            type: \"error\",\n            error,\n          });\n        });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, effect, filters]);\n\n  return state;\n};\n\nexport const useItem = <T, U>(table: Dexie.Table<T, U>, id: U) => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const reducer = useCallback((state: ItemState<T>, action: ItemAction<T>): ItemState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"empty\":\n        return [undefined, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (effect) {\n      const getAndDispatch = () =>\n        table\n          .get(id)\n          .then((data) => {\n            if (data !== undefined) {\n              dispatch({\n                type: \"resolved\",\n                data,\n              });\n            } else {\n              dispatch({\n                type: \"empty\",\n              });\n            }\n          })\n          .catch((error) => {\n            dispatch({\n              type: \"error\",\n              error,\n            });\n          });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, id, effect]);\n\n  return state;\n};\n\nexport const useItemByAttr = <T, U>(table: Dexie.Table<T, U>, attr: string, attrValue: string) => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const reducer = useCallback((state: ItemState<T>, action: ItemAction<T>): ItemState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"empty\":\n        return [undefined, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (effect) {\n      const getAndDispatch = () =>\n        table\n          .where(attr)\n          .equalsIgnoreCase(attrValue)\n          .first()\n          .then((data) => {\n            if (data !== undefined) {\n              dispatch({\n                type: \"resolved\",\n                data,\n              });\n            } else {\n              dispatch({\n                type: \"empty\",\n              });\n            }\n          })\n          .catch((error) => {\n            dispatch({\n              type: \"error\",\n              error,\n            });\n          });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, attr, attrValue, effect]);\n\n  return state;\n};\n","import React from \"react\";\nimport { RouteComponentProps, useHistory } from \"react-router\";\nimport Location from \"../../../../../data/world/Location\";\nimport { MyAppDatabase } from \"../../../../../database/MyDatabase\";\nimport { useItemByAttr } from \"../../../../../hooks/DexieHooks\";\nimport { LoadingSpinner } from \"../../../../Loading\";\nimport LocationDetail from \"../LocationDetail\";\nimport { createNewWithId } from \"../../../../../services/DatabaseService\";\nimport ErrorTile from \"../../../../general_elements/ErrorTile\";\n\ntype TParams = { name: string };\n\nconst NameToLocation = ({ match }: RouteComponentProps<TParams>) => {\n  let history = useHistory();\n  const db = new MyAppDatabase();\n  const [location, loading, error] = useItemByAttr(db.locations, \"name\", match.params.name);\n\n  const createNewLocation = () => {\n    let newLocation = new Location(0, match.params.name);\n    delete newLocation.id;\n    createNewWithId(\"locations\", newLocation, (id) => {\n      history.push(`/location-detail/id/${id}`);\n    });\n  };\n\n  return (\n    <>\n      {!error && loading && <LoadingSpinner />}\n      {error && !loading && <>Error occured</>}\n      {!error && !loading && location === undefined && (\n        <ErrorTile\n          text={\"No such location exists. Want to creat such location?\"}\n          buttonText={\"Add\"}\n          onButton={() => createNewLocation()}\n        />\n      )}\n      {!error && !loading && location !== undefined && (\n        <LocationDetail location={location} isNew={location.name === \"\" ? true : false} />\n      )}\n    </>\n  );\n};\n\nexport default NameToLocation;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  icon: IconDefinition;\n  transform?: string | Transform;\n  action: () => void;\n}\n\nconst BackButton = ({ icon, transform, action }: $Props) => {\n  return (\n    <Back onClick={action}>\n      <Icon icon={icon} transform={transform} />\n    </Back>\n  );\n};\n\nexport default BackButton;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n  &:hover {\n    color: ${({ theme }) => theme.buttons.color};\n  }\n`;\n\nconst Back = styled.div`\n  float: left;\n  font-size: calc(${({ theme }) => theme.buttons.height} + 10px);\n  margin: 10px 0px 0px 10px;\n  cursor: pointer;\n`;\n","import styled from \"styled-components\";\n\nexport const ToggleLeft = styled.div`\n  width: auto;\n  padding: 10px;\n  margin: 5px 0px 5px 5px;\n  height: ${({ theme }) => theme.buttons.height};\n  line-height: ${({ theme }) => theme.buttons.height};\n  float: left;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  border-radius: 5px 0px 0px 5px;\n\n  transition: color 0.2s, background-color 0.2s;\n\n  &:hover {\n    color: ${({ theme }) => theme.buttons.hoverColor};\n  }\n`;\n\nexport const ToggleRight = styled(ToggleLeft)`\n  margin: 5px 5px 5px 0px;\n\n  border-radius: 0px 5px 5px 0px;\n`;\n\ntype EditMode = {\n  mode: string;\n};\n\nexport const EditToggle = styled.div<EditMode>`\n  width: auto;\n  height: ${({ theme }) => theme.buttons.height};\n  float: right;\n  color: ${({ theme }) => theme.buttons.color};\n\n  ${ToggleLeft} {\n    background-color: ${(props) => {\n      if (props.mode !== \"true\") {\n        return ({ theme }) => theme.buttons.backgroundColor;\n      } else {\n        return ({ theme }) => theme.tile.backgroundColor;\n      }\n    }};\n  }\n\n  ${ToggleRight} {\n    background-color: ${(props) => {\n      if (props.mode === \"true\") {\n        return ({ theme }) => theme.buttons.backgroundColor;\n      } else {\n        return ({ theme }) => theme.tile.backgroundColor;\n      }\n    }};\n  }\n`;\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Peer from \"peerjs\";\nimport { reciveAllPromise } from \"../../services/DatabaseService\";\nimport IEntity from \"../../data/IEntity\";\nimport { generateBrokerId } from \"../../services/PeerIdService\";\n\nimport { faExclamationCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport StringField from \"../form_elements/StringField\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\ninterface $Props {\n  data: string | IEntity;\n  mode: \"ALL\" | \"THIS\";\n}\n\nconst P2PSender = ({ data, mode }: $Props) => {\n  const [name, setName] = useState<string>(\"\");\n  const [peer, setPeer] = useState<Peer>();\n  const [error, setError] = useState<any>();\n\n  useEffect(() => {\n    if (peer === undefined) {\n      const brokerId = generateBrokerId();\n      const newPeer = new Peer(brokerId, {\n        host: \"peerjs.thedndtome.com\",\n        secure: true,\n      });\n      console.log(newPeer);\n      newPeer.on(\"connection\", function (conn) {\n        conn.on(\"error\", function (errorData) {\n          setError(errorData);\n        });\n        conn.on(\"open\", function () {\n          conn.send(data);\n        });\n      });\n      setPeer(newPeer);\n    }\n  }, [data, peer]);\n\n  useEffect(() => {\n    if (peer !== undefined) {\n      if (peer.disconnected && !peer.destroyed) {\n        peer.reconnect();\n      }\n      if (mode === \"ALL\" && typeof data === \"string\") {\n        reciveAllPromise(data).then((results) => {\n          console.log(results);\n          setName(data);\n          peer.on(\"connection\", function (conn) {\n            conn.on(\"error\", function (errorData) {\n              setError(errorData);\n            });\n            conn.on(\"open\", function () {\n              conn.send(results);\n            });\n          });\n        });\n      } else if (mode === \"THIS\" && typeof data !== \"string\") {\n        setName(data.name);\n        peer.on(\"connection\", function (conn) {\n          conn.on(\"error\", function (errorData) {\n            setError(errorData);\n          });\n          conn.on(\"open\", function () {\n            conn.send(data);\n          });\n        });\n      }\n    }\n  }, [data, mode, peer]);\n\n  return (\n    <>\n      {peer !== undefined && peer.id !== null && (\n        <>\n          <StringField value={peer.id} label={`Your ${name} ID:`} onChange={() => {}} />\n        </>\n      )}\n      {error && <Icon icon={faExclamationCircle} />}\n    </>\n  );\n};\n\nexport default P2PSender;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n","const getRandomInteger = (min: number, max: number) => {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nexport const generateBrokerId = () => {\n  let password = \"\";\n  const characters =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  for (let i = 0; i < 13; i++) {\n    password += characters[getRandomInteger(0, characters.length - 1)];\n  }\n  return password;\n};\n","import Dexie from \"dexie\";\nimport Book from \"../data/Book\";\nimport Campaign from \"../data/campaign/Campaign\";\nimport Npc from \"../data/campaign/Npc\";\nimport Quest from \"../data/campaign/Quest\";\nimport Char from \"../data/chars/Char\";\nimport Class from \"../data/classes/Class\";\nimport Subclass from \"../data/classes/Subclass\";\nimport Encounter from \"../data/encounter/Encounter\";\nimport Gear from \"../data/Gear\";\nimport Item from \"../data/Item\";\nimport Monster from \"../data/Monster\";\nimport Race from \"../data/races/Race\";\nimport Subrace from \"../data/races/Subrace\";\nimport RandomTable from \"../data/RandomTable\";\nimport Selection from \"../data/Selection\";\nimport Spell from \"../data/Spell\";\nimport World from \"../data/world/World\";\nimport Location from \"../data/world/Location\";\nimport Event from \"../data/world/Event\";\nimport Group from \"../data/campaign/Group\";\n\nexport class MyAppDatabase extends Dexie {\n  spells: Dexie.Table<Spell, number>; // number = type of the primkey\n  items: Dexie.Table<Item, number>; // number = type of the primkey\n  gears: Dexie.Table<Gear, number>; // number = type of the primkey\n  monsters: Dexie.Table<Monster, number>; // number = type of the primkey\n  races: Dexie.Table<Race, number>; // number = type of the primkey\n  subraces: Dexie.Table<Subrace, number>; // number = type of the primkey\n  classes: Dexie.Table<Class, number>; // number = type of the primkey\n  subclasses: Dexie.Table<Subclass, number>; // number = type of the primkey\n  chars: Dexie.Table<Char, number>; // number = type of the primkey\n  encounters: Dexie.Table<Encounter, number>; // number = type of the primkey\n  books: Dexie.Table<Book, number>; // number = type of the primkey\n  selections: Dexie.Table<Selection, number>; // number = type of the primkey\n  randomTables: Dexie.Table<RandomTable, number>; // number = type of the primkey\n  campaigns: Dexie.Table<Campaign, number>; // number = type of the primkey\n  quests: Dexie.Table<Quest, number>; // number = type of the primkey\n  npcs: Dexie.Table<Npc, number>; // number = type of the primkey\n  worlds: Dexie.Table<World, number>; // number = type of the primkey\n  locations: Dexie.Table<Location, number>; // number = type of the primkey\n  events: Dexie.Table<Event, number>; // number = type of the primkey\n  groups: Dexie.Table<Group, number>; // number = type of the primkey\n\n  constructor() {\n    super(\"DnDTomeDB\");\n    this.version(1).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic\",\n    });\n    this.version(2).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic\",\n      items: \"++id, name, sources, pic, description, type, rarity, attunment\",\n    });\n    this.version(3).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic\",\n      items: \"++id, name, sources, pic, description, type, rarity, attunment\",\n      gears: \"++id, name, sources, pic, description, type, cost, damage, weight, properties\",\n    });\n    this.version(4).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic\",\n      items: \"++id, name, sources, pic, description, type, rarity, attunment\",\n      gears: \"++id, name, sources, pic, description, type, cost, damage, weight, properties\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n    });\n    this.version(5).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic\",\n      items: \"++id, name, sources, pic, description, type, rarity, attunment\",\n      gears: \"++id, name, sources, pic, description, type, cost, damage, weight, properties\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n      chars:\n        \"++id, name, player, prof, level, pic, classes, race, background, ac, hp, currentHp, hitDice, init, speed, str, dex, con, int, wis, cha, strSave, dexSave, conSave, intSave, wisSave, chaSave, strSaveProf, dexSaveProf, conSaveProf, intSaveProf, wisSaveProf, chaSaveProf, actions, bonusActions, reactions, features, classFeatures, racialFeatures, profsLangs, senses, passivPerception, passivInsight, passivInvestigation, notesOne, notesTwo, notesThree, acrobatics, animalHandling, arcana, athletics, deception, history, insight, intimidation, investigation, medicine, nature, perception, performance, persuasion, religion, sleightOfHand, stealth, survival, acrobaticsProf, animalHandlingProf, arcanaProf, athleticsProf, deceptionProf, historyProf, insightProf, intimidationProf, investigationProf, medicineProf, natureProf, perceptionProf, performanceProf, persuasionProf, religionProf, sleightOfHandProf, stealthProf, survivalProf, spellNotes, alignment, inspiration, castingHit, castingDC\",\n    });\n    this.version(6).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic\",\n      items: \"++id, name, sources, pic, description, type, rarity, attunment\",\n      gears: \"++id, name, sources, pic, description, type, cost, damage, weight, properties\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n      chars:\n        \"++id, name, player, prof, level, pic, classes, race, background, ac, hp, currentHp, hitDice, init, speed, str, dex, con, int, wis, cha, strSave, dexSave, conSave, intSave, wisSave, chaSave, strSaveProf, dexSaveProf, conSaveProf, intSaveProf, wisSaveProf, chaSaveProf, actions, bonusActions, reactions, features, classFeatures, racialFeatures, profsLangs, senses, passivPerception, passivInsight, passivInvestigation, notesOne, notesTwo, notesThree, acrobatics, animalHandling, arcana, athletics, deception, history, insight, intimidation, investigation, medicine, nature, perception, performance, persuasion, religion, sleightOfHand, stealth, survival, acrobaticsProf, animalHandlingProf, arcanaProf, athleticsProf, deceptionProf, historyProf, insightProf, intimidationProf, investigationProf, medicineProf, natureProf, perceptionProf, performanceProf, persuasionProf, religionProf, sleightOfHandProf, stealthProf, survivalProf, spellNotes, alignment, inspiration, castingHit, castingDC\",\n      chars_spells: \"++id, char_id, spell_id, prepared\",\n      chars_monsters: \"++id, char_id, monster_id\",\n      chars_items:\n        \"++id, char_id, item_id, gear_id, amount, equiped, attuned, damage, hit, range, properties\",\n    });\n    this.version(7).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic\",\n      items:\n        \"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename\",\n      gears:\n        \"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n      races:\n        \"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename\",\n      subraces: \"++id, name, type, abilityScores, traits, sources, filename\",\n      classes: \"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename\",\n      subclasses: \"++id, name, type, features, sources, filename\",\n      chars:\n        \"++id, name, player, pic, classes, race, background, spells, spellSlots, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC\",\n    });\n    this.version(8).stores({\n      chars_spells: null,\n      chars_monsters: null,\n      chars_items: null,\n\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic\",\n      items:\n        \"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename\",\n      gears:\n        \"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n      races:\n        \"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename\",\n      subraces: \"++id, name, type, abilityScores, traits, sources, filename\",\n      classes: \"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename\",\n      subclasses: \"++id, name, type, features, sources, filename\",\n      chars:\n        \"++id, name, player, pic, classes, race, background, spells, spellSlots, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC\",\n      encounters: \"++id, name, monsters, players\",\n    });\n    this.version(9).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic\",\n      items:\n        \"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename\",\n      gears:\n        \"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n      races:\n        \"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename\",\n      subraces: \"++id, name, type, abilityScores, traits, sources, filename\",\n      classes: \"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename\",\n      subclasses: \"++id, name, type, features, sources, filename\",\n      chars:\n        \"++id, name, player, pic, classes, race, background, spells, spellSlots, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC\",\n      encounters: \"++id, name, monsters, players\",\n      books: \"++id, name, cover, data, pages, tags\",\n    });\n    this.version(10).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic\",\n      items:\n        \"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename\",\n      gears:\n        \"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n      races:\n        \"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename\",\n      subraces: \"++id, name, type, abilityScores, traits, sources, filename\",\n      classes: \"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename\",\n      subclasses: \"++id, name, type, features, sources, filename\",\n      chars:\n        \"++id, name, player, pic, classes, race, background, spells, spellSlots, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC\",\n      encounters: \"++id, name, monsters, players\",\n      books: \"++id, name, cover, data, pages, tags\",\n      selections: \"++id, name, selectionOptions, filename\",\n    });\n    this.version(11).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic\",\n      items:\n        \"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename\",\n      gears:\n        \"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n      races:\n        \"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename\",\n      subraces: \"++id, name, type, abilityScores, traits, sources, filename\",\n      classes: \"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename\",\n      subclasses: \"++id, name, type, features, sources, filename\",\n      chars:\n        \"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC\",\n      encounters: \"++id, name, monsters, players\",\n      books: \"++id, name, cover, data, pages, tags\",\n      selections: \"++id, name, selectionOptions, filename\",\n    });\n    this.version(12).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic\",\n      items:\n        \"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename\",\n      gears:\n        \"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n      races:\n        \"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename\",\n      subraces: \"++id, name, type, abilityScores, traits, sources, filename\",\n      classes: \"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename\",\n      subclasses: \"++id, name, type, features, sources, filename\",\n      chars:\n        \"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC\",\n      encounters: \"++id, name, monsters, players\",\n      books: \"++id, name, cover, data, pages, tags\",\n      selections: \"++id, name, selectionOptions, filename\",\n      randomTables: \"++id, name, rows, header, filename\",\n    });\n    this.version(13).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename\",\n      items:\n        \"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename\",\n      gears:\n        \"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n      races:\n        \"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename\",\n      subraces: \"++id, name, type, abilityScores, traits, sources, filename\",\n      classes: \"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename\",\n      subclasses: \"++id, name, type, features, sources, filename\",\n      chars:\n        \"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC\",\n      encounters: \"++id, name, monsters, players\",\n      books: \"++id, name, cover, data, pages, tags\",\n      selections: \"++id, name, selectionOptions, filename\",\n      randomTables: \"++id, name, rows, header, filename\",\n    });\n    this.version(14).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename\",\n      items:\n        \"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename\",\n      gears:\n        \"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n      races:\n        \"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename\",\n      subraces: \"++id, name, type, abilityScores, traits, sources, filename\",\n      classes: \"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename\",\n      subclasses: \"++id, name, type, features, sources, filename\",\n      chars:\n        \"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC\",\n      encounters: \"++id, name, monsters, players\",\n      books: \"++id, name, cover, data, pages, tags\",\n      selections: \"++id, name, selectionOptions, filename\",\n      randomTables: \"++id, name, rows, header, filename\",\n      campaigns:\n        \"++id, name, pic, description, world, quests, npcs, notes, players, sources, filename\",\n    });\n    this.version(15).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename\",\n      items:\n        \"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename\",\n      gears:\n        \"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n      races:\n        \"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename\",\n      subraces: \"++id, name, type, abilityScores, traits, sources, filename\",\n      classes: \"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename\",\n      subclasses: \"++id, name, type, features, sources, filename\",\n      chars:\n        \"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC\",\n      encounters: \"++id, name, monsters, players\",\n      books: \"++id, name, cover, data, pages, tags\",\n      selections: \"++id, name, selectionOptions, filename\",\n      randomTables: \"++id, name, rows, header, filename\",\n      campaigns:\n        \"++id, name, pic, description, world, quests, npcs, notes, players, sources, filename\",\n      quests:\n        \"++id, name, pic, locations, origin, description, rewards, followQuest, sources, filename\",\n      npcs: \"++id, name, pic, char, traits, description, sources, filename\",\n      worlds: \"++id, name, map, description, locations, events, notes, sources, filename\",\n      locations: \"++id, name, map, description, events, notes, sources, filename\",\n      events: \"++id, name, description, locations, npcs, notes, sources, filename\",\n    });\n    this.version(16).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename\",\n      items:\n        \"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename\",\n      gears:\n        \"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n      races:\n        \"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename\",\n      subraces: \"++id, name, type, abilityScores, traits, sources, filename\",\n      classes: \"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename\",\n      subclasses: \"++id, name, type, features, sources, filename\",\n      chars:\n        \"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC\",\n      encounters: \"++id, name, monsters, players\",\n      books: \"++id, name, cover, data, pages, tags\",\n      selections: \"++id, name, selectionOptions, filename\",\n      randomTables: \"++id, name, rows, header, filename\",\n      campaigns:\n        \"++id, name, pic, description, world, quests, npcs, notes, players, map, sources, filename\",\n      quests:\n        \"++id, name, pic, locations, origin, description, rewards, followQuest, sources, filename\",\n      npcs: \"++id, name, pic, char, traits, description, sources, filename\",\n      worlds: \"++id, name, map, description, locations, events, notes, sources, filename\",\n      locations: \"++id, name, map, description, events, notes, sources, filename\",\n      events: \"++id, name, description, locations, npcs, notes, sources, filename\",\n    });\n    this.version(17).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename\",\n      items:\n        \"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename\",\n      gears:\n        \"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n      races:\n        \"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename\",\n      subraces: \"++id, name, type, abilityScores, traits, sources, filename\",\n      classes: \"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename\",\n      subclasses: \"++id, name, type, features, sources, filename\",\n      chars:\n        \"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC\",\n      encounters: \"++id, name, monsters, players\",\n      books: \"++id, name, cover, data, pages, tags\",\n      selections: \"++id, name, selectionOptions, filename\",\n      randomTables: \"++id, name, rows, header, filename\",\n      campaigns:\n        \"++id, name, pic, description, world, npcs, notes, logs, players, flow, map, sources, filename\",\n      quests: \"++id, name, pic, description, rewards, followQuest, sources, filename\",\n      npcs: \"++id, name, pic, char, traits, description, sources, filename\",\n      worlds: \"++id, name, map, description, events, notes, sources, filename\",\n      locations:\n        \"++id, name, map, dimension, description, events, notes, markers, sources, filename\",\n      events: \"++id, name, description, npcs, notes, sources, filename\",\n    });\n    this.version(18).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename\",\n      items:\n        \"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename\",\n      gears:\n        \"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n      races:\n        \"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename\",\n      subraces: \"++id, name, type, abilityScores, traits, sources, filename\",\n      classes: \"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename\",\n      subclasses: \"++id, name, type, features, sources, filename\",\n      chars:\n        \"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC\",\n      encounters: \"++id, name, monsters, players\",\n      books: \"++id, name, cover, data, pages, tags\",\n      selections: \"++id, name, selectionOptions, filename\",\n      randomTables: \"++id, name, rows, header, filename\",\n      campaigns:\n        \"++id, name, pic, description, world, npcs, notes, logs, players, flow, map, sources, filename\",\n      quests: \"++id, name, pic, description, rewards, followQuest, sources, filename\",\n      npcs: \"++id, name, pic, char, traits, description, sources, filename\",\n      worlds: \"++id, name, map, description, locations, events, sources, filename\",\n      locations: \"++id, name, map, dimension, markers, sources, filename\",\n      events: \"++id, name, description, date, sources, filename\",\n      groups: \"++id, name, pic, description, npcs, players, monsters, flow, sources, filename\",\n    });\n    this.version(19).stores({\n      spells:\n        \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename\",\n      items:\n        \"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename\",\n      gears:\n        \"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename\",\n      monsters:\n        \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n      races:\n        \"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename\",\n      subraces: \"++id, name, type, abilityScores, traits, sources, filename\",\n      classes: \"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename\",\n      subclasses: \"++id, name, type, features, sources, filename\",\n      chars:\n        \"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC\",\n      encounters:\n        \"++id, name, enemies, players, isPlaying, currentInit, roundCounter, map, dimension\",\n      books: \"++id, name, cover, data, pages, tags\",\n      selections: \"++id, name, selectionOptions, filename\",\n      randomTables: \"++id, name, rows, header, filename\",\n      campaigns:\n        \"++id, name, pic, description, world, npcs, notes, logs, players, flow, map, sources, filename\",\n      quests: \"++id, name, pic, description, rewards, followQuest, sources, filename\",\n      npcs: \"++id, name, pic, char, traits, description, sources, filename\",\n      worlds: \"++id, name, map, description, locations, events, sources, filename\",\n      locations: \"++id, name, map, dimension, markers, sources, filename\",\n      events: \"++id, name, description, date, sources, filename\",\n      groups: \"++id, name, pic, description, npcs, players, monsters, flow, sources, filename\",\n    });\n    this.version(20)\n      .stores({\n        spells:\n          \"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename\",\n        items:\n          \"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename\",\n        gears:\n          \"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename\",\n        monsters:\n          \"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment\",\n        races:\n          \"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename\",\n        subraces: \"++id, name, type, abilityScores, traits, sources, filename\",\n        classes:\n          \"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename\",\n        subclasses: \"++id, name, type, features, sources, filename\",\n        chars:\n          \"++id, name, player, campaign, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC\",\n        encounters:\n          \"++id, name, enemies, players, isPlaying, currentInit, roundCounter, map, dimension\",\n        books: \"++id, name, cover, data, pages, tags\",\n        selections: \"++id, name, selectionOptions, filename\",\n        randomTables: \"++id, name, rows, header, filename\",\n        campaigns:\n          \"++id, name, pic, description, world, npcs, notes, logs, players, flow, map, sources, filename\",\n        quests: \"++id, name, pic, description, rewards, followQuest, sources, filename\",\n        npcs: \"++id, name, pic, char, traits, description, sources, filename\",\n        worlds: \"++id, name, map, description, locations, events, sources, filename\",\n        locations: \"++id, name, map, dimension, markers, sources, filename\",\n        events: \"++id, name, description, date, sources, filename\",\n        groups: \"++id, name, pic, description, notes, npcs, players, monsters, flow, sources, filename\",\n      })\n      .upgrade((trans: any) => {\n        return trans.chars.toCollection().modify((char: Char) => {\n          if (char.campaign === undefined) char = { ...char, campaign: \"\" };\n        });\n      });\n\n    this.spells = this.table(\"spells\");\n    this.items = this.table(\"items\");\n    this.gears = this.table(\"gears\");\n    this.monsters = this.table(\"monsters\");\n    this.races = this.table(\"races\");\n    this.subraces = this.table(\"subraces\");\n    this.classes = this.table(\"classes\");\n    this.subclasses = this.table(\"subclasses\");\n    this.chars = this.table(\"chars\");\n    this.encounters = this.table(\"encounters\");\n    this.books = this.table(\"books\");\n    this.selections = this.table(\"selections\");\n    this.randomTables = this.table(\"randomTables\");\n    this.campaigns = this.table(\"campaigns\");\n    this.quests = this.table(\"quests\");\n    this.npcs = this.table(\"npcs\");\n    this.worlds = this.table(\"worlds\");\n    this.locations = this.table(\"locations\");\n    this.events = this.table(\"events\");\n    this.groups = this.table(\"groups\");\n  }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport TextButton from \"../form_elements/TextButton\";\n\ninterface $Props {\n  message: string;\n  icon?: IconDefinition;\n  confirmeText: string;\n  confirmeClick: () => void;\n  abortText: string;\n  abortClick: () => void;\n}\n\nconst Dialog = ({\n  message,\n  icon,\n  confirmeText,\n  confirmeClick,\n  abortText,\n  abortClick,\n}: $Props) => {\n  return (\n    <DialogWrapper>\n      <Message>\n        {icon ? <Icon icon={icon} /> : \"\"} {message}\n      </Message>\n      <ButtonBar>\n        <TextButton text={abortText} onClick={abortClick} />\n        <TextButton text={confirmeText} onClick={confirmeClick} />\n      </ButtonBar>\n    </DialogWrapper>\n  );\n};\n\nexport default Dialog;\n\nconst DialogWrapper = styled.div`\n  width: 180px;\n  position: absolute;\n  z-index: 1010;\n  top: 10px;\n  left: calc(50% - 100px);\n  padding: 10px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  color: ${({ theme }) => theme.tile.color};\n`;\n\nconst Message = styled.div`\n  width: 100%;\n  text-align: center;\n`;\n\nconst ButtonBar = styled.div`\n  width: 100%;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  flex: 1 1 auto;\n  margin-right: 5px;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  value: number;\n  label: string;\n  max?: number;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: number) => void;\n}\n\nconst NumberField = ({\n  value,\n  max,\n  label,\n  icon,\n  transform,\n  onChange,\n}: $Props) => {\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      {max && (\n        <Input\n          type=\"number\"\n          max={max}\n          value={value}\n          onChange={(e) => onChange(+e.target.value)}\n        />\n      )}\n      {!max && (\n        <Input\n          type=\"number\"\n          value={value}\n          onChange={(e) => onChange(+e.target.value)}\n        />\n      )}\n    </Field>\n  );\n};\n\nexport default NumberField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1;\n`;\n\nconst Input = styled.input`\n  flex: 1 1 auto;\n  max-width: 6em;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  border-radius: 5px;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport TextButton from \"../form_elements/TextButton\";\n\ninterface $Props {\n  text: string;\n  buttonText: string;\n  onButton: () => void;\n}\n\nconst ErrorTile = ({ text, buttonText, onButton }: $Props) => {\n  return (\n    <Tile>\n      <PropWrapper>\n        <Name>\n          <b>A problem occured!</b>\n        </Name>\n        <Text>\n          <PropTitle>Text: </PropTitle>\n          {text}\n        </Text>\n        <TextButton text={buttonText} onClick={() => onButton()} icon={faPlusCircle} />\n      </PropWrapper>\n    </Tile>\n  );\n};\n\nexport default ErrorTile;\n\nconst Tile = styled.div`\n  flex: 1 1 15em;\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ${({ theme }) => theme.tile.boxShadow};\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ${({ theme }) => theme.tile.headerColor};\n  text-align: center;\n  border-radius: 5px;\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst Text = styled.div`\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 97;"],"sourceRoot":""}