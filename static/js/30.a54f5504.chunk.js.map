{"version":3,"sources":["components/form_elements/CheckField.tsx","data/classes/Feature.tsx","components/form_elements/ShortTextField.tsx","components/form_elements/EnumField.tsx","data/classes/FeatureSet.tsx","data/classes/Class.tsx","data/classes/Subclass.tsx","components/form_elements/NumberArrayField.tsx","components/entities/classes/details/ClassView.tsx","components/entities/classes/details/ClassEditView.tsx","components/entities/classes/details/ClassDetail.tsx","components/form_elements/IconButton.tsx","components/form_elements/TextButton.tsx","components/form_elements/StringField.tsx","components/general_elements/LinkCheck.tsx","components/general_elements/FormatedText.tsx","components/entities/classes/details/link_wrapper/NameToClass.tsx","hooks/DexieHooks.tsx","components/form_elements/BackButton.tsx","components/general_elements/ToggleStyle.tsx","components/p2p/P2PSender.tsx","services/PeerIdService.tsx","components/general_elements/Dialog.tsx","components/form_elements/NumberField.tsx","components/form_elements/TextField.tsx","components/general_elements/ErrorTile.tsx","../node_modules/peerjs/dist sync"],"names":["CheckField","value","label","icon","transform","onChange","Field","LabelText","Icon","Input","type","defaultChecked","e","target","checked","Checkmark","styled","theme","tile","color","backgroundColor","FontAwesomeIcon","main","highlight","div","input","buttons","FeatureType","featureTypeArray","getOptionFromEnum","opt","undefined","forEach","option","toString","Feature","name","text","selections","this","normal","isFeature","arg","nameCheck","textCheck","selectionsCheck","Array","isArray","ShortTextField","textarea","EnumField","options","handleChange","StyledSelect","classNamePrefix","Select","FeatureSet","level","profBonus","features","bonis","spellslots","isFeatureSet","levelCheck","profBonusCheck","featuresCheck","Class","id","featureSets","hitDices","proficiencies","equipment","filename","sources","pic","isClass","featureSetsCheck","hitDicesCheck","proficienciesCheck","equipmentCheck","sourcesCheck","Subclass","isSubclass","typeCheck","NumberArrayField","values","max","useState","array","setArray","handleValueChange","index","map","key","ClassView","classe","send","setSend","subclasses","setSubclasses","history","useHistory","useEffect","reciveAllFiltered","fieldName","sort","results","getPicture","useCallback","CenterWrapper","ImageView","View","Name","PropWrapper","Prop","faLink","Text","PropTitle","FormatedText","length","subclass","link","SubclasseLink","onClick","push","CreateButton","newSubclass","createNewWithId","createNewSubclass","faPlusCircle","TextButton","faPaperPlane","P2PSender","data","mode","FeatureWrapper","FeatureRow","FeatureHeadProp","colSpan","SpellProp","count","levels","i","printSpellslots","featureSet","spellslot","boni","FeatureProp","feature","span","backgroundColorLink","table","tr","th","td","Image","ImageElm","src","Empty","img","button","ClassEditView","onEdit","setSelections","reciveAll","selectionOptions","select","onFeatureSetChange","oldFeature","field","onBoniChange","oldBoni","onFeatureChange","oldFeatureSet","StringField","faImage","TextField","FeatureView","FeatureNumber","IconButton","faTrash","indexOf","splice","removeFeatureSet","FeatureNumberArray","onSpellslotChange","faMinus","slice","removeSpellslot","faPlus","addNewSpellslot","BoniContainer","BoniName","removeBoni","FeatureString","isCurrency","addNewBoni","FeatureContainer","FeatureName","removeFeature","FeatureText","selection","oldSelection","featuresets","onSelectionChange","removeSelection","addNewSelection","addNewFeature","NumberField","ClassDetail","isNew","editMode","setMode","classObj","editClass","showAlert","setAlert","showDeleteDialog","setDeleteDialog","message","setMessage","unsavedChanges","setUnsavedChanges","Dialog","faExclamationTriangle","confirmeText","confirmeClick","remove","goBack","abortText","abortClick","TopBar","BackButton","faArrowLeft","action","title","tableName","updateWithCallback","result","setTimeout","updateClass","faSave","Message","floatLeft","disabled","SimpleButton","left","DisabledSimpleButton","height","hoverColor","placeholder","LinkCheck","loading","setLoading","entitiyFound","setEntity","newType","recivePromiseByAttributeCount","then","faMeteor","faIdCard","faDragon","faMapMarkedAlt","faTable","formatIcon","formatedText","setFormatedText","cut","str","cutStart","cutEnd","substr","formatLink","includes","parts","split","formattedParts","part","codePart","linkParts","TextPart","Link","formatTable","textPart","tableRows","isHead","row","cells","cell","TableHeadProp","TableProp","formatText","NameToClass","match","db","MyAppDatabase","useItemByAttr","classes","params","error","buttonText","onButton","newClass","createNewClass","useItem","effect","setEffect","reducer","state","useReducer","dispatch","get","catch","attr","attrValue","where","equalsIgnoreCase","first","Back","ToggleLeft","ToggleRight","EditToggle","props","setName","peer","setPeer","setError","brokerId","min","password","characters","Math","floor","random","generateBrokerId","newPeer","Peer","host","secure","console","log","on","conn","errorData","disconnected","destroyed","reconnect","reciveAllPromise","faExclamationCircle","DialogWrapper","ButtonBar","step","ErrorTile","Tile","boxShadow","headerColor","webpackEmptyContext","req","Error","code","keys","resolve","module","exports"],"mappings":"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","file":"static/js/30.a54f5504.chunk.js","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  value: boolean;\n  label: string;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: boolean) => void;\n}\n\nconst CheckField = ({ value, label, icon, transform, onChange }: $Props) => {\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      <Input\n        type=\"checkbox\"\n        defaultChecked={value}\n        onChange={(e) => onChange(e.target.checked)}\n      ></Input>\n      <Checkmark></Checkmark>\n    </Field>\n  );\n};\n\nexport default CheckField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 38px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n  user-select: none;\n  position: relative;\n\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1;\n`;\n\nconst Checkmark = styled.div`\n  flex: 1 1;\n  height: 30px;\n  min-width: 30px;\n  max-width: 30px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  border-radius: 5px;\n\n  &:after {\n    content: \"\";\n    display: none;\n  }\n\n  &:after {\n    width: 5px;\n    height: 10px;\n    border: solid white;\n    border-width: 0 3px 3px 0;\n    -webkit-transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    transform: rotate(45deg);\n    margin-left: 6px;\n    margin-top: 2px;\n  }\n`;\n\nconst Input = styled.input`\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n  left: 0;\n  bottom 0;\n\n  &:checked ~ ${Checkmark} {\n    background-color: ${({ theme }) => theme.main.highlight};\n    color: ${({ theme }) => theme.buttons.color};\n  }\n\n  &:checked ~ ${Checkmark}:after {\n    display: block;\n  }\n`;\n","import IEntity from \"../IEntity\";\n\nexport const featureTypeArray: { value: string; label: string }[] = [\n  { value: \"normal\", label: \"Normal\" },\n  { value: \"action\", label: \"Action\" },\n  { value: \"bonusAction\", label: \"Bonus Action\" },\n  { value: \"reaction\", label: \"Reaction\" },\n];\nexport enum FeatureType {\n  normal,\n  action,\n  bonusAction,\n  reaction,\n}\nexport function getOptionFromEnum(\n  value: FeatureType\n): { value: string; label: string } {\n  let opt = undefined;\n  featureTypeArray.forEach((option) => {\n    if (option.value === value.toString()) opt = option;\n  });\n  if (opt !== undefined) {\n    return opt;\n  }\n  return { value: \"\", label: \"\" };\n}\n\nexport default class Feature implements IEntity {\n  name: string;\n  text: string;\n  type: FeatureType;\n  selections: string[];\n  constructor(\n    name: string,\n    text: string,\n    selections: string[],\n    type?: FeatureType\n  ) {\n    this.name = name;\n    this.text = text;\n    this.type = type || FeatureType.normal;\n    this.selections = selections;\n  }\n}\n\nexport function isFeature(arg: any): arg is Feature {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const textCheck = arg.text !== undefined && typeof arg.text == \"string\";\n  const selectionsCheck =\n    arg.selections !== undefined &&\n    Array.isArray(arg.selections) &&\n    typeof arg.selections[0] == \"string\";\n  return arg && nameCheck && textCheck && selectionsCheck;\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  value: string;\n  label: string;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: string) => void;\n}\n\nconst ShortTextField = ({ value, label, icon, transform, onChange }: $Props) => {\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      <Input value={value} onChange={(e) => onChange(e.target.value)}></Input>\n    </Field>\n  );\n};\n\nexport default ShortTextField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  min-width: calc(100% - 20px);\n  flex: 3 3 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1;\n  min-width: 100%;\n  height: 30px;\n  line-height: 30px;\n`;\n\nconst Input = styled.textarea`\n  flex: 1 1;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  min-height: 8vh;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\nimport Select from \"react-select\";\n\ninterface $Props {\n  options: { value: string; label: string }[];\n  value: { value: string; label: string };\n  label: string;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: string) => void;\n}\n\nconst EnumField = ({\n  options,\n  value,\n  label,\n  icon,\n  transform,\n  onChange,\n}: $Props) => {\n\n  const handleChange = (option: { value: string; label: string }) => {\n    if (option !== null && option !== undefined) {\n      onChange(option.value);\n    }\n  };\n\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      <StyledSelect\n        classNamePrefix=\"react-select\"\n        value={value}\n        options={options}\n        onChange={(option: { value: string; label: string }) =>\n          handleChange(option)\n        }\n      />\n    </Field>\n  );\n};\n\nexport default EnumField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1 auto;\n`;\n\nconst StyledSelect = styled(Select)`\n  flex: 3 2 auto;\n  box-sizing: border-box;\n  border: none;\n  min-width: 120px;\n\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  \n  .react-select__single-value {\n    color: ${({ theme }) => theme.buttons.color};\n  }\n  .react-select__control {\n    background-color: ${({ theme }) => theme.input.backgroundColor};\n    border: none;\n    border-radius: 5px;\n  }\n  .react-select__menu {\n    background-color: ${({ theme }) => theme.input.backgroundColor};\n\n    .react-select__option:hover {\n      background-color: ${({ theme }) => theme.buttons.backgroundColor};\n      color: ${({ theme }) => theme.buttons.color};\n    }\n    .react-select__option--is-focused {\n      background-color: ${({ theme }) => theme.buttons.backgroundColor};\n      color: ${({ theme }) => theme.buttons.color};\n    }\n  }\n`;\n","import Feature, { isFeature } from \"./Feature\";\nimport Boni from \"./Boni\";\n\nexport default class FeatureSet {\n  level: number;\n  profBonus: number;\n  features: Feature[];\n  bonis?: Boni[];\n  spellslots?: number[];\n\n  constructor(\n    level: number,\n    profBonus: number,\n    features: Feature[],\n    bonis?: Boni[],\n    spellslots?: number[]\n  ) {\n    this.level = level;\n    this.profBonus = profBonus;\n    this.features = features;\n    this.bonis = bonis;\n    this.spellslots = spellslots;\n  }\n}\n\nexport function isFeatureSet(arg: any): arg is FeatureSet {\n  const levelCheck = arg.level !== undefined && typeof arg.level == \"number\";\n  const profBonusCheck =\n    arg.profBonus !== undefined && typeof arg.profBonus == \"number\";\n  const featuresCheck =\n    arg.features !== undefined &&\n    Array.isArray(arg.features) &&\n    isFeature(arg.features[0]);\n\n  return arg && levelCheck && profBonusCheck && featuresCheck;\n}\n","import IEntity from \"../IEntity\";\nimport FeatureSet, { isFeatureSet } from \"./FeatureSet\";\n\nexport default class Class implements IEntity {\n  id?: number;\n  name: string;\n  featureSets: FeatureSet[];\n  hitDices: string;\n  proficiencies: string;\n  equipment: string;\n  sources: string;\n  filename: string;\n  pic: string;\n\n  constructor(\n    id?: number,\n    name?: string,\n    featureSets?: FeatureSet[],\n    hitDices?: string,\n    proficiencies?: string,\n    equipment?: string,\n    filename?: string,\n    sources?: string,\n    pic?: string\n  ) {\n    this.id = id;\n    this.name = name || \"\";\n    this.featureSets = featureSets || [];\n    this.hitDices = hitDices || \"\";\n    this.proficiencies = proficiencies || \"\";\n    this.equipment = equipment || \"\";\n    this.filename = filename || \"\";\n    this.sources = sources || \"\";\n    this.pic = pic || \"\";\n  }\n}\n\nexport function isClass(arg: any): arg is Class {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const featureSetsCheck =\n    arg.featureSets !== undefined &&\n    Array.isArray(arg.featureSets) &&\n    isFeatureSet(arg.featureSets[0]);\n  const hitDicesCheck =\n    arg.hitDices !== undefined && typeof arg.hitDices == \"string\";\n  const proficienciesCheck =\n    arg.proficiencies !== undefined && typeof arg.proficiencies == \"string\";\n  const equipmentCheck =\n    arg.equipment !== undefined && typeof arg.equipment == \"string\";\n  const sourcesCheck =\n    arg.sources !== undefined && typeof arg.sources == \"string\";\n  return (\n    arg &&\n    nameCheck &&\n    sourcesCheck &&\n    featureSetsCheck &&\n    hitDicesCheck &&\n    proficienciesCheck &&\n    equipmentCheck\n  );\n}\n\nexport function findClassFormattError(\n  arg: any\n): {\n  nameCheck: boolean;\n  sourcesCheck: boolean;\n  featureSetsCheck: boolean;\n  hitDicesCheck: boolean;\n  proficienciesCheck: boolean;\n  equipmentCheck: boolean;\n} {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const featureSetsCheck =\n    arg.featureSets !== undefined &&\n    Array.isArray(arg.featureSets) &&\n    isFeatureSet(arg.featureSets[0]);\n  const hitDicesCheck =\n    arg.hitDices !== undefined && typeof arg.hitDices == \"string\";\n  const proficienciesCheck =\n    arg.proficiencies !== undefined && typeof arg.proficiencies == \"string\";\n  const equipmentCheck =\n    arg.equipment !== undefined && typeof arg.equipment == \"string\";\n  const sourcesCheck =\n    arg.sources !== undefined && typeof arg.sources == \"string\";\n  return {\n    nameCheck: nameCheck,\n    sourcesCheck: sourcesCheck,\n    featureSetsCheck: featureSetsCheck,\n    hitDicesCheck: hitDicesCheck,\n    proficienciesCheck: proficienciesCheck,\n    equipmentCheck: equipmentCheck,\n  };\n}\n","import IEntity from \"../IEntity\";\nimport FeatureSet, { isFeatureSet } from \"./FeatureSet\";\n\nexport default class Subclass implements IEntity {\n  id?: number;\n  name: string;\n  type: string;\n  features: FeatureSet[];\n  sources: string;\n  filename: string;\n\n  constructor(\n    id?: number,\n    name?: string,\n    type?: string,\n    features?: FeatureSet[],\n    filename?: string,\n    sources?: string\n  ) {\n    this.id = id;\n    this.name = name || \"\";\n    this.type = type || \"\";\n    this.features = features || [];\n    this.filename = filename || \"\";\n    this.sources = sources || \"\";\n  }\n}\n\nexport function isSubclass(arg: any): arg is Subclass {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const typeCheck = arg.type !== undefined && typeof arg.type == \"string\";\n  const featuresCheck =\n    arg.features !== undefined &&\n    Array.isArray(arg.features) &&\n    isFeatureSet(arg.features[0]);\n  const sourcesCheck =\n    arg.sources !== undefined && typeof arg.sources == \"string\";\n  return arg && nameCheck && typeCheck && sourcesCheck && featuresCheck;\n}\n\nexport function formattSubclassFromattError(\n  arg: any\n): {\n  nameCheck: boolean;\n  typeCheck: boolean;\n  sourcesCheck: boolean;\n  featuresCheck: boolean;\n} {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const typeCheck = arg.type !== undefined && typeof arg.type == \"string\";\n  const featuresCheck =\n    arg.features !== undefined &&\n    Array.isArray(arg.features) &&\n    isFeatureSet(arg.features[0]);\n  const sourcesCheck =\n    arg.sources !== undefined && typeof arg.sources == \"string\";\n  return {\n    nameCheck: nameCheck,\n    typeCheck: typeCheck,\n    sourcesCheck: sourcesCheck,\n    featuresCheck: featuresCheck,\n  };\n}\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  values: number[];\n  max?: number[];\n  label: string;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: number[]) => void;\n}\n\nconst NumberArrayField = ({\n  values,\n  label,\n  icon,\n  transform,\n  max,\n  onChange,\n}: $Props) => {\n  const [array, setArray] = useState<number[]>(values);\n\n  const handleValueChange = (index: number, value: number) => {\n    let values = array;\n    values[index] = value;\n    setArray(values);\n    onChange(values);\n  };\n\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      {values.map((value: number, index: number) => {\n        if (max !== undefined) {\n          return (\n            <Input\n              type=\"number\"\n              key={index}\n              max={max[index]}\n              value={value}\n              onChange={(e) => handleValueChange(index, +e.target.value)}\n            ></Input>\n          );\n        } else {\n          return (\n            <Input\n              type=\"number\"\n              key={index}\n              value={value}\n              onChange={(e) => handleValueChange(index, +e.target.value)}\n            ></Input>\n          );\n        }\n      })}\n    </Field>\n  );\n};\n\nexport default NumberArrayField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  min-height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px 5px 5px 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1;\n`;\n\nconst Input = styled.input`\n  flex: 1 1 1rem;\n  max-width: 2em;\n  height: 34px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n  margin: 2px;\n  -moz-appearance: textfield;\n`;\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport {\n  reciveAllFiltered,\n  createNewWithId,\n} from \"../../../../services/DatabaseService\";\nimport Class from \"../../../../data/classes/Class\";\nimport Subclass from \"../../../../data/classes/Subclass\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faLink, faPaperPlane, faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { GiDiceEightFacesEight } from \"react-icons/gi\";\nimport FormatedText from \"../../../general_elements/FormatedText\";\nimport TextButton from \"../../../form_elements/TextButton\";\nimport P2PSender from \"../../../p2p/P2PSender\";\n\ninterface $Props {\n  classe: Class;\n}\n\nconst ClassView = ({ classe }: $Props) => {\n  const [send, setSend] = useState<boolean>(false);\n  const [subclasses, setSubclasses] = useState<Subclass[]>([]);\n  let history = useHistory();\n\n  useEffect(() => {\n    reciveAllFiltered(\n      \"subclasses\",\n      [{ fieldName: \"type\", value: classe.name, sort: 0 }],\n      (results: any[]) => {\n        setSubclasses(results);\n      }\n    );\n  }, [classe]);\n\n  const printSpellslots = (length: number) => {\n    let count = length - 3;\n    let levels = [];\n    for (let i = 0; i < count; i++) {\n      levels.push(i + 4);\n    }\n    return levels.map((level: number, index: number) => {\n      return <SpellProp key={index}>{level}th</SpellProp>;\n    });\n  };\n\n  const getPicture = useCallback(() => {\n    if (classe !== undefined) {\n      if (classe.pic === \"\" || classe.pic === null) {\n        return \"\";\n      }\n      return classe.pic;\n    }\n    return \"\";\n  }, [classe]);\n\n  const createNewSubclass = () => {\n    let newSubclass = new Subclass();\n    delete newSubclass.id;\n    newSubclass.type = classe.name;\n    createNewWithId(\"subclasses\", newSubclass, (id) => {\n      history.push(`/subclass-detail/id/${id}`);\n    });\n  };\n\n  return (\n    <>\n      <CenterWrapper>\n        {getPicture() !== \"\" ? (\n          <ImageView>\n            <Image pic={getPicture()}></Image>\n          </ImageView>\n        ) : (\n          \"\"\n        )}\n        <View>\n          <Name>\n            <b>{classe.name}</b>\n          </Name>\n          <PropWrapper>\n            <Prop>\n              <GiDiceEightFacesEight />\n              {classe.hitDices}\n            </Prop>\n            <Prop>\n              <Icon icon={faLink} />\n              {classe.sources}\n            </Prop>\n            <Text>\n              <PropTitle>Proficiencies:</PropTitle>\n              <FormatedText text={classe.proficiencies} />\n            </Text>\n            <Text>\n              <PropTitle>Equipment:</PropTitle>\n              <FormatedText text={classe.equipment} />\n            </Text>\n            <Text>\n              <PropTitle>Subclasses:</PropTitle>\n              {subclasses.length !== 0 &&\n                subclasses.map((subclass: Subclass, index: number) => {\n                  const link: string = \"/subclass-detail/id/\" + subclass.id;\n                  return (\n                    <SubclasseLink\n                      key={index}\n                      onClick={() => history.push(link)}\n                    >\n                      {subclass.name}\n                    </SubclasseLink>\n                  );\n                })}\n              <CreateButton onClick={() => createNewSubclass()}>\n                <FontAwesomeIcon icon={faPlusCircle} />\n              </CreateButton>\n            </Text>\n          </PropWrapper>\n          <PropWrapper>\n            {!send && (\n              <TextButton\n                text={`Send ${classe.name}`}\n                icon={faPaperPlane}\n                onClick={() => setSend(true)}\n              />\n            )}\n            {!!send && <P2PSender data={classe} mode={\"THIS\"} />}\n          </PropWrapper>\n        </View>\n        {classe.featureSets.length !== 0 &&\n          classe.featureSets[0].spellslots &&\n          classe.featureSets[0].spellslots.length > 0 && (\n            <View>\n              <PropWrapper>\n                <FeatureWrapper>\n                  <thead>\n                    <FeatureRow>\n                      <FeatureHeadProp\n                        colSpan={classe.featureSets[0].spellslots.length + 1}\n                      >\n                        Spellslots\n                      </FeatureHeadProp>\n                    </FeatureRow>\n                  </thead>\n                  <tbody>\n                    <FeatureRow>\n                      <SpellProp>Level</SpellProp>\n                      <SpellProp>1st</SpellProp>\n                      {classe.featureSets[0].spellslots.length >= 2 && (\n                        <SpellProp>2nd</SpellProp>\n                      )}\n                      {classe.featureSets[0].spellslots.length >= 3 && (\n                        <SpellProp>3rd</SpellProp>\n                      )}\n                      {classe.featureSets[0].spellslots.length >= 4 && (\n                        <>\n                          {printSpellslots(\n                            classe.featureSets[0].spellslots.length\n                          )}\n                        </>\n                      )}\n                    </FeatureRow>\n                    {classe.featureSets.map((featureSet, index: number) => {\n                      return (\n                        <FeatureRow key={index}>\n                          {featureSet.spellslots && (\n                            <>\n                              <SpellProp>{featureSet.level}</SpellProp>\n                              {featureSet.spellslots.map(\n                                (spellslot, index: number) => {\n                                  return (\n                                    <SpellProp key={index}>\n                                      {spellslot === 0 ? \"-\" : spellslot}\n                                    </SpellProp>\n                                  );\n                                }\n                              )}\n                            </>\n                          )}\n                        </FeatureRow>\n                      );\n                    })}\n                  </tbody>\n                </FeatureWrapper>\n              </PropWrapper>\n            </View>\n          )}\n        <View>\n          <PropWrapper>\n            {classe.featureSets.length !== 0 && (\n              <FeatureWrapper>\n                <thead>\n                  <FeatureRow>\n                    <FeatureHeadProp>Level</FeatureHeadProp>\n                    <FeatureHeadProp>Prof. Bonus</FeatureHeadProp>\n                    <FeatureHeadProp>Features</FeatureHeadProp>\n                    {classe.featureSets[0].bonis &&\n                      classe.featureSets[0].bonis.length > 0 &&\n                      classe.featureSets[0].bonis?.map(\n                        (boni, index: number) => {\n                          return (\n                            <FeatureHeadProp key={index}>\n                              {boni.name}\n                            </FeatureHeadProp>\n                          );\n                        }\n                      )}\n                  </FeatureRow>\n                </thead>\n                <tbody>\n                  {classe.featureSets.map((featureSet, index: number) => {\n                    return (\n                      <FeatureRow key={index}>\n                        <FeatureProp>{featureSet.level}</FeatureProp>\n                        <FeatureProp>{featureSet.profBonus}</FeatureProp>\n                        <FeatureProp>\n                          {featureSet.features.map((feature) => {\n                            return feature.name + \", \";\n                          })}\n                        </FeatureProp>\n                        {featureSet.bonis?.map((boni, index: number) => {\n                          return (\n                            <FeatureProp key={index}>{boni.value}</FeatureProp>\n                          );\n                        })}\n                      </FeatureRow>\n                    );\n                  })}\n                </tbody>\n              </FeatureWrapper>\n            )}\n          </PropWrapper>\n        </View>\n      </CenterWrapper>\n      <CenterWrapper>\n        <View>\n          {classe.featureSets.map((featureSet) => {\n            return featureSet.features.map((feature, index: number) => {\n              return (\n                <Text key={index}>\n                  <PropTitle>{feature.name}:</PropTitle>\n                  <FormatedText text={feature.text} />\n                </Text>\n              );\n            });\n          })}\n        </View>\n      </CenterWrapper>\n    </>\n  );\n};\n\nexport default ClassView;\n\nconst CenterWrapper = styled.div`\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nconst View = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n  width: min-content;\n  min-width: 300px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n`;\n\nconst ImageView = styled(View)`\n  justify-content: flex-end;\n  flex: 1 1 300px;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst PropWrapper = styled.div`\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst Prop = styled.div`\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ${({ theme }) => theme.main.highlight};\n  }\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst FeatureWrapper = styled.table`\n  width: 100%;\n  padding: 0px;\n  margin: 2px 0px 2px 0px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst FeatureRow = styled.tr``;\n\nconst FeatureHeadProp = styled.th`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n`;\n\nconst FeatureProp = styled.td`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n  padding: 5px;\n  text-align: center;\n`;\n\nconst SpellProp = styled(FeatureProp)``;\n\nconst Text = styled.div`\n  height: auto;\n  width: calc(100% - 24px);\n  margin: 2px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst SubclasseLink = styled.span`\n  display: inline-block;\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  text-decoration: none;\n  color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  margin: 5px;\n  padding: 5px;\n  cursor: pointer;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\ninterface $ImageProps {\n  pic: string;\n}\n\nconst Image = ({ pic }: $ImageProps) => {\n  if (pic !== \"\") {\n    return <ImageElm src={pic}></ImageElm>;\n  } else {\n    return <Empty />;\n  }\n};\n\nconst ImageElm = styled.img`\n  margin: 5px;\n  max-height: 60vh;\n`;\nconst Empty = styled.div``;\n\nconst CreateButton = styled.button`\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 10px;\n  padding: 0px 5px 0px 5px;\n  margin: 5px;\n  border: none;\n  box-sizing: content-box;\n  height: 28px;\n  line-height: 28px;\n  float: right;\n  cursor: pointer;\n`;\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Class from \"../../../../data/classes/Class\";\nimport FeatureSet from \"../../../../data/classes/FeatureSet\";\nimport Boni from \"../../../../data/classes/Boni\";\nimport Selection from \"../../../../data/Selection\";\n\nimport {\n  faLink,\n  faImage,\n  faPlus,\n  faTrash,\n  faMinus,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport Feature, {\n  FeatureType,\n  featureTypeArray,\n  getOptionFromEnum,\n} from \"../../../../data/classes/Feature\";\nimport TextButton from \"../../../form_elements/TextButton\";\nimport CheckField from \"../../../form_elements/CheckField\";\nimport EnumField from \"../../../form_elements/EnumField\";\nimport NumberField from \"../../../form_elements/NumberField\";\nimport IconButton from \"../../../form_elements/IconButton\";\nimport TextField from \"../../../form_elements/TextField\";\nimport NumberArrayField from \"../../../form_elements/NumberArrayField\";\nimport StringField from \"../../../form_elements/StringField\";\nimport ShortTextField from \"../../../form_elements/ShortTextField\";\nimport { reciveAll } from \"../../../../services/DatabaseService\";\n\ninterface $Props {\n  classe: Class;\n  onEdit: (value: Class) => void;\n}\n\nconst ClassEditView = ({ classe, onEdit }: $Props) => {\n  const [selections, setSelections] = useState<\n    { value: string; label: string }[]\n  >([]);\n\n  useEffect(() => {\n    reciveAll(\"selections\", (data: any[]) => {\n      let selectionsData = data as Selection[];\n      let selectionOptions = selectionsData.map((select: Selection) => {\n        return { value: select.name, label: select.name };\n      });\n      setSelections(selectionOptions);\n    });\n  }, []);\n\n  const onFeatureSetChange = (\n    oldFeature: FeatureSet,\n    field: string,\n    value: string | number | any[]\n  ) => {\n    let features = classe.featureSets.map((featureSet: FeatureSet) => {\n      if (featureSet === oldFeature) {\n        return {\n          ...featureSet,\n          [field]: value,\n        };\n      } else {\n        return featureSet;\n      }\n    });\n    onEdit({ ...classe, featureSets: features });\n  };\n\n  const onBoniChange = (\n    oldFeature: FeatureSet,\n    oldBoni: Boni,\n    field: string,\n    value: string | boolean\n  ) => {\n    let features = classe.featureSets.map((featureSet: FeatureSet) => {\n      if (featureSet === oldFeature && featureSet.bonis !== undefined) {\n        let bonis = featureSet.bonis.map((boni: Boni) => {\n          if (boni === oldBoni) {\n            return {\n              ...boni,\n              [field]: value,\n            };\n          } else {\n            return boni;\n          }\n        });\n        return { ...featureSet, bonis: bonis };\n      } else {\n        return featureSet;\n      }\n    });\n    onEdit({ ...classe, featureSets: features });\n  };\n  const onSpellslotChange = (oldFeature: FeatureSet, value: number[]) => {\n    let features = classe.featureSets.map((featureSet: FeatureSet) => {\n      if (featureSet === oldFeature && featureSet.spellslots !== undefined) {\n        return { ...featureSet, spellslots: value } as FeatureSet;\n      } else {\n        return featureSet;\n      }\n    });\n    onEdit({ ...classe, featureSets: features });\n  };\n  const onFeatureChange = (\n    oldFeatureSet: FeatureSet,\n    oldFeature: Feature,\n    field: string,\n    value: string\n  ) => {\n    let features = classe.featureSets.map((featureSet: FeatureSet) => {\n      if (featureSet === oldFeatureSet && featureSet.features !== undefined) {\n        let features = featureSet.features.map((feature: Feature) => {\n          if (feature === oldFeature) {\n            return {\n              ...feature,\n              [field]: value,\n            };\n          } else {\n            return feature;\n          }\n        });\n        return { ...featureSet, features: features };\n      } else {\n        return featureSet;\n      }\n    });\n    onEdit({ ...classe, featureSets: features });\n  };\n  const onSelectionChange = (\n    oldFeatureSet: FeatureSet,\n    oldFeature: Feature,\n    oldSelection: string,\n    value: string\n  ) => {\n    let featuresets = classe.featureSets.map((featureSet: FeatureSet) => {\n      if (featureSet === oldFeatureSet && featureSet.features !== undefined) {\n        let features = featureSet.features.map((feature: Feature) => {\n          if (feature === oldFeature) {\n            let selections = feature.selections.map((select: string) => {\n              if (select === oldSelection) {\n                return value;\n              } else {\n                return select;\n              }\n            });\n            return {...feature, selections: selections};\n          } else {\n            return feature;\n          }\n        });\n        return { ...featureSet, features: features };\n      } else {\n        return featureSet;\n      }\n    });\n    onEdit({ ...classe, featureSets: featuresets });\n  };\n\n  const removeFeatureSet = (oldFeatureSet: FeatureSet) => {\n    let featureSets = classe.featureSets;\n    const index: number = featureSets.indexOf(oldFeatureSet);\n    if (index !== -1) {\n      featureSets.splice(index, 1);\n      onEdit({ ...classe, featureSets: featureSets });\n    }\n  };\n  const removeBoni = (oldBoni: Boni) => {\n    let featureSets = classe.featureSets.map((featureSet) => {\n      let bonis = featureSet.bonis;\n      if (bonis !== undefined) {\n        const index: number = bonis.indexOf(oldBoni);\n        if (index !== -1) {\n          bonis.splice(index, 1);\n        }\n        return { ...featureSet, bonis: bonis };\n      }\n      return featureSet;\n    });\n    onEdit({ ...classe, featureSets: featureSets });\n  };\n  const removeFeature = (oldFeature: Feature) => {\n    let featureSets = classe.featureSets.map((featureSet) => {\n      let features = featureSet.features;\n      const index: number = features.indexOf(oldFeature);\n      if (index !== -1) {\n        features.splice(index, 1);\n      }\n      return { ...featureSet, features: features };\n    });\n    onEdit({ ...classe, featureSets: featureSets });\n  };\n  const removeSelection = (oldSelection: string) => {\n    let featureSets = classe.featureSets.map((featureSet) => {\n      let features = featureSet.features.map((feature: Feature) => {\n        let selections = feature.selections;\n        if (selections !== undefined) {\n          const index: number = selections.indexOf(oldSelection);\n          if (index !== -1) {\n            selections.splice(index, 1);\n          }\n        }\n        return { ...feature, selections: selections };\n      })\n      return { ...featureSet, features: features };\n    });\n    onEdit({ ...classe, featureSets: featureSets });\n  };\n  const removeSpellslot = (oldFeatureSet: FeatureSet) => {\n    let featureSets = classe.featureSets.map((featureSet) => {\n      if (featureSet.spellslots !== undefined && featureSet === oldFeatureSet) {\n        return {\n          ...featureSet,\n          spellslots: [...featureSet.spellslots].slice(\n            0,\n            featureSet.spellslots.length - 1\n          ),\n        };\n      }\n      return featureSet;\n    });\n    onEdit({ ...classe, featureSets: featureSets });\n  };\n\n  const addNewSpellslot = (oldFeatureSet: FeatureSet) => {\n    let featureSets = classe.featureSets.map((featureSet) => {\n      if (featureSet.spellslots !== undefined && featureSet === oldFeatureSet) {\n        return { ...featureSet, spellslots: [...featureSet.spellslots, 0] };\n      }\n      return featureSet;\n    });\n    onEdit({ ...classe, featureSets: featureSets });\n  };\n  const addNewBoni = (oldFeatureSet: FeatureSet) => {\n    let featureSets = classe.featureSets.map((featureSet) => {\n      if (featureSet.bonis !== undefined && featureSet === oldFeatureSet) {\n        const newBoni = {\n          name: \"\",\n          value: \"\",\n          isCurrency: false,\n        };\n        return { ...featureSet, bonis: [...featureSet.bonis, newBoni] };\n      }\n      return featureSet;\n    });\n    onEdit({ ...classe, featureSets: featureSets });\n  };\n  const addNewFeature = (oldFeatureSet: FeatureSet) => {\n    let featureSets = classe.featureSets.map((featureSet) => {\n      let features = featureSet.features;\n      if (features !== undefined && featureSet === oldFeatureSet) {\n        features.push({\n          name: \"\",\n          text: \"\",\n          type: FeatureType.normal,\n          selections: []\n        });\n        return { ...featureSet, features: features };\n      }\n      return featureSet;\n    });\n    onEdit({ ...classe, featureSets: featureSets });\n  };\n  const addNewSelection = (oldFeatureSet: FeatureSet, oldFeature: Feature) => {\n    let featureSets = classe.featureSets.map((featureSet) => {\n      let features = featureSet.features.map((feature: Feature) => {\n        let selections: string[] = feature.selections;\n        if (selections === undefined) {\n          selections = [];\n        }\n        if (feature === oldFeature) {\n          selections.push(\"\");\n          return { ...feature, selections: selections };\n        }\n        return feature;\n      })\n      return { ...featureSet, features: features };\n    });\n    onEdit({ ...classe, featureSets: featureSets });\n  };\n  const addNewFeatureSet = () => {\n    if (classe.featureSets.length - 1 >= 0) {\n      onEdit({\n        ...classe,\n        featureSets: [\n          ...classe.featureSets,\n          {\n            level: classe.featureSets.length + 1,\n            profBonus:\n              classe.featureSets[classe.featureSets.length - 1].profBonus,\n            features: [],\n            bonis: classe.featureSets[classe.featureSets.length - 1].bonis,\n            spellslots:\n              classe.featureSets[classe.featureSets.length - 1].spellslots,\n          },\n        ],\n      });\n    } else {\n      onEdit({\n        ...classe,\n        featureSets: [\n          ...classe.featureSets,\n          {\n            level: classe.featureSets.length + 1,\n            profBonus: 0,\n            features: [],\n            bonis: [],\n            spellslots: [],\n          },\n        ],\n      });\n    }\n  };\n\n  return (\n    <CenterWrapper>\n      <ClassView>\n        <StringField\n          value={classe.name}\n          label=\"Name\"\n          onChange={(name) => onEdit({ ...classe, name: name })}\n        />\n        <StringField\n          value={classe.hitDices}\n          label=\"Hit Dice\"\n          onChange={(hitDices) => onEdit({ ...classe, hitDices: hitDices })}\n        />\n        <StringField\n          value={classe.pic}\n          label=\"Picture\"\n          icon={faImage}\n          onChange={(pic) => onEdit({ ...classe, pic: pic })}\n        />\n        <StringField\n          value={classe.sources}\n          label=\"Sources\"\n          icon={faLink}\n          onChange={(sources) => onEdit({ ...classe, sources: sources })}\n        />\n        <TextField\n          value={classe.proficiencies}\n          label=\"Proficiencies\"\n          onChange={(proficiencies) =>\n            onEdit({ ...classe, proficiencies: proficiencies })\n          }\n        />\n        <TextField\n          value={classe.equipment}\n          label=\"Equipment\"\n          onChange={(equipment) => onEdit({ ...classe, equipment: equipment })}\n        />\n      </ClassView>\n      {classe.featureSets.map((featureSet: FeatureSet, index: number) => {\n        return (\n          <FeatureView key={index}>\n            <FeatureWrapper>\n              <FeatureNumber\n                value={featureSet.level}\n                label=\"Level\"\n                onChange={(level) =>\n                  onFeatureSetChange(featureSet, \"level\", level)\n                }\n              />\n              <FeatureNumber\n                value={featureSet.profBonus}\n                label=\"Prof. Bonus\"\n                onChange={(profBonus) =>\n                  onFeatureSetChange(featureSet, \"profBonus\", profBonus)\n                }\n              />\n              <IconButton\n                icon={faTrash}\n                onClick={() => removeFeatureSet(featureSet)}\n              />\n              <FeatureNumberArray\n                values={featureSet.spellslots ? featureSet.spellslots : []}\n                label=\"Spellslots\"\n                onChange={(spellslots) =>\n                  onSpellslotChange(featureSet, spellslots)\n                }\n              />\n              <IconButton\n                icon={faMinus}\n                onClick={() => removeSpellslot(featureSet)}\n              />\n              <IconButton\n                icon={faPlus}\n                onClick={() => addNewSpellslot(featureSet)}\n              />\n              {featureSet.bonis &&\n                featureSet.bonis.map((boni: Boni, index: number) => {\n                  return (\n                    <BoniContainer key={index}>\n                      <BoniName\n                        value={boni.name}\n                        label=\"Boni\"\n                        onChange={(name) =>\n                          onBoniChange(featureSet, boni, \"name\", name)\n                        }\n                      />\n                      <IconButton\n                        icon={faTrash}\n                        onClick={() => removeBoni(boni)}\n                      />\n                      <FeatureString\n                        value={boni.value}\n                        label=\"Boni Value\"\n                        onChange={(value) =>\n                          onBoniChange(featureSet, boni, \"value\", value)\n                        }\n                      />\n                      <CheckField\n                        value={boni.isCurrency}\n                        label=\"is Currency?\"\n                        onChange={(value) =>\n                          onBoniChange(featureSet, boni, \"isCurrency\", value)\n                        }\n                      />\n                    </BoniContainer>\n                  );\n                })}\n            </FeatureWrapper>\n            <FeatureWrapper>\n              <TextButton\n                text={\"Add new Boni\"}\n                icon={faPlus}\n                onClick={() => addNewBoni(featureSet)}\n              />\n            </FeatureWrapper>\n            <FeatureWrapper>\n              {featureSet.features &&\n                featureSet.features.map((feature: Feature, index: number) => {\n                  return (\n                    <FeatureContainer key={index}>\n                      <FeatureName\n                        value={feature.name}\n                        label=\"Feature\"\n                        onChange={(name) =>\n                          onFeatureChange(featureSet, feature, \"name\", name)\n                        }\n                      />\n                      <EnumField\n                        options={featureTypeArray}\n                        value={getOptionFromEnum(feature.type)}\n                        label=\"Types\"\n                        onChange={(type) =>\n                          onFeatureChange(featureSet, feature, \"type\", type)\n                        }\n                      />\n                      <IconButton\n                        icon={faTrash}\n                        onClick={() => removeFeature(feature)}\n                      />\n                      <FeatureText\n                        value={feature.text}\n                        label=\"Feature Text\"\n                        onChange={(text) =>\n                          onFeatureChange(featureSet, feature, \"text\", text)\n                        }\n                      />\n                      {feature.selections &&\n                        feature.selections.map(\n                          (selection: string, index: number) => {\n                            return (\n                              <FeatureContainer key={index}>\n                                <EnumField\n                                  options={selections}\n                                  value={{ value: selection, label: selection }}\n                                  label=\"Name\"\n                                  onChange={(name) =>\n                                    onSelectionChange(\n                                      featureSet,\n                                      feature,\n                                      selection,\n                                      name\n                                    )\n                                  }\n                                />\n                                <IconButton\n                                  icon={faTrash}\n                                  onClick={() => removeSelection(selection)}\n                                />\n                              </FeatureContainer>\n                            );\n                          }\n                        )}\n                      <TextButton\n                        text={\"Add Selection\"}\n                        icon={faPlus}\n                        onClick={() => addNewSelection(featureSet, feature)}\n                      />\n                    </FeatureContainer>\n                  );\n                })}\n            </FeatureWrapper>\n            <FeatureWrapper>\n              <TextButton\n                text={\"Add new Feature\"}\n                icon={faPlus}\n                onClick={() => addNewFeature(featureSet)}\n              />\n            </FeatureWrapper>\n          </FeatureView>\n        );\n      })}\n      <FeatureView>\n        <TextButton\n          text={\"Add new Level\"}\n          icon={faPlus}\n          onClick={() => addNewFeatureSet()}\n        />\n      </FeatureView>\n    </CenterWrapper>\n  );\n};\n\nexport default ClassEditView;\n\nconst CenterWrapper = styled.div`\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst ClassView = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: stretch;\n`;\n\nconst FeatureView = styled(ClassView)``;\n\nconst FeatureWrapper = styled.div`\n  flex: 1 1 600px;\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  margin-bottom: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n\n  label {\n    margin: 2px;\n  }\n`;\nconst FeatureString = styled(StringField)``;\nconst FeatureNumber = styled(NumberField)``;\nconst FeatureText = styled(ShortTextField)``;\nconst FeatureNumberArray = styled(NumberArrayField)``;\n\nconst FeatureContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  flex: 1 1 600px;\n  border-top: none;\n  border-bottom: 2px solid ${({ theme }) => theme.input.backgroundColor};\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\nconst FeatureName = styled(StringField)``;\n\nconst BoniContainer = styled(FeatureContainer)``;\nconst BoniName = styled(FeatureString)``;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\n\nimport {\n  faArrowLeft,\n  faSave,\n  faTrash,\n  faExclamationTriangle,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport ClassView from \"./ClassView\";\nimport ClassEditView from \"./ClassEditView\";\nimport BackButton from \"../../../form_elements/BackButton\";\nimport Class from \"../../../../data/classes/Class\";\nimport IconButton from \"../../../form_elements/IconButton\";\nimport { remove, updateWithCallback } from \"../../../../services/DatabaseService\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Dialog from \"../../../general_elements/Dialog\";\nimport { EditToggle, ToggleLeft, ToggleRight } from \"../../../general_elements/ToggleStyle\";\n\ninterface $Props {\n  classe: Class;\n  isNew: boolean;\n}\n\nconst ClassDetail = ({ classe, isNew }: $Props) => {\n  const [editMode, setMode] = useState<boolean>(isNew);\n  const [classObj, editClass] = useState<Class>(classe);\n  const [showAlert, setAlert] = useState<boolean>(false);\n  const [showDeleteDialog, setDeleteDialog] = useState<boolean>(false);\n  const [message, setMessage] = useState<string>(\"\");\n  const [unsavedChanges, setUnsavedChanges] = useState<boolean>(false);\n  let history = useHistory();\n\n  const deleteClass = () => {\n    setDeleteDialog(true);\n  };\n\n  useEffect(() => {\n    if (classObj !== classe) {\n      setUnsavedChanges(true);\n    }\n  }, [classObj, classe]);\n\n  const updateClass = (tableName: string, classObj: Class) => {\n    updateWithCallback(tableName, classObj, (result) => {\n      if (result > 0) {\n        setUnsavedChanges(false);\n        setMessage(\"Saved successful!\");\n        setAlert(true);\n      } else {\n        setMessage(\"Something went wrong!\");\n        setAlert(true);\n      }\n      setTimeout(() => {\n        setAlert(false);\n      }, 3000);\n    });\n  };\n\n  return (\n    <>\n      {showDeleteDialog && (\n        <Dialog\n          message={`Delete ${classe.name}?`}\n          icon={faExclamationTriangle}\n          confirmeText={\"Delete\"}\n          confirmeClick={() => {\n            remove(\"classes\", classe.id);\n            history.goBack();\n          }}\n          abortText={\"Back\"}\n          abortClick={() => {\n            setDeleteDialog(false);\n          }}\n        />\n      )}\n      <TopBar>\n        <BackButton icon={faArrowLeft} action={() => history.goBack()} />\n        <EditToggle mode={editMode.toString()}>\n          <ToggleLeft onClick={() => setMode(false)}>View</ToggleLeft>\n          <ToggleRight onClick={() => setMode(true)}>Edit</ToggleRight>\n        </EditToggle>\n        {unsavedChanges && <Icon icon={faExclamationTriangle} title={\"Unsaved changes!\"} />}\n        {editMode && (\n          <>\n            <IconButton onClick={() => updateClass(\"classes\", classObj)} icon={faSave} />\n            <IconButton onClick={() => deleteClass()} icon={faTrash} />\n            {message && showAlert && <Message>{message}</Message>}\n          </>\n        )}\n      </TopBar>\n      {editMode ? (\n        <ClassEditView classe={classObj} onEdit={(value) => editClass(value)} />\n      ) : (\n        <ClassView classe={classObj} />\n      )}\n    </>\n  );\n};\n\nexport default ClassDetail;\n\nconst TopBar = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  overflow: hidden;\n  flex: 1 1;\n  min-width: calc(100% - 20px);\n  height: 45px;\n  padding: 10px;\n`;\n\nconst Message = styled.div`\n  padding: 5px;\n  width: 150px;\n  height: 30px;\n  line-height: 30px;\n  border-radius: 5px;\n  float: right;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  float: right;\n  line-height: 30px;\n  display: block;\n  height: 30px;\n  padding: 10px;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  icon: IconDefinition;\n  floatLeft?: boolean;\n  disabled?: boolean;\n  transform?: string | Transform;\n  onClick: (() => void) | ((e: any) => void);\n}\n\nconst IconButton = ({ icon, floatLeft, disabled, transform, onClick }: $Props) => {\n  return (\n    <>\n      {!disabled && (\n        <SimpleButton left={floatLeft} onClick={onClick}>\n          <Icon icon={icon} transform={transform} />\n        </SimpleButton>\n      )}\n      {disabled && (\n        <DisabledSimpleButton>\n          <Icon icon={icon} transform={transform} />\n        </DisabledSimpleButton>\n      )}\n    </>\n  );\n};\n\nexport default IconButton;\n\ntype FloatMpde = {\n  left?: boolean;\n};\n\nconst SimpleButton = styled.div<FloatMpde>`\n  color: ${({ theme }) => theme.buttons.color};\n  background-color: ${({ theme }) => theme.buttons.backgroundColor};\n  cursor: pointer;\n\n  font-size: 16px;\n  overflow: hidden;\n  height: ${({ theme }) => theme.buttons.height};\n  line-height: ${({ theme }) => theme.buttons.height};\n  float: ${({ left }) => (left ? \"left\" : \"right\")};\n  padding: 10px;\n  margin: 5px;\n  border-radius: 10px;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n\n  transition: color 0.2s;\n\n  &:hover {\n    color: white;\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst DisabledSimpleButton = styled(SimpleButton)`\n  color: ${({ theme }) => theme.buttons.backgroundColor};\n  background-color: ${({ theme }) => theme.buttons.color};\n  cursor: not-allowed;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  flex: 1 1 auto;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  text: string;\n  disabled?: boolean;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onClick: () => void;\n}\n\nconst TextButton = ({ text, icon, transform, disabled, onClick }: $Props) => {\n  return (\n    <SimpleButton onClick={onClick} disabled={disabled}>\n      {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {text}\n    </SimpleButton>\n  );\n};\n\nexport default TextButton;\n\nconst SimpleButton = styled.button`\n  color: ${({ theme }) => theme.buttons.color};\n  background-color: ${({ theme }) => theme.buttons.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: ${({ theme }) => theme.buttons.height};\n  line-height: ${({ theme }) => theme.buttons.height};\n  float: right;\n  padding: 10px;\n  margin: 5px;\n  border-radius: 10px;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  box-sizing: content-box;\n  border: none;\n\n  transition: color 0.2s;\n\n  &:hover {\n    color: ${({ theme }) => theme.buttons.hoverColor};\n  }\n\n  &:disabled {\n    background-color: ${({ theme }) => theme.buttons.disabled};\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  flex: 1 1 auto;\n  margin-right: 5px;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  value: string;\n  label: string;\n  placeholder?: string;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: string) => void;\n}\n\nconst StringField = ({ value, label, placeholder, icon, transform, onChange }: $Props) => (\n  <Field>\n    <LabelText>\n      {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n    </LabelText>\n    <Input\n      type=\"text\"\n      value={value}\n      onChange={(e) => onChange(e.target.value)}\n      placeholder={placeholder}\n    ></Input>\n  </Field>\n);\n\nexport default StringField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1 auto;\n`;\n\nconst Input = styled.input`\n  flex: 3 1 auto;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  border-radius: 5px;\n  width: 0;\n  min-width: 100px;\n`;\n","import React, { useEffect, useState } from \"react\";\nimport { BiError, BiHistory, BiSelectMultiple } from \"react-icons/bi\";\nimport {\n  GiCrystalWand,\n  GiBackpack,\n  GiWomanElfFace,\n  GiPlagueDoctorProfile,\n  GiSwordClash,\n  GiBookmarklet,\n  GiScrollUnfurled,\n  GiSolarSystem,\n  GiDjinn,\n  GiBookshelf,\n} from \"react-icons/gi\";\nimport {\n  faMeteor,\n  faIdCard,\n  faDragon,\n  faMapMarkedAlt,\n  faTable,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { MdEvent } from \"react-icons/md\";\nimport { HiUserGroup } from \"react-icons/hi\";\nimport { recivePromiseByAttributeCount } from \"../../services/DatabaseService\";\n\ninterface $Props {\n  type: string;\n  name: string;\n}\n\nconst LinkCheck = ({ type, name }: $Props) => {\n  const [loading, setLoading] = useState<boolean>(true);\n  const [entitiyFound, setEntity] = useState<boolean>(false);\n\n  useEffect(() => {\n    let newType = type + \"s\";\n    if (type === \"class\" || type === \"subclass\") newType = type + \"es\";\n    recivePromiseByAttributeCount(newType, \"name\", name).then((count: number) => {\n      setEntity(count > 0);\n      setLoading(false);\n    });\n  }, [type, name]);\n\n  const formatIcon = (type: string) => {\n    switch (type) {\n      case \"spell\":\n        return <FontAwesomeIcon icon={faMeteor} />;\n      case \"item\":\n        return <GiCrystalWand />;\n      case \"gear\":\n        return <GiBackpack />;\n      case \"race\":\n      case \"subrace\":\n        return <GiWomanElfFace />;\n      case \"class\":\n      case \"subclass\":\n        return <GiPlagueDoctorProfile />;\n      case \"selection\":\n        return <BiSelectMultiple />;\n      case \"char\":\n        return <FontAwesomeIcon icon={faIdCard} />;\n      case \"monster\":\n        return <FontAwesomeIcon icon={faDragon} />;\n      case \"encounter\":\n        return <GiSwordClash />;\n      case \"campaign\":\n        return <GiBookmarklet />;\n      case \"quest\":\n        return <GiScrollUnfurled />;\n      case \"event\":\n        return <MdEvent />;\n      case \"world\":\n        return <GiSolarSystem />;\n      case \"location\":\n        return <FontAwesomeIcon icon={faMapMarkedAlt} />;\n      case \"npc\":\n        return <GiDjinn />;\n      case \"randomTable\":\n        return <FontAwesomeIcon icon={faTable} />;\n      case \"book\":\n        return <GiBookshelf />;\n      case \"group\":\n        return <HiUserGroup />;\n      default:\n        return \"\";\n    }\n  };\n\n  return (\n    <>\n      {loading && <BiHistory />}\n      {!loading && !entitiyFound && <BiError />}\n      {!loading && entitiyFound && <>{formatIcon(type)}</>}\n    </>\n  );\n};\n\nexport default LinkCheck;\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\nimport LinkCheck from \"./LinkCheck\";\n\ninterface $Props {\n  text: string;\n}\n\nconst FormatedText = ({ text }: $Props) => {\n  const [formatedText, setFormatedText] = useState<JSX.Element>();\n  let history = useHistory();\n\n  const cut = (str: string, cutStart: number, cutEnd: number) => {\n    return str.substr(0, cutStart) + str.substr(cutEnd + 1);\n  };\n\n  const formatLink = useCallback(\n    (text: string) => {\n      if (text !== undefined) {\n        if (text.includes(\"[[\") && text.includes(\"]]\")) {\n          const parts = text.split(\"[[\");\n          let formattedParts: any[] = [];\n          parts.forEach((part: string, index: number) => {\n            if (part.includes(\"]]\")) {\n              const codePart: string[] = part.split(\"]]\");\n              const linkParts: string[] = codePart[0].split(\".\");\n              const link: string = \"/\" + linkParts[0] + \"-detail/name/\" + linkParts[1];\n              formattedParts.push(\n                <TextPart key={index}>\n                  <Link onClick={() => history.push(link)}>\n                    <LinkCheck type={linkParts[0]} name={linkParts[1]} /> {linkParts[1]}\n                  </Link>\n                  <TextPart>{codePart[1]}</TextPart>\n                </TextPart>\n              );\n            } else {\n              if (part !== \"\") formattedParts.push(<TextPart key={index}>{part}</TextPart>);\n            }\n          });\n          return <>{formattedParts}</>;\n        } else {\n          return <TextPart>{text}</TextPart>;\n        }\n      }\n    },\n    [history]\n  );\n\n  const formatTable = useCallback(\n    (textPart: string) => {\n      if (textPart.includes(\"||table||\")) {\n        const table: string[] = text.split(\"||table||\");\n        const tableRows: string[] = table[1].split(\"||\");\n        let isHead = true;\n        return (\n          <>\n            {formatLink(table[0])}\n            <table>\n              <tbody>\n                {tableRows.map((row: string, index: number) => {\n                  if (row.includes(\"|\")) {\n                    if (isHead) {\n                      isHead = false;\n                      const cells = row.split(\"|\");\n                      return (\n                        <tr key={index}>\n                          {cells.map((cell: string, index: number) => {\n                            return <TableHeadProp key={index}>{cell}</TableHeadProp>;\n                          })}\n                        </tr>\n                      );\n                    } else {\n                      const cells = row.split(\"|\");\n                      return (\n                        <tr key={index}>\n                          {cells.map((cell: string, index: number) => {\n                            return <TableProp key={index}>{formatLink(cell)}</TableProp>;\n                          })}\n                        </tr>\n                      );\n                    }\n                  } else {\n                    return <></>;\n                  }\n                })}\n              </tbody>\n            </table>\n            {formatLink(table[2])}\n          </>\n        );\n      } else {\n        return formatLink(textPart);\n      }\n    },\n    [text, formatLink]\n  );\n\n  const formatText = useCallback(\n    (textPart: string) => {\n      while (textPart.includes(\"{{\")) {\n        const cutStart = textPart.indexOf(\"{{\");\n        const cutEnd = textPart.indexOf(\"}}\") + 1;\n        textPart = cut(textPart, cutStart, cutEnd);\n      }\n      return formatTable(textPart);\n    },\n    [formatTable]\n  );\n\n  useEffect(() => {\n    if (text !== undefined) {\n      let formatedText = formatText(text);\n      setFormatedText(formatedText);\n    }\n  }, [text, history, formatText]);\n\n  return <>{formatedText}</>;\n};\n\nexport default FormatedText;\n\nconst Link = styled.span`\n  display: inline-block;\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  text-decoration: none;\n  color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 14px;\n  padding: 0px 5px 0px 5px;\n  cursor: pointer;\n  white-space: pre;\n`;\n\nconst TextPart = styled.span`\n  white-space: pre-line;\n`;\n\nconst TableHeadProp = styled.th`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n  padding: 2px 5px 2px 5px;\n`;\n\nconst TableProp = styled.td`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n  padding: 5px;\n  text-align: center;\n`;\n","import React from \"react\";\nimport { RouteComponentProps, useHistory } from \"react-router\";\nimport { MyAppDatabase } from \"../../../../../database/MyDatabase\";\nimport { useItemByAttr } from \"../../../../../hooks/DexieHooks\";\nimport { LoadingSpinner } from \"../../../../Loading\";\nimport ClassDetail from \"../ClassDetail\";\nimport Class from \"../../../../../data/classes/Class\";\nimport { createNewWithId } from \"../../../../../services/DatabaseService\";\nimport ErrorTile from \"../../../../general_elements/ErrorTile\";\n\ntype TParams = { name: string };\n\nconst NameToClass = ({ match }: RouteComponentProps<TParams>) => {\n  let history = useHistory();\n  const db = new MyAppDatabase();\n  const [classe, loading, error] = useItemByAttr(db.classes, \"name\", match.params.name);\n\n  const createNewClass = () => {\n    let newClass = new Class(0, match.params.name);\n    delete newClass.id;\n    createNewWithId(\"classes\", newClass, (id) => {\n      history.push(`/class-detail/id/${id}`);\n    });\n  };\n\n  return (\n    <>\n      {!error && loading && <LoadingSpinner />}\n      {error && !loading && <>Error occured</>}\n      {!error && !loading && classe === undefined && (\n        <ErrorTile\n          text={\"No such class exists. Want to creat such class?\"}\n          buttonText={\"Add\"}\n          onButton={() => createNewClass()}\n        />\n      )}\n      {!error && !loading && classe !== undefined && (\n        <ClassDetail classe={classe} isNew={classe.name === \"\" ? true : false} />\n      )}\n    </>\n  );\n};\n\nexport default NameToClass;\n","import Dexie from \"dexie\";\nimport { useReducer, useEffect, useCallback, useState } from \"react\";\nimport Filter from \"../data/Filter\";\nimport ReactDOM from \"react-dom\";\n\ntype TableState<T> = [T[] | undefined, boolean, Dexie.DexieError | undefined];\ntype TableAction<T> =\n  | { type: \"resolved\"; data: T[] }\n  | { type: \"empty\" }\n  | { type: \"reset\" }\n  | { type: \"error\"; error: Dexie.DexieError };\n\ntype ItemState<T> = [T | undefined, boolean, Dexie.DexieError | undefined];\ntype ItemAction<T> =\n  | { type: \"resolved\"; data: T }\n  | { type: \"empty\" }\n  | { type: \"reset\" }\n  | { type: \"error\"; error: Dexie.DexieError };\n\nexport const useTable = <T, U>(table: Dexie.Table<T, U>): TableState<T> => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const reducer = useCallback((state: TableState<T>, action: TableAction<T>): TableState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (effect) {\n      const getAndDispatch = () =>\n        table\n          .toArray()\n          .then((data) => {\n            dispatch({\n              type: \"resolved\",\n              data,\n            });\n          })\n          .catch((error) => {\n            dispatch({\n              type: \"error\",\n              error,\n            });\n          });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, effect]);\n\n  return state;\n};\n\nexport const useTableByFilter = <T, U>(\n  table: Dexie.Table<T, U>,\n  filters: Filter[]\n): TableState<T> => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const [filter, setFilter] = useState<Filter[]>(filters);\n  const reducer = useCallback((state: TableState<T>, action: TableAction<T>): TableState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      case \"reset\":\n        return [undefined, true, undefined];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (filter !== filters) {\n      ReactDOM.unstable_batchedUpdates(() => {\n        dispatch({ type: \"reset\" });\n        setFilter(filters);\n        setEffect(true);\n      });\n    }\n  }, [filter, filters, setEffect]);\n\n  useEffect(() => {\n    if (effect) {\n      const getAndDispatch = () => console.time(\"filtered get all\");\n      table\n        .filter((obj: T) => {\n          let test: boolean[] = [];\n          filters.forEach((filter) => {\n            if (typeof filter.value === \"string\") {\n              test.push(\n                // @ts-ignore\n                obj[filter.fieldName].toLowerCase().includes(filter.value.toLowerCase())\n              );\n            } else if (typeof filter.value === \"number\") {\n              // @ts-ignore\n              test.push(obj[filter.fieldName] === filter.value);\n            } else if (typeof filter.value === \"boolean\") {\n              // @ts-ignore\n              test.push(obj[filter.fieldName] === filter.value);\n            } else if (filter.value instanceof Array) {\n              let arrayTest: boolean = false;\n              filter.value.forEach((filterPart: string | boolean | number) => {\n                if (typeof filterPart === \"string\") {\n                  if (\n                    // @ts-ignore\n                    obj[filter.fieldName].toLowerCase().includes(filterPart.toLowerCase())\n                  )\n                    arrayTest = true;\n                } else if (typeof filterPart === \"number\") {\n                  // @ts-ignore\n                  if (obj[filter.fieldName] === filterPart) arrayTest = true;\n                } else if (typeof filterPart === \"boolean\") {\n                  // @ts-ignore\n                  if (obj[filter.fieldName] === filterPart) arrayTest = true;\n                }\n              });\n              test.push(arrayTest);\n            }\n          });\n\n          let result = true;\n          test.forEach((val) => {\n            if (!val) result = false;\n          });\n          return result;\n        })\n        .sortBy(\"name\")\n        .then((data) => {\n          console.timeEnd(\"filtered get all\");\n          dispatch({\n            type: \"resolved\",\n            data,\n          });\n        })\n        .catch((error) => {\n          dispatch({\n            type: \"error\",\n            error,\n          });\n        });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, effect, filters]);\n\n  return state;\n};\n\nexport const useItem = <T, U>(table: Dexie.Table<T, U>, id: U) => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const reducer = useCallback((state: ItemState<T>, action: ItemAction<T>): ItemState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"empty\":\n        return [undefined, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (effect) {\n      const getAndDispatch = () =>\n        table\n          .get(id)\n          .then((data) => {\n            if (data !== undefined) {\n              dispatch({\n                type: \"resolved\",\n                data,\n              });\n            } else {\n              dispatch({\n                type: \"empty\",\n              });\n            }\n          })\n          .catch((error) => {\n            dispatch({\n              type: \"error\",\n              error,\n            });\n          });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, id, effect]);\n\n  return state;\n};\n\nexport const useItemByAttr = <T, U>(table: Dexie.Table<T, U>, attr: string, attrValue: string) => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const reducer = useCallback((state: ItemState<T>, action: ItemAction<T>): ItemState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"empty\":\n        return [undefined, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (effect) {\n      const getAndDispatch = () =>\n        table\n          .where(attr)\n          .equalsIgnoreCase(attrValue)\n          .first()\n          .then((data) => {\n            if (data !== undefined) {\n              dispatch({\n                type: \"resolved\",\n                data,\n              });\n            } else {\n              dispatch({\n                type: \"empty\",\n              });\n            }\n          })\n          .catch((error) => {\n            dispatch({\n              type: \"error\",\n              error,\n            });\n          });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, attr, attrValue, effect]);\n\n  return state;\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  icon: IconDefinition;\n  transform?: string | Transform;\n  action: () => void;\n}\n\nconst BackButton = ({ icon, transform, action }: $Props) => {\n  return (\n    <Back onClick={action}>\n      <Icon icon={icon} transform={transform} />\n    </Back>\n  );\n};\n\nexport default BackButton;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n  &:hover {\n    color: ${({ theme }) => theme.buttons.color};\n  }\n`;\n\nconst Back = styled.div`\n  float: left;\n  font-size: calc(${({ theme }) => theme.buttons.height} + 10px);\n  margin: 10px 0px 0px 10px;\n  cursor: pointer;\n`;\n","import styled from \"styled-components\";\n\nexport const ToggleLeft = styled.div`\n  width: auto;\n  padding: 10px;\n  margin: 5px 0px 5px 5px;\n  height: ${({ theme }) => theme.buttons.height};\n  line-height: ${({ theme }) => theme.buttons.height};\n  float: left;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  border-radius: 5px 0px 0px 5px;\n\n  transition: color 0.2s, background-color 0.2s;\n\n  &:hover {\n    color: ${({ theme }) => theme.buttons.hoverColor};\n  }\n`;\n\nexport const ToggleRight = styled(ToggleLeft)`\n  margin: 5px 5px 5px 0px;\n\n  border-radius: 0px 5px 5px 0px;\n`;\n\ntype EditMode = {\n  mode: string;\n};\n\nexport const EditToggle = styled.div<EditMode>`\n  width: auto;\n  height: ${({ theme }) => theme.buttons.height};\n  float: right;\n  color: ${({ theme }) => theme.buttons.color};\n\n  ${ToggleLeft} {\n    background-color: ${(props) => {\n      if (props.mode !== \"true\") {\n        return ({ theme }) => theme.buttons.backgroundColor;\n      } else {\n        return ({ theme }) => theme.tile.backgroundColor;\n      }\n    }};\n  }\n\n  ${ToggleRight} {\n    background-color: ${(props) => {\n      if (props.mode === \"true\") {\n        return ({ theme }) => theme.buttons.backgroundColor;\n      } else {\n        return ({ theme }) => theme.tile.backgroundColor;\n      }\n    }};\n  }\n`;\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Peer from \"peerjs\";\nimport { reciveAllPromise } from \"../../services/DatabaseService\";\nimport IEntity from \"../../data/IEntity\";\nimport { generateBrokerId } from \"../../services/PeerIdService\";\n\nimport { faExclamationCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport StringField from \"../form_elements/StringField\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\ninterface $Props {\n  data: string | IEntity;\n  mode: \"ALL\" | \"THIS\";\n}\n\nconst P2PSender = ({ data, mode }: $Props) => {\n  const [name, setName] = useState<string>(\"\");\n  const [peer, setPeer] = useState<Peer>();\n  const [error, setError] = useState<any>();\n\n  useEffect(() => {\n    if (peer === undefined) {\n      const brokerId = generateBrokerId();\n      const newPeer = new Peer(brokerId, {\n        host: \"peerjs.thedndtome.com\",\n        secure: true,\n      });\n      console.log(newPeer);\n      newPeer.on(\"connection\", function (conn) {\n        conn.on(\"error\", function (errorData) {\n          setError(errorData);\n        });\n        conn.on(\"open\", function () {\n          conn.send(data);\n        });\n      });\n      setPeer(newPeer);\n    }\n  }, [data, peer]);\n\n  useEffect(() => {\n    if (peer !== undefined) {\n      if (peer.disconnected && !peer.destroyed) {\n        peer.reconnect();\n      }\n      if (mode === \"ALL\" && typeof data === \"string\") {\n        reciveAllPromise(data).then((results) => {\n          console.log(results);\n          setName(data);\n          peer.on(\"connection\", function (conn) {\n            conn.on(\"error\", function (errorData) {\n              setError(errorData);\n            });\n            conn.on(\"open\", function () {\n              conn.send(results);\n            });\n          });\n        });\n      } else if (mode === \"THIS\" && typeof data !== \"string\") {\n        setName(data.name);\n        peer.on(\"connection\", function (conn) {\n          conn.on(\"error\", function (errorData) {\n            setError(errorData);\n          });\n          conn.on(\"open\", function () {\n            conn.send(data);\n          });\n        });\n      }\n    }\n  }, [data, mode, peer]);\n\n  return (\n    <>\n      {peer !== undefined && peer.id !== null && (\n        <>\n          <StringField value={peer.id} label={`Your ${name} ID:`} onChange={() => {}} />\n        </>\n      )}\n      {error && <Icon icon={faExclamationCircle} />}\n    </>\n  );\n};\n\nexport default P2PSender;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n","const getRandomInteger = (min: number, max: number) => {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nexport const generateBrokerId = () => {\n  let password = \"\";\n  const characters =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  for (let i = 0; i < 13; i++) {\n    password += characters[getRandomInteger(0, characters.length - 1)];\n  }\n  return password;\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport TextButton from \"../form_elements/TextButton\";\n\ninterface $Props {\n  message: string;\n  icon?: IconDefinition;\n  confirmeText: string;\n  confirmeClick: () => void;\n  abortText: string;\n  abortClick: () => void;\n}\n\nconst Dialog = ({\n  message,\n  icon,\n  confirmeText,\n  confirmeClick,\n  abortText,\n  abortClick,\n}: $Props) => {\n  return (\n    <DialogWrapper>\n      <Message>\n        {icon ? <Icon icon={icon} /> : \"\"} {message}\n      </Message>\n      <ButtonBar>\n        <TextButton text={abortText} onClick={abortClick} />\n        <TextButton text={confirmeText} onClick={confirmeClick} />\n      </ButtonBar>\n    </DialogWrapper>\n  );\n};\n\nexport default Dialog;\n\nconst DialogWrapper = styled.div`\n  width: 180px;\n  position: absolute;\n  z-index: 1010;\n  top: 10px;\n  left: calc(50% - 100px);\n  padding: 10px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  color: ${({ theme }) => theme.tile.color};\n`;\n\nconst Message = styled.div`\n  width: 100%;\n  text-align: center;\n`;\n\nconst ButtonBar = styled.div`\n  width: 100%;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  flex: 1 1 auto;\n  margin-right: 5px;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  value: number;\n  label: string;\n  max?: number;\n  step?: number;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: number) => void;\n}\n\nconst NumberField = ({ value, max, step, label, icon, transform, onChange }: $Props) => {\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      {max && (\n        <Input\n          type=\"number\"\n          max={max}\n          step={step ? step : 1}\n          value={value}\n          onChange={(e) => onChange(+e.target.value)}\n        />\n      )}\n      {!max && (\n        <Input\n          type=\"number\"\n          step={step ? step : 1}\n          value={value}\n          onChange={(e) => onChange(+e.target.value)}\n        />\n      )}\n    </Field>\n  );\n};\n\nexport default NumberField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1;\n`;\n\nconst Input = styled.input`\n  flex: 1 1 auto;\n  max-width: 6em;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  border-radius: 5px;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  value: string;\n  label: string;\n  height?: string;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: string) => void;\n}\n\nconst TextField = ({ value, label, height, icon, transform, onChange }: $Props) => {\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      <Input height={height} value={value} onChange={(e) => onChange(e.target.value)}></Input>\n    </Field>\n  );\n};\n\nexport default TextField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  min-width: calc(100% - 20px);\n  flex: 3 3 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1;\n  min-width: 100%;\n  height: 30px;\n  line-height: 30px;\n`;\n\ntype TextProps = {\n  height?: string;\n};\n\nconst Input = styled.textarea<TextProps>`\n  flex: 1 1;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  height: ${({ height }) => (height !== undefined ? height : \"auto\")};\n  min-height: ${({ height }) => (height !== undefined ? height : \"22vh\")};\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport TextButton from \"../form_elements/TextButton\";\n\ninterface $Props {\n  text: string;\n  buttonText: string;\n  onButton: () => void;\n}\n\nconst ErrorTile = ({ text, buttonText, onButton }: $Props) => {\n  return (\n    <Tile>\n      <PropWrapper>\n        <Name>\n          <b>A problem occured!</b>\n        </Name>\n        <Text>\n          <PropTitle>Text: </PropTitle>\n          {text}\n        </Text>\n        <TextButton text={buttonText} onClick={() => onButton()} icon={faPlusCircle} />\n      </PropWrapper>\n    </Tile>\n  );\n};\n\nexport default ErrorTile;\n\nconst Tile = styled.div`\n  flex: 1 1 15em;\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ${({ theme }) => theme.tile.boxShadow};\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ${({ theme }) => theme.tile.headerColor};\n  text-align: center;\n  border-radius: 5px;\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst Text = styled.div`\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 97;"],"sourceRoot":""}