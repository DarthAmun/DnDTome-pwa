{"version":3,"sources":["components/form_elements/IconButton.tsx","components/form_elements/TextButton.tsx","components/form_elements/StringField.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/entities/random_tables/details/RandomTableView.tsx","components/entities/random_tables/details/RandomTableEditView.tsx","components/entities/random_tables/details/RandomTableDetail.tsx","components/general_elements/LinkCheck.tsx","components/general_elements/FormatedText.tsx","hooks/DexieHooks.tsx","components/form_elements/BackButton.tsx","components/general_elements/ToggleStyle.tsx","components/general_elements/Dialog.tsx"],"names":["IconButton","icon","floatLeft","disabled","transform","onClick","SimpleButton","left","Icon","DisabledSimpleButton","styled","div","theme","buttons","color","backgroundColor","height","FontAwesomeIcon","TextButton","text","button","hoverColor","StringField","value","label","placeholder","onChange","Field","LabelText","Input","type","e","target","tile","main","highlight","input","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","RandomTableView","randomTable","useState","rand","setRand","CenterWrapper","Name","name","View","faDice","max","lastRowValues","rows","length","includes","trim","split","Math","round","random","rollForRandom","Prop","faArrowRight","map","row","range","min","FormatedText","cells","TableHeadProp","header","cell","index","key","TableProp","th","td","RandomTableEditView","onEdit","onRowChange","field","RowWrapper","RowCount","faTrash","splice","removeRow","faPlus","RandomTableDetail","isNew","editMode","setMode","randomTableObj","editRandomTable","showAlert","setAlert","showDeleteDialog","setDeleteDialog","message","setMessage","unsavedChanges","setUnsavedChanges","history","useHistory","useEffect","Dialog","faExclamationTriangle","confirmeText","confirmeClick","remove","id","goBack","abortText","abortClick","TopBar","BackButton","faArrowLeft","action","mode","toString","title","tableName","updateWithCallback","result","setTimeout","updateRandomTable","faSave","Message","LinkCheck","loading","setLoading","entitiyFound","setEntity","recivePromiseByAttributeCount","then","count","faMeteor","faIdCard","faDragon","faMapMarkedAlt","faTable","formatIcon","formatedText","setFormatedText","cut","str","cutStart","cutEnd","substr","formatLink","useCallback","undefined","parts","formattedParts","forEach","part","codePart","linkParts","link","push","TextPart","Link","formatTable","textPart","table","tableRows","isHead","formatText","indexOf","span","backgroundColorLink","useItem","effect","setEffect","reducer","state","data","error","useReducer","dispatch","get","catch","useItemByAttr","attr","attrValue","where","equals","first","Back","ToggleLeft","ToggleRight","EditToggle","props","DialogWrapper","ButtonBar"],"mappings":"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","file":"static/js/19.e0d7f7a9.chunk.js","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  icon: IconDefinition;\n  floatLeft?: boolean;\n  disabled?: boolean;\n  transform?: string | Transform;\n  onClick: (() => void) | ((e: any) => void);\n}\n\nconst IconButton = ({ icon, floatLeft, disabled, transform, onClick }: $Props) => {\n  return (\n    <>\n      {!disabled && (\n        <SimpleButton left={floatLeft} onClick={onClick}>\n          <Icon icon={icon} transform={transform} />\n        </SimpleButton>\n      )}\n      {disabled && (\n        <DisabledSimpleButton>\n          <Icon icon={icon} transform={transform} />\n        </DisabledSimpleButton>\n      )}\n    </>\n  );\n};\n\nexport default IconButton;\n\ntype FloatMpde = {\n  left?: boolean;\n};\n\nconst SimpleButton = styled.div<FloatMpde>`\n  color: ${({ theme }) => theme.buttons.color};\n  background-color: ${({ theme }) => theme.buttons.backgroundColor};\n  cursor: pointer;\n\n  font-size: 16px;\n  overflow: hidden;\n  height: ${({ theme }) => theme.buttons.height};\n  line-height: ${({ theme }) => theme.buttons.height};\n  float: ${({ left }) => (left ? \"left\" : \"right\")};\n  padding: 10px;\n  margin: 5px;\n  border-radius: 10px;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n\n  transition: color 0.2s;\n\n  &:hover {\n    color: white;\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst DisabledSimpleButton = styled(SimpleButton)`\n  color: ${({ theme }) => theme.buttons.backgroundColor};\n  background-color: ${({ theme }) => theme.buttons.color};\n  cursor: not-allowed;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  flex: 1 1 auto;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  text: string;\n  disabled?: boolean;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onClick: () => void;\n}\n\nconst TextButton = ({ text, icon, transform, disabled, onClick }: $Props) => {\n  return (\n    <SimpleButton onClick={onClick} disabled={disabled}>\n      {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {text}\n    </SimpleButton>\n  );\n};\n\nexport default TextButton;\n\nconst SimpleButton = styled.button`\n  color: ${({ theme }) => theme.buttons.color};\n  background-color: ${({ theme }) => theme.buttons.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: ${({ theme }) => theme.buttons.height};\n  line-height: ${({ theme }) => theme.buttons.height};\n  float: right;\n  padding: 10px;\n  margin: 5px;\n  border-radius: 10px;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  box-sizing: content-box;\n  border: none;\n\n  transition: color 0.2s;\n\n  &:hover {\n    color: ${({ theme }) => theme.buttons.hoverColor};\n  }\n\n  &:disabled {\n    background-color: ${({ theme }) => theme.buttons.disabled};\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  flex: 1 1 auto;\n  margin-right: 5px;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  value: string;\n  label: string;\n  placeholder?: string;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: string) => void;\n}\n\nconst StringField = ({ value, label, placeholder, icon, transform, onChange }: $Props) => (\n  <Field>\n    <LabelText>\n      {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n    </LabelText>\n    <Input\n      type=\"text\"\n      value={value}\n      onChange={(e) => onChange(e.target.value)}\n      placeholder={placeholder}\n    ></Input>\n  </Field>\n);\n\nexport default StringField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1 auto;\n`;\n\nconst Input = styled.input`\n  flex: 3 1 auto;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  border-radius: 5px;\n  width: 0;\n  min-width: 100px;\n`;\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport RandomTable from \"../../../../data/RandomTable\";\n\nimport { faArrowRight, faDice } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport TextButton from \"../../../form_elements/TextButton\";\nimport FormatedText from \"../../../general_elements/FormatedText\";\n\ninterface $Props {\n  randomTable: RandomTable;\n}\n\nconst RandomTableView = ({ randomTable }: $Props) => {\n  const [rand, setRand] = useState<number>(-1);\n\n  const rollForRandom = () => {\n    const min = 1;\n    let max = 10;\n    const lastRowValues = randomTable.rows[randomTable.rows.length - 1].value;\n    if (lastRowValues.includes(\"-\")) {\n      let range = lastRowValues.trim().split(\"-\");\n      max = +range[1];\n    } else if (lastRowValues.includes(\"–\")) {\n      let range = lastRowValues.trim().split(\"–\");\n      max = +range[1];\n    } else {\n      max = +lastRowValues;\n    }\n    const rand = Math.round(min + Math.random() * (max - min));\n    setRand(rand);\n  };\n\n  return (\n    <CenterWrapper>\n      <Name>\n        <b>{randomTable.name}</b>\n      </Name>\n      <View>\n        <TextButton\n          text={\"Roll\"}\n          icon={faDice}\n          onClick={() => rollForRandom()}\n        />\n        {rand >= 0 && (\n          <Prop>\n            {rand} <Icon icon={faArrowRight} />\n            {randomTable.rows.map((row: { value: string; cells: string }) => {\n              if (row.value.includes(\"-\")) { // normal -\n                let range = row.value.trim().split(\"-\");\n                const min: number = +range[0];\n                const max: number = +range[1];\n                if (min <= rand && rand <= max)\n                  return <FormatedText text={row.cells} />;\n              } else if (row.value.includes(\"–\")) { // – used by DnDBeyond \n                let range = row.value.trim().split(\"–\");\n                const min: number = +range[0];\n                const max: number = +range[1];\n                if (min <= rand && rand <= max)\n                  return <FormatedText text={row.cells} />;\n              } else {\n                const valueNumber = +row.value;\n                if (valueNumber === rand)\n                  return <FormatedText text={row.cells} />;\n              }\n              return <></>;\n            })}\n          </Prop>\n        )}\n      </View>\n      <View>\n        <table>\n          <tbody>\n            <tr>\n              <TableHeadProp>Number</TableHeadProp>\n              {randomTable.header &&\n                randomTable.header\n                  .split(\",\")\n                  .map((cell: string, index: number) => {\n                    return <TableHeadProp key={index}>{cell}</TableHeadProp>;\n                  })}\n            </tr>\n            {randomTable.rows &&\n              randomTable.rows.map(\n                (row: { value: string; cells: string }, index: number) => {\n                  return (\n                    <tr key={index}>\n                      <TableProp key={index}>{row.value}</TableProp>\n                      {row.cells\n                        .split(\",\")\n                        .map((cell: string, index: number) => {\n                          return (\n                            <TableProp key={index}>\n                              <FormatedText text={cell} />\n                            </TableProp>\n                          );\n                        })}\n                    </tr>\n                  );\n                }\n              )}\n          </tbody>\n        </table>\n      </View>\n    </CenterWrapper>\n  );\n};\n\nexport default RandomTableView;\n\nconst CenterWrapper = styled.div`\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nconst View = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n  max-width: calc(100% - 20px);\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: ${({ theme }) => theme.tile.color};\n  text-align: center;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst TableHeadProp = styled.th`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n  padding: 10px;\n`;\n\nconst TableProp = styled.td`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n  padding: 5px;\n  text-align: left;\n`;\n\nconst Prop = styled.div`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  padding: 10px;\n  margin: 5px;\n  border-radius: 5px;\n  box-sizing: content-box;\n  text-align: center;\n\n  height: ${({ theme }) => theme.buttons.height};\n  line-height: ${({ theme }) => theme.buttons.height};s\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport RandomTable from \"../../../../data/RandomTable\";\n\nimport { faPlus, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport IconButton from \"../../../form_elements/IconButton\";\nimport StringField from \"../../../form_elements/StringField\";\n\ninterface $Props {\n  randomTable: RandomTable;\n  onEdit: (value: RandomTable) => void;\n}\n\nconst RandomTableEditView = ({ randomTable, onEdit }: $Props) => {\n  const onRowChange = (field: string, value: string, index: number) => {\n    let rows = randomTable.rows;\n    rows[index] = { ...rows[index], [field]: value };\n    onEdit({ ...randomTable, rows: rows });\n  };\n\n  const addNewRow = () => {\n    onEdit({\n      ...randomTable,\n      rows: [...randomTable.rows, { value: \"\", cells: \"\" }],\n    });\n  };\n\n  const removeRow = (index: number) => {\n    let rows = randomTable.rows;\n    if (index !== -1) {\n      rows.splice(index, 1);\n      onEdit({ ...randomTable, rows: rows });\n    }\n  };\n\n  return (\n    <CenterWrapper>\n      <RandomTableView>\n        <StringField\n          value={randomTable.name}\n          label=\"Name\"\n          onChange={(name) => onEdit({ ...randomTable, name: name })}\n        />\n        <StringField\n          value={randomTable.header}\n          label=\"Header\"\n          onChange={(name) => onEdit({ ...randomTable, header: name })}\n          placeholder={\"Items, Description,...\"}\n        />\n      </RandomTableView>\n      <RandomTableView>\n        {randomTable.rows.map(\n          (row: { value: string; cells: string }, index: number) => {\n            return (\n              <RowWrapper key={index}>\n                <RowCount>{index}</RowCount>\n                <StringField\n                  value={row.value}\n                  label={\"Row values \" + index}\n                  onChange={(text) => onRowChange(\"value\", text, index)}\n                  placeholder={`${index + 1} or 0-5`}\n                />\n                <StringField\n                  value={row.cells}\n                  label={\"Row \" + index}\n                  onChange={(text) => onRowChange(\"cells\", text, index)}\n                  placeholder={`Item ${index}, Description ${index},...`}\n                />\n                <IconButton icon={faTrash} onClick={() => removeRow(index)} />\n              </RowWrapper>\n            );\n          }\n        )}\n        <RowWrapper>\n          <IconButton icon={faPlus} onClick={() => addNewRow()} />\n        </RowWrapper>\n      </RandomTableView>\n    </CenterWrapper>\n  );\n};\n\nexport default RandomTableEditView;\n\nconst CenterWrapper = styled.div`\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst RandomTableView = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: flex-start;\n`;\n\nconst RowWrapper = styled.div`\n  flex: 1 1 600px;\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst RowCount = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 38px;\n  flex: 1 1 20px;\n  max-width: 20px;\n  text-algin: center;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n`;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\nimport RandomTable from \"../../../../data/RandomTable\";\nimport { remove, updateWithCallback } from \"../../../../services/DatabaseService\";\n\nimport {\n  faArrowLeft,\n  faSave,\n  faTrash,\n  faExclamationTriangle,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport RandomTableView from \"./RandomTableView\";\nimport RandomTableEditView from \"./RandomTableEditView\";\nimport BackButton from \"../../../form_elements/BackButton\";\nimport IconButton from \"../../../form_elements/IconButton\";\nimport Dialog from \"../../../general_elements/Dialog\";\nimport { EditToggle, ToggleLeft, ToggleRight } from \"../../../general_elements/ToggleStyle\";\n\ninterface $Props {\n  randomTable: RandomTable;\n  isNew: boolean;\n}\n\nconst RandomTableDetail = ({ randomTable, isNew }: $Props) => {\n  const [editMode, setMode] = useState<boolean>(isNew);\n  const [randomTableObj, editRandomTable] = useState<RandomTable>(randomTable);\n  const [showAlert, setAlert] = useState<boolean>(false);\n  const [showDeleteDialog, setDeleteDialog] = useState<boolean>(false);\n  const [message, setMessage] = useState<string>(\"\");\n  const [unsavedChanges, setUnsavedChanges] = useState<boolean>(false);\n  let history = useHistory();\n\n  const deleteRandomTable = () => {\n    setDeleteDialog(true);\n  };\n\n  useEffect(() => {\n    if (randomTableObj !== randomTable) {\n      setUnsavedChanges(true);\n    }\n  }, [randomTableObj, randomTable]);\n\n  const updateRandomTable = (tableName: string, randomTableObj: RandomTable) => {\n    updateWithCallback(tableName, randomTableObj, (result) => {\n      if (result > 0) {\n        setUnsavedChanges(false);\n        setMessage(\"Saved successful!\");\n        setAlert(true);\n      } else {\n        setMessage(\"Something went wrong!\");\n        setAlert(true);\n      }\n      setTimeout(() => {\n        setAlert(false);\n      }, 3000);\n    });\n  };\n\n  return (\n    <>\n      {showDeleteDialog && (\n        <Dialog\n          message={`Delete ${randomTable.name}?`}\n          icon={faExclamationTriangle}\n          confirmeText={\"Delete\"}\n          confirmeClick={() => {\n            remove(\"randomTables\", randomTable.id);\n            history.goBack();\n          }}\n          abortText={\"Back\"}\n          abortClick={() => {\n            setDeleteDialog(false);\n          }}\n        />\n      )}\n      <TopBar>\n        <BackButton icon={faArrowLeft} action={() => history.goBack()} />\n        <EditToggle mode={editMode.toString()}>\n          <ToggleLeft onClick={() => setMode(false)}>View</ToggleLeft>\n          <ToggleRight onClick={() => setMode(true)}>Edit</ToggleRight>\n        </EditToggle>\n        {unsavedChanges && <Icon icon={faExclamationTriangle} title={\"Unsaved changes!\"} />}\n        {editMode && (\n          <>\n            <IconButton\n              onClick={() => updateRandomTable(\"randomTables\", randomTableObj)}\n              icon={faSave}\n            />\n            <IconButton onClick={() => deleteRandomTable()} icon={faTrash} />\n            {message && showAlert && <Message>{message}</Message>}\n          </>\n        )}\n      </TopBar>\n      {editMode ? (\n        <RandomTableEditView\n          randomTable={randomTableObj}\n          onEdit={(value) => editRandomTable(value)}\n        />\n      ) : (\n        <RandomTableView randomTable={randomTableObj} />\n      )}\n    </>\n  );\n};\n\nexport default RandomTableDetail;\n\nconst TopBar = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  overflow: hidden;\n  flex: 1 1;\n  min-width: calc(100% - 20px);\n  height: 45px;\n  padding: 10px;\n`;\n\nconst Message = styled.div`\n  padding: 5px;\n  width: 150px;\n  height: 30px;\n  line-height: 30px;\n  border-radius: 5px;\n  float: right;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  float: right;\n  line-height: 30px;\n  display: block;\n  height: 30px;\n  padding: 10px;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n","import React, { useEffect, useState } from \"react\";\nimport { BiError, BiHistory, BiSelectMultiple } from \"react-icons/bi\";\nimport {\n  GiCrystalWand,\n  GiBackpack,\n  GiWomanElfFace,\n  GiPlagueDoctorProfile,\n  GiSwordClash,\n  GiBookmarklet,\n  GiScrollUnfurled,\n  GiSolarSystem,\n  GiDjinn,\n  GiBookshelf,\n} from \"react-icons/gi\";\nimport {\n  faMeteor,\n  faIdCard,\n  faDragon,\n  faMapMarkedAlt,\n  faTable,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { MdEvent } from \"react-icons/md\";\nimport { HiUserGroup } from \"react-icons/hi\";\nimport { recivePromiseByAttributeCount } from \"../../services/DatabaseService\";\n\ninterface $Props {\n  type: string;\n  name: string;\n}\n\nconst LinkCheck = ({ type, name }: $Props) => {\n  const [loading, setLoading] = useState<boolean>(true);\n  const [entitiyFound, setEntity] = useState<boolean>(false);\n\n  useEffect(() => {\n    recivePromiseByAttributeCount(type + \"s\", \"name\", name).then((count: number) => {\n      setEntity(count > 0);\n      setLoading(false);\n    });\n  }, [type, name]);\n\n  const formatIcon = (type: string) => {\n    switch (type) {\n      case \"spell\":\n        return <FontAwesomeIcon icon={faMeteor} />;\n      case \"item\":\n        return <GiCrystalWand />;\n      case \"gear\":\n        return <GiBackpack />;\n      case \"race\":\n        return <GiWomanElfFace />;\n      case \"class\":\n        return <GiPlagueDoctorProfile />;\n      case \"selection\":\n        return <BiSelectMultiple />;\n      case \"char\":\n        return <FontAwesomeIcon icon={faIdCard} />;\n      case \"monster\":\n        return <FontAwesomeIcon icon={faDragon} />;\n      case \"encounter\":\n        return <GiSwordClash />;\n      case \"campaign\":\n        return <GiBookmarklet />;\n      case \"quest\":\n        return <GiScrollUnfurled />;\n      case \"event\":\n        return <MdEvent />;\n      case \"world\":\n        return <GiSolarSystem />;\n      case \"location\":\n        return <FontAwesomeIcon icon={faMapMarkedAlt} />;\n      case \"npc\":\n        return <GiDjinn />;\n      case \"randomTable\":\n        return <FontAwesomeIcon icon={faTable} />;\n      case \"book\":\n        return <GiBookshelf />;\n        case \"group\":\n          return <HiUserGroup />;\n      default:\n        return \"\";\n    }\n  };\n\n  return (\n    <>\n      {loading && <BiHistory />}\n      {!loading && !entitiyFound && <BiError />}\n      {!loading && entitiyFound && <>{formatIcon(type)}</>}\n    </>\n  );\n};\n\nexport default LinkCheck;\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\nimport LinkCheck from \"./LinkCheck\";\n\ninterface $Props {\n  text: string;\n}\n\nconst FormatedText = ({ text }: $Props) => {\n  const [formatedText, setFormatedText] = useState<JSX.Element>();\n  let history = useHistory();\n\n  const cut = (str: string, cutStart: number, cutEnd: number) => {\n    return str.substr(0, cutStart) + str.substr(cutEnd + 1);\n  };\n\n  const formatLink = useCallback(\n    (text: string) => {\n      if (text !== undefined) {\n        if (text.includes(\"[[\") && text.includes(\"]]\")) {\n          const parts = text.split(\"[[\");\n          let formattedParts: any[] = [];\n          parts.forEach((part: string, index: number) => {\n            if (part.includes(\"]]\")) {\n              const codePart: string[] = part.split(\"]]\");\n              const linkParts: string[] = codePart[0].split(\".\");\n              const link: string = \"/\" + linkParts[0] + \"-detail/name/\" + linkParts[1];\n              formattedParts.push(\n                <TextPart key={index}>\n                  <Link onClick={() => history.push(link)}>\n                    <LinkCheck type={linkParts[0]} name={linkParts[1]} /> {linkParts[1]}\n                  </Link>\n                  <TextPart>{codePart[1]}</TextPart>\n                </TextPart>\n              );\n            } else {\n              if (part !== \"\") formattedParts.push(<TextPart key={index}>{part}</TextPart>);\n            }\n          });\n          return <>{formattedParts}</>;\n        } else {\n          return <TextPart>{text}</TextPart>;\n        }\n      }\n    },\n    [history]\n  );\n\n  const formatTable = useCallback(\n    (textPart: string) => {\n      if (textPart.includes(\"||table||\")) {\n        const table: string[] = text.split(\"||table||\");\n        const tableRows: string[] = table[1].split(\"||\");\n        let isHead = true;\n        return (\n          <>\n            {formatLink(table[0])}\n            <table>\n              <tbody>\n                {tableRows.map((row: string, index: number) => {\n                  if (row.includes(\"|\")) {\n                    if (isHead) {\n                      isHead = false;\n                      const cells = row.split(\"|\");\n                      return (\n                        <tr key={index}>\n                          {cells.map((cell: string, index: number) => {\n                            return <TableHeadProp key={index}>{cell}</TableHeadProp>;\n                          })}\n                        </tr>\n                      );\n                    } else {\n                      const cells = row.split(\"|\");\n                      return (\n                        <tr key={index}>\n                          {cells.map((cell: string, index: number) => {\n                            return <TableProp key={index}>{formatLink(cell)}</TableProp>;\n                          })}\n                        </tr>\n                      );\n                    }\n                  } else {\n                    return <></>;\n                  }\n                })}\n              </tbody>\n            </table>\n            {formatLink(table[2])}\n          </>\n        );\n      } else {\n        return formatLink(textPart);\n      }\n    },\n    [text, formatLink]\n  );\n\n  const formatText = useCallback(\n    (textPart: string) => {\n      while (textPart.includes(\"{{\")) {\n        const cutStart = textPart.indexOf(\"{{\");\n        const cutEnd = textPart.indexOf(\"}}\") + 1;\n        textPart = cut(textPart, cutStart, cutEnd);\n      }\n      return formatTable(textPart);\n    },\n    [formatTable]\n  );\n\n  useEffect(() => {\n    if (text !== undefined) {\n      let formatedText = formatText(text);\n      setFormatedText(formatedText);\n    }\n  }, [text, history, formatText]);\n\n  return <>{formatedText}</>;\n};\n\nexport default FormatedText;\n\nconst Link = styled.span`\n  display: inline-block;\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  text-decoration: none;\n  color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 14px;\n  padding: 0px 5px 0px 5px;\n  cursor: pointer;\n  white-space: pre;\n`;\n\nconst TextPart = styled.span`\n  white-space: pre-line;\n`;\n\nconst TableHeadProp = styled.th`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n  padding: 2px 5px 2px 5px;\n`;\n\nconst TableProp = styled.td`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n  padding: 5px;\n  text-align: center;\n`;\n","import Dexie from \"dexie\";\nimport { useReducer, useEffect, useCallback, useState } from \"react\";\nimport Filter from \"../data/Filter\";\nimport ReactDOM from \"react-dom\";\n\ntype TableState<T> = [T[] | undefined, boolean, Dexie.DexieError | undefined];\ntype TableAction<T> =\n  | { type: \"resolved\"; data: T[] }\n  | { type: \"empty\" }\n  | { type: \"reset\" }\n  | { type: \"error\"; error: Dexie.DexieError };\n\ntype ItemState<T> = [T | undefined, boolean, Dexie.DexieError | undefined];\ntype ItemAction<T> =\n  | { type: \"resolved\"; data: T }\n  | { type: \"empty\" }\n  | { type: \"reset\" }\n  | { type: \"error\"; error: Dexie.DexieError };\n\nexport const useTable = <T, U>(table: Dexie.Table<T, U>): TableState<T> => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const reducer = useCallback((state: TableState<T>, action: TableAction<T>): TableState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (effect) {\n      const getAndDispatch = () =>\n        table\n          .toArray()\n          .then((data) => {\n            dispatch({\n              type: \"resolved\",\n              data,\n            });\n          })\n          .catch((error) => {\n            dispatch({\n              type: \"error\",\n              error,\n            });\n          });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, effect]);\n\n  return state;\n};\n\nexport const useTableByFilter = <T, U>(\n  table: Dexie.Table<T, U>,\n  filters: Filter[]\n): TableState<T> => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const [filter, setFilter] = useState<Filter[]>(filters);\n  const reducer = useCallback((state: TableState<T>, action: TableAction<T>): TableState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      case \"reset\":\n        return [undefined, true, undefined];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (filter !== filters) {\n      ReactDOM.unstable_batchedUpdates(() => {\n        dispatch({ type: \"reset\" });\n        setFilter(filters);\n        setEffect(true);\n      });\n    }\n  }, [filter, filters, setEffect]);\n\n  useEffect(() => {\n    if (effect) {\n      const getAndDispatch = () => console.time(\"filtered get all\");\n      table\n        .filter((obj: T) => {\n          let test: boolean[] = [];\n          filters.forEach((filter) => {\n            if (typeof filter.value === \"string\") {\n              test.push(\n                // @ts-ignore\n                obj[filter.fieldName].toLowerCase().includes(filter.value.toLowerCase())\n              );\n            } else if (typeof filter.value === \"number\") {\n              // @ts-ignore\n              test.push(obj[filter.fieldName] === filter.value);\n            } else if (typeof filter.value === \"boolean\") {\n              // @ts-ignore\n              test.push(obj[filter.fieldName] === filter.value);\n            } else if (filter.value instanceof Array) {\n              let arrayTest: boolean = false;\n              filter.value.forEach((filterPart: string | boolean | number) => {\n                if (typeof filterPart === \"string\") {\n                  if (\n                    // @ts-ignore\n                    obj[filter.fieldName].toLowerCase().includes(filterPart.toLowerCase())\n                  )\n                    arrayTest = true;\n                } else if (typeof filterPart === \"number\") {\n                  // @ts-ignore\n                  if (obj[filter.fieldName] === filterPart) arrayTest = true;\n                } else if (typeof filterPart === \"boolean\") {\n                  // @ts-ignore\n                  if (obj[filter.fieldName] === filterPart) arrayTest = true;\n                }\n              });\n              test.push(arrayTest);\n            }\n          });\n\n          let result = true;\n          test.forEach((val) => {\n            if (!val) result = false;\n          });\n          return result;\n        })\n        .sortBy(\"name\")\n        .then((data) => {\n          console.timeEnd(\"filtered get all\");\n          dispatch({\n            type: \"resolved\",\n            data,\n          });\n        })\n        .catch((error) => {\n          dispatch({\n            type: \"error\",\n            error,\n          });\n        });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, effect, filters]);\n\n  return state;\n};\n\nexport const useItem = <T, U>(table: Dexie.Table<T, U>, id: U) => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const reducer = useCallback((state: ItemState<T>, action: ItemAction<T>): ItemState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"empty\":\n        return [undefined, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (effect) {\n      const getAndDispatch = () =>\n        table\n          .get(id)\n          .then((data) => {\n            if (data !== undefined) {\n              dispatch({\n                type: \"resolved\",\n                data,\n              });\n            } else {\n              dispatch({\n                type: \"empty\",\n              });\n            }\n          })\n          .catch((error) => {\n            dispatch({\n              type: \"error\",\n              error,\n            });\n          });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, id, effect]);\n\n  return state;\n};\n\nexport const useItemByAttr = <T, U>(table: Dexie.Table<T, U>, attr: string, attrValue: string) => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const reducer = useCallback((state: ItemState<T>, action: ItemAction<T>): ItemState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"empty\":\n        return [undefined, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (effect) {\n      const getAndDispatch = () =>\n        table\n          .where(attr)\n          .equals(attrValue)\n          .first()\n          .then((data) => {\n            if (data !== undefined) {\n              dispatch({\n                type: \"resolved\",\n                data,\n              });\n            } else {\n              dispatch({\n                type: \"empty\",\n              });\n            }\n          })\n          .catch((error) => {\n            dispatch({\n              type: \"error\",\n              error,\n            });\n          });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, attr, attrValue, effect]);\n\n  return state;\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  icon: IconDefinition;\n  transform?: string | Transform;\n  action: () => void;\n}\n\nconst BackButton = ({ icon, transform, action }: $Props) => {\n  return (\n    <Back onClick={action}>\n      <Icon icon={icon} transform={transform} />\n    </Back>\n  );\n};\n\nexport default BackButton;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n  &:hover {\n    color: ${({ theme }) => theme.buttons.color};\n  }\n`;\n\nconst Back = styled.div`\n  float: left;\n  font-size: calc(${({ theme }) => theme.buttons.height} + 10px);\n  margin: 10px 0px 0px 10px;\n  cursor: pointer;\n`;\n","import styled from \"styled-components\";\n\nexport const ToggleLeft = styled.div`\n  width: auto;\n  padding: 10px;\n  margin: 5px 0px 5px 5px;\n  height: ${({ theme }) => theme.buttons.height};\n  line-height: ${({ theme }) => theme.buttons.height};\n  float: left;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  border-radius: 5px 0px 0px 5px;\n\n  transition: color 0.2s, background-color 0.2s;\n\n  &:hover {\n    color: ${({ theme }) => theme.buttons.hoverColor};\n  }\n`;\n\nexport const ToggleRight = styled(ToggleLeft)`\n  margin: 5px 5px 5px 0px;\n\n  border-radius: 0px 5px 5px 0px;\n`;\n\ntype EditMode = {\n  mode: string;\n};\n\nexport const EditToggle = styled.div<EditMode>`\n  width: auto;\n  height: ${({ theme }) => theme.buttons.height};\n  float: right;\n  color: ${({ theme }) => theme.buttons.color};\n\n  ${ToggleLeft} {\n    background-color: ${(props) => {\n      if (props.mode !== \"true\") {\n        return ({ theme }) => theme.buttons.backgroundColor;\n      } else {\n        return ({ theme }) => theme.tile.backgroundColor;\n      }\n    }};\n  }\n\n  ${ToggleRight} {\n    background-color: ${(props) => {\n      if (props.mode === \"true\") {\n        return ({ theme }) => theme.buttons.backgroundColor;\n      } else {\n        return ({ theme }) => theme.tile.backgroundColor;\n      }\n    }};\n  }\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport TextButton from \"../form_elements/TextButton\";\n\ninterface $Props {\n  message: string;\n  icon?: IconDefinition;\n  confirmeText: string;\n  confirmeClick: () => void;\n  abortText: string;\n  abortClick: () => void;\n}\n\nconst Dialog = ({\n  message,\n  icon,\n  confirmeText,\n  confirmeClick,\n  abortText,\n  abortClick,\n}: $Props) => {\n  return (\n    <DialogWrapper>\n      <Message>\n        {icon ? <Icon icon={icon} /> : \"\"} {message}\n      </Message>\n      <ButtonBar>\n        <TextButton text={abortText} onClick={abortClick} />\n        <TextButton text={confirmeText} onClick={confirmeClick} />\n      </ButtonBar>\n    </DialogWrapper>\n  );\n};\n\nexport default Dialog;\n\nconst DialogWrapper = styled.div`\n  width: 180px;\n  position: absolute;\n  z-index: 1010;\n  top: 10px;\n  left: calc(50% - 100px);\n  padding: 10px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  color: ${({ theme }) => theme.tile.color};\n`;\n\nconst Message = styled.div`\n  width: 100%;\n  text-align: center;\n`;\n\nconst ButtonBar = styled.div`\n  width: 100%;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  flex: 1 1 auto;\n  margin-right: 5px;\n`;\n"],"sourceRoot":""}