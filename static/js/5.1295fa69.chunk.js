(this.webpackJsonpdndtome=this.webpackJsonpdndtome||[]).push([[5],{100:function(e,n,t){"use strict";var r=t(4),i=t(75),a=t.n(i),o=t(78),c=t(15),u=t(1),s=t.n(u),l=t(3),d=t(9),h=t(69);function p(){var e=Object(r.a)(["\n  flex: 3 1 auto;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n\n  &:focus ~ "," {\n    display: block;\n  }\n"]);return p=function(){return e},e}function f(){var e=Object(r.a)(["\n  padding: 5px;\n  cursor: pointer;\n  color: ",";\n  background-color: ",";\n  margin-bottom: 1px;\n  border-radius: 5px;\n"]);return f=function(){return e},e}function m(){var e=Object(r.a)(["\n  display: none;\n  position: absolute;\n  border-bottom: none;\n  border-top: none;\n  z-index: 99;\n  top: 100%;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n\n  &:hover {\n    display: block;\n  }\n"]);return m=function(){return e},e}function b(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return b=function(){return e},e}function v(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return v=function(){return e},e}function g(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n  position: relative;\n  overflow: visible;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return g=function(){return e},e}n.a=function(e){var n=e.optionTable,t=e.filters,r=e.value,i=e.label,l=e.icon,d=e.transform,p=e.onChange,f=Object(u.useState)(n),m=Object(c.a)(f,1)[0],b=Object(u.useState)([]),v=Object(c.a)(b,2),g=v[0],k=v[1],C=Object(u.useState)([]),P=Object(c.a)(C,2),z=P[0],S=P[1],H=Object(u.useCallback)(function(){var e=Object(o.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],n.forEach((function(e){r.push(Object(h.i)(e,void 0!==t?t:[]))})),e.next=4,Promise.all(r);case 4:e.sent.forEach((function(e){k((function(n){return n.concat(e)}))}));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[t]);Object(u.useEffect)((function(){"string"===typeof m&&Object(h.h)(m,void 0!==t?t:[],(function(e){k(e)})),m instanceof Array&&m.length>0&&H(m)}),[m,H,t]);var I=Object(u.useCallback)((function(e){p(e);var n=g.filter((function(n){return n.name.includes(e)}));S(n)}),[g,p]);return s.a.createElement(y,null,s.a.createElement(j,null,l?s.a.createElement(x,{icon:l,transform:d}):""," ",i),s.a.createElement(w,{type:"text",value:r,onChange:function(e){return I(e.target.value)}}),s.a.createElement(O,null,z.length>0&&z.map((function(e,n){return s.a.createElement(E,{key:n,onClick:function(n){return I(e.name)}},e.name)}))))};var y=l.b.label(g(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),x=Object(l.b)(d.a)(v(),(function(e){return e.theme.main.highlight})),j=l.b.div(b()),O=l.b.div(m()),E=l.b.div(f(),(function(e){return e.theme.input.color}),(function(e){return e.theme.input.backgroundColor})),w=l.b.input(p(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}),O)},103:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return a}));var r=t(68),i=function e(n,t,i){Object(r.a)(this,e),this.classe=void 0,this.level=void 0,this.subclasse=void 0,this.level=t,this.classe=n,this.subclasse=i};function a(e){var n=void 0!==e.classe&&"string"==typeof e.classe,t=void 0!==e.level&&"number"==typeof e.level,r=void 0!==e.subclasse&&"string"==typeof e.subclasse;return e&&t&&n&&r}},113:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return l}));var r=t(68),i=function e(n,t,i,a,o,c,u,s,l,d,h,p,f,m,b,v,g,y){Object(r.a)(this,e),this.acrobaticsProf=void 0,this.animalHandlingProf=void 0,this.arcanaProf=void 0,this.athleticsProf=void 0,this.deceptionProf=void 0,this.historyProf=void 0,this.insightProf=void 0,this.intimidationProf=void 0,this.investigationProf=void 0,this.medicineProf=void 0,this.natureProf=void 0,this.perceptionProf=void 0,this.performanceProf=void 0,this.persuasionProf=void 0,this.religionProf=void 0,this.sleightOfHandProf=void 0,this.stealthProf=void 0,this.survivalProf=void 0,this.acrobaticsProf=n||0,this.animalHandlingProf=t||0,this.arcanaProf=i||0,this.athleticsProf=a||0,this.deceptionProf=o||0,this.historyProf=c||0,this.insightProf=u||0,this.intimidationProf=s||0,this.investigationProf=l||0,this.medicineProf=d||0,this.natureProf=h||0,this.perceptionProf=p||0,this.performanceProf=f||0,this.persuasionProf=m||0,this.religionProf=b||0,this.sleightOfHandProf=v||0,this.stealthProf=g||0,this.survivalProf=y||0};var a=function e(n,t,i,a,o,c){Object(r.a)(this,e),this.strSaveProf=void 0,this.dexSaveProf=void 0,this.conSaveProf=void 0,this.intSaveProf=void 0,this.wisSaveProf=void 0,this.chaSaveProf=void 0,this.strSaveProf=n||0,this.dexSaveProf=t||0,this.conSaveProf=i||0,this.intSaveProf=a||0,this.wisSaveProf=o||0,this.chaSaveProf=c||0};var o=function e(n,t,i,a,o){Object(r.a)(this,e),this.copper=void 0,this.silver=void 0,this.electrum=void 0,this.gold=void 0,this.platinum=void 0,this.copper=n||0,this.silver=t||0,this.electrum=i||0,this.gold=a||0,this.platinum=o||0};var c=t(103),u=function e(n,t){Object(r.a)(this,e),this.race=void 0,this.subrace=void 0,this.race=n||"",this.subrace=t||""};var s=function e(n,t,c,s,l,d,h,p,f,m,b,v,g,y,x,j,O,E,w,k,C,P,z,S,H,I,M,D,N,A,B,R,V,T,F,L){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.player=void 0,this.campaign=void 0,this.pic=void 0,this.classes=void 0,this.race=void 0,this.background=void 0,this.spells=void 0,this.spellSlots=void 0,this.activeSelections=void 0,this.currencyBonis=void 0,this.items=void 0,this.monsters=void 0,this.ac=void 0,this.hp=void 0,this.currentHp=void 0,this.init=void 0,this.speed=void 0,this.str=void 0,this.dex=void 0,this.con=void 0,this.int=void 0,this.wis=void 0,this.cha=void 0,this.saves=void 0,this.actions=void 0,this.profsLangs=void 0,this.senses=void 0,this.money=void 0,this.skills=void 0,this.spellNotes=void 0,this.alignment=void 0,this.inspiration=void 0,this.castingHit=void 0,this.castingDC=void 0,this.id=n||-1,this.name=t||"",this.player=c||"",this.campaign=s||"",this.pic=l||"",this.classes=d||[],this.race=h||new u,this.background=p||"",this.spells=f||[],this.spellSlots=m||[],this.activeSelections=b||[],this.currencyBonis=v||[],this.items=g||[],this.monsters=y||[],this.ac=x||0,this.hp=j||0,this.currentHp=O||0,this.init=E||0,this.speed=w||"",this.str=k||0,this.dex=C||0,this.con=P||0,this.int=z||0,this.wis=S||0,this.cha=H||0,this.saves=I||new a,this.actions=M||"",this.profsLangs=D||"",this.senses=N||"",this.money=A||new o,this.skills=B||new i,this.spellNotes=R||"",this.alignment=V||"",this.inspiration=T||0,this.castingHit=F||0,this.castingDC=L||0};function l(e){var n=void 0!==e.name&&"string"==typeof e.name,t=void 0!==e.player&&"string"==typeof e.player,r=void 0!==e.campaign&&"string"==typeof e.campaign,i=void 0!==e.pic&&"string"==typeof e.pic,a=void 0!==e.race&&function(e){var n=void 0!==e.race&&"string"==typeof e.race,t=void 0!==e.subrace&&"string"==typeof e.subrace;return e&&n&&t}(e.race),o=void 0!==e.background&&"string"==typeof e.background,u=void 0!==e.ac&&"number"==typeof e.ac,s=void 0!==e.hp&&"number"==typeof e.hp,l=void 0!==e.currentHp&&"number"==typeof e.currentHp,d=void 0!==e.init&&"number"==typeof e.init,h=void 0!==e.classes&&Array.isArray(e.classes)&&Object(c.b)(e.classes[0]);return e&&n&&t&&r&&i&&a&&o&&u&&s&&l&&d&&h}},117:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return a}));var r=t(68),i=function e(n,t,i,a,o,c,u,s,l,d,h,p,f,m,b,v,g,y,x,j,O,E,w,k,C,P,z,S,H,I){Object(r.a)(this,e),this.id=void 0,this.filename=void 0,this.name=void 0,this.pic=void 0,this.sources=void 0,this.size=void 0,this.type=void 0,this.subtype=void 0,this.alignment=void 0,this.ac=void 0,this.hp=void 0,this.speed=void 0,this.cr=void 0,this.str=void 0,this.dex=void 0,this.con=void 0,this.int=void 0,this.wis=void 0,this.cha=void 0,this.savingThrows=void 0,this.skills=void 0,this.senses=void 0,this.lang=void 0,this.dmgVulnerabilitie=void 0,this.dmgResistance=void 0,this.dmgImmunities=void 0,this.conImmunities=void 0,this.sAblt=void 0,this.ablt=void 0,this.lAblt=void 0,this.name=t||"",this.sources=i||"",this.id=n,this.pic=a||"",this.size=o||"",this.type=c||"",this.subtype=u||"",this.alignment=s||"",this.ac=l||0,this.hp=d||0,this.speed=h||"",this.cr=p||0,this.str=f||0,this.dex=m||0,this.con=b||0,this.int=v||0,this.wis=g||0,this.cha=y||0,this.savingThrows=x||"",this.skills=j||"",this.senses=O||"",this.lang=E||"",this.dmgVulnerabilitie=w||"",this.dmgResistance=k||"",this.dmgImmunities=C||"",this.conImmunities=P||"",this.sAblt=z||"",this.ablt=S||"",this.lAblt=H||"",this.filename=I||""};function a(e){var n=void 0!==e.name&&"string"==typeof e.name,t=void 0!==e.pic&&"string"==typeof e.pic,r=void 0!==e.sources&&"string"==typeof e.sources,i=void 0!==e.size&&"string"==typeof e.size,a=void 0!==e.type&&"string"==typeof e.type,o=void 0!==e.subtype&&"string"==typeof e.subtype,c=void 0!==e.alignment&&"string"==typeof e.alignment,u=void 0!==e.ac&&"number"==typeof e.ac,s=void 0!==e.hp&&"number"==typeof e.hp,l=void 0!==e.speed&&"string"==typeof e.speed,d=void 0!==e.cr&&"number"==typeof e.cr,h=void 0!==e.str&&"number"==typeof e.str,p=void 0!==e.dex&&"number"==typeof e.dex,f=void 0!==e.con&&"number"==typeof e.con,m=void 0!==e.int&&"number"==typeof e.int,b=void 0!==e.wis&&"number"==typeof e.wis,v=void 0!==e.cha&&"number"==typeof e.cha,g=void 0!==e.savingThrows&&"string"==typeof e.savingThrows,y=void 0!==e.skills&&"string"==typeof e.skills,x=void 0!==e.senses&&"string"==typeof e.senses,j=void 0!==e.lang&&"string"==typeof e.lang,O=void 0!==e.dmgVulnerabilitie&&"string"==typeof e.dmgVulnerabilitie,E=void 0!==e.dmgResistance&&"string"==typeof e.dmgResistance,w=void 0!==e.dmgImmunities&&"string"==typeof e.dmgImmunities,k=void 0!==e.conImmunities&&"string"==typeof e.conImmunities,C=void 0!==e.sAblt&&"string"==typeof e.sAblt,P=void 0!==e.ablt&&"string"==typeof e.ablt,z=void 0!==e.lAblt&&"string"==typeof e.lAblt;return e&&n&&t&&r&&i&&a&&o&&c&&u&&s&&l&&d&&h&&p&&f&&m&&b&&v&&g&&y&&x&&j&&O&&E&&w&&k&&C&&P&&z}},149:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return a}));var r=t(68),i=function e(n,t,i,a,o,c,u,s,l){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.pic=void 0,this.char=void 0,this.monster=void 0,this.traits=void 0,this.description=void 0,this.sources=void 0,this.filename=void 0,this.id=n,this.name=t||"",this.pic=i||"",this.char=a||void 0,this.monster=o||void 0,this.traits=c||"",this.description=u||"",this.sources=s||"",this.filename=l||""};function a(e){var n=void 0!==e.name&&"string"==typeof e.name,t=void 0!==e.pic&&"string"==typeof e.pic,r=void 0!==e.traits&&"string"==typeof e.traits,i=void 0!==e.description&&"string"==typeof e.description,a=void 0!==e.sources&&"string"==typeof e.sources;return e&&n&&t&&i&&r&&a}},205:function(e,n,t){"use strict";var r=t(4),i=t(1),a=t.n(i),o=t(3),c=t(9);function u(){var e=Object(r.a)(["\n  float: left;\n  font-size: calc("," + 10px);\n  margin: 10px 0px 0px 10px;\n  cursor: pointer;\n"]);return u=function(){return e},e}function s(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n"]);return s=function(){return e},e}n.a=function(e){var n=e.icon,t=e.transform,r=e.action;return a.a.createElement(d,{onClick:r},a.a.createElement(l,{icon:n,transform:t}))};var l=Object(o.b)(c.a)(s(),(function(e){return e.theme.main.highlight}),(function(e){return e.theme.buttons.color})),d=o.b.div(u(),(function(e){return e.theme.buttons.height}))},206:function(e,n,t){"use strict";t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return s})),t.d(n,"a",(function(){return l}));var r=t(4),i=t(3);function a(){var e=Object(r.a)(["\n  width: auto;\n  height: ",";\n  float: right;\n  color: ",";\n\n  "," {\n    background-color: ",";\n  }\n\n  "," {\n    background-color: ",";\n  }\n"]);return a=function(){return e},e}function o(){var e=Object(r.a)(["\n  margin: 5px 5px 5px 0px;\n\n  border-radius: 0px 5px 5px 0px;\n"]);return o=function(){return e},e}function c(){var e=Object(r.a)(["\n  width: auto;\n  padding: 10px;\n  margin: 5px 0px 5px 5px;\n  height: ",";\n  line-height: ",";\n  float: left;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  border-radius: 5px 0px 0px 5px;\n\n  transition: color 0.2s, background-color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n"]);return c=function(){return e},e}var u=i.b.div(c(),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.hoverColor})),s=Object(i.b)(u)(o()),l=i.b.div(a(),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.color}),u,(function(e){return"true"!==e.mode?function(e){return e.theme.buttons.backgroundColor}:function(e){return e.theme.tile.backgroundColor}}),s,(function(e){return"true"===e.mode?function(e){return e.theme.buttons.backgroundColor}:function(e){return e.theme.tile.backgroundColor}}))},220:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return a}));var r=t(68),i=function e(n,t,i,a,o,c,u,s,l){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.enemies=void 0,this.players=void 0,this.isPlaying=void 0,this.currentInit=void 0,this.roundCounter=void 0,this.map=void 0,this.dimension=void 0,this.id=n,this.name=t||"",this.enemies=i||[],this.players=a||[],this.isPlaying=o||!1,this.currentInit=c||0,this.roundCounter=u||0,this.map=s||"",this.dimension=l||{width:20,height:20,size:20,zoom:100}};function a(e){var n=void 0!==e.name&&"string"==typeof e.name,t=void 0!==e.enemies&&Array.isArray(e.enemies),r=void 0!==e.players&&Array.isArray(e.players),i=void 0!==e.isPlaying&&"boolean"==typeof e.isPlaying,a=void 0!==e.map&&"string"==typeof e.map,o=void 0!==e.currentInit&&"number"==typeof e.currentInit,c=void 0!==e.roundCounter&&"number"==typeof e.roundCounter;return e&&n&&t&&r&&i&&a&&o&&c}},229:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return o}));var r=t(15),i=t(1),a=(t(34),function(e,n){var t=Object(i.useState)(!0),a=Object(r.a)(t,2),o=a[0],c=a[1],u=Object(i.useCallback)((function(e,n){switch(n.type){case"resolved":return[n.data,!1,void 0];case"empty":return[void 0,!1,void 0];case"error":return[void 0,!1,n.error];default:return[void 0,!0,void 0]}}),[]),s=Object(i.useReducer)(u,[void 0,!0,void 0]),l=Object(r.a)(s,2),d=l[0],h=l[1];return Object(i.useEffect)((function(){if(o&&void 0!==e){e.get(n).then((function(e){h(void 0!==e?{type:"resolved",data:e}:{type:"empty"})})).catch((function(e){h({type:"error",error:e})})),c(!1)}}),[e,n,o]),d}),o=function(e,n,t){var a=Object(i.useState)(!0),o=Object(r.a)(a,2),c=o[0],u=o[1],s=Object(i.useCallback)((function(e,n){switch(n.type){case"resolved":return[n.data,!1,void 0];case"empty":return[void 0,!1,void 0];case"error":return[void 0,!1,n.error];default:return[void 0,!0,void 0]}}),[]),l=Object(i.useReducer)(s,[void 0,!0,void 0]),d=Object(r.a)(l,2),h=d[0],p=d[1];return Object(i.useEffect)((function(){if(c&&void 0!==e){e.where(n).equalsIgnoreCase(t).first().then((function(e){p(void 0!==e?{type:"resolved",data:e}:{type:"empty"})})).catch((function(e){p({type:"error",error:e})})),u(!1)}}),[e,n,t,c]),h}},489:function(e,n,t){"use strict";var r=t(4),i=t(28),a=t(15),o=t(10),c=t(9),u=t(1),s=t.n(u),l=t(2),d=t(3),h=t(69),p=t(205),f=t(29),m=t(206),b=t(75),v=t.n(b),g=t(78),y=t(35),x=t(31),j=t(149),O=t(113),E=t(68),w=function e(n,t,r,i,a,o,c,u,s,l,d){Object(E.a)(this,e),this.name=void 0,this.hp=void 0,this.currentHp=void 0,this.initBonus=void 0,this.init=void 0,this.ac=void 0,this.tag=void 0,this.isMonster=void 0,this.isNpc=void 0,this.level=void 0,this.cord=void 0,this.name=n||"",this.hp=t||0,this.currentHp=r||0,this.initBonus=a||0,this.init=i||-1,this.ac=o||0,this.tag=c||"",this.isMonster=u||!1,this.isNpc=s||!1,this.level=l||0,this.cord=d||[0,0]};var k=t(117),C=t(220),P=function e(n,t,r,i,a){Object(E.a)(this,e),this.encounter=void 0,this.characters=void 0,this.enemies=void 0,this.players=void 0,this.difficulty=void 0,this.encounter=n||new C.a,this.characters=t||[],this.enemies=r||[],this.players=i||[],this.difficulty=a||{difficulty:"",calcExp:{easy:0,medium:0,hard:0,deadly:0}}},z=function e(n,t){Object(E.a)(this,e),this.player=void 0,this.entity=void 0,this.player=n||new w,this.entity=t||new k.a},S=function(){var e=Object(g.a)(v.a.mark((function e(n){var t,r,i,a,o,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.time("t"),console.time("load"),i=[],a=[],n.players.forEach((function(e){i.push(H(e))})),n.enemies.forEach((function(e){a.push(H(e))})),e.next=8,Promise.all(i);case 8:return t=e.sent,e.next=11,Promise.all(a);case 11:return r=e.sent,console.timeEnd("load"),t=t.filter((function(e){return void 0!==e})),r=r.filter((function(e){return void 0!==e})),o=[].concat(Object(x.a)(t),Object(x.a)(r)),n.isPlaying&&(o=o.sort((function(e,n){if(e.player.init===n.player.init){var t=0,r=0;return Object(j.b)(e.entity)&&void 0!==e.entity.char?t=e.entity.char.dex:Object(j.b)(e.entity)&&void 0!==e.entity.monster?t=e.entity.monster.dex:(Object(k.b)(e.entity)||Object(O.b)(e.entity))&&(t=e.entity.dex),Object(j.b)(n.entity)&&void 0!==n.entity.char?r=n.entity.char.dex:Object(j.b)(n.entity)&&void 0!==n.entity.monster?r=n.entity.monster.dex:(Object(k.b)(n.entity)||Object(O.b)(n.entity))&&(r=n.entity.dex),r===t?e.player.name.localeCompare(n.player.name):r-t}return n.player.init-e.player.init}))),c=D(n),console.timeEnd("t"),e.abrupt("return",new P(n,t,r,o,c));case 20:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),H=function(){var e=Object(g.a)(v.a.mark((function e(n){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isNpc){e.next=6;break}return e.next=3,Object(h.p)("npcs","name",n.name);case 3:t=e.sent,e.next=15;break;case 6:if(!n.isMonster){e.next=12;break}return e.next=9,Object(h.p)("monsters","name",n.name);case 9:t=e.sent,e.next=15;break;case 12:return e.next=14,Object(h.p)("chars","name",n.name);case 14:t=e.sent;case 15:return e.abrupt("return",new z(n,t));case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),I=[{cr:0,exp:0},{cr:.125,exp:25},{cr:.25,exp:50},{cr:.5,exp:100},{cr:1,exp:200},{cr:2,exp:450},{cr:3,exp:700},{cr:4,exp:1100},{cr:5,exp:1800},{cr:6,exp:2300},{cr:7,exp:2900},{cr:8,exp:3900},{cr:9,exp:5e3},{cr:10,exp:5900},{cr:11,exp:7200},{cr:12,exp:8400},{cr:13,exp:1e4},{cr:14,exp:11500},{cr:15,exp:13e3},{cr:16,exp:15e3},{cr:17,exp:18e3},{cr:18,exp:2e4},{cr:19,exp:22e3},{cr:20,exp:25e3},{cr:21,exp:33e3},{cr:22,exp:41e3},{cr:23,exp:5e4},{cr:24,exp:62e3},{cr:25,exp:75e3},{cr:26,exp:9e4},{cr:27,exp:105e3},{cr:28,exp:12e4},{cr:29,exp:135e3},{cr:30,exp:155e3}],M=[{level:1,easy:25,medium:50,hard:75,deadly:100},{level:2,easy:50,medium:100,hard:150,deadly:200},{level:3,easy:75,medium:150,hard:225,deadly:400},{level:4,easy:125,medium:250,hard:375,deadly:500},{level:5,easy:250,medium:500,hard:750,deadly:1100},{level:6,easy:300,medium:600,hard:900,deadly:1400},{level:7,easy:350,medium:750,hard:1100,deadly:1700},{level:8,easy:450,medium:900,hard:1400,deadly:2100},{level:9,easy:550,medium:1100,hard:1600,deadly:2400},{level:10,easy:600,medium:1200,hard:1900,deadly:2800},{level:11,easy:800,medium:1600,hard:2400,deadly:3600},{level:12,easy:1e3,medium:2e3,hard:3e3,deadly:4500},{level:13,easy:1100,medium:2200,hard:3400,deadly:5100},{level:14,easy:1250,medium:2500,hard:3800,deadly:5700},{level:15,easy:1400,medium:2800,hard:4300,deadly:6400},{level:16,easy:1600,medium:3200,hard:4800,deadly:7200},{level:17,easy:2e3,medium:3900,hard:5900,deadly:8800},{level:18,easy:2100,medium:4200,hard:6300,deadly:9500},{level:19,easy:2400,medium:4900,hard:7300,deadly:10900},{level:20,easy:2800,medium:5700,hard:8500,deadly:12700}],D=function(e){var n={easy:0,medium:0,hard:0,deadly:0};e.players.forEach((function(e){M.length>=e.level&&(n.easy+=M[e.level].easy,n.medium+=M[e.level].medium,n.hard+=M[e.level].hard,n.deadly+=M[e.level].deadly)}));var t=0;e.enemies.forEach((function(e){I.forEach((function(n){e.level===n.cr&&(t+=n.exp)}))})),1===e.enemies.length?t*=1:e.enemies.length<=3?t*=1.5:e.enemies.length<=6?t*=2:e.enemies.length<=10?t*=2.5:e.enemies.length<=14?t*=3:e.enemies.length>14&&(t*=4);return{difficulty:n.easy+(n.medium-n.easy)/2>t?"Easy ("+t+" Exp)":n.medium+(n.hard-n.medium)/2>t?"Medium ("+t+" Exp)":n.hard+(n.deadly-n.hard)/2>t?"Hard ("+t+" Exp)":"Deadly ("+t+" Exp)",calcExp:n}},N=t(100),A=t(89),B=t(32),R=t(30);function V(){var e=Object(r.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return V=function(){return e},e}function T(){var e=Object(r.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return T=function(){return e},e}function F(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  height: auto;\n  margin: 2px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ",";\n  }\n"]);return F=function(){return e},e}function L(){var e=Object(r.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  flex: 1 1 600px;\n"]);return L=function(){return e},e}function J(){var e=Object(r.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: stretch;\n"]);return J=function(){return e},e}function q(){var e=Object(r.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  flex: 1 1;\n  min-width: calc(100% - 40px);\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return q=function(){return e},e}function Q(){var e=Object(r.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Q=function(){return e},e}var X=function(e){var n=e.encounter,t=e.onEdit,r=Object(u.useState)(""),c=Object(a.a)(r,2),l=c[0],d=c[1],p=Object(u.useState)(""),m=Object(a.a)(p,2),b=m[0],E=m[1];Object(u.useEffect)((function(){var e=D(n),t=e.difficulty,r=e.calcExp;d(t),E("Easy: "+r.easy+" | Medium: "+r.medium+" | Hard: "+r.hard+" | Deadly: "+r.deadly)}),[n]);var C=function(e,r,a,o){var c=n.enemies;c[o]=Object(i.a)(Object(i.a)({},a),{},Object(y.a)({},e,r)),t(Object(i.a)(Object(i.a)({},n),{},{enemies:c}))},P=function(){var e=Object(g.a)(v.a.mark((function e(r,a,o){var c,u,s,l,d;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(x.a)(n.enemies),(u=[]).push(Object(h.p)("monsters","name",r)),u.push(Object(h.p)("npcs","name",r)),u.push(Object(h.p)("chars","name",r)),e.next=7,Promise.all(u);case 7:(s=(s=e.sent).filter((function(e){return void 0!==e})))[0]&&Object(k.b)(s[0])?(c[o]=Object(i.a)(Object(i.a)({},a),{},{name:r,hp:s[0].hp,currentHp:s[0].hp,ac:s[0].ac,isMonster:!0,isNpc:!1,level:s[0].cr}),t(Object(i.a)(Object(i.a)({},n),{},{enemies:c}))):s[0]&&Object(O.b)(s[0])?(l=0,s[0].classes.forEach((function(e){l+=e.level})),c[o]=Object(i.a)(Object(i.a)({},a),{},{name:r,hp:s[0].hp,currentHp:s[0].hp,ac:s[0].ac,isMonster:!0,isNpc:!1,level:l}),t(Object(i.a)(Object(i.a)({},n),{},{enemies:c}))):s[0]&&Object(j.b)(s[0])?(void 0!==s[0].monster?c[o]=Object(i.a)(Object(i.a)({},a),{},{name:r,hp:s[0].monster.hp,currentHp:s[0].monster.hp,ac:s[0].monster.ac,isMonster:!0,isNpc:!0,level:s[0].monster.cr}):void 0!==s[0].char&&(d=0,s[0].char.classes.forEach((function(e){d+=e.level})),c[o]=Object(i.a)(Object(i.a)({},a),{},{name:r,hp:s[0].char.hp,currentHp:s[0].char.hp,ac:s[0].char.ac,isMonster:!1,isNpc:!0,level:d})),t(Object(i.a)(Object(i.a)({},n),{},{enemies:c}))):(c[o]=Object(i.a)(Object(i.a)({},a),{},{name:r}),t(Object(i.a)(Object(i.a)({},n),{},{enemies:c})));case 10:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),z=function(e,r,a,o){var c=n.players;c[o]=Object(i.a)(Object(i.a)({},a),{},Object(y.a)({},e,r)),t(Object(i.a)(Object(i.a)({},n),{},{players:c}))},S=function(){var e=Object(g.a)(v.a.mark((function e(r,a,o){var c,u,s,l,d;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(x.a)(n.players),(u=[]).push(Object(h.p)("monsters","name",r)),u.push(Object(h.p)("npcs","name",r)),u.push(Object(h.p)("chars","name",r)),e.next=7,Promise.all(u);case 7:(s=(s=e.sent).filter((function(e){return void 0!==e})))[0]&&Object(k.b)(s[0])?(c[o]=Object(i.a)(Object(i.a)({},a),{},{name:r,hp:s[0].hp,currentHp:s[0].hp,ac:s[0].ac,isMonster:!0,isNpc:!1,level:s[0].cr}),t(Object(i.a)(Object(i.a)({},n),{},{players:c}))):s[0]&&Object(O.b)(s[0])?(l=0,s[0].classes.forEach((function(e){l+=e.level})),c[o]=Object(i.a)(Object(i.a)({},a),{},{name:r,hp:s[0].hp,currentHp:s[0].hp,ac:s[0].ac,isMonster:!0,isNpc:!1,level:l}),t(Object(i.a)(Object(i.a)({},n),{},{players:c}))):s[0]&&Object(j.b)(s[0])?(void 0!==s[0].monster?c[o]=Object(i.a)(Object(i.a)({},a),{},{name:r,hp:s[0].monster.hp,currentHp:s[0].monster.hp,ac:s[0].monster.ac,isMonster:!0,isNpc:!0,level:s[0].monster.cr}):void 0!==s[0].char&&(d=0,s[0].char.classes.forEach((function(e){d+=e.level})),c[o]=Object(i.a)(Object(i.a)({},a),{},{name:r,hp:s[0].char.hp,currentHp:s[0].char.hp,ac:s[0].char.ac,isMonster:!1,isNpc:!0,level:d})),t(Object(i.a)(Object(i.a)({},n),{},{players:c}))):(c[o]=Object(i.a)(Object(i.a)({},a),{},{name:r}),t(Object(i.a)(Object(i.a)({},n),{},{players:c})));case 10:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}();return s.a.createElement(Z,null,s.a.createElement(G,null,s.a.createElement(B.a,{value:n.name,label:"Encounter Name",onChange:function(e){return t(Object(i.a)(Object(i.a)({},n),{},{name:e}))}}),s.a.createElement(N.a,{optionTable:"locations",value:n.map,label:"Map",onChange:function(e){return t(Object(i.a)(Object(i.a)({},n),{},{map:e}))}})),s.a.createElement(G,null,s.a.createElement($,null,s.a.createElement(W,null,s.a.createElement(Y,null,"Difficulty: "),l),s.a.createElement(W,null,s.a.createElement(Y,null,"Exp: "),b))),s.a.createElement(K,null,n.enemies.map((function(e,r){return s.a.createElement(U,{key:r},s.a.createElement(N.a,{optionTable:["monsters","chars","npcs"],value:e.name,label:"Monster",onChange:function(n){return P(n,e,r)}}),s.a.createElement(A.a,{value:e.currentHp,label:"Current Hp",onChange:function(n){return C("currentHp",n,e,r)}}),s.a.createElement(A.a,{value:e.hp,label:"Hp",onChange:function(n){return C("hp",n,e,r)}}),s.a.createElement(A.a,{value:e.ac,label:"AC",onChange:function(n){return C("ac",n,e,r)}}),s.a.createElement(A.a,{value:e.initBonus,label:"Init Bonus",onChange:function(n){return C("initBonus",n,e,r)}}),s.a.createElement(A.a,{value:e.level,label:"Cr",onChange:function(n){return z("level",n,e,r)}}),s.a.createElement(f.a,{icon:o.ib,onClick:function(){return function(e){var r=Object(x.a)(n.enemies);r.splice(e,1),t(Object(i.a)(Object(i.a)({},n),{},{enemies:r}))}(r)}}))})),s.a.createElement(U,null,s.a.createElement(R.a,{text:"Add new Monster",icon:o.R,onClick:function(){return function(){var e=Object(x.a)(n.enemies);e.push(new w),t(Object(i.a)(Object(i.a)({},n),{},{enemies:e}))}()}}))),s.a.createElement(K,null,n.players.map((function(e,r){return s.a.createElement(U,{key:r},s.a.createElement(N.a,{optionTable:["monsters","chars","npcs"],value:e.name,label:"Character",onChange:function(n){return S(n,e,r)}}),s.a.createElement(A.a,{value:e.currentHp,label:"Current Hp",onChange:function(n){return z("currentHp",n,e,r)}}),s.a.createElement(A.a,{value:e.hp,label:"Hp",onChange:function(n){return z("hp",n,e,r)}}),s.a.createElement(A.a,{value:e.ac,label:"AC",onChange:function(n){return z("ac",n,e,r)}}),s.a.createElement(A.a,{value:e.initBonus,label:"Init Bonus",onChange:function(n){return z("initBonus",n,e,r)}}),s.a.createElement(A.a,{value:e.level,label:"Level",onChange:function(n){return z("level",n,e,r)}}),s.a.createElement(f.a,{icon:o.ib,onClick:function(){return function(e){var r=Object(x.a)(n.players);r.splice(e,1),t(Object(i.a)(Object(i.a)({},n),{},{players:r}))}(r)}}))})),s.a.createElement(U,null,s.a.createElement(R.a,{text:"Add new Character",icon:o.R,onClick:function(){return function(){var e=Object(x.a)(n.players);e.push(new w),t(Object(i.a)(Object(i.a)({},n),{},{players:e}))}()}}))))},Z=d.b.div(Q()),G=d.b.div(q(),(function(e){return e.theme.tile.color})),K=d.b.div(J(),(function(e){return e.theme.tile.color})),U=d.b.div(L()),W=d.b.div(F(),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.main.highlight})),Y=d.b.span(T(),(function(e){return e.theme.tile.backgroundColorLink})),$=d.b.div(V()),_=t(40);function ee(){var e=Object(r.a)(["\n  margin-left: 5px;\n"]);return ee=function(){return e},e}function ne(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  max-width: 4em;\n  height: 30px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n"]);return ne=function(){return e},e}function te(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 30px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 2px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return te=function(){return e},e}var re=function(e){var n=e.value,t=e.max,r=e.showMax,i=e.onChange;return s.a.createElement(ie,null,void 0!==t&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ae,{type:"number",max:t,value:n,onChange:function(e){return i(+e.target.value)}}),r&&s.a.createElement(oe,null,"/ ",t)),void 0===t&&s.a.createElement(ae,{type:"number",value:n,onChange:function(e){return i(+e.target.value)}}))},ie=d.b.label(te(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),ae=d.b.input(ne(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color})),oe=d.b.span(ee());function ce(){var e=Object(r.a)([""]);return ce=function(){return e},e}function ue(){var e=Object(r.a)(["\n  margin: 3px;\n  float: left;\n  border-radius: 500px;\n  border: 3px solid ",";\n  box-shadow: 0px 0px 10px 0px rgba(172, 172, 172, 0.2);\n  background-color: white;\n  overflow: hidden;\n  box-sizing: border-box;\n  cursor: move;\n  position: absolute;\n"]);return ue=function(){return e},e}function se(){var e=Object(r.a)(["\n  flex: 1;\n  min-height: ","px;\n  min-width: ","px;\n  max-height: ","px;\n  max-width: ","px;\n\n  box-sizing: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  position: releativ;\n"]);return se=function(){return e},e}function le(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  min-width: max-content;\n  display: flex;\n  flex-wrap: wrap;\n"]);return le=function(){return e},e}function de(){var e=Object(r.a)(["\n  flex: 1 1 100%;\n\n  height: 50px;\n  width: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n"]);return de=function(){return e},e}function he(){var e=Object(r.a)(["\n  width: calc(800px * ",");\n"]);return he=function(){return e},e}function pe(){var e=Object(r.a)(["\n  position: absolute;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return pe=function(){return e},e}function fe(){var e=Object(r.a)(["\n  flex: 1 1 100%;\n  position: relative;\n\n  max-width: calc(100% - 10px);\n\n  overflow: scroll;\n\n  display: flex;\n  flex-wrap: wrap;\n"]);return fe=function(){return e},e}function me(){var e=Object(r.a)(["\n  flex: 1 1 min-content;\n  padding: 5px;\n  margin: 5px;\n  // position: relative;\n  max-width: calc(100vw - 120px);\n\n  @media (max-width: 576px) {\n    max-width: 100vw;\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n"]);return me=function(){return e},e}var be=function(e){var n=e.img,t=e.players,r=e.dimension,o=e.currentPlayerNumber,c=e.onChangePlayers,l=e.onChangeDimension,d=Object(u.useState)(),h=Object(a.a)(d,2),p=h[0],f=h[1],m=Object(u.useState)(),b=Object(a.a)(m,2),v=b[0],g=b[1],y=Object(u.useCallback)((function(e){g(e)}),[]),x=Object(u.useCallback)((function(){return v}),[v]),j=Object(u.useCallback)((function(e){for(var n=[],i=0;i<r.width;i++)n.push(s.a.createElement(ve,{key:"slot"+e+i,cord:[e,i],players:t,size:r.size,zoom:r.zoom/100,makeDrop:x,makeDrag:y,updatePlayers:c,currentPlayerNumber:o}));return n}),[r,t,c,o,x,y]),O=Object(u.useCallback)((function(){for(var e=[],n=0;n<r.height;n++)e.push(s.a.createElement(Ee,{key:n},j(n)));f(e)}),[r,j]);return Object(u.useEffect)((function(){console.log("Redo Board"),O()}),[n,r,t,x]),s.a.createElement(ge,null,s.a.createElement(Oe,null,s.a.createElement(A.a,{value:r.zoom,label:"Zoom",step:10,onChange:function(e){return l(Object(i.a)(Object(i.a)({},r),{},{zoom:e}))}}),s.a.createElement(A.a,{value:r.width,label:"Horizontal",onChange:function(e){return l(Object(i.a)(Object(i.a)({},r),{},{width:e}))}}),s.a.createElement(A.a,{value:r.height,label:"Vertical",onChange:function(e){return l(Object(i.a)(Object(i.a)({},r),{},{height:e}))}}),s.a.createElement(A.a,{value:r.size,label:"Size",onChange:function(e){return l(Object(i.a)(Object(i.a)({},r),{},{size:e}))}})),s.a.createElement(ye,null,s.a.createElement(xe,null,p),s.a.createElement(je,{zoom:r.zoom/100,src:n})))},ve=function(e){var n=e.size,t=e.zoom,r=e.cord,a=e.players,o=e.currentPlayerNumber,c=e.makeDrop,l=e.makeDrag,d=e.updatePlayers,h=function(e,n){console.log("drag",n.player.name,n.player.cord),l(n)},p=function(e){e.preventDefault()},f=Object(u.useCallback)((function(e,n){if(n.player.isMonster)switch(n.entity.size){case"gargantuan":return 4*e*t;case"huge":return 3*e*t;case"large":return 2*e*t}return e*t}),[t]);return s.a.createElement(we,{size:n*t,onDrop:function(e){return function(e,n){e.preventDefault();var t=c(),r=a.map((function(e){return e===t?Object(i.a)(Object(i.a)({},e),{},{player:Object(i.a)(Object(i.a)({},e.player),{},{cord:n})}):e}));d(r)}(e,r)},onDragOver:p},a.map((function(e,t){return void 0===e.player.cord&&0===r[0]&&0===r[1]||void 0!==e.player.cord&&e.player.cord[0]===r[0]&&e.player.cord[1]===r[1]?s.a.createElement(ke,{key:"icon"+t,drag:h,player:e,dragOver:p,pic:e.entity.pic,size:f(n,e),isDead:e.player.currentHp<=0,isCurrent:o===t}):s.a.createElement(Pe,{key:"icon"+t})})))},ge=d.b.div(me()),ye=d.b.div(fe()),xe=d.b.div(pe()),je=d.b.img(he(),(function(e){return e.zoom})),Oe=d.b.div(de()),Ee=d.b.div(le()),we=d.b.div(se(),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.size})),ke=function(e){var n=e.dragOver,t=e.drag,r=e.pic,i=e.size,a=e.player,o=e.isDead,c=e.isCurrent,u={backgroundImage:"url(".concat(r,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",height:i-6+"px",width:i-6+"px",opacity:o?"0.5":"1",border:c?"":"none"};return""!==r?s.a.createElement(Ce,{onDragStart:function(e){return t(e,a)},onDragOver:n,draggable:!0,style:u}):s.a.createElement(s.a.Fragment,null)},Ce=d.b.div(ue(),(function(e){return e.theme.main.highlight})),Pe=d.b.div(ce()),ze=t(33);function Se(){var e=Object(r.a)([""]);return Se=function(){return e},e}function He(){var e=Object(r.a)(["\n  margin-right: 5px;\n  margin-top: -7px;\n  margin-bottom: -7px;\n  height: 43px;\n  width: 43px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  box-shadow: 0px 0px 10px 0px rgba(172, 172, 172, 0.2);\n  background-color: white;\n  overflow: hidden;\n\n  @media (max-width: 576px) {\n    display: none;\n  }\n"]);return He=function(){return e},e}function Ie(){var e=Object(r.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Ie=function(){return e},e}function Me(){var e=Object(r.a)(["\n  display: inline-block;\n  background-color: ",";\n  border-radius: 5px;\n  text-decoration: none;\n  color: ",";\n  font-size: 16px;\n  padding: 0px 5px 0px 5px;\n  cursor: pointer;\n"]);return Me=function(){return e},e}function De(){var e=Object(r.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return De=function(){return e},e}function Ne(){var e=Object(r.a)(["\n  padding: 0px;\n"]);return Ne=function(){return e},e}function Ae(){var e=Object(r.a)(["\n  margin: 5px;\n  padding: 10px;\n  height: 20px;\n  flex: 1 1 auto;\n  line-height: 20px;\n  border-radius: 5px;\n  background-color: ",";\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ",";\n  }\n"]);return Ae=function(){return e},e}function Be(){var e=Object(r.a)(["\n  margin: 2px;\n  padding: 5px;\n  border-radius: 5px;\n  background-color: ",";\n  line-height: 34px;\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ",";\n  }\n"]);return Be=function(){return e},e}function Re(){var e=Object(r.a)(["\n  ","\n  margin: 2px;\n"]);return Re=function(){return e},e}function Ve(){var e=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Ve=function(){return e},e}function Te(){var e=Object(r.a)(["\n  flex: 1 1;\n  color: ",";\n  font-size: 16px;\n  max-width: 800px;\n  ","\n  padding: 5px;\n\n  @media (max-width: 576px) {\n    min-width: 100%;\n  }\n"]);return Te=function(){return e},e}function Fe(){var e=Object(r.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Fe=function(){return e},e}function Le(){var e=Object(r.a)(["\n  width: 100%;\n"]);return Le=function(){return e},e}var Je=function(e){var n=e.encounter,t=e.dmView,r=e.onEdit,c=Object(l.f)(),d=Object(u.useState)(new P),h=Object(a.a)(d,2),p=h[0],m=h[1],b=Object(u.useState)(!0),v=Object(a.a)(b,2),g=v[0],x=v[1];Object(u.useEffect)((function(){S(n).then((function(e){m(e),x(!1)}))}),[n,m]);var j=function(e,t,a){if(a.isMonster){var o=p.encounter.enemies.map((function(n){return a===n?Object(i.a)(Object(i.a)({},n),{},Object(y.a)({},e,t)):n}));r(Object(i.a)(Object(i.a)({},n),{},{enemies:o}))}else{var c=p.encounter.players.map((function(n){return a===n?Object(i.a)(Object(i.a)({},n),{},Object(y.a)({},e,t)):n}));r(Object(i.a)(Object(i.a)({},n),{},{players:c}))}},O=function(){var e=n.players.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{init:-1})})),t=n.enemies.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{init:-1})}));r(Object(i.a)(Object(i.a)({},n),{},{enemies:t,players:e,isPlaying:!1,currentInit:0,roundCounter:0}))},E=Object(u.useCallback)((function(e){r(Object(i.a)(Object(i.a)({},p.encounter),{},{dimension:e}))}),[p.encounter,r]),w=Object(u.useCallback)((function(e){if(e!==p.players){var n=[];e.forEach((function(e){e.player.isMonster||n.push(e.player)}));var t=[];e.forEach((function(e){e.player.isMonster&&t.push(e.player)})),r(Object(i.a)(Object(i.a)({},p.encounter),{},{players:n,enemies:t}))}}),[p.encounter,p.players,r]);return s.a.createElement(Xe,null,s.a.createElement(Ze,{mode:t?1:0},s.a.createElement(Ge,null,s.a.createElement("b",null,n.name)),s.a.createElement(en,null,t&&s.a.createElement(We,null,s.a.createElement($e,null,"Difficulty: "),p.difficulty.difficulty),s.a.createElement(We,null,s.a.createElement($e,null,"Round: "),n.roundCounter),n&&!n.isPlaying&&s.a.createElement(R.a,{text:"Start Encounter",icon:o.Q,onClick:function(){return function(){var e=n.players.map((function(e){if(e.init<0){var n=Object(_.b)(20);return n+=e.initBonus||0,Object(i.a)(Object(i.a)({},e),{},{init:n})}return e})),t=n.enemies.map((function(e){if(e.init<0){var n=Object(_.b)(20);return n+=e.initBonus||0,Object(i.a)(Object(i.a)({},e),{},{init:n})}return e}));r(Object(i.a)(Object(i.a)({},n),{},{enemies:t,players:e,isPlaying:!0,currentInit:0,roundCounter:0}))}()}}),n&&n.isPlaying&&s.a.createElement(s.a.Fragment,null,s.a.createElement(R.a,{text:"Next",icon:o.cb,onClick:function(){return function(){var e=(n.currentInit+1)%p.players.length,t=n.roundCounter;(n.currentInit+1)%p.players.length===0&&t++;for(var a=0;p.players[e].player.currentHp<=0&&((e+1)%p.players.length===0&&t++,e=(e+1)%p.players.length,!(++a>p.players.length)););a>p.players.length?O():r(Object(i.a)(Object(i.a)({},n),{},{currentInit:e,roundCounter:t}))}()}}),s.a.createElement(R.a,{text:"End Encounter",icon:o.db,onClick:function(){return O()}}))),g&&s.a.createElement(ze.b,null),!g&&s.a.createElement(Qe,null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Init"),s.a.createElement("th",null,"Name"),t&&s.a.createElement("th",null,"Current Hp"),t&&s.a.createElement("th",null,"Hp"),t&&s.a.createElement("th",null,"AC"),s.a.createElement("th",null))),s.a.createElement("tbody",null,p.players.map((function(e,r){return s.a.createElement(Ke,{current:n.currentInit===r&&n.isPlaying,isDead:e.player.currentHp<=0,key:r},s.a.createElement(Ye,null,s.a.createElement(re,{value:e.player.init,onChange:function(n){return j("init",n,e.player)}})),s.a.createElement(Ue,null,""!==e.entity.pic&&void 0!==e.entity.pic?s.a.createElement(qe,{player:e}):s.a.createElement(s.a.Fragment,null),e.player.isMonster&&s.a.createElement(_e,{onClick:function(){return c.push("/monster-detail/name/".concat(e.player.name))}},t?e.player.name:"???"),!e.player.isMonster&&s.a.createElement(_e,{onClick:function(){return c.push("/char-detail/name/".concat(e.player.name))}},e.player.name)),t&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Ye,null,s.a.createElement(re,{value:e.player.currentHp,max:e.player.hp,onChange:function(n){return j("currentHp",n,e.player)}})),s.a.createElement(Ue,null,e.player.hp),s.a.createElement(Ue,null,e.player.ac)),s.a.createElement("td",null,e.player.currentHp>0&&s.a.createElement(f.a,{icon:o.ab,onClick:function(){return n=e.player,void j("currentHp",0,n);var n}}),e.player.currentHp<=0&&s.a.createElement(f.a,{icon:o.B,onClick:function(){return n=e.player,void j("currentHp",1,n);var n}})))}))))),p&&""!==n.map&&void 0!==n.map&&s.a.createElement(be,{onChangePlayers:w,players:p.players,dimension:void 0!==n.dimension?n.dimension:{width:20,height:20,size:20,zoom:100},currentPlayerNumber:p.encounter.currentInit,onChangeDimension:E,img:n.map}))},qe=function(e){var n=e.player;return s.a.createElement(nn,{pic:n.entity.pic})},Qe=d.b.table(Le()),Xe=d.b.div(Fe()),Ze=d.b.div(Te(),(function(e){return e.theme.tile.color}),(function(e){return e.mode?"min-width: 500px;":"min-width: 300px;"})),Ge=d.b.div(Ve(),(function(e){return e.theme.tile.backgroundColor})),Ke=d.b.tr(Re(),(function(e){return e.isDead?"opacity: 0.5;":e.current?"td:nth-child(1) {background-color: ".concat(e.theme.main.highlight,";}"):""})),Ue=d.b.td(Be(),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.main.highlight})),We=d.b.div(Ae(),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.main.highlight})),Ye=Object(d.b)(Ue)(Ne()),$e=d.b.span(De(),(function(e){return e.theme.tile.backgroundColorLink})),_e=d.b.span(Me(),(function(e){return e.theme.tile.backgroundColorLink}),(function(e){return e.theme.tile.backgroundColor})),en=d.b.div(Ie()),nn=function(e){var n=e.pic,t={backgroundImage:"url(".concat(n,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==n?s.a.createElement(tn,{style:t}):s.a.createElement(rn,null)},tn=d.b.div(He(),(function(e){return e.theme.main.highlight})),rn=d.b.div(Se());function an(){var e=Object(r.a)(["\n  float: right;\n  line-height: 30px;\n  display: block;\n  height: 30px;\n  padding: 10px;\n  color: ",";\n"]);return an=function(){return e},e}function on(){var e=Object(r.a)(["\n  padding: 5px;\n  width: 150px;\n  height: 30px;\n  line-height: 30px;\n  border-radius: 5px;\n  float: right;\n"]);return on=function(){return e},e}function cn(){var e=Object(r.a)(["\n  color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  flex: 1 1;\n  width: 100%;\n  max-width: calc(100% - 20px);\n  height: 45px;\n  padding: 10px;\n\n  @media (max-width: 576px) {\n    max-width: calc(100% - 20px);\n  }\n"]);return cn=function(){return e},e}n.a=function(e){var n=e.encounter,t=e.isNew,r=Object(u.useState)(t),c=Object(a.a)(r,2),d=c[0],b=c[1],v=Object(u.useState)(!0),g=Object(a.a)(v,2),y=g[0],x=g[1],j=Object(u.useState)(n),O=Object(a.a)(j,2),E=O[0],w=O[1],k=Object(u.useState)(!1),C=Object(a.a)(k,2),P=C[0],z=C[1],S=Object(u.useState)(""),H=Object(a.a)(S,2),I=H[0],M=H[1],D=Object(u.useState)(!1),N=Object(a.a)(D,2),A=N[0],B=N[1],R=Object(l.f)();Object(u.useEffect)((function(){E!==n&&B(!0)}),[E,n]);var V=function(e,n,t){Object(h.w)(e,n,(function(e){e>0?(B(!1),M(t),z(!0)):(M("Something went wrong!"),z(!0)),setTimeout((function(){z(!1)}),3e3)}))},T=function(e,n){w(e),V("encounters",e,n)};return s.a.createElement(s.a.Fragment,null,s.a.createElement(un,null,s.a.createElement(p.a,{icon:o.c,action:function(){return R.goBack()}}),s.a.createElement(m.a,{mode:d.toString()},s.a.createElement(m.b,{onClick:function(){return b(!1)}},"View"),s.a.createElement(m.c,{onClick:function(){return b(!0)}},"Edit")),!d&&s.a.createElement(m.a,{mode:(!y).toString()},s.a.createElement(m.b,{onClick:function(){return x(!0)}},"DM View"),s.a.createElement(m.c,{onClick:function(){return x(!1)}},"Player View")),d&&A&&s.a.createElement(ln,{icon:o.v}),d&&s.a.createElement(s.a.Fragment,null,s.a.createElement(f.a,{onClick:function(){return V("encounters",E,"Saved successful!")},icon:o.X}),s.a.createElement(f.a,{onClick:function(){return function(e,t){var r=Object(i.a)({},t);delete r.id,Object(h.b)(e,r,(function(e){T(Object(i.a)(Object(i.a)({},n),{},{name:n.name+" [Clone]"}),"Cloning successful!")}))}("encounters",E)},icon:o.m}),s.a.createElement(f.a,{onClick:function(){return e=E.id,Object(h.r)("encounters",e),void R.goBack();var e},icon:o.ib}),I&&P&&s.a.createElement(sn,null,I))),d?s.a.createElement(X,{encounter:E,onEdit:function(e){return w(e)}}):s.a.createElement(Je,{encounter:E,dmView:y,onEdit:function(e){return T(e,"Saved successful!")}}))};var un=d.b.div(cn(),(function(e){return e.theme.tile.color})),sn=d.b.div(on()),ln=Object(d.b)(c.a)(an(),(function(e){return e.theme.main.highlight}))},89:function(e,n,t){"use strict";var r=t(4),i=t(1),a=t.n(i),o=t(3),c=t(9);function u(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  max-width: 6em;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n"]);return u=function(){return e},e}function s(){var e=Object(r.a)(["\n  flex: 1 1;\n"]);return s=function(){return e},e}function l(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return l=function(){return e},e}function d(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return d=function(){return e},e}n.a=function(e){var n=e.value,t=e.max,r=e.step,i=e.label,o=e.icon,c=e.transform,u=e.onChange;return a.a.createElement(h,null,a.a.createElement(f,null,o?a.a.createElement(p,{icon:o,transform:c}):""," ",i),t&&a.a.createElement(m,{type:"number",max:t,step:r||1,value:n,onChange:function(e){return u(+e.target.value)}}),!t&&a.a.createElement(m,{type:"number",step:r||1,value:n,onChange:function(e){return u(+e.target.value)}}))};var h=o.b.label(d(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),p=Object(o.b)(c.a)(l(),(function(e){return e.theme.main.highlight})),f=o.b.div(s()),m=o.b.input(u(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}))}}]);
//# sourceMappingURL=5.1295fa69.chunk.js.map