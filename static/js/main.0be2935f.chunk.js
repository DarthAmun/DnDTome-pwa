(this.webpackJsonpdndtome=this.webpackJsonpdndtome||[]).push([[0],[,,,,,,,,,,,,function(e,t){var a="",n={"--app-background-color":"rgb(248, 248, 248)","--scrollbar-thumb":"#8000ff","--scrollbar":"rgba(92, 102, 130, 1)","--boxshadow":"0px 0px 10px 0px rgba(172, 172, 172, 0.2)","--boxshadow-hover":"0px 0px 10px 0px rgba(172, 172, 172, 1)","--character-add-color":"dimgrey","--character-add-background-color":"white","--card-color":"darkgrey","--card-title-color":"dimgray","--card-background-color":"white","--boxshadow-inset":"inset 0px 0px 10px -2px rgba(0, 0, 0, 0.1)","--card-seperator-line":"1px dashed lightgray","--button-color":"white","--button-background-color":"#8000ff","--button-boxshadow":"0px 0px 2px 0px rgba(0, 0, 0, 0.75)","--pagination-input-height":"28px","--pagination-input-border":"1px solid lightgray","--pagination-input-boxshadow":"none","--pagination-input-background-color":"white","--pagination-input-color":"inherit","--gradient":"linear-gradient(180deg, rgba(59,37,80,1) 0%, rgba(102,71,159,1) 100%)","--notification-color":"#8000ff"},l={"--app-background-color":"#1f2532","--scrollbar-thumb":"#8000ff","--scrollbar":"rgba(0, 0, 0, 0.425)","--boxshadow":"0px 0px 10px 0px rgba(0,0,0, 0.2)","--boxshadow-hover":"0px 0px 10px 0px rgba(0, 0, 0, 0.7)","--character-add-color":"lightslategray","--character-add-background-color":"#333d51","--card-color":"lightslategray","--card-title-color":"darkgrey","--card-background-color":"#333d51","--boxshadow-inset":"inset 0px 0px 10px -2px rgba(0, 0, 0, 0.4)","--card-seperator-line":"1px dashed dimgray","--button-color":"#cfc8d8","--button-background-color":"#522a82","--pagination-input-height":"30px","--pagination-input-border":"none","--pagination-input-boxshadow":"0px 0px 10px 0px rgba(0, 0, 0, 0.2)","--pagination-input-background-color":"#475062","--pagination-input-color":"lightgrey","--gradient":"linear-gradient(180deg, rgba(41,26,56,1) 0%, rgba(59,37,80,1) 100%)","--notification-color":"lightslategray"};e.exports.applyTheme=function(e){var t="dark"===e?n:l;Object.keys(t).map((function(e){var a=t[e];document.documentElement.style.setProperty(e,a)}))},e.exports.setTheme=function(e){a=e},e.exports.getTheme=function(){return a}},,,function(e,t,a){},,,,,,,,function(e){e.exports=JSON.parse('{"name":"dndtome","version":"0.1.15","private":true,"homepage":"https://darthamun.github.io/DnDTome-pwa/","devDependencies":{"babel-core":"6.26.3","babel-loader":"8.0.6","babel-plugin-transform-class-properties":"6.24.1","babel-preset-react":"6.24.1","babel-preset-stage-0":"6.24.1","babili-webpack-plugin":"0.1.2","css-loader":"3.2.0","extract-text-webpack-plugin":"3.0.2","file-loader":"^5.0.2","gh-pages":"^2.2.0","html-webpack-plugin":"2.28.0","react-router-dom":"^5.1.2","style-loader":"0.19.1","webpack":"4.41.0","webpack-dev-server":"3.2.1"},"dependencies":{"@fortawesome/fontawesome-svg-core":"1.2.24","@fortawesome/free-brands-svg-icons":"5.11.1","@fortawesome/free-regular-svg-icons":"^5.11.1","@fortawesome/free-solid-svg-icons":"5.11.1","@fortawesome/react-fontawesome":"0.1.4","@types/jest":"^24.0.19","@types/node":"^12.11.1","@types/react":"^16.9.7","@types/react-dom":"^16.9.2","dexie":"^2.0.4","hummus":"^1.0.107","node-gyp":"6.0.0","rc-progress":"^2.5.2","react":"16.10.2","react-dom":"16.10.2","react-file-reader":"^1.1.4","react-files":"^2.4.8","react-particles-js":"2.7.0","react-scripts":"3.2.0","react-select":"^3.0.8","recharts":"^1.8.5","typescript":"^3.6.4"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,function(e,t,a){e.exports=a(67)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(5),r=a.n(c),o=(a(47),a(41)),i=(a(48),a(8)),u=a(23),s=a(12),m=a.n(s),p=a(7),d=(a(49),a(16)),b=a.n(d),v=a(2),g=a(3);function f(e){var t=Object(i.g)();return Object(n.useEffect)((function(){setTimeout((function(){t.push("/spell-overview")}),3e3)}),[]),l.a.createElement("div",{className:"home"},l.a.createElement(b.a,{className:"particlesWrapperContainer",params:{particles:{number:{value:160,density:{enable:!0,value_area:800}},color:{value:"#8000ff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:2,random:!0,anim:{enable:!1,speed:4,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"bubble"},onclick:{enable:!1,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:400,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}}),l.a.createElement("div",{id:"container"},l.a.createElement("div",{id:"title"},"DnDTome"),l.a.createElement(p.a,{to:"/spell-overview"},l.a.createElement(v.a,{icon:g.b,className:"animated bounce"}))),l.a.createElement("svg",{width:"0",height:"0"},l.a.createElement("radialGradient",{id:"rg",r:"150%",cx:"30%",cy:"107%"},l.a.createElement("stop",{stopColor:"#350069",offset:"0"}),l.a.createElement("stop",{stopColor:"#B973FF",offset:"0.9"}))))}var h,E=a(1),y=(a(56),a(17)),O=a(19),j=a(18),w=a(20),S=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(O.a)(this,Object(j.a)(t).call(this,"MyAppDatabase"))).spells=void 0,e.items=void 0,e.gears=void 0,e.monsters=void 0,e.version(1).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic"}),e.version(2).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment"}),e.version(3).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties"}),e.version(4).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment"}),e.spells=e.table("spells"),e.items=e.table("items"),e.gears=e.table("gears"),e.monsters=e.table("monsters"),e}return Object(w.a)(t,e),t}(a(37).a),C=new S;function x(e,t){C.open().then((function(){C.spells.orderBy(e).uniqueKeys((function(e){t(e)}))})).finally((function(){C.close()}))}var k,N=new S;function _(e,t){N.open().then((function(){N.items.orderBy(e).uniqueKeys((function(e){t(e)}))})).finally((function(){N.close()}))}var T,I=new S;var A=new S;function R(e,t){A.open().then((function(){A.monsters.orderBy(e).uniqueKeys((function(e){t(e)}))})).finally((function(){A.close()}))}var W,z=a(14),D=a(27);function B(){var e=Object(n.useState)({percent:0,now:0,full:0,name:""}),t=Object(E.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({percent:0,now:0,full:0,name:""}),o=Object(E.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)({percent:0,now:0,full:0,name:""}),p=Object(E.a)(s,2),d=p[0],b=p[1],f=Object(n.useState)({percent:0,now:0,full:0,name:""}),h=Object(E.a)(f,2),y=h[0],O=h[1],j=Object(n.useState)("none"),w=Object(E.a)(j,2),S=w[0],x=w[1],k=function(e){var t=W.result;!function(e,t){var a=Object.keys(e).length,n=0;C.open().then((function(){e.map((function(e){C.spells.put({name:void 0!==e.spell_name?e.spell_name:"",classes:void 0!==e.spell_classes?e.spell_classes:"",sources:void 0!==e.spell_sources?e.spell_sources:"",level:void 0!==e.spell_level?e.spell_level:0,school:void 0!==e.spell_school?e.spell_school:"",time:void 0!==e.spell_time?e.spell_time:"",range:void 0!==e.spell_range?e.spell_range:"",components:void 0!==e.spell_components?e.spell_components:"",duration:void 0!==e.spell_duration?e.spell_duration:"",ritual:void 0!==e.spell_ritual?e.spell_ritual:0,text:void 0!==e.spell_text?e.spell_text:"",pic:void 0!==e.spell_pic?e.spell_pic:""}),n++,t({now:n,full:a,name:e.spell_name})}))})).finally((function(){C.close()}))}(JSON.parse(t),(function(e){!function(e){var t=Math.round(e.now/e.full*100);x(0!==t&&100!==t?"block":"none"),c({percent:t,now:e.now,full:e.full,name:e.name})}(e)}))},_=function(e){var t=W.result;!function(e,t){var a=Object.keys(e).length,n=0;N.open().then((function(){e.map((function(e){N.items.put({name:void 0!==e.item_name?e.item_name:"",sources:void 0!==e.item_sources?e.item_sources:"",pic:void 0!==e.item_pic?e.item_pic:"",description:void 0!==e.item_description?e.item_description:"",rarity:void 0!==e.item_rarity?e.item_rarity:"",type:void 0!==e.item_type?e.item_type:"",attunment:void 0!==e.item_attunment?e.item_attunment:0}),n++,t({now:n,full:a,name:e.item_name})}))})).finally((function(){N.close()}))}(JSON.parse(t),(function(e){!function(e){var t=Math.round(e.now/e.full*100);x(0!==t&&100!==t?"block":"none"),u({percent:t,now:e.now,full:e.full,name:e.name})}(e)}))},T=function(e){var t=W.result;!function(e,t){var a=Object.keys(e).length,n=0;I.open().then((function(){e.map((function(e){I.gears.put({name:void 0!==e.gear_name?e.gear_name:"",sources:void 0!==e.gear_sources?e.gear_sources:"",pic:void 0!==e.gear_pic?e.gear_pic:"",description:void 0!==e.gear_description?e.gear_description:"",cost:void 0!==e.gear_cost?e.gear_cost:"",damage:void 0!==e.gear_damage?e.gear_damage:"",weight:void 0!==e.gear_weight?e.gear_weight:"",properties:void 0!==e.gear_properties?e.gear_properties:"",type:void 0!==e.gear_type?e.gear_type:""}),n++,t({now:n,full:a,name:e.gear_name})}))})).finally((function(){I.close()}))}(JSON.parse(t),(function(e){!function(e){var t=Math.round(e.now/e.full*100);x(0!==t&&100!==t?"block":"none"),b({percent:t,now:e.now,full:e.full,name:e.name})}(e)}))},R=function(e){var t=W.result;!function(e,t){var a=Object.keys(e).length,n=0;A.open().then((function(){e.map((function(e){A.monsters.put({name:void 0!==e.monster_name?e.monster_name:"",source:void 0!==e.monster_source?e.monster_source:"",pic:void 0!==e.monster_pic?e.monster_pic:"",size:void 0!==e.monster_size?e.monster_size:"",type:void 0!==e.monster_type?e.monster_type:"",subtype:void 0!==e.monster_subtype?e.monster_subtype:"",alignment:void 0!==e.monster_alignment?e.monster_alignment:"",ac:void 0!==e.monster_ac?e.monster_ac:0,hp:void 0!==e.monster_hp?e.monster_hp:0,speed:void 0!==e.monster_speed?e.monster_speed:"",cr:void 0!==e.monster_cr?e.monster_cr:"",str:void 0!==e.monster_str?e.monster_str:0,dex:void 0!==e.monster_dex?e.monster_dex:0,con:void 0!==e.monster_con?e.monster_con:0,int:void 0!==e.monster_int?e.monster_int:0,wis:void 0!==e.monster_wis?e.monster_wis:0,cha:void 0!==e.monster_cha?e.monster_cha:0,savingThrows:void 0!==e.monster_savingThrows?e.monster_savingThrows:"",skills:void 0!==e.monster_skills?e.monster_skills:"",senses:void 0!==e.monster_senses?e.monster_senses:"",lang:void 0!==e.monster_lang?e.monster_lang:"",dmgVulnerabilitie:void 0!==e.monster_dmgVulnerabilitie?e.monster_dmgVulnerabilitie:"",dmgResistance:void 0!==e.monster_dmgResistance?e.monster_dmgResistance:"",dmgImmunities:void 0!==e.monster_dmgImmunities?e.monster_dmgImmunities:"",conImmunities:void 0!==e.monster_conImmunities?e.monster_conImmunities:"",sAblt:void 0!==e.monster_sAblt?e.monster_sAblt:"",ablt:void 0!==e.monster_ablt?e.monster_ablt:"",lAblt:void 0!==e.monster_lAblt?e.monster_lAblt:""}),n++,t({now:n,full:a,name:e.monster_name})}))})).finally((function(){A.close()}))}(JSON.parse(t),(function(e){!function(e){var t=Math.round(e.now/e.full*100);x(0!==t&&100!==t?"block":"none"),O({percent:t,now:e.now,full:e.full,name:e.name})}(e)}))},B=function(e,t){if(window.navigator&&window.navigator.msSaveOrOpenBlob){var a=new Blob([decodeURIComponent(encodeURI(JSON.stringify(e)))],{type:"application/json;charset=utf-8;"});navigator.msSaveOrOpenBlob(a,t)}else{var n=document.createElement("a");n.download=t,n.href="data:application/json;charset=utf-8;,"+encodeURIComponent(JSON.stringify(e)),n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)}};return l.a.createElement("div",{id:"overview"},l.a.createElement("div",{id:"optionContent"},l.a.createElement("div",{id:"options"},l.a.createElement("div",{className:"optionSection"},l.a.createElement("h3",null,"Want to support me?"),l.a.createElement("a",{href:"https://www.patreon.com/bePatron?u=25310394",target:"_blank",className:"patreon"},l.a.createElement(v.a,{icon:D.b})," Become a patron")),l.a.createElement("div",{className:"optionSection"},l.a.createElement("h3",null,"Found some bugs? Or have some feedback?"),l.a.createElement("a",{href:"https://discord.gg/2KB3tzG",target:"_blank",className:"discord"},l.a.createElement(v.a,{icon:D.a})," Join the discord")),l.a.createElement("div",{className:"optionSection"},l.a.createElement("h3",null,"Theme"),l.a.createElement("button",{onClick:function(){"light"===m.a.getTheme()?(localStorage.setItem("theme","dark"),m.a.applyTheme("dark"),m.a.setTheme("dark")):(localStorage.setItem("theme","light"),m.a.applyTheme("light"),m.a.setTheme("light"))}},l.a.createElement(v.a,{icon:g.g})," Change Theme")),l.a.createElement("div",{className:"optionSection"},l.a.createElement("h3",null,"Data Import"),l.a.createElement("input",{type:"file",name:"spellfile",id:"spellfile",className:"inputfile",onChange:function(e){Array.from(e.target.files).forEach((function(e,t){(W=new FileReader).onloadend=k,W.readAsText(e)}))}}),l.a.createElement("label",{htmlFor:"spellfile"},l.a.createElement(v.a,{icon:g.e})," Import Spells "),l.a.createElement("br",null),l.a.createElement("input",{type:"file",name:"itemfile",id:"itemfile",className:"inputfile",onChange:function(e){Array.from(e.target.files).forEach((function(e,t){(W=new FileReader).onloadend=_,W.readAsText(e)}))}}),l.a.createElement("label",{htmlFor:"itemfile"},l.a.createElement(v.a,{icon:g.e})," Import Magic Items "),l.a.createElement("br",null),l.a.createElement("input",{type:"file",name:"gearfile",id:"gearfile",className:"inputfile",onChange:function(e){Array.from(e.target.files).forEach((function(e,t){(W=new FileReader).onloadend=T,W.readAsText(e)}))}}),l.a.createElement("label",{htmlFor:"gearfile"},l.a.createElement(v.a,{icon:g.e})," Import Gear "),l.a.createElement("br",null),l.a.createElement("input",{type:"file",name:"monsterfile",id:"monsterfile",className:"inputfile",onChange:function(e){Array.from(e.target.files).forEach((function(e,t){(W=new FileReader).onloadend=R,W.readAsText(e)}))}}),l.a.createElement("label",{htmlFor:"monsterfile"},l.a.createElement(v.a,{icon:g.e})," Import Monsters "),l.a.createElement("br",null)),l.a.createElement("div",{className:"optionSection"},l.a.createElement("h3",null,"Data Export"),l.a.createElement("button",{onClick:function(e){var t;t=function(e){B(e,"spells_export.json")},C.open().then((function(){C.spells.toCollection().sortBy("name",(function(e){t(e)}))})).finally((function(){C.close()}))}},l.a.createElement(v.a,{icon:g.d})," Export all Spells "),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(e){var t;t=function(e){B(e,"items_export.json")},N.open().then((function(){N.items.toCollection().sortBy("name",(function(e){t(e)}))})).finally((function(){N.close()}))}},l.a.createElement(v.a,{icon:g.d})," Export all Magic Items "),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(e){var t;t=function(e){B(e,"gears_export.json")},I.open().then((function(){I.gears.toCollection().sortBy("name",(function(e){t(e)}))})).finally((function(){I.close()}))}},l.a.createElement(v.a,{icon:g.d})," Export all Gear "),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(e){var t;t=function(e){B(e,"monsters_export.json")},A.open().then((function(){A.monsters.toCollection().sortBy("name",(function(e){t(e)}))})).finally((function(){A.close()}))}},l.a.createElement(v.a,{icon:g.d})," Export all Monsters "),l.a.createElement("br",null)),l.a.createElement("div",{className:"optionSection"},l.a.createElement("h3",null,"Delete Data"),l.a.createElement("button",{onClick:function(){C.open().then((function(){C.spells.clear()})).finally((function(){C.close()}))}},l.a.createElement(v.a,{icon:g.l})," Delete all Spells "),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){N.open().then((function(){N.items.clear()})).finally((function(){N.close()}))}},l.a.createElement(v.a,{icon:g.l})," Delete all Magic Items "),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){I.open().then((function(){I.gears.clear()})).finally((function(){I.close()}))}},l.a.createElement(v.a,{icon:g.l})," Delete all Gear "),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){A.open().then((function(){A.monsters.clear()})).finally((function(){A.close()}))}},l.a.createElement(v.a,{icon:g.l})," Delete all Monsters "),l.a.createElement("br",null)))),l.a.createElement("div",{className:"loadingScreen",style:{display:S}},l.a.createElement("div",{className:"loadingTab"},0!==a.percent&&100!==a.percent?l.a.createElement("div",null,"Imported ",a.percent,"% (",a.now,"/",a.full,") of spells.",l.a.createElement(z.a,{percent:a.percent,strokeWidth:"1",trailWidth:"1",strokeColor:"#8000ff"}),"Importing ",a.name," ..."):l.a.createElement("div",null),0!==i.percent&&100!==i.percent?l.a.createElement("div",null,"Imported ",i.percent,"% (",i.now,"/",i.full,") of magic items.",l.a.createElement(z.a,{percent:i.percent,strokeWidth:"1",trailWidth:"1",strokeColor:"#8000ff"}),"Importing ",i.name," ..."):l.a.createElement("div",null),0!==d.percent&&100!==d.percent?l.a.createElement("div",null,"Imported ",d.percent,"% (",d.now,"/",d.full,") of gear.",l.a.createElement(z.a,{percent:d.percent,strokeWidth:"1",trailWidth:"1",strokeColor:"#8000ff"}),"Importing ",d.name," ..."):l.a.createElement("div",null),0!==y.percent&&100!==y.percent?l.a.createElement("div",null,"Imported ",y.percent,"% (",y.now,"/",y.full,") of monsters.",l.a.createElement(z.a,{percent:y.percent,strokeWidth:"1",trailWidth:"1",strokeColor:"#8000ff"}),"Importing ",y.name," ..."):l.a.createElement("div",null))))}a(57),a(58);var M=a.p+"static/media/dice_icon_grey.e40fe0d3.png";function P(e){var t,a={backgroundImage:"url(".concat(""===e.spell.pic||null===e.spell.pic?M:e.spell.pic,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return l.a.createElement("div",{className:"spell",style:{animationDelay:"".concat(50*e.delay,"ms")},onClick:e.onClick},l.a.createElement("div",{className:"spellSchool spellAttr ".concat(e.spell.school)},e.spell.school),l.a.createElement("div",{className:"spellLevel spellAttr"},"0"===(t=e.spell.level)?l.a.createElement("b",null,"C"):t),function(e){return 1===e?l.a.createElement("div",{className:"icon"},"R"):""}(e.spell.ritual),function(e){return e.toLowerCase().includes("concentration")?l.a.createElement("div",{className:"icon"},"C"):""}(e.spell.duration),l.a.createElement("div",{className:"spellName spellAttr"},l.a.createElement("div",{className:"image",style:a}),l.a.createElement("b",null,e.spell.name)),l.a.createElement("div",{className:"spellTime smallSpellAttr"},l.a.createElement("b",null,"Time: "),function(e){return e.split(",")[0]}(e.spell.time)),l.a.createElement("div",{className:"spellDuration smallSpellAttr"},l.a.createElement("b",null,"Duration: "),function(e){var t=e.toLowerCase();return t.includes("concentration")?t.includes("concentration, ")?e.replace("Concentration, ",""):e.replace("Concentration",""):e}(e.spell.duration)),l.a.createElement("div",{className:"spellRange smallSpellAttr"},l.a.createElement("b",null,"Range: "),e.spell.range),l.a.createElement("div",{className:"spellComp smallSpellAttr"},l.a.createElement("b",null,"Comp.: "),function(e){var t=e.split("(");return t.length>1?t[0]+"*":t[0]}(e.spell.components)))}var V=a(6),L=(a(15),a(9));function U(e){var t=e.updateSpells,a=Object(n.useState)(""),r=Object(E.a)(a,2),o=r[0],i=r[1],u=Object(n.useState)([]),s=Object(E.a)(u,2),m=s[0],p=s[1],d=Object(n.useState)([]),b=Object(E.a)(d,2),f=b[0],h=b[1],y=Object(n.useState)(""),O=Object(E.a)(y,2),j=O[0],w=O[1],S=Object(n.useState)([]),C=Object(E.a)(S,2),k=C[0],N=C[1],_=Object(n.useState)(!1),T=Object(E.a)(_,2),I=T[0],A=T[1],R=Object(n.useState)(""),W=Object(E.a)(R,2),z=W[0],D=W[1],B=Object(n.useState)(""),M=Object(E.a)(B,2),P=M[0],U=M[1],q=Object(n.useState)(""),F=Object(E.a)(q,2),G=F[0],J=F[1],K=Object(n.useState)(""),H=Object(E.a)(K,2),X=H[0],Y=H[1],$=Object(n.useState)(""),Q=Object(E.a)($,2),Z=Q[0],ee=Q[1],te=Object(n.useState)(""),ae=Object(E.a)(te,2),ne=ae[0],le=ae[1],ce=Object(n.useState)(""),re=Object(E.a)(ce,2),oe=re[0],ie=re[1];Object(n.useEffect)((function(){x("school",(function(e){var t=e.map((function(e){return""===e?{value:e,label:"Empty"}:{value:e,label:e}}));h(t)})),x("level",(function(e){var t=e.map((function(e){return""===e?{value:e,label:"Empty"}:{value:e,label:e}}));N(t)}))}),[]),Object(n.useEffect)((function(){t({query:{name:o,school:m,level:j,time:z,range:P,duration:G,components:X,text:Z,classes:ne,sources:oe,ritual:I}})}),[o,m,j,z,P,G,X,Z,ne,oe,I]);var ue={container:function(e){return Object(V.a)({},e,{minWidth:130,float:"left",margin:5})},control:function(e){return Object(V.a)({},e,{minWidth:130,height:40,border:"none",boxShadow:"var(--boxshadow)",backgroundColor:"var(--pagination-input-background-color)"})},input:function(e){return Object(V.a)({},e,{color:"var(--pagination-input-color)"})},menu:function(e){return Object(V.a)({},e,{backgroundColor:"var(--pagination-input-background-color)",zIndex:1e4})}};return l.a.createElement("div",{id:"searchBar"},l.a.createElement("label",{className:"smaller left checkbox-label"},l.a.createElement("div",{className:"labelText"},"Ritual:"),l.a.createElement("input",{name:"ritual",type:"checkbox",checked:I,onChange:function(e){return A(e.target.checked)}}),l.a.createElement("span",{className:"checkbox-custom circular"})),l.a.createElement("input",{type:"text",name:o,placeholder:"Name...",value:o,onChange:function(e){return i(e.target.value)}}),l.a.createElement(L.a,{value:m,onChange:function(e){return p(e)},options:f,isMulti:!0,styles:ue,placeholder:"School..."}),l.a.createElement(L.a,{value:j,onChange:function(e){return w(e)},options:k,isMulti:!0,styles:ue,placeholder:"Level..."}),l.a.createElement("input",{type:"text",name:z,placeholder:"Casting time...",value:z,onChange:function(e){return D(e.target.value)}}),l.a.createElement("input",{type:"text",name:P,placeholder:"Range...",value:P,onChange:function(e){return U(e.target.value)}}),l.a.createElement("input",{type:"text",name:G,placeholder:"Duration...",value:G,onChange:function(e){return J(e.target.value)}}),l.a.createElement("input",{type:"text",name:X,placeholder:"Components...",value:X,onChange:function(e){return Y(e.target.value)}}),l.a.createElement("input",{type:"text",name:Z,placeholder:"Text...",value:Z,onChange:function(e){return ee(e.target.value)}}),l.a.createElement("input",{type:"text",name:ne,placeholder:"Classes...",value:ne,onChange:function(e){return le(e.target.value)}}),l.a.createElement("input",{type:"text",name:oe,placeholder:"Sources...",value:oe,onChange:function(e){return ie(e.target.value)}}),l.a.createElement("button",{onClick:function(){c.unstable_batchedUpdates((function(){i(""),p(""),w(""),A(""),D(""),U(""),J(""),Y(""),ee(""),le(""),ie("")}))}},l.a.createElement(v.a,{icon:g.m})," Reset"))}var q={_events:{},dispatch:function(e,t){if(this._events[e])for(var a=0;a<this._events[e].length;a++)this._events[e][a](t)},subscribe:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)}};function F(){var e=Object(n.useState)({spells:[]}),t=Object(E.a)(e,2),a=t[0],c=t[1],r=Object(n.useRef)(null),o=Object(n.useState)({}),i=Object(E.a)(o,2),u=i[0],s=i[1],m=function(e){var t=a.spells.map((function(t){return t.id===e.id?e:t}));c({spells:t})},d=function(e){var t=a.spells.filter((function(t){if(t.id!==e.id)return t}));c({spells:t})};Object(n.useEffect)((function(){!function(e,t){null!==e&&(h=e.query),C.open().then((function(){console.time("sortSpells"),C.spells.filter((function(e){var t=!0;null!==h.school&&0!==h.school.length&&(t=!1,h.school.map((function(a){e.school===a.value&&(t=!0)})));var a=!0;return null!==h.level&&0!==h.level.length&&(a=!1,h.level.map((function(t){e.level===t.value&&(a=!0)}))),void 0!==h.name&&e.name.includes(h.name)&&void 0!==h.time&&e.time.includes(h.time)&&void 0!==h.range&&e.range.includes(h.range)&&void 0!==h.duration&&e.duration.includes(h.duration)&&void 0!==h.components&&e.components.includes(h.components)&&void 0!==h.text&&e.text.includes(h.text)&&void 0!==h.classes&&e.classes.includes(h.classes)&&void 0!==h.sources&&e.sources.includes(h.sources)&&(h.ritual&&1===e.ritual||!h.ritual)&&a&&t})).sortBy("name",(function(e){console.timeEnd("sortSpells"),t(e)}))})).finally((function(){C.close()}))}(u,(function(e){c({spells:e})}))}),[u]),Object(n.useEffect)((function(){q.subscribe("updateWindow",m)}),[m]),Object(n.useEffect)((function(){q.subscribe("removeWindow",d)}),[d]);return l.a.createElement("div",{id:"overview"},l.a.createElement("div",{id:"spellOverview"},l.a.createElement(U,{updateSpells:function(e){return s(e)}}),l.a.createElement("div",{id:"spells",ref:r},a.spells.map((function(e,t){return l.a.createElement(P,{delay:0,spell:e,key:e.id,onClick:function(){return function(e){q.dispatch("openView",e)}(e)}})})))),l.a.createElement(p.a,{to:"/add-spell",className:"button"},l.a.createElement(v.a,{icon:g.h})," Add new Spell"))}a(59),a(60);function G(e){var t={backgroundImage:"url(".concat(""===e.item.pic||null===e.item.pic?M:e.item.pic,")"),backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundColor:"white"};return l.a.createElement("div",{className:"item",style:{animationDelay:"".concat(50*e.delay,"ms")},onClick:e.onClick},l.a.createElement("div",{className:"itemIcon ".concat(function(){var t=e.item.rarity;return null!==t?(t=(t=t.replace("A*","").trim()).replace(/\s/g,"")).toLowerCase():"common"}()),style:t}),l.a.createElement("div",{className:"itemComp"},e.item.name),l.a.createElement("div",{className:"itemComp smallItemAttr"},e.item.type),l.a.createElement("div",{className:"itemComp smallItemAttr"},e.item.rarity))}function J(e){var t=e.updateItems,a=Object(n.useState)(""),r=Object(E.a)(a,2),o=r[0],i=r[1],u=Object(n.useState)(""),s=Object(E.a)(u,2),m=s[0],p=s[1],d=Object(n.useState)(""),b=Object(E.a)(d,2),f=b[0],h=b[1],y=Object(n.useState)([]),O=Object(E.a)(y,2),j=O[0],w=O[1],S=Object(n.useState)(""),C=Object(E.a)(S,2),x=C[0],k=C[1],N=Object(n.useState)([]),T=Object(E.a)(N,2),I=T[0],A=T[1],R=Object(n.useState)(""),W=Object(E.a)(R,2),z=W[0],D=W[1],B=Object(n.useState)(""),M=Object(E.a)(B,2),P=M[0],U=M[1];Object(n.useEffect)((function(){_("rarity",(function(e){var t=e.map((function(e){return""===e?{value:e,label:"Empty"}:{value:e,label:e}}));w(t)})),_("type",(function(e){var t=e.map((function(e){return""===e?{value:e,label:"Empty"}:{value:e,label:e}}));A(t)}))}),[]),Object(n.useEffect)((function(){t({query:{name:o,type:x,rarity:f,sources:z,attunment:P,description:m}})}),[o,x,f,z,P,m]);var q={container:function(e){return Object(V.a)({},e,{minWidth:130,float:"left",margin:5})},control:function(e){return Object(V.a)({},e,{minWidth:130,height:40,border:"none",boxShadow:"var(--boxshadow)",backgroundColor:"var(--pagination-input-background-color)"})},input:function(e){return Object(V.a)({},e,{color:"var(--pagination-input-color)"})},menu:function(e){return Object(V.a)({},e,{backgroundColor:"var(--pagination-input-background-color)",zIndex:1e4})}};return l.a.createElement("div",{id:"searchBar"},l.a.createElement("label",{className:"smaller left checkbox-label",style:{width:"110px"}},l.a.createElement("div",{className:"labelText",style:{width:"110px"}},"Attunment:"),l.a.createElement("input",{name:"ritual",type:"checkbox",checked:P,onChange:function(e){return U(e.target.checked)}}),l.a.createElement("span",{className:"checkbox-custom circular",style:{left:"95px"}})),l.a.createElement("input",{type:"text",name:o,placeholder:"Name...",value:o,onChange:function(e){return i(e.target.value)}}),l.a.createElement(L.a,{value:f,onChange:function(e){return h(e)},options:j,isMulti:!0,styles:q,placeholder:"Rarity..."}),l.a.createElement(L.a,{value:x,onChange:function(e){return k(e)},options:I,isMulti:!0,styles:q,placeholder:"Type..."}),l.a.createElement("input",{type:"text",name:m,placeholder:"Description...",value:m,onChange:function(e){return p(e.target.value)}}),l.a.createElement("input",{type:"text",name:z,placeholder:"Sources...",value:z,onChange:function(e){return D(e.target.value)}}),l.a.createElement("button",{onClick:function(){c.unstable_batchedUpdates((function(){i(""),p(""),h(""),k(""),D(""),U("")}))}},l.a.createElement(v.a,{icon:g.m})," Reset"))}function K(){var e=Object(n.useState)({items:[]}),t=Object(E.a)(e,2),a=t[0],c=t[1],r=Object(n.useRef)(null),o=Object(n.useState)({}),i=Object(E.a)(o,2),u=i[0],s=i[1],m=function(e){var t=a.items.map((function(t){return t.id===e.id?e:t}));c({items:t})},d=function(e){var t=a.items.filter((function(t){if(t.id!==e.id)return t}));c({items:t})};Object(n.useEffect)((function(){!function(e,t){null!==e&&(k=e.query),N.open().then((function(){console.time("sortItems"),N.items.filter((function(e){var t=!0;null!==k.rarity&&0!==k.rarity.length&&(t=!1,k.rarity.map((function(a){e.rarity===a.value&&(t=!0)})));var a=!0;return null!==k.type&&0!==k.type.length&&(a=!1,k.type.map((function(t){e.type===t.value&&(a=!0)}))),void 0!==k.name&&e.name.includes(k.name)&&void 0!==k.description&&e.description.includes(k.description)&&void 0!==k.sources&&e.sources.includes(k.sources)&&(k.attunment&&1===e.attunment||!k.attunment)&&t&&a})).sortBy("name",(function(e){console.timeEnd("sortItems"),t(e)}))})).finally((function(){N.close()}))}(u,(function(e){c({items:e})}))}),[u]),Object(n.useEffect)((function(){q.subscribe("updateWindow",m)}),[m]),Object(n.useEffect)((function(){q.subscribe("removeWindow",d)}),[d]);return l.a.createElement("div",{id:"overview"},l.a.createElement("div",{id:"itemsOverview"},l.a.createElement(J,{updateItems:function(e){return s(e)}}),l.a.createElement("div",{id:"items",ref:r},a.items.map((function(e,t){return l.a.createElement(G,{delay:0,item:e,key:e.id,onClick:function(){return function(e){q.dispatch("openView",e)}(e)}})})))),l.a.createElement(p.a,{to:"/add-item",className:"button"},l.a.createElement(v.a,{icon:g.h})," Add new Magic Item"))}a(61),a(62);function H(e){var t={backgroundImage:"url(".concat(""===e.gear.pic||null===e.gear.pic?M:e.gear.pic,")"),backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundColor:"white"};return l.a.createElement("div",{className:"gear",style:{animationDelay:"".concat(50*e.delay,"ms")},onClick:e.onClick},l.a.createElement("div",{className:"gearIcon",style:t}),l.a.createElement("div",{className:"gearComp"},e.gear.name),l.a.createElement("div",{className:"gearComp smallGearAttr"},e.gear.type))}function X(e){var t=e.updateGears,a=Object(n.useState)(""),r=Object(E.a)(a,2),o=r[0],i=r[1],u=Object(n.useState)(""),s=Object(E.a)(u,2),m=s[0],p=s[1],d=Object(n.useState)(""),b=Object(E.a)(d,2),f=b[0],h=b[1],y=Object(n.useState)(""),O=Object(E.a)(y,2),j=O[0],w=O[1],S=Object(n.useState)(""),C=Object(E.a)(S,2),x=C[0],k=C[1],N=Object(n.useState)(""),_=Object(E.a)(N,2),T=_[0],A=_[1],R=Object(n.useState)(""),W=Object(E.a)(R,2),z=W[0],D=W[1],B=Object(n.useState)(""),M=Object(E.a)(B,2),P=M[0],U=M[1],q=Object(n.useState)([]),F=Object(E.a)(q,2),G=F[0],J=F[1];Object(n.useEffect)((function(){var e,t;e="type",t=function(e){var t=e.map((function(e){return""===e?{value:e,label:"Empty"}:{value:e,label:e}}));J(t)},I.open().then((function(){I.gears.orderBy(e).uniqueKeys((function(e){t(e)}))})).finally((function(){I.close()}))}),[]),Object(n.useEffect)((function(){t({query:{name:o,description:m,sources:x,cost:f,weight:T,damage:j,properties:z,type:P}})}),[o,m,x,f,T,j,z,P]);var K={container:function(e){return Object(V.a)({},e,{minWidth:130,float:"left",margin:5})},control:function(e){return Object(V.a)({},e,{minWidth:130,height:40,border:"none",boxShadow:"var(--boxshadow)",backgroundColor:"var(--pagination-input-background-color)"})},input:function(e){return Object(V.a)({},e,{color:"var(--pagination-input-color)"})},menu:function(e){return Object(V.a)({},e,{backgroundColor:"var(--pagination-input-background-color)",zIndex:1e4})}};return l.a.createElement("div",{id:"searchBar"},l.a.createElement("input",{type:"text",name:o,placeholder:"Name...",value:o,onChange:function(e){return i(e.target.value)}}),l.a.createElement(L.a,{value:P,onChange:function(e){return U(e)},options:G,isMulti:!0,styles:K,placeholder:"Type..."}),l.a.createElement("input",{type:"text",name:T,placeholder:"Weight...",value:T,onChange:function(e){return A(e.target.value)}}),l.a.createElement("input",{type:"text",name:j,placeholder:"Damage...",value:j,onChange:function(e){return w(e.target.value)}}),l.a.createElement("input",{type:"text",name:z,placeholder:"Properties...",value:z,onChange:function(e){return D(e.target.value)}}),l.a.createElement("input",{type:"text",name:m,placeholder:"Description...",value:m,onChange:function(e){return p(e.target.value)}}),l.a.createElement("input",{type:"text",name:x,placeholder:"Sources...",value:x,onChange:function(e){return k(e.target.value)}}),l.a.createElement("button",{onClick:function(){c.unstable_batchedUpdates((function(){i(""),p(""),h(""),w(""),A(""),D(""),U(""),k("")}))}},l.a.createElement(v.a,{icon:g.m})," Reset"))}function Y(){var e=Object(n.useState)({gears:[]}),t=Object(E.a)(e,2),a=t[0],c=t[1],r=Object(n.useRef)(null),o=Object(n.useState)({}),i=Object(E.a)(o,2),u=i[0],s=i[1],m=function(e){var t=a.gears.map((function(t){return t.id===e.id?e:t}));c({gears:t})},d=function(e){var t=a.gears.filter((function(t){if(t.id!==e.id)return t}));c({gears:t})};Object(n.useEffect)((function(){!function(e,t){null!==e&&(T=e.query),I.open().then((function(){console.time("sortgears"),I.gears.filter((function(e){var t=!0;return null!==T.type&&0!==T.type.length&&(t=!1,T.type.map((function(a){e.type===a.value&&(t=!0)}))),console.log(t),console.log("'"+T.name+"', '"+e.name),console.log("'"+T.description+"', '"+e.description),console.log("'"+T.sources+"', '"+e.sources),console.log("'"+T.cost+"', '"+e.cost),console.log("'"+T.damage+"', '"+e.damage),console.log("'"+T.weight+"', '"+e.weight),console.log("'"+T.properties+"', '"+e.properties),void 0!==T.name&&e.name.includes(T.name)&&void 0!==T.description&&e.description.includes(T.description)&&void 0!==T.sources&&e.sources.includes(T.sources)&&void 0!==T.cost&&e.cost.includes(T.cost)&&void 0!==T.damage&&e.damage.includes(T.damage)&&void 0!==T.weight&&e.weight.includes(T.weight)&&void 0!==T.properties&&e.properties.includes(T.properties)&&t})).sortBy("name",(function(e){console.timeEnd("sortgears"),t(e)}))})).finally((function(){I.close()}))}(u,(function(e){c({gears:e})}))}),[u]),Object(n.useEffect)((function(){q.subscribe("updateWindow",m)}),[m]),Object(n.useEffect)((function(){q.subscribe("removeWindow",d)}),[d]);return l.a.createElement("div",{id:"overview"},l.a.createElement("div",{id:"itemsOverview"},l.a.createElement(X,{updateGears:function(e){return s(e)}}),l.a.createElement("div",{id:"items",ref:r},a.gears.map((function(e,t){return l.a.createElement(H,{delay:0,gear:e,key:e.id,onClick:function(){return function(e){q.dispatch("openView",e)}(e)}})})))),l.a.createElement(p.a,{to:"/add-gear",className:"button"},l.a.createElement(v.a,{icon:g.h})," Add new Gear"))}a(63),a(64);function $(e){var t,a={backgroundImage:"url(".concat(""===e.monster.pic||null===e.monster.pic?M:e.monster.pic,")"),backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundColor:"white"};return l.a.createElement("div",{className:"monster",style:{animationDelay:"".concat(50*e.delay,"ms")},onClick:e.onClick},l.a.createElement("div",{className:"monsterAttr monsterType"},l.a.createElement("b",null,(t=e.monster.type).charAt(0).toUpperCase()+t.slice(1)),function(e){return""==e?"":" ("+e+")"}(e.monster.subtype)),l.a.createElement("div",{className:"monsterAttr monsterLevel"},e.monster.cr),l.a.createElement("div",{className:"monsterIcon",style:a}),l.a.createElement("div",{className:"monsterAttr monsterName"},l.a.createElement("b",null,e.monster.name)),l.a.createElement("div",{className:"smallMonsterAttr"},l.a.createElement("b",null,"Alignment: "),e.monster.alignment),l.a.createElement("div",{className:"smallMonsterAttr"},l.a.createElement("b",null,"Size: "),e.monster.size))}function Q(e){var t=e.updateMonsters,a=Object(n.useState)(""),r=Object(E.a)(a,2),o=r[0],i=r[1],u=Object(n.useState)(""),s=Object(E.a)(u,2),m=s[0],p=s[1],d=Object(n.useState)([]),b=Object(E.a)(d,2),f=b[0],h=b[1],y=Object(n.useState)(""),O=Object(E.a)(y,2),j=O[0],w=O[1],S=Object(n.useState)([]),C=Object(E.a)(S,2),x=C[0],k=C[1],N=Object(n.useState)(""),_=Object(E.a)(N,2),T=_[0],I=_[1],A=Object(n.useState)([]),W=Object(E.a)(A,2),z=W[0],D=W[1],B=Object(n.useState)(""),M=Object(E.a)(B,2),P=M[0],U=M[1],q=Object(n.useState)(""),F=Object(E.a)(q,2),G=F[0],J=F[1],K=Object(n.useState)([]),H=Object(E.a)(K,2),X=H[0],Y=H[1],$=Object(n.useState)(""),Q=Object(E.a)($,2),Z=Q[0],ee=Q[1],te=Object(n.useState)([]),ae=Object(E.a)(te,2),ne=ae[0],le=ae[1],ce=Object(n.useState)(""),re=Object(E.a)(ce,2),oe=re[0],ie=re[1],ue=Object(n.useState)(""),se=Object(E.a)(ue,2),me=se[0],pe=se[1],de=Object(n.useState)(""),be=Object(E.a)(de,2),ve=be[0],ge=be[1],fe=Object(n.useState)(""),he=Object(E.a)(fe,2),Ee=he[0],ye=he[1],Oe=Object(n.useState)(""),je=Object(E.a)(Oe,2),we=je[0],Se=je[1],Ce=Object(n.useState)(""),xe=Object(E.a)(Ce,2),ke=xe[0],Ne=xe[1];Object(n.useEffect)((function(){R("type",(function(e){var t=e.map((function(e){return""===e?{value:e,label:"Empty"}:{value:e,label:e}}));k(t)})),R("subtype",(function(e){var t=e.map((function(e){return""===e?{value:e,label:"Empty"}:{value:e,label:e}}));D(t)})),R("ac",(function(e){var t=e.map((function(e){return""===e?{value:e,label:"Empty"}:{value:e,label:e}}));Y(t),console.log(t)})),R("cr",(function(e){var t=e.map((function(e){return""===e?{value:e,label:"Empty"}:{value:e,label:e}}));le(t),console.log(t)})),R("size",(function(e){var t=e.map((function(e){return""===e?{value:e,label:"Empty"}:{value:e,label:e}}));h(t),console.log(t)}))}),[]),Object(n.useEffect)((function(){t({query:{name:o,type:j,subtype:T,cr:Z,ac:G,action:ke,senses:ve,speed:Ee,source:oe,savingThrows:me,damage:we,size:m,alignment:P}})}),[o,j,T,Z,G,ke,ve,Ee,oe,me,we,m,P]);var _e={container:function(e){return Object(V.a)({},e,{minWidth:130,float:"left",margin:5})},control:function(e){return Object(V.a)({},e,{minWidth:130,height:40,border:"none",boxShadow:"var(--boxshadow)",backgroundColor:"var(--pagination-input-background-color)"})},input:function(e){return Object(V.a)({},e,{color:"var(--pagination-input-color)"})},menu:function(e){return Object(V.a)({},e,{backgroundColor:"var(--pagination-input-background-color)",zIndex:1e4})}};return l.a.createElement("div",{id:"searchBar"},l.a.createElement("input",{type:"text",name:o,placeholder:"Name...",value:o,onChange:function(e){return i(e.target.value)}}),l.a.createElement(L.a,{value:j,onChange:function(e){return w(e)},options:x,isMulti:!0,styles:_e,placeholder:"Type..."}),l.a.createElement(L.a,{value:T,onChange:function(e){return I(e)},options:z,isMulti:!0,styles:_e,placeholder:"Subtype..."}),l.a.createElement(L.a,{value:G,onChange:function(e){return J(e)},options:X,isMulti:!0,styles:_e,placeholder:"AC..."}),l.a.createElement(L.a,{value:Z,onChange:function(e){return ee(e)},options:ne,isMulti:!0,styles:_e,placeholder:"CR..."}),l.a.createElement(L.a,{value:m,onChange:function(e){return p(e)},options:f,isMulti:!0,styles:_e,placeholder:"Size..."}),l.a.createElement("input",{type:"text",name:P,placeholder:"Alignment...",value:P,onChange:function(e){return U(e.target.value)}}),l.a.createElement("input",{type:"text",name:oe,placeholder:"Source...",value:oe,onChange:function(e){return ie(e.target.value)}}),l.a.createElement("input",{type:"text",name:me,placeholder:"Saving throws...",value:me,onChange:function(e){return pe(e.target.value)}}),l.a.createElement("input",{type:"text",name:ve,placeholder:"Senses...",value:ve,onChange:function(e){return ge(e.target.value)}}),l.a.createElement("input",{type:"text",name:Ee,placeholder:"Speed...",value:Ee,onChange:function(e){return ye(e.target.value)}}),l.a.createElement("input",{type:"text",name:we,placeholder:"Damages...",value:we,onChange:function(e){return Se(e.target.value)}}),l.a.createElement("input",{type:"text",name:ke,placeholder:"Action...",value:ke,onChange:function(e){return Ne(e.target.value)}}),l.a.createElement("button",{onClick:function(){c.unstable_batchedUpdates((function(){i(""),w(""),I(""),p(""),w(""),U(""),J(""),ee(""),ie(""),pe(""),ge(""),ye(""),Se(""),Ne("")}))}},l.a.createElement(v.a,{icon:g.m})," Reset"))}function Z(){var e=Object(n.useState)({monsters:[]}),t=Object(E.a)(e,2),a=t[0],c=t[1],r=Object(n.useRef)(null),o=Object(n.useState)({}),i=Object(E.a)(o,2),u=i[0],s=i[1],m=function(e){var t=a.monsters.map((function(t){return t.id===e.id?e:t}));c({monsters:t})},d=function(e){var t=a.monsters.filter((function(t){if(t.id!==e.id)return t}));c({monsters:t})};Object(n.useEffect)((function(){!function(e,t){null!==e&&e.query,A.open().then((function(){console.time("sortMonsters"),A.monsters.filter((function(e){return!0})).sortBy("name",(function(e){console.timeEnd("sortMonsters"),t(e)}))})).finally((function(){A.close()}))}(u,(function(e){c({monsters:e})}))}),[u]),Object(n.useEffect)((function(){q.subscribe("updateWindow",m)}),[m]),Object(n.useEffect)((function(){q.subscribe("removeWindow",d)}),[d]);return l.a.createElement("div",{id:"overview"},l.a.createElement("div",{id:"monsterOverview"},l.a.createElement(Q,{updateMonsters:function(e){return s(e)}}),l.a.createElement("div",{id:"monsters",ref:r},a.monsters.map((function(e,t){return l.a.createElement($,{delay:0,monster:e,key:e.id,onClick:function(){return function(e){q.dispatch("openView",e)}(e)}})})))),l.a.createElement(p.a,{to:"/add-monster",className:"button"},l.a.createElement(v.a,{icon:g.h})," Add new Monster"))}a(31);function ee(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(E.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)(0),m=Object(E.a)(s,2),p=m[0],d=m[1],b=Object(n.useState)(0),f=Object(E.a)(b,2),h=f[0],y=f[1],O=Object(n.useState)(""),j=Object(E.a)(O,2),w=j[0],S=j[1],x=Object(n.useState)(""),k=Object(E.a)(x,2),N=k[0],_=k[1],T=Object(n.useState)(""),I=Object(E.a)(T,2),A=I[0],R=I[1],W=Object(n.useState)(""),z=Object(E.a)(W,2),D=z[0],B=z[1],M=Object(n.useState)(""),P=Object(E.a)(M,2),V=P[0],L=P[1],U=Object(n.useState)(""),q=Object(E.a)(U,2),F=q[0],G=q[1],J=Object(n.useState)(""),K=Object(E.a)(J,2),H=K[0],X=K[1];return l.a.createElement("div",{id:"overview"},l.a.createElement("div",{id:"spellView"},l.a.createElement("div",{className:"top"},l.a.createElement("label",null,"Name:",l.a.createElement("input",{name:"name",type:"text",value:a,onChange:function(e){return c(e.target.value)}})),l.a.createElement("label",null,"School:",l.a.createElement("input",{name:"school",type:"text",value:i,onChange:function(e){return u(e.target.value)}})),l.a.createElement("label",null,"Level:",l.a.createElement("input",{name:"level",type:"number",value:p,onChange:function(e){return d(e.target.value)}})),l.a.createElement("label",{className:"checkbox-label"},l.a.createElement("div",{className:"labelText"},"Ritual:"),l.a.createElement("input",{name:"ritual",type:"checkbox",checked:h,onChange:function(e){return y(e.target.checked)}}),l.a.createElement("span",{className:"checkbox-custom circular"})),l.a.createElement("label",null,"Casting Time:",l.a.createElement("input",{name:"time",type:"text",value:w,onChange:function(e){return S(e.target.value)}})),l.a.createElement("label",null,"Range:",l.a.createElement("input",{name:"range",type:"text",value:N,onChange:function(e){return _(e.target.value)}})),l.a.createElement("label",null,"Duration:",l.a.createElement("input",{name:"duration",type:"text",value:A,onChange:function(e){return R(e.target.value)}})),l.a.createElement("label",null,"Components:",l.a.createElement("input",{name:"components",type:"text",value:D,onChange:function(e){return B(e.target.value)}})),l.a.createElement("label",null,"Classes:",l.a.createElement("input",{name:"classes",type:"text",value:F,onChange:function(e){return G(e.target.value)}})),l.a.createElement("label",null,"Sources:",l.a.createElement("input",{name:"sources",type:"text",value:H,onChange:function(e){return X(e.target.value)}}))),l.a.createElement("textarea",{value:V,onChange:function(e){return L(e.target.value)}}),l.a.createElement("button",{onClick:function(e){var t;t={name:a,school:i,level:p,ritual:h,time:w,range:N,duration:A,components:D,text:V,classes:F,sources:H},C.open().then((function(){C.spells.put(t)})).finally((function(){C.close()}))}},l.a.createElement(v.a,{icon:g.i})," Save")))}a(32);function te(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(E.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)(""),m=Object(E.a)(s,2),p=m[0],d=m[1],b=Object(n.useState)(""),f=Object(E.a)(b,2),h=f[0],y=f[1],O=Object(n.useState)(""),j=Object(E.a)(O,2),w=j[0],S=j[1],C=Object(n.useState)(""),x=Object(E.a)(C,2),k=x[0],_=x[1],T=Object(n.useState)(""),I=Object(E.a)(T,2),A=I[0],R=I[1],W={backgroundImage:"url(".concat(i,")"),backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat"};return l.a.createElement("div",{id:"itemView"},l.a.createElement("div",{className:"top"},l.a.createElement("label",null,"Name:",l.a.createElement("input",{name:"name",type:"text",value:a,onChange:function(e){return c(e.target.value)}})),l.a.createElement("label",null,"Sources:",l.a.createElement("input",{name:"sources",type:"text",value:k,onChange:function(e){return _(e.target.value)}})),l.a.createElement("label",null,"Pic:",l.a.createElement("input",{name:"pic",type:"text",value:i,onChange:function(e){return u(e.target.value)}}))),l.a.createElement("div",{className:"top"},l.a.createElement("label",null,"Rarity:",l.a.createElement("input",{name:"rarity",type:"text",value:h,onChange:function(e){return y(e.target.value)}})),l.a.createElement("label",null,"Type:",l.a.createElement("input",{name:"type",type:"text",value:w,onChange:function(e){return S(e.target.value)}})),l.a.createElement("label",{className:"checkbox-label"},l.a.createElement("div",{className:"labelText"},"Attuned:"),l.a.createElement("input",{name:"type",type:"checkbox",checked:A,onChange:function(e){return R(e.target.checked)}}),l.a.createElement("span",{className:"checkbox-custom circular"}))),l.a.createElement("div",{className:"top",style:{width:"120px"}},l.a.createElement("button",{onClick:function(e){var t;t={name:a,pic:i,type:w,rarity:h,sources:k,attunment:A,description:p},N.open().then((function(){N.items.put(t)})).finally((function(){N.close()}))}},l.a.createElement(v.a,{icon:g.i})," Save")),l.a.createElement("div",{className:"image",style:W}),l.a.createElement("textarea",{value:p,onChange:function(e){return d(e.target.value)}}))}a(33);function ae(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(E.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)(""),m=Object(E.a)(s,2),p=m[0],d=m[1],b=Object(n.useState)(""),f=Object(E.a)(b,2),h=f[0],y=f[1],O=Object(n.useState)(""),j=Object(E.a)(O,2),w=j[0],S=j[1],C=Object(n.useState)(""),x=Object(E.a)(C,2),k=x[0],N=x[1],_=Object(n.useState)(""),T=Object(E.a)(_,2),A=T[0],R=T[1],W=Object(n.useState)(""),z=Object(E.a)(W,2),D=z[0],B=z[1],M=Object(n.useState)(""),P=Object(E.a)(M,2),V=P[0],L=P[1],U={backgroundImage:"url(".concat(i,")"),backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat"};return l.a.createElement("div",{id:"gearView"},l.a.createElement("div",{className:"top"},l.a.createElement("label",null,"Name:",l.a.createElement("input",{name:"name",type:"text",value:a,onChange:function(e){return c(e.target.value)}})),l.a.createElement("label",null,"Type:",l.a.createElement("input",{name:"type",type:"text",value:D,onChange:function(e){return B(e.target.value)}})),l.a.createElement("label",null,"Pic:",l.a.createElement("input",{name:"pic",type:"text",value:i,onChange:function(e){return u(e.target.value)}}))),l.a.createElement("div",{className:"top"},l.a.createElement("label",null,"Weight:",l.a.createElement("input",{name:"weight",type:"weight",value:k,onChange:function(e){return N(e.target.value)}})),l.a.createElement("label",null,"Damage:",l.a.createElement("input",{name:"damage",type:"damage",value:w,onChange:function(e){return S(e.target.value)}})),l.a.createElement("label",null,"Sources:",l.a.createElement("input",{name:"sources",type:"text",value:V,onChange:function(e){return L(e.target.value)}})),l.a.createElement("label",null,"Cost:",l.a.createElement("input",{name:"cost",type:"text",value:h,onChange:function(e){return y(e.target.value)}}))),l.a.createElement("label",{style:{float:"left",width:"623px"}},"Props:",l.a.createElement("input",{style:{width:"510px",marginRight:"13px"},name:"props",type:"text",value:A,onChange:function(e){return R(e.target.value)}})),l.a.createElement("div",{style:{width:"100%",float:"left"}},l.a.createElement("div",{className:"image",style:U}),l.a.createElement("textarea",{value:p,onChange:function(e){return d(e.target.value)}})),l.a.createElement("button",{onClick:function(e){var t;t={name:a,pic:i,description:p,cost:h,weight:k,damage:w,properties:A,type:D,sources:V},I.open().then((function(){I.gears.put(t)})).finally((function(){I.close()}))}},l.a.createElement(v.a,{icon:g.i})," Save"))}a(34);function ne(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(E.a)(r,2),i=o[0],u=o[1],s=Object(n.useState)(""),m=Object(E.a)(s,2),p=m[0],d=m[1],b=Object(n.useState)(""),f=Object(E.a)(b,2),h=f[0],y=f[1],O=Object(n.useState)(""),j=Object(E.a)(O,2),w=j[0],S=j[1],C=Object(n.useState)(""),x=Object(E.a)(C,2),k=x[0],N=x[1],_=Object(n.useState)(0),T=Object(E.a)(_,2),I=T[0],R=T[1],W=Object(n.useState)(""),z=Object(E.a)(W,2),D=z[0],B=z[1],M=Object(n.useState)(""),P=Object(E.a)(M,2),V=P[0],L=P[1],U=Object(n.useState)(""),q=Object(E.a)(U,2),F=q[0],G=q[1],J=Object(n.useState)(""),K=Object(E.a)(J,2),H=K[0],X=K[1],Y=Object(n.useState)(0),$=Object(E.a)(Y,2),Q=$[0],Z=$[1],ee=Object(n.useState)(0),te=Object(E.a)(ee,2),ae=te[0],ne=te[1],le=Object(n.useState)(0),ce=Object(E.a)(le,2),re=ce[0],oe=ce[1],ie=Object(n.useState)(0),ue=Object(E.a)(ie,2),se=ue[0],me=ue[1],pe=Object(n.useState)(0),de=Object(E.a)(pe,2),be=de[0],ve=de[1],ge=Object(n.useState)(0),fe=Object(E.a)(ge,2),he=fe[0],Ee=fe[1],ye=Object(n.useState)(""),Oe=Object(E.a)(ye,2),je=Oe[0],we=Oe[1],Se=Object(n.useState)(""),Ce=Object(E.a)(Se,2),xe=Ce[0],ke=Ce[1],Ne=Object(n.useState)(""),_e=Object(E.a)(Ne,2),Te=_e[0],Ie=_e[1],Ae=Object(n.useState)(""),Re=Object(E.a)(Ae,2),We=Re[0],ze=Re[1],De=Object(n.useState)(""),Be=Object(E.a)(De,2),Me=Be[0],Pe=Be[1],Ve=Object(n.useState)(""),Le=Object(E.a)(Ve,2),Ue=Le[0],qe=Le[1],Fe=Object(n.useState)(""),Ge=Object(E.a)(Fe,2),Je=Ge[0],Ke=Ge[1],He=Object(n.useState)(""),Xe=Object(E.a)(He,2),Ye=Xe[0],$e=Xe[1],Qe=Object(n.useState)(""),Ze=Object(E.a)(Qe,2),et=Ze[0],tt=Ze[1],at=Object(n.useState)(""),nt=Object(E.a)(at,2),lt=nt[0],ct=nt[1],rt=Object(n.useState)(""),ot=Object(E.a)(rt,2),it=ot[0],ut=ot[1],st=function(e){var t=Math.floor((e-10)/2);return t>=0?"+"+t:t},mt={backgroundImage:"url(".concat(i,")"),backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat"};return l.a.createElement("div",{id:"monsterView"},l.a.createElement("div",{className:"image",style:mt}),l.a.createElement("div",{className:"top"},l.a.createElement("label",null,"Name:",l.a.createElement("input",{name:"name",type:"text",value:a,onChange:function(e){return c(e.target.value)}})),l.a.createElement("label",null,"Type:",l.a.createElement("input",{name:"type",type:"text",value:h,onChange:function(e){return y(e.target.value)}})),l.a.createElement("label",null,"Subtype:",l.a.createElement("input",{name:"subtype",type:"text",value:w,onChange:function(e){return S(e.target.value)}})),l.a.createElement("label",null,"Pic:",l.a.createElement("input",{name:"pic",type:"text",value:i,onChange:function(e){return u(e.target.value)}})),l.a.createElement("label",null,"Source:",l.a.createElement("input",{name:"source",type:"text",value:H,onChange:function(e){return X(e.target.value)}})),l.a.createElement("button",{onClick:function(e){var t;t={name:a,type:h,subtype:w,cr:F,ac:I,hp:D,str:Q,dex:ae,con:re,int:se,wis:be,cha:he,senses:Te,lang:We,speed:V,source:H,skills:xe,savingThrows:je,dmgImmunities:Je,dmgResistance:Ue,dmgVulnerabilitie:Me,conImmunities:Ye,sAblt:et,ablt:lt,lAblt:it,pic:i,size:p,alignment:k},A.open().then((function(){A.monsters.put(t)})).finally((function(){A.close()}))}},l.a.createElement(v.a,{icon:g.i})," Save")),l.a.createElement("div",{className:"top"},l.a.createElement("label",{className:"smallLabel"},"Cr:",l.a.createElement("input",{name:"cr",type:"text",value:F,onChange:function(e){return G(e.target.value)}})),l.a.createElement("label",{className:"smallLabel"},"AC:",l.a.createElement("input",{name:"ac",type:"number",value:I,onChange:function(e){return R(e.target.value)}})),l.a.createElement("label",null,"Alignment:",l.a.createElement("input",{name:"alignment",type:"text",value:k,onChange:function(e){return N(e.target.value)}})),l.a.createElement("label",null,"Hit Points:",l.a.createElement("input",{name:"hp",type:"text",value:D,onChange:function(e){return B(e.target.value)}})),l.a.createElement("label",null,"Speed:",l.a.createElement("input",{name:"speed",type:"text",value:V,onChange:function(e){return L(e.target.value)}})),l.a.createElement("label",null,"Size:",l.a.createElement("input",{name:"size",type:"text",value:p,onChange:function(e){return d(e.target.value)}}))),l.a.createElement("div",{className:"abilityScores"},l.a.createElement("div",{className:"score"},l.a.createElement("label",null,"Strength: ",l.a.createElement("input",{type:"number",value:Q,onChange:function(e){return Z(e.target.value)}})),l.a.createElement("div",{className:"abilityBonus"},st(Q))),l.a.createElement("div",{className:"score"},l.a.createElement("label",null,"Dexterity: ",l.a.createElement("input",{type:"number",value:ae,onChange:function(e){return ne(e.target.value)}})),l.a.createElement("div",{className:"abilityBonus"},st(ae))),l.a.createElement("div",{className:"score"},l.a.createElement("label",null,"Constitution: ",l.a.createElement("input",{type:"number",value:re,onChange:function(e){return oe(e.target.value)}})),l.a.createElement("div",{className:"abilityBonus"},st(re))),l.a.createElement("div",{className:"score"},l.a.createElement("label",null,"Intelligence: ",l.a.createElement("input",{type:"number",value:se,onChange:function(e){return me(e.target.value)}})),l.a.createElement("div",{className:"abilityBonus"},st(se))),l.a.createElement("div",{className:"score"},l.a.createElement("label",null,"Wisdom: ",l.a.createElement("input",{type:"number",value:be,onChange:function(e){return ve(e.target.value)}})),l.a.createElement("div",{className:"abilityBonus"},st(be))),l.a.createElement("div",{className:"score"},l.a.createElement("label",null,"Charisma: ",l.a.createElement("input",{type:"number",value:he,onChange:function(e){return Ee(e.target.value)}})),l.a.createElement("div",{className:"abilityBonus"},st(he)))),l.a.createElement("div",{className:"top"},l.a.createElement("textarea",{className:"small",value:je,onChange:function(e){return we(e.target.value)},placeholder:"Saving Throws..."}),l.a.createElement("textarea",{className:"small",value:xe,onChange:function(e){return ke(e.target.value)},placeholder:"Skills..."}),l.a.createElement("textarea",{className:"small",value:Te,onChange:function(e){return Ie(e.target.value)},placeholder:"Senses..."}),l.a.createElement("textarea",{className:"small",value:We,onChange:function(e){return ze(e.target.value)},placeholder:"Languages..."})),l.a.createElement("div",{className:"top"},l.a.createElement("textarea",{className:"small",value:Me,onChange:function(e){return Pe(e.target.value)},placeholder:"Vulnerabilities..."}),l.a.createElement("textarea",{className:"small",value:Ue,onChange:function(e){return qe(e.target.value)},placeholder:"Resistances..."}),l.a.createElement("textarea",{className:"small",value:Je,onChange:function(e){return Ke(e.target.value)},placeholder:"Damage immunities..."}),l.a.createElement("textarea",{className:"small",value:Ye,onChange:function(e){return $e(e.target.value)},placeholder:"Condition immunities..."})),l.a.createElement("textarea",{value:et,onChange:function(e){return tt(e.target.value)},placeholder:"Special abilities..."}),l.a.createElement("textarea",{value:lt,onChange:function(e){return ct(e.target.value)},placeholder:"Actions..."}),l.a.createElement("textarea",{value:it,onChange:function(e){return ut(e.target.value)},placeholder:"Legendary Actions..."}))}var le=a(39),ce=(a(65),a.p+"static/media/backpack.1bb79079.png"),re=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){var e=function(){q.dispatch("closeActiveView")};return l.a.createElement("div",{id:"leftNav"},l.a.createElement(b.a,{className:"particlesWrapper",params:{particles:{number:{value:160,density:{enable:!0,value_area:400}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:2,random:!0,anim:{enable:!1,speed:4,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"bubble"},onclick:{enable:!1,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:400,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}}),l.a.createElement("div",{className:"gradIcon"},l.a.createElement(v.a,{icon:g.b,className:"smallIcon"})),l.a.createElement(p.a,{onClick:function(t){return e()},to:"/spell-overview",style:{top:"70px"},className:"/spell-overview"===this.props.location.pathname?"menuItemActiv":""},l.a.createElement("div",{className:"menuItem"},l.a.createElement(v.a,{icon:g.f})," Spells")),l.a.createElement(p.a,{onClick:function(t){return e()},to:"/item-overview",style:{top:"110px"},className:"/item-overview"==this.props.location.pathname?"menuItemActiv":""},l.a.createElement("div",{className:"menuItem"},l.a.createElement(v.a,{icon:g.j})," Magic Items")),l.a.createElement(p.a,{onClick:function(t){return e()},to:"/monster-overview",style:{top:"270px"},className:"/monster-overview"==this.props.location.pathname?"menuItemActiv":""},l.a.createElement("div",{className:"menuItem"},l.a.createElement(v.a,{icon:g.c})," Monsters")),l.a.createElement(p.a,{onClick:function(t){return e()},to:"/gear-overview",style:{top:"150px"},className:"/gear-overview"==this.props.location.pathname?"menuItemActiv":""},l.a.createElement("div",{className:"menuItem"},l.a.createElement("img",{src:ce,style:{width:"20px",marginTop:"10px",marginRight:"5px",float:"left"}})," Equip")),l.a.createElement(p.a,{onClick:function(t){return e()},to:"/options",style:{bottom:"5px"},className:"/options"===this.props.location.pathname?"menuItemActiv":""},l.a.createElement("div",{className:"menuItem"},l.a.createElement(v.a,{icon:g.a})," Options")),l.a.createElement("svg",{width:"0",height:"0"},l.a.createElement("radialGradient",{id:"rgg",r:"150%",cx:"30%",cy:"107%"},l.a.createElement("stop",{stopColor:"#350069",offset:"0"}),l.a.createElement("stop",{stopColor:"#B973FF",offset:"0.9"}))))}}]),t}(n.Component),oe=Object(i.h)(re),ie=a(40);a(66);function ue(e){var t=e.spell,a=Object(n.useState)(""),r=Object(E.a)(a,2),o=r[0],i=r[1],u=Object(n.useState)(""),s=Object(E.a)(u,2),m=s[0],p=s[1],d=Object(n.useState)(""),b=Object(E.a)(d,2),f=b[0],h=b[1],y=Object(n.useState)(""),O=Object(E.a)(y,2),j=O[0],w=O[1],S=Object(n.useState)(0),x=Object(E.a)(S,2),k=x[0],N=x[1],_=Object(n.useState)(""),T=Object(E.a)(_,2),I=T[0],A=T[1],R=Object(n.useState)(""),W=Object(E.a)(R,2),z=W[0],D=W[1],B=Object(n.useState)(""),M=Object(E.a)(B,2),P=M[0],V=M[1],L=Object(n.useState)(""),U=Object(E.a)(L,2),F=U[0],G=U[1],J=Object(n.useState)(""),K=Object(E.a)(J,2),H=K[0],X=K[1],Y=Object(n.useState)(""),$=Object(E.a)(Y,2),Q=$[0],Z=$[1],ee=Object(n.useState)(""),te=Object(E.a)(ee,2),ae=te[0],ne=te[1],le=Object(n.useState)(""),ce=Object(E.a)(le,2),re=ce[0],oe=ce[1],ie=Object(n.useState)([]),ue=Object(E.a)(ie,2),se=(ue[0],ue[1],Object(n.useState)(0)),me=Object(E.a)(se,2);me[0],me[1];Object(n.useEffect)((function(){var e;e=t,c.unstable_batchedUpdates((function(){console.time("receiveSpell");var t="";null!==e.text&&(t=e.text.replace(/\\n/gm,"\r\n"));var a="";null!==e.sources&&(a=e.sources.replace(/\\n/gm,"\r\n")),p(e.name),h(e.school),w(e.level),N(e.ritual),A(e.time),D(e.range),V(e.duration),G(e.components),X(t),Z(e.classes),ne(a),i(e.id),oe(e.pic),null===e.pic&&oe(""),console.timeEnd("receiveSpell")}))}),[t]);var pe={backgroundImage:"url(".concat(re,")"),backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat"};return l.a.createElement("div",{id:"spellView"},l.a.createElement("div",{className:"top"},l.a.createElement("label",null,"Name:",l.a.createElement("input",{name:"name",type:"text",value:m,onChange:function(e){return p(e.target.value)},placeholder:"Name..."})),l.a.createElement("label",null,"School:",l.a.createElement("input",{name:"school",type:"text",value:f,onChange:function(e){return h(e.target.value)},placeholder:"School..."})),l.a.createElement("div",{className:"spellImgBlock"},l.a.createElement("label",{className:"smallSpellLabel"},"Level:",l.a.createElement("input",{name:"level",type:"number",value:j,onChange:function(e){return w(e.target.value)}})),l.a.createElement("label",{className:"smallerSpellLabel left checkbox-label"},l.a.createElement("div",{className:"labelText"},"Ritual:"),l.a.createElement("input",{name:"ritual",type:"checkbox",checked:k,onChange:function(e){return N(e.target.checked)}}),l.a.createElement("span",{className:"checkbox-custom circular"})),l.a.createElement("div",{className:"image",style:pe}),l.a.createElement("label",{className:"smallPic"},"Pic:",l.a.createElement("input",{name:"pic",type:"text",value:re,onChange:function(e){return oe(e.target.value)}}))),l.a.createElement("label",null,"Casting Time:",l.a.createElement("input",{name:"time",type:"text",value:I,onChange:function(e){return A(e.target.value)},placeholder:"Casting Time..."})),l.a.createElement("label",null,"Range:",l.a.createElement("input",{name:"range",type:"text",value:z,onChange:function(e){return D(e.target.value)},placeholder:"Range..."})),l.a.createElement("label",null,"Duration:",l.a.createElement("input",{name:"duration",type:"text",value:P,onChange:function(e){return V(e.target.value)},placeholder:"Duration..."})),l.a.createElement("label",null,"Components:",l.a.createElement("input",{name:"components",type:"text",value:F,onChange:function(e){return G(e.target.value)},placeholder:"Components..."})),l.a.createElement("label",null,"Classes:",l.a.createElement("input",{name:"classes",type:"text",value:Q,onChange:function(e){return Z(e.target.value)},placeholder:"Classes..."})),l.a.createElement("label",null,"Sources:",l.a.createElement("input",{name:"sources",type:"text",value:ae,onChange:function(e){return ne(e.target.value)},placeholder:"Sources..."}))),l.a.createElement("div",{className:"top"},l.a.createElement("textarea",{value:H,onChange:function(e){return X(e.target.value)},placeholder:"Describtion..."}),l.a.createElement("button",{onClick:function(e){var t={id:o,name:m,school:f,level:j,ritual:k,time:I,range:z,duration:P,components:F,text:H,classes:Q,sources:ae,pic:re};!function(e){C.open().then((function(){C.spells.update(e.id,e)})).finally((function(){C.close()}))}(t),q.dispatch("updateWindow",t)}},l.a.createElement(v.a,{icon:g.i})," Save"),l.a.createElement("button",{onClick:function(e){var t={id:o,name:m,school:f,ritual:k,level:j,time:I,range:z,duration:P,components:F,text:H,classes:Q,sources:ae};!function(e){C.open().then((function(){C.spells.where("id").equals(e.id).delete()})).finally((function(){C.close()}))}(t),q.dispatch("removeWindow",t)},className:"delete",style:{float:"right"}},l.a.createElement(v.a,{icon:g.l})," Delete")))}function se(e){var t=e.item,a=Object(n.useState)(""),r=Object(E.a)(a,2),o=r[0],i=r[1],u=Object(n.useState)(""),s=Object(E.a)(u,2),m=s[0],p=s[1],d=Object(n.useState)(""),b=Object(E.a)(d,2),f=b[0],h=b[1],y=Object(n.useState)(""),O=Object(E.a)(y,2),j=O[0],w=O[1],S=Object(n.useState)(""),C=Object(E.a)(S,2),x=C[0],k=C[1],_=Object(n.useState)(""),T=Object(E.a)(_,2),I=T[0],A=T[1],R=Object(n.useState)(""),W=Object(E.a)(R,2),z=W[0],D=W[1],B=Object(n.useState)(""),M=Object(E.a)(B,2),P=M[0],V=M[1],L=Object(n.useState)([]),U=Object(E.a)(L,2),F=(U[0],U[1],Object(n.useState)(0)),G=Object(E.a)(F,2);G[0],G[1];Object(n.useEffect)((function(){var e;e=t,c.unstable_batchedUpdates((function(){console.time("receiveItem");var t="";null!==e.description&&(t=e.description.replace(/\\n/gm,"\r\n")),p(e.name),i(e.id),w(t),h(e.pic),k(e.rarity),A(e.type),D(e.source),V(e.attunment),console.timeEnd("receiveItem")}))}),[t]);var J={backgroundImage:"url(".concat(f,")"),backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat"};return l.a.createElement("div",{id:"itemView"},l.a.createElement("div",{className:"top"},l.a.createElement("label",null,"Name:",l.a.createElement("input",{name:"name",type:"text",value:m,onChange:function(e){return p(e.target.value)}})),l.a.createElement("label",null,"Sources:",l.a.createElement("input",{name:"sources",type:"text",value:z,onChange:function(e){return D(e.target.value)}})),l.a.createElement("label",null,"Pic:",l.a.createElement("input",{name:"pic",type:"text",value:f,onChange:function(e){return h(e.target.value)}}))),l.a.createElement("div",{className:"top"},l.a.createElement("label",null,"Rarity:",l.a.createElement("input",{name:"rarity",type:"text",value:x,onChange:function(e){return k(e.target.value)}})),l.a.createElement("label",null,"Type:",l.a.createElement("input",{name:"type",type:"text",value:I,onChange:function(e){return A(e.target.value)}})),l.a.createElement("label",{className:"checkbox-label"},l.a.createElement("div",{className:"labelText"},"Attuned:"),l.a.createElement("input",{name:"type",type:"checkbox",checked:P,onChange:function(e){return V(e.target.checked)}}),l.a.createElement("span",{className:"checkbox-custom circular"}))),l.a.createElement("div",{className:"top",style:{width:"120px"}},l.a.createElement("button",{className:"delete",onClick:function(e){var t={id:o,name:m,pic:f,type:I,rarity:x,sources:z,description:j};!function(e){N.open().then((function(){N.items.where("id").equals(e.id).delete()})).finally((function(){N.close()}))}(t),q.dispatch("removeWindow",t)}},l.a.createElement(v.a,{icon:g.l})," Delete"),l.a.createElement("button",{onClick:function(e){var t={id:o,name:m,pic:f,type:I,rarity:x,sources:z,attunment:P,description:j};!function(e){N.open().then((function(){N.items.update(e.id,e)})).finally((function(){N.close()}))}(t),q.dispatch("updateWindow",t)}},l.a.createElement(v.a,{icon:g.i})," Save")),l.a.createElement("div",{className:"top",style:{width:"100%"}},l.a.createElement("div",{className:"image",style:J}),l.a.createElement("textarea",{value:j,onChange:function(e){return w(e.target.value)}})))}function me(e){var t=e.gear,a=Object(n.useState)(""),r=Object(E.a)(a,2),o=r[0],i=r[1],u=Object(n.useState)(""),s=Object(E.a)(u,2),m=s[0],p=s[1],d=Object(n.useState)(""),b=Object(E.a)(d,2),f=b[0],h=b[1],y=Object(n.useState)(""),O=Object(E.a)(y,2),j=O[0],w=O[1],S=Object(n.useState)(""),C=Object(E.a)(S,2),x=C[0],k=C[1],N=Object(n.useState)(""),_=Object(E.a)(N,2),T=_[0],A=_[1],R=Object(n.useState)(""),W=Object(E.a)(R,2),z=W[0],D=W[1],B=Object(n.useState)(""),M=Object(E.a)(B,2),P=M[0],V=M[1],L=Object(n.useState)(""),U=Object(E.a)(L,2),F=U[0],G=U[1],J=Object(n.useState)(""),K=Object(E.a)(J,2),H=K[0],X=K[1],Y=Object(n.useState)([]),$=Object(E.a)(Y,2),Q=($[0],$[1],Object(n.useState)(0)),Z=Object(E.a)(Q,2);Z[0],Z[1];Object(n.useEffect)((function(){var e;e=t,c.unstable_batchedUpdates((function(){console.time("receiveGear");var t="";null!==e.description&&void 0!==e.description&&(t=e.description.replace(/\\n/gm,"\r\n")),p(e.name),i(e.id),w(t),h(e.pic),k(e.cost),A(e.damage),D(e.weight),V(e.properties),G(e.type),X(e.sources),console.timeEnd("receiveGear")}))}),[t]);var ee={backgroundImage:"url(".concat(f,")"),backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat"};return l.a.createElement("div",{id:"gearView"},l.a.createElement("div",{className:"top"},l.a.createElement("label",null,"Name:",l.a.createElement("input",{name:"name",type:"text",value:m,onChange:function(e){return p(e.target.value)}})),l.a.createElement("label",null,"Type:",l.a.createElement("input",{name:"type",type:"text",value:F,onChange:function(e){return G(e.target.value)}})),l.a.createElement("label",null,"Pic:",l.a.createElement("input",{name:"pic",type:"text",value:f,onChange:function(e){return h(e.target.value)}})),l.a.createElement("label",null,"Props:",l.a.createElement("input",{name:"props",type:"text",value:P,onChange:function(e){return V(e.target.value)}}))),l.a.createElement("div",{className:"top"},l.a.createElement("label",null,"Weight:",l.a.createElement("input",{name:"weight",type:"weight",value:z,onChange:function(e){return D(e.target.value)}})),l.a.createElement("label",null,"Damage:",l.a.createElement("input",{name:"damage",type:"damage",value:T,onChange:function(e){return A(e.target.value)}})),l.a.createElement("label",null,"Sources:",l.a.createElement("input",{name:"sources",type:"text",value:H,onChange:function(e){return X(e.target.value)}})),l.a.createElement("label",null,"Cost:",l.a.createElement("input",{name:"cost",type:"text",value:x,onChange:function(e){return k(e.target.value)}})),l.a.createElement("button",{className:"delete",onClick:function(e){var t={id:o,name:m,pic:f,description:j,cost:x,weight:z,damage:T,properties:P};!function(e){I.open().then((function(){I.gears.where("id").equals(e.id).delete()})).finally((function(){I.close()}))}(t),q.dispatch("removeWindow",t)}},l.a.createElement(v.a,{icon:g.l})," Delete"),l.a.createElement("button",{onClick:function(e){var t={id:o,name:m,pic:f,description:j,cost:x,weight:z,damage:T,properties:P,type:F,sources:H};!function(e){I.open().then((function(){I.gears.update(e.id,e)})).finally((function(){I.close()}))}(t),q.dispatch("updateWindow",t)}},l.a.createElement(v.a,{icon:g.i})," Save")),l.a.createElement("div",{className:"image",style:ee}),l.a.createElement("textarea",{value:j,onChange:function(e){return w(e.target.value)}}))}function pe(e){var t=e.monster,a=Object(n.useState)(""),r=Object(E.a)(a,2),o=r[0],i=r[1],u=Object(n.useState)(""),s=Object(E.a)(u,2),m=s[0],p=s[1],d=Object(n.useState)(""),b=Object(E.a)(d,2),f=b[0],h=b[1],y=Object(n.useState)(""),O=Object(E.a)(y,2),j=O[0],w=O[1],S=Object(n.useState)(""),C=Object(E.a)(S,2),x=C[0],k=C[1],N=Object(n.useState)(""),_=Object(E.a)(N,2),T=_[0],I=_[1],R=Object(n.useState)(""),W=Object(E.a)(R,2),z=W[0],D=W[1],B=Object(n.useState)(""),M=Object(E.a)(B,2),P=M[0],V=M[1],L=Object(n.useState)(""),U=Object(E.a)(L,2),F=U[0],G=U[1],J=Object(n.useState)(""),K=Object(E.a)(J,2),H=K[0],X=K[1],Y=Object(n.useState)(""),$=Object(E.a)(Y,2),Q=$[0],Z=$[1],ee=Object(n.useState)(""),te=Object(E.a)(ee,2),ae=te[0],ne=te[1],le=Object(n.useState)(""),ce=Object(E.a)(le,2),re=ce[0],oe=ce[1],ie=Object(n.useState)(""),ue=Object(E.a)(ie,2),se=ue[0],me=ue[1],pe=Object(n.useState)(""),de=Object(E.a)(pe,2),be=de[0],ve=de[1],ge=Object(n.useState)(""),fe=Object(E.a)(ge,2),he=fe[0],Ee=fe[1],ye=Object(n.useState)(""),Oe=Object(E.a)(ye,2),je=Oe[0],we=Oe[1],Se=Object(n.useState)(""),Ce=Object(E.a)(Se,2),xe=Ce[0],ke=Ce[1],Ne=Object(n.useState)(""),_e=Object(E.a)(Ne,2),Te=_e[0],Ie=_e[1],Ae=Object(n.useState)(""),Re=Object(E.a)(Ae,2),We=Re[0],ze=Re[1],De=Object(n.useState)(""),Be=Object(E.a)(De,2),Me=Be[0],Pe=Be[1],Ve=Object(n.useState)(""),Le=Object(E.a)(Ve,2),Ue=Le[0],qe=Le[1],Fe=Object(n.useState)(""),Ge=Object(E.a)(Fe,2),Je=Ge[0],Ke=Ge[1],He=Object(n.useState)(""),Xe=Object(E.a)(He,2),Ye=Xe[0],$e=Xe[1],Qe=Object(n.useState)(""),Ze=Object(E.a)(Qe,2),et=Ze[0],tt=Ze[1],at=Object(n.useState)(""),nt=Object(E.a)(at,2),lt=nt[0],ct=nt[1],rt=Object(n.useState)(""),ot=Object(E.a)(rt,2),it=ot[0],ut=ot[1],st=Object(n.useState)(""),mt=Object(E.a)(st,2),pt=mt[0],dt=mt[1],bt=Object(n.useState)(""),vt=Object(E.a)(bt,2),gt=vt[0],ft=vt[1],ht=Object(n.useState)([]),Et=Object(E.a)(ht,2),yt=(Et[0],Et[1],Object(n.useState)(0)),Ot=Object(E.a)(yt,2);Ot[0],Ot[1];Object(n.useEffect)((function(){var e;e=t,c.unstable_batchedUpdates((function(){console.time("receiveMonster");var t="";null!==e.sAblt&&(t=e.sAblt.replace(/\\r\\n/gm,"\r\n"));var a="";null!==e.ablt&&(a=e.ablt.replace(/\\r\\n/gm,"\r\n"));var n="";null!==e.lAblt&&(n=e.lAblt.replace(/\\r\\n/gm,"\r\n")),i(e.id),p(e.name),k(e.type),I(e.subtype),h(e.pic),w(e.size),k(e.type),D(e.alignment),V(e.ac),G(e.hp),X(e.speed),Z(e.cr),ne(e.source),oe(e.str),me(e.dex),ve(e.con),Ee(e.int),we(e.wis),ke(e.cha),Ie(e.savingThrows),ze(e.skills),Pe(e.senses),qe(e.lang),Ke(e.dmgVulnerabilities),$e(e.dmgResistance),tt(e.dmgImmunities),ct(e.conImmunities),ut(t),dt(a),ft(n),console.timeEnd("receiveMonster")}))}),[t]);var jt=function(e){var t=Math.floor((e-10)/2);return t>=0?"+"+t:t},wt={backgroundImage:"url(".concat(f,")"),backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat"};return l.a.createElement("div",{id:"monsterView"},l.a.createElement("div",{className:"image",style:wt}),l.a.createElement("div",{className:"top"},l.a.createElement("label",null,"Name:",l.a.createElement("input",{name:"name",type:"text",value:m,onChange:function(e){return p(e.target.value)}})),l.a.createElement("label",null,"Type:",l.a.createElement("input",{name:"type",type:"text",value:x,onChange:function(e){return k(e.target.value)}})),l.a.createElement("label",null,"Subtype:",l.a.createElement("input",{name:"subtype",type:"text",value:T,onChange:function(e){return I(e.target.value)}})),l.a.createElement("label",null,"Pic:",l.a.createElement("input",{name:"pic",type:"text",value:f,onChange:function(e){return h(e.target.value)}})),l.a.createElement("label",null,"Source:",l.a.createElement("input",{name:"source",type:"text",value:ae,onChange:function(e){return ne(e.target.value)}}))),l.a.createElement("div",{className:"top"},l.a.createElement("label",{className:"smallLabel"},"Cr:",l.a.createElement("input",{name:"cr",type:"text",value:Q,onChange:function(e){return Z(e.target.value)}})),l.a.createElement("label",{className:"smallLabel"},"AC:",l.a.createElement("input",{name:"ac",type:"number",value:P,onChange:function(e){return V(e.target.value)}})),l.a.createElement("label",null,"Alignment:",l.a.createElement("input",{name:"alignment",type:"text",value:z,onChange:function(e){return D(e.target.value)}})),l.a.createElement("label",null,"Hit Points:",l.a.createElement("input",{name:"hp",type:"text",value:F,onChange:function(e){return G(e.target.value)}})),l.a.createElement("label",null,"Speed:",l.a.createElement("input",{name:"speed",type:"text",value:H,onChange:function(e){return X(e.target.value)}})),l.a.createElement("label",null,"Size:",l.a.createElement("input",{name:"size",type:"text",value:j,onChange:function(e){return w(e.target.value)}})),l.a.createElement("button",{className:"delete",onClick:function(e){var t={id:o,name:m,type:x,subtype:T,cr:Q,ac:P,hp:F,str:re,dex:se,con:be,int:he,wis:je,cha:xe,senses:Me,lang:Ue,speed:H,source:ae,skills:We,savingThrows:Te,dmgImmunities:et,dmgResistance:Ye,dmgVulnerabilitie:Je,conImmunities:lt,sAblt:it,ablt:pt,lAblt:gt,pic:f,size:j,alignment:z};!function(e){A.open().then((function(){A.monsters.where("id").equals(e.id).delete()})).finally((function(){A.close()}))}(t),q.dispatch("removeWindow",t)}},l.a.createElement(v.a,{icon:g.l})," Delete"),l.a.createElement("button",{onClick:function(e){var t={id:o,name:m,type:x,subtype:T,cr:Q,ac:P,hp:F,str:re,dex:se,con:be,int:he,wis:je,cha:xe,senses:Me,lang:Ue,speed:H,source:ae,skills:We,savingThrows:Te,dmgImmunities:et,dmgResistance:Ye,dmgVulnerabilitie:Je,conImmunities:lt,sAblt:it,ablt:pt,lAblt:gt,pic:f,size:j,alignment:z};!function(e){A.open().then((function(){A.monsters.update(e.id,e)})).finally((function(){A.close()}))}(t),q.dispatch("updateWindow",t)}},l.a.createElement(v.a,{icon:g.i})," Save")),l.a.createElement("div",{className:"abilityScores"},l.a.createElement("div",{className:"score"},l.a.createElement("label",null,"Strength: ",l.a.createElement("input",{type:"number",value:re,onChange:function(e){return oe(e.target.value)}})),l.a.createElement("div",{className:"abilityBonus"},jt(re))),l.a.createElement("div",{className:"score"},l.a.createElement("label",null,"Dexterity: ",l.a.createElement("input",{type:"number",value:se,onChange:function(e){return me(e.target.value)}})),l.a.createElement("div",{className:"abilityBonus"},jt(se))),l.a.createElement("div",{className:"score"},l.a.createElement("label",null,"Constitution: ",l.a.createElement("input",{type:"number",value:be,onChange:function(e){return ve(e.target.value)}})),l.a.createElement("div",{className:"abilityBonus"},jt(be))),l.a.createElement("div",{className:"score"},l.a.createElement("label",null,"Intelligence: ",l.a.createElement("input",{type:"number",value:he,onChange:function(e){return Ee(e.target.value)}})),l.a.createElement("div",{className:"abilityBonus"},jt(he))),l.a.createElement("div",{className:"score"},l.a.createElement("label",null,"Wisdom: ",l.a.createElement("input",{type:"number",value:je,onChange:function(e){return we(e.target.value)}})),l.a.createElement("div",{className:"abilityBonus"},jt(je))),l.a.createElement("div",{className:"score"},l.a.createElement("label",null,"Charisma: ",l.a.createElement("input",{type:"number",value:xe,onChange:function(e){return ke(e.target.value)}})),l.a.createElement("div",{className:"abilityBonus"},jt(xe)))),l.a.createElement("div",{className:"top"},l.a.createElement("textarea",{className:"small",value:Te,onChange:function(e){return Ie(e.target.value)},placeholder:"Saving Throws..."}),l.a.createElement("div",{className:"textareaTip"},"Saving Throws"),l.a.createElement("textarea",{className:"small",value:We,onChange:function(e){return ze(e.target.value)},placeholder:"Skills..."}),l.a.createElement("div",{className:"textareaTip"},"Skills"),l.a.createElement("textarea",{className:"small",value:Me,onChange:function(e){return Pe(e.target.value)},placeholder:"Senses..."}),l.a.createElement("div",{className:"textareaTip"},"Senses"),l.a.createElement("textarea",{className:"small",value:Ue,onChange:function(e){return qe(e.target.value)},placeholder:"Languages..."}),l.a.createElement("div",{className:"textareaTip"},"Languages")),l.a.createElement("div",{className:"top"},l.a.createElement("textarea",{className:"small",value:Je,onChange:function(e){return Ke(e.target.value)},placeholder:"Vulnerabilities..."}),l.a.createElement("div",{className:"textareaTip"},"Vulnerabilities"),l.a.createElement("textarea",{className:"small",value:Ye,onChange:function(e){return $e(e.target.value)},placeholder:"Resistances..."}),l.a.createElement("div",{className:"textareaTip"},"Resistances"),l.a.createElement("textarea",{className:"small",value:et,onChange:function(e){return tt(e.target.value)},placeholder:"Damage immunities..."}),l.a.createElement("div",{className:"textareaTip"},"Damage immunities"),l.a.createElement("textarea",{className:"small",value:lt,onChange:function(e){return ct(e.target.value)},placeholder:"Condition immunities..."}),l.a.createElement("div",{className:"textareaTip"},"Condition immunities")),l.a.createElement("textarea",{value:it,onChange:function(e){return ut(e.target.value)},placeholder:"Special abilities..."}),l.a.createElement("textarea",{value:pt,onChange:function(e){return dt(e.target.value)},placeholder:"Actions..."}),l.a.createElement("textarea",{value:gt,onChange:function(e){return ft(e.target.value)},placeholder:"Legendary Actions..."}))}function de(){var e=Object(n.useState)([]),t=Object(E.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)({}),i=Object(E.a)(o,2),u=i[0],s=i[1],m=Object(n.useState)(!1),p=Object(E.a)(m,2),d=p[0],b=p[1],f=function(e){var t="";void 0!==e.ritual?t="spell":void 0!==e.attunment?t="item":void 0!==e.weight?t="gear":void 0!==e.lAblt?t="monster":void 0!==e.id?t="race":void 0!==e.id&&(t="char"),console.log(t);var a=Object(V.a)({},e,{windowType:t});c.unstable_batchedUpdates((function(){r((function(e){return[].concat(Object(ie.a)(e),[a])})),s(a),b(!0)}))},h=function(e){var t=a.map((function(t){return"spell"===t.windowType&&void 0!==e.ritual&&t.id===e.id?Object(V.a)({},e,{windowType:"spell"}):"item"===t.windowType&&void 0!==e.attunment&&t.id===e.id?Object(V.a)({},e,{windowType:"item"}):"gear"===t.windowType&&void 0!==e.weight&&t.id===e.id?Object(V.a)({},e,{windowType:"gear"}):"race"===t.windowType&&void 0!==e.id&&t.id===e.id?Object(V.a)({},e,{windowType:"race"}):"monster"===t.windowType&&void 0!==e.lAblt&&t.id===e.id?Object(V.a)({},e,{windowType:"monster"}):"char"===t.windowType&&void 0!==e.char_id&&t.char_id===e.char_id?Object(V.a)({},e,{windowType:"char"}):t}));r(t)},y=function(e){var t=a.filter((function(t){if("spell"===t.windowType&&t.id===e.id);else if("item"===t.windowType&&t.id===e.id);else if("gear"===t.windowType&&t.id===e.id);else if("race"===t.windowType&&t.id===e.id);else if("monster"===t.windowType&&t.id===e.id);else if("char"!==t.windowType||t.char_id!==e.id)return t}));c.unstable_batchedUpdates((function(){r(t),b(!1)}))};Object(n.useEffect)((function(){q.subscribe("openView",f),q.subscribe("closeActiveView",j)}),[]),Object(n.useEffect)((function(){q.subscribe("updateWindow",h)}),[h]),Object(n.useEffect)((function(){q.subscribe("removeWindow",y)}),[y]);var O=function(e){e===u&&d?b(!1):c.unstable_batchedUpdates((function(){s(e),b(!0)}))},j=function(){b(!1)},w=function(e){var t=a.filter((function(t){return t!==e}));c.unstable_batchedUpdates((function(){r(t),b(!1)}))};return l.a.createElement("div",{id:"rightNav"},"spell"===u.windowType?l.a.createElement("div",{className:"activeView ".concat(d?"show":"hide")},l.a.createElement(ue,{spell:u})):"item"===u.windowType?l.a.createElement("div",{className:"activeView ".concat(d?"show":"hide")},l.a.createElement(se,{item:u})):"gear"===u.windowType?l.a.createElement("div",{className:"activeView ".concat(d?"show":"hide")},l.a.createElement(me,{gear:u})):"monster"===u.windowType?l.a.createElement("div",{className:"activeView ".concat(d?"show":"hide")},l.a.createElement(pe,{monster:u})):"",a.map((function(e,t){return"spell"===e.windowType?l.a.createElement("div",{className:"windowContainer",key:t},l.a.createElement("div",{className:"removeWindow",onClick:function(t){return w(e)}},l.a.createElement(v.a,{icon:g.k})),l.a.createElement("div",{className:"image",onClick:function(t){return O(e)},style:{backgroundImage:"url(".concat((i=e,""===i.pic||null===i.pic?M:i.pic),")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),l.a.createElement("div",{className:"windowToolTip"},e.name)):"item"===e.windowType?l.a.createElement("div",{className:"windowContainer",key:t},l.a.createElement("div",{className:"removeWindow",onClick:function(t){return w(e)}},l.a.createElement(v.a,{icon:g.k})),l.a.createElement("div",{className:"image",onClick:function(t){return O(e)},style:{backgroundImage:"url(".concat((o=e,""===o.pic||null===o.pic?M:o.pic),")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),l.a.createElement("div",{className:"windowToolTip"},e.name)):"gear"===e.windowType?l.a.createElement("div",{className:"windowContainer",key:t},l.a.createElement("div",{className:"removeWindow",onClick:function(t){return w(e)}},l.a.createElement(v.a,{icon:g.k})),l.a.createElement("div",{className:"image",onClick:function(t){return O(e)},style:{backgroundImage:"url(".concat((r=e,""===r.pic||null===r.pic?M:r.pic),")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),l.a.createElement("div",{className:"windowToolTip"},e.name)):"monster"===e.windowType?l.a.createElement("div",{className:"windowContainer",key:t},l.a.createElement("div",{className:"removeWindow",onClick:function(t){return w(e)}},l.a.createElement(v.a,{icon:g.k})),l.a.createElement("div",{className:"image",onClick:function(t){return O(e)},style:{backgroundImage:"url(".concat((c=e,""===c.pic||null===c.pic?M:c.pic),")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),l.a.createElement("div",{className:"windowToolTip"},e.name)):"race"===e.windowType?l.a.createElement("div",{className:"windowContainer",key:t},l.a.createElement("div",{className:"removeWindow",onClick:function(t){return w(e)}},l.a.createElement(v.a,{icon:g.k})),l.a.createElement("div",{className:"image",onClick:function(t){return O(e)},style:{backgroundImage:"url(".concat((n=e,""===n.pic||null===n.pic?M:n.pic),")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),l.a.createElement("div",{className:"windowToolTip"},e.name)):"char"===e.windowType?l.a.createElement("div",{className:"windowContainer",key:t},l.a.createElement("div",{className:"removeWindow",onClick:function(t){return w(e)}},l.a.createElement(v.a,{icon:g.k})),l.a.createElement("div",{className:"image",onClick:function(t){return O(e)},style:{backgroundImage:"url(".concat((a=e,""===a.char_pic||null===a.char_pic?M:a.char_pic),")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),l.a.createElement("div",{className:"windowToolTip"},e.char_name)):void 0;var a,n,c,r,o,i})))}var be=function(e){var t=e.children;return l.a.createElement("div",{className:"App"},l.a.createElement(oe,null),l.a.createElement("div",{id:"content"},t),l.a.createElement(de,null),l.a.createElement("div",{id:"credits"},"v",u.version," by DarthAmun"))},ve=function(e){var t=e.children;return l.a.createElement("div",{className:"App homeDrag"},l.a.createElement("div",{id:"content"},t),l.a.createElement("div",{id:"credits"},"v",u.version," by DarthAmun"))},ge=function(e){var t=e.component,a=e.layout,n=Object(o.a)(e,["component","layout"]);return l.a.createElement(i.b,Object.assign({},n,{render:function(e){return l.a.createElement(a,null,l.a.createElement(t,e))}}))},fe=function(){return Object(n.useEffect)((function(){var e=localStorage.getItem("theme");void 0!==e?(m.a.setTheme(e),m.a.applyTheme(e)):localStorage.setItem("theme","light")}),[]),l.a.createElement(i.a,null,l.a.createElement(i.d,null,l.a.createElement(ge,{path:"/spell-overview",layout:be,component:F}),l.a.createElement(ge,{path:"/item-overview",layout:be,component:K}),l.a.createElement(ge,{path:"/gear-overview",layout:be,component:Y}),l.a.createElement(ge,{path:"/monster-overview",layout:be,component:Z}),l.a.createElement(ge,{path:"/add-spell",layout:be,component:ee}),l.a.createElement(ge,{path:"/add-item",layout:be,component:te}),l.a.createElement(ge,{path:"/add-gear",layout:be,component:ae}),l.a.createElement(ge,{path:"/add-monster",layout:be,component:ne}),l.a.createElement(ge,{path:"/options",layout:be,component:B}),l.a.createElement(ge,{path:"/",layout:ve,component:f})))},he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ee(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(l.a.createElement(fe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/DnDTome-pwa",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/DnDTome-pwa","/service-worker.js");he?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ee(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ee(t,e)}))}}()}],[[42,1,2]]]);
//# sourceMappingURL=main.0be2935f.chunk.js.map