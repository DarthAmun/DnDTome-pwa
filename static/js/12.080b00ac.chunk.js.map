{"version":3,"sources":["../node_modules/lodash/isArray.js","components/general_elements/LinkCheck.tsx","components/general_elements/FormatedText.tsx","components/p2p/P2PSender.tsx","components/form_elements/NumberField.tsx","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/_baseGetTag.js","components/general_elements/TabBar.tsx","services/CharacterService.tsx","../node_modules/lodash/isString.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_root.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/_baseFlatten.js","components/form_elements/CheckField.tsx","data/chars/ClassSet.tsx","components/form_elements/SingleSelectField.tsx","data/chars/Skills.tsx","data/chars/Saves.tsx","data/chars/Money.tsx","data/chars/RaceSet.tsx","data/chars/Char.tsx","services/PeerIdService.tsx","../node_modules/lodash/flatten.js","components/form_elements/AutoStringField.tsx","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/toString.js","../node_modules/lodash/_arrayMap.js","components/form_elements/DataSelectField.tsx","data/chars/BuildChar.tsx","../node_modules/react-string-replace/index.js","../node_modules/lodash/isRegExp.js","../node_modules/lodash/_baseIsRegExp.js","../node_modules/lodash/escapeRegExp.js","../node_modules/lodash/_isFlattenable.js","../node_modules/lodash/isArguments.js","components/form_elements/EnumField.tsx","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/_arrayPush.js","../node_modules/webpack/buildin/module.js","../node_modules/peerjs/dist sync","data/Modifier.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","hooks/QueryHook.tsx","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/_baseIsArguments.js","components/entities/classes/details/ClasseView.tsx","components/entities/races/details/RaceView.tsx","components/entities/subraces/details/SubraceView.tsx","components/entities/chars/lab/CharLabGeneral.tsx","components/entities/chars/lab/CharLabClass.tsx","components/entities/chars/lab/CharLabRace.tsx","components/entities/chars/lab/CharLabAbilities.tsx","components/entities/chars/lab/CharLabEquipment.tsx","components/entities/chars/lab/CharLabBackground.tsx","components/entities/chars/lab/CharLab.tsx"],"names":["isArray","Array","module","exports","LinkCheck","type","icon","faMeteor","faIdCard","faDragon","faMapMarkedAlt","faTable","formatIcon","FormatedTextContainer","FormatedText","text","webhook","useWebhook","useState","json","setJson","formatedTextParts","setFormatedParts","history","useHistory","useEffect","undefined","newText","formatDiscordText","length","substring","newJson","username","name","content","JSON","stringify","rollDiscord","useCallback","command","adv","dis","includes","startsWith","replace","rollCommand","result","rolls","result2","rolls2","rollString","resultText","sendMessage","newCommand","value","parseInt","replaceAll","krit","fail","formatLink","reactStringReplace","match","i","linkParts","split","entityName","nameSource","sources","TextPart","DiscordPart","onClick","Adv","Dis","Link","push","formatTable","tableRows","isHead","map","row","index","cells","cell","TableHeadProp","TableProp","checkedText","IconButton","style","backgroundColor","float","padding","faDiscord","sendEmbedMessage","styled","div","span","theme","tile","backgroundColorLink","th","input","color","td","P2PSender","data","mode","setName","peer","setPeer","error","setError","brokerId","generateBrokerId","newPeer","Peer","host","secure","console","log","on","conn","errorData","send","disconnected","destroyed","reconnect","reciveAllPromise","then","results","id","label","onChange","Icon","faExclamationCircle","FontAwesomeIcon","main","highlight","NumberField","max","step","transform","Field","LabelText","Input","e","target","Symbol","require","getRawTag","objectToString","symToStringTag","toStringTag","Object","TabBar","children","activeTab","Bar","child","Tab","isActive","buttons","props","MulticlassSpellslotTable","recalcClasses","char","a","bonis","spellSlots","fullClassList","classList","classes","forEach","classe","recivePromiseByMultiAttribute","Promise","all","classSet","class","multiclassCasterCount","levelsTotal","featureSets","spellslots","level","Math","floor","featureSet","boni","isCurrency","origin","slots","updatedBonis","newBoni","updatedOldBonis","currencyBonis","old","from","updatedSpellSlots","newSpellSlots","updatedOldSlots","updatedChar","recalcSelections","character","selections","newActiveSelections","newAbilityImprovs","subclasses","subclassList","subclasse","c","isAbilityImprov","found","abilityImprovs","s1","s2","feat","features","feature","count","select","selection","selectionName","activeOption","selectionOptions","featureName","featureCount","className","subclass","newChar","activeSelections","resolve","reject","calcLevel","calcProf","ceil","buildCharacter","time","prof","classFeatures","raceFeatures","feats","gears","items","monsters","itemList","gearList","baseList","monsterList","spellList","featList","item","monster","spells","spell","currentItems","base","recivePromiseByAttribute","currentGears","currentBases","filter","q","idx","findIndex","g","race","subrace","background","classLevel","charClass","traits","trait","originItem","toLowerCase","baseName","baseSources","gear","timeEnd","modifiers","concat","extractModifier","description","f","proficiencies","BuildChar","cut","str","cutStart","cutEnd","substr","extractTarget","newModifiers","indexOf","rawModifier","Modifier","ModifierOperator","EQUAL","ADD","SUBSTRACT","applyMods","sort","b","operator","mod","replacePlaceholder","modPromises","entity","oldCharacter","rawPlaceholder","eval","baseGetTag","isObjectLike","freeGlobal","freeSelf","self","root","Function","arrayPush","isFlattenable","baseFlatten","array","depth","predicate","isStrict","CheckField","defaultChecked","checked","Checkmark","ClassSet","this","isClassSet","arg","classeCheck","levelCheck","subclasseCheck","SingleSelectField","options","handleChange","option","StyledSelect","isMulti","classNamePrefix","Select","Skills","acrobaticsProf","animalHandlingProf","arcanaProf","athleticsProf","deceptionProf","historyProf","insightProf","intimidationProf","investigationProf","medicineProf","natureProf","perceptionProf","performanceProf","persuasionProf","religionProf","sleightOfHandProf","stealthProf","survivalProf","Saves","strSaveProf","dexSaveProf","conSaveProf","intSaveProf","wisSaveProf","chaSaveProf","Money","copper","silver","electrum","gold","platinum","RaceSet","Char","player","campaign","pic","picBase64","ac","hp","currentHp","init","speed","dex","con","int","wis","cha","saves","actions","profsLangs","senses","money","skills","spellNotes","alignment","inspiration","castingHit","castingDC","isChar","nameCheck","playerCheck","campaignCheck","picCheck","picBase64Check","raceCheck","subraceCheck","isRaceSet","backgroundCheck","acCheck","hpCheck","currentHpCheck","initCheck","classesCheck","min","password","characters","random","AutoStringField","optionTable","filters","term","setTerm","optionsTable","allOptions","setOptions","filteredOptions","setFilteredOptions","findAllItems","table","reciveAllFilteredPromise","newList","entities","reciveAllFiltered","onSearch","searchTerm","newOptions","abs","slice","onKeyDown","key","applyTerm","Options","opt","Option","func","baseToString","iteratee","DataSelectField","loading","setLoading","entityList","isLoading","isClearable","Race","Subrace","isRegExp","escapeRegExp","isString","flatten","source","fn","x","curCharStart","curCharLen","TypeError","re","RegExp","replaceString","baseIsRegExp","baseUnary","nodeUtil","nodeIsRegExp","toString","reRegExpChar","reHasRegExpChar","string","test","isArguments","spreadableSymbol","isConcatSpreadable","baseIsArguments","objectProto","prototype","hasOwnProperty","propertyIsEnumerable","arguments","call","EnumField","global","freeExports","nodeType","freeModule","freeProcess","process","types","binding","values","offset","webpackPolyfill","deprecate","paths","defineProperty","enumerable","get","l","webpackEmptyContext","req","Error","code","keys","op","tar","_defineProperties","descriptor","configurable","writable","_createClass","Constructor","protoProps","staticProps","useQuery","URLSearchParams","useLocation","search","nativeObjectToString","isOwn","tag","unmasked","arrayMap","isSymbol","symbolProto","symbolToString","ClasseView","setSend","setSubclasses","hardSubselect","setHardSubselect","fieldName","getPicture","CenterWrapper","ImageView","Image","View","Name","PropWrapper","Prop","hitDices","faLink","Text","PropTitle","equipment","link","SubclasseLink","CreateButton","newSubclass","Subclass","createNewWithId","createNewSubclass","faPlusCircle","faPaperPlane","FeatureWrapper","FeatureRow","FeatureHeadProp","colSpan","SpellProp","levels","printSpellslots","spellslot","FeatureProp","usedCurrency","cost","tr","ImageElm","src","Empty","img","button","RaceView","subraces","setSubraces","abilityScores","age","size","lang","SubraceLink","newSubrace","createNewSubrace","TraitWrapper","TraitName","TraitLevel","TraitText","SubraceView","CharLabGeneral","completed","CharView","StringField","faCheckCircle","disabled","CharLabClass","setClasses","reciveAll","changeClassLevel","oldClassSet","changeClass","changeClassSubclass","faTrash","oldClass","newClassList","removeClass","s","TextButton","faPlus","addNewClass","CharLabRace","races","setRaces","r","CharLabAbilities","setRace","setSubrace","setBackground","formatProf","faMinus","faAngleUp","faAngleDoubleUp","formatScore","score","calcSkill","skillProf","stat","changeProf","profName","profValue","changeSaveProf","PropWithProf","PropText","PropProf","CharLabEquipment","onChangeItem","newItem","onChangeItemAttribute","Container","attuned","attunment","attribute","charAt","toUpperCase","oldItem","newItemList","removeItem","addNewItem","CharLabBackground","backgrounds","setBackgrounds","CharLab","setTab","updateChar","completedGeneral","setGeneral","completedClass","setClass","completedRace","completedBackground","completedAbilities","setAbilities","completedEquipment","setEquipment","tab","nextTab","faEdit","saveWithCallback"],"mappings":"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","file":"static/js/12.080b00ac.chunk.js","sourcesContent":["/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","import React from \"react\";\nimport { BiSelectMultiple } from \"react-icons/bi\";\nimport {\n  GiCrystalWand,\n  GiBackpack,\n  GiWomanElfFace,\n  GiPlagueDoctorProfile,\n  GiSwordClash,\n  GiBookmarklet,\n  GiScrollUnfurled,\n  GiSolarSystem,\n  GiDjinn,\n  GiBookshelf,\n  GiDiceTwentyFacesTwenty,\n  GiBindle,\n  GiSherlockHolmes,\n  GiStabbedNote,\n} from \"react-icons/gi\";\nimport {\n  faMeteor,\n  faIdCard,\n  faDragon,\n  faMapMarkedAlt,\n  faTable,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { MdEvent } from \"react-icons/md\";\nimport { HiUserGroup } from \"react-icons/hi\";\n\ninterface $Props {\n  type: string;\n}\n\nconst LinkCheck = ({ type }: $Props) => {\n  const formatIcon = (type: string) => {\n    switch (type) {\n      case \"spell\":\n        return <FontAwesomeIcon icon={faMeteor} />;\n      case \"item\":\n        return <GiCrystalWand />;\n      case \"gear\":\n        return <GiBackpack />;\n      case \"race\":\n      case \"subrace\":\n        return <GiWomanElfFace />;\n      case \"class\":\n      case \"subclass\":\n      case \"classe\":\n      case \"subclasse\":\n        return <GiPlagueDoctorProfile />;\n      case \"selection\":\n        return <BiSelectMultiple />;\n      case \"char\":\n        return <FontAwesomeIcon icon={faIdCard} />;\n      case \"monster\":\n        return <FontAwesomeIcon icon={faDragon} />;\n      case \"encounter\":\n        return <GiSwordClash />;\n      case \"campaign\":\n        return <GiBookmarklet />;\n      case \"quest\":\n        return <GiStabbedNote />;\n      case \"note\":\n        return <GiScrollUnfurled />;\n      case \"event\":\n        return <MdEvent />;\n      case \"world\":\n        return <GiSolarSystem />;\n      case \"location\":\n        return <FontAwesomeIcon icon={faMapMarkedAlt} />;\n      case \"npc\":\n        return <GiDjinn />;\n      case \"randomTable\":\n        return <FontAwesomeIcon icon={faTable} />;\n      case \"book\":\n        return <GiBookshelf />;\n      case \"group\":\n        return <HiUserGroup />;\n      case \"feat\":\n        return <GiBindle />;\n      case \"background\":\n        return <GiSherlockHolmes />;\n      case \"dice\":\n        return <GiDiceTwentyFacesTwenty />;\n      default:\n        return <></>;\n    }\n  };\n\n  return formatIcon(type);\n};\n\nexport default LinkCheck;\n","import React, { ReactNodeArray, useCallback, useEffect, useState } from \"react\";\nimport reactStringReplace from \"react-string-replace\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\nimport LinkCheck from \"./LinkCheck\";\nimport { useWebhook } from \"../../hooks/webhookHook\";\nimport { rollCommand } from \"../../services/DiceService\";\nimport { formatDiscordText, sendEmbedMessage, sendMessage } from \"../../services/DiscordService\";\nimport { faDiscord } from \"@fortawesome/free-brands-svg-icons\";\nimport IconButton from \"../form_elements/IconButton\";\n\ninterface $Props {\n  text: string;\n}\n\nconst FormatedText = ({ text }: $Props) => {\n  let webhook = useWebhook();\n  const [json, setJson] = useState<string>(\"\");\n  const [formatedTextParts, setFormatedParts] = useState<ReactNodeArray>();\n  let history = useHistory();\n\n  useEffect(() => {\n    if (webhook !== undefined && text !== undefined) {\n      let newText = formatDiscordText(text);\n      if (newText.length >= 2000) {\n        newText = newText.substring(0, 1997) + \"...\";\n      }\n      let newJson = {\n        username: webhook.name + \" (DnDTome)\",\n        content: newText,\n      };\n      setJson(JSON.stringify(newJson));\n    }\n  }, [text, webhook]);\n\n  const rollDiscord = useCallback(\n    (command: string, adv: boolean, dis: boolean) => {\n      if (!command.includes(\"d\")) {\n        let newCommand = \"d20\" + command;\n        let value = parseInt(command.replaceAll(\"+\", \"\"));\n        const { result, text, rolls } = rollCommand(newCommand);\n        const { result: result2, rolls: rolls2 } = rollCommand(newCommand);\n\n        let krit = false;\n        if (!adv && !dis && result - value === 20) krit = true;\n        else if (adv && (result - value === 20 || result2 - value === 20)) krit = true;\n        else if (dis && result - value === 20 && result2 - value === 20) krit = true;\n\n        let fail = false;\n        if (!adv && !dis && result - value === 1) fail = true;\n        else if (adv && result - value === 1 && result - value === 1) fail = true;\n        else if (dis && (result - value === 1 || result - value === 1)) fail = true;\n\n        let rollString = \"d20\";\n        if (!adv && !dis) rollString += rolls + command;\n        else rollString += rolls + rolls2 + command;\n        rollString += adv ? \"adv\" : \"\";\n        rollString += dis ? \"dis\" : \"\";\n\n        if (result !== undefined && webhook !== undefined) {\n          if (adv) {\n            let resultText =\n              result >= result2\n                ? \"**\" + result + \"** ~~\" + result2 + \"~~\"\n                : \"~~\" + result + \"~~ **\" + result2 + \"**\";\n            sendMessage(\n              webhook,\n              resultText +\n                \" \" +\n                text +\n                (fail ? \" :red_circle:\" : \"\") +\n                (krit ? \" :green_circle:\" : \"\") +\n                \" ||\" +\n                rollString +\n                \"||\"\n            );\n          } else if (dis) {\n            let resultText =\n              result >= result2\n                ? \"~~\" + result + \"~~ **\" + result2 + \"**\"\n                : \"**\" + result + \"** ~~\" + result2 + \"~~\";\n            sendMessage(\n              webhook,\n              resultText +\n                \" \" +\n                text +\n                (fail ? \" :red_circle:\" : \"\") +\n                (krit ? \" :green_circle:\" : \"\") +\n                \" ||\" +\n                rollString +\n                \"||\"\n            );\n          } else {\n            sendMessage(\n              webhook,\n              result +\n                \" \" +\n                text +\n                (fail ? \" :red_circle:\" : \"\") +\n                (krit ? \" :green_circle:\" : \"\") +\n                \" ||\" +\n                rollString +\n                \"||\"\n            );\n          }\n        }\n      } else {\n        if (command.startsWith(\"+\")) command = command.replace(\"+\", \"\");\n        const { result, text, rolls } = rollCommand(command);\n        const { result: result2, rolls: rolls2 } = rollCommand(command);\n\n        let rollString = command;\n        if (!adv && !dis) rollString += rolls;\n        else rollString += rolls + rolls2;\n        rollString += adv ? \" adv\" : \"\";\n        rollString += dis ? \" dis\" : \"\";\n\n        if (result !== undefined && webhook !== undefined) {\n          if (adv) {\n            let resultText =\n              result >= result2\n                ? \"**\" + result + \"** ~~\" + result2 + \"~~\"\n                : \"~~\" + result + \"~~ **\" + result2 + \"**\";\n            sendMessage(webhook, resultText + \" \" + text + \" ||\" + rollString + \"||\");\n          } else if (dis) {\n            let resultText =\n              result >= result2\n                ? \"~~\" + result + \"~~ **\" + result2 + \"**\"\n                : \"**\" + result + \"** ~~\" + result2 + \"~~\";\n            sendMessage(webhook, resultText + \" \" + text + \" ||\" + rollString + \"||\");\n          } else {\n            sendMessage(webhook, result + \" \" + text + \" ||\" + rollString + \"||\");\n          }\n        }\n      }\n    },\n    [webhook]\n  );\n\n  const formatLink = useCallback(\n    (text: string | ReactNodeArray): ReactNodeArray => {\n      return reactStringReplace(text, /\\[\\[(\\w*\\.[\\s\\S]*?)\\]\\]/gm, (match, i) => {\n        const linkParts: string[] = match.split(\".\");\n        let entityName = linkParts[0];\n        let nameSource = linkParts[1];\n        let [name, sources] = nameSource.split(\"|\");\n        if (entityName === \"dice\") {\n          return (\n            <TextPart key={match + i}>\n              <DiscordPart onClick={() => rollDiscord(name, false, false)}>\n                <LinkCheck type={entityName} /> {nameSource}\n              </DiscordPart>\n              <Adv onClick={() => rollDiscord(name, true, false)}>Adv</Adv>\n              <Dis onClick={() => rollDiscord(name, false, true)}>Dis</Dis>\n            </TextPart>\n          );\n        }\n        if (entityName === \"class\" || entityName === \"subclass\") entityName += \"e\";\n        return (\n          <Link\n            key={match + i}\n            onClick={() => history.push(\"/\" + entityName + \"-detail/name/\" + nameSource)}\n          >\n            <LinkCheck type={entityName} /> {name}\n            {sources !== undefined ? ` (${sources})` : \"\"}\n          </Link>\n        );\n      });\n    },\n    [history, rollDiscord]\n  );\n\n  const formatTable = useCallback(\n    (text: string): ReactNodeArray => {\n      return reactStringReplace(\n        text,\n        /\\|\\|tableStart\\|\\|([\\s\\S]*?)\\|\\|tableEnd\\|\\|/gm,\n        (match, i) => {\n          const tableRows: string[] = match.split(\"||\");\n          let isHead = true;\n          return (\n            <table key={match + i}>\n              <tbody key={match + i}>\n                {tableRows.map((row: string, index: number) => {\n                  if (row.includes(\"|\")) {\n                    if (isHead) {\n                      isHead = false;\n                      const cells = row.split(\"|\");\n                      return (\n                        <tr key={match + i + index}>\n                          {cells.map((cell: string, index: number) => {\n                            return <TableHeadProp key={index}>{cell}</TableHeadProp>;\n                          })}\n                        </tr>\n                      );\n                    } else {\n                      const cells = row.split(\"|\");\n                      return (\n                        <tr key={match + i + index}>\n                          {cells.map((cell: string, index: number) => {\n                            return <TableProp key={index}>{formatLink(cell)}</TableProp>;\n                          })}\n                        </tr>\n                      );\n                    }\n                  } else {\n                    return <></>;\n                  }\n                })}\n              </tbody>\n            </table>\n          );\n        }\n      );\n    },\n    [formatLink]\n  );\n\n  useEffect(() => {\n    let checkedText = formatTable(text);\n    checkedText = formatLink(checkedText);\n    setFormatedParts(checkedText);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <FormatedTextContainer>\n      {webhook !== undefined && text !== \"\" && (\n        <IconButton\n          style={{\n            backgroundColor: \"#7289da\",\n            float: \"right\",\n            padding: \"5px\",\n          }}\n          icon={faDiscord}\n          onClick={() => sendEmbedMessage(webhook, json)}\n        />\n      )}\n      {formatedTextParts}\n    </FormatedTextContainer>\n  );\n};\n\nexport default FormatedText;\n\nconst FormatedTextContainer = styled.div`\n  line-height: 20px;\n  white-space: pre-line;\n`;\n\nconst Link = styled.span`\n  display: inline-block;\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  text-decoration: none;\n  color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 14px;\n  padding: 0px 5px 0px 5px;\n  margin: 1px;\n  cursor: pointer;\n  white-space: pre;\n`;\n\nconst DiscordPart = styled(Link)`\n  background-color: #7289da;\n  color: white;\n  border-top-right-radius: 0px;\n  border-bottom-right-radius: 0px;\n`;\nconst Adv = styled(Link)`\n  background-color: #7289da;\n  color: white;\n  border-radius: 0px;\n`;\nconst Dis = styled(Link)`\n  background-color: #7289da;\n  color: white;\n  border-top-left-radius: 0px;\n  border-bottom-left-radius: 0px;\n`;\n\nconst TextPart = styled.span`\n  white-space: pre-line;\n`;\n\nconst TableHeadProp = styled.th`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n  padding: 2px 5px 2px 5px;\n`;\n\nconst TableProp = styled.td`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n  padding: 5px;\n  text-align: center;\n`;\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Peer from \"peerjs\";\nimport { reciveAllPromise } from \"../../services/DatabaseService\";\nimport IEntity from \"../../data/IEntity\";\nimport { generateBrokerId } from \"../../services/PeerIdService\";\n\nimport { faExclamationCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport StringField from \"../form_elements/StringField\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\ninterface $Props {\n  data: string | IEntity;\n  mode: \"ALL\" | \"THIS\";\n}\n\nconst P2PSender = ({ data, mode }: $Props) => {\n  const [name, setName] = useState<string>(\"\");\n  const [peer, setPeer] = useState<Peer>();\n  const [error, setError] = useState<any>();\n\n  useEffect(() => {\n    if (peer === undefined) {\n      const brokerId = generateBrokerId();\n      const newPeer = new Peer(brokerId, {\n        host: \"peerjs.thorbenkuck.de\",\n        secure: true,\n      });\n      console.log(newPeer);\n      newPeer.on(\"connection\", function (conn) {\n        conn.on(\"error\", function (errorData) {\n          setError(errorData);\n        });\n        conn.on(\"open\", function () {\n          conn.send(data);\n        });\n      });\n      setPeer(newPeer);\n    }\n  }, [data, peer]);\n\n  useEffect(() => {\n    if (peer !== undefined) {\n      if (peer.disconnected && !peer.destroyed) {\n        peer.reconnect();\n      }\n      if (mode === \"ALL\" && typeof data === \"string\") {\n        reciveAllPromise(data).then((results) => {\n          console.log(results);\n          setName(data);\n          peer.on(\"connection\", function (conn) {\n            conn.on(\"error\", function (errorData) {\n              setError(errorData);\n            });\n            conn.on(\"open\", function () {\n              conn.send(results);\n            });\n          });\n        });\n      } else if (mode === \"THIS\" && typeof data !== \"string\") {\n        setName(data.name);\n        peer.on(\"connection\", function (conn) {\n          conn.on(\"error\", function (errorData) {\n            setError(errorData);\n          });\n          conn.on(\"open\", function () {\n            conn.send(data);\n          });\n        });\n      }\n    }\n  }, [data, mode, peer]);\n\n  return (\n    <>\n      {peer !== undefined && peer.id !== null && (\n        <>\n          <StringField value={peer.id} label={`Your ${name} ID:`} onChange={() => {}} />\n        </>\n      )}\n      {error && <Icon icon={faExclamationCircle} />}\n    </>\n  );\n};\n\nexport default P2PSender;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  value: number;\n  label: string;\n  max?: number;\n  step?: number;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: number) => void;\n}\n\nconst NumberField = ({ value, max, step, label, icon, transform, onChange }: $Props) => {\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      {max && (\n        <Input\n          type=\"number\"\n          max={max}\n          step={step ? step : 1}\n          value={value}\n          onChange={(e) => onChange(+e.target.value)}\n        />\n      )}\n      {!max && (\n        <Input\n          type=\"number\"\n          step={step ? step : 1}\n          value={value}\n          onChange={(e) => onChange(+e.target.value)}\n        />\n      )}\n    </Field>\n  );\n};\n\nexport default NumberField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1;\n`;\n\nconst Input = styled.input`\n  flex: 1 1 auto;\n  max-width: 6em;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  border-radius: 5px;\n\n  -moz-appearance: textfield;\n\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n`;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\ninterface $Props {\n  children: string[];\n  activeTab?: string;\n  onChange: (name: string) => void;\n}\n\nconst TabBar = ({ children, activeTab, onChange }: $Props) => {\n  return (\n    <Bar>\n      {children.map((child, index) => {\n        return (\n          <Tab key={index} onClick={(e) => onChange(child)} isActive={child === activeTab}>\n            {child}\n          </Tab>\n        );\n      })}\n    </Bar>\n  );\n};\n\nexport default TabBar;\n\nconst Bar = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  min-width: calc(100% - 20px);\n  flex: 1 1 auto;\n  padding: 3px;\n  margin: 5px;\n  border-radius: 10px;\n  position: relative;\n  z-index: 100;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: baseline;\n`;\n\ntype ActiveType = {\n  isActive?: boolean;\n};\n\nconst Tab = styled.div<ActiveType>`\n  flex: 3 1 auto;\n  height: 30px;\n  line-height: 20px;\n  padding: 5px;\n  box-sizing: border-box;\n  text-align: center;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin: 2px;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n\n  &:hover {\n    background-color: ${({ theme }) => theme.buttons.backgroundColor};\n    color: ${({ theme }) => theme.buttons.color};\n  }\n\n  ${(props) => {\n    if (props.isActive) {\n      return `background-color: ${props.theme.buttons.backgroundColor}; \n      color: ${props.theme.buttons.color};`;\n    }\n  }}\n`;\n","import Background from \"../data/Background\";\nimport BuildChar from \"../data/chars/BuildChar\";\nimport Char from \"../data/chars/Char\";\nimport ClassSet from \"../data/chars/ClassSet\";\nimport Boni from \"../data/classes/Boni\";\nimport Class from \"../data/classes/Class\";\nimport Feature from \"../data/classes/Feature\";\nimport FeatureSet from \"../data/classes/FeatureSet\";\nimport Subclass from \"../data/classes/Subclass\";\nimport Feat from \"../data/Feat\";\nimport Gear from \"../data/Gear\";\nimport Item from \"../data/Item\";\nimport Selection from \"../data/Selection\";\nimport Modifier, { ModifierOperator } from \"../data/Modifier\";\nimport Monster from \"../data/Monster\";\nimport Race from \"../data/races/Race\";\nimport Subrace from \"../data/races/Subrace\";\nimport Trait from \"../data/races/Trait\";\nimport Spell from \"../data/Spell\";\nimport {\n  reciveAllPromise,\n  recivePromiseByAttribute,\n  recivePromiseByMultiAttribute,\n} from \"./DatabaseService\";\n\nconst MulticlassSpellslotTable: number[][] = [\n  [2, 0, 0, 0, 0, 0, 0, 0, 0],\n  [3, 0, 0, 0, 0, 0, 0, 0, 0],\n  [4, 2, 0, 0, 0, 0, 0, 0, 0],\n  [4, 3, 0, 0, 0, 0, 0, 0, 0],\n  [4, 3, 2, 0, 0, 0, 0, 0, 0],\n  [4, 3, 3, 0, 0, 0, 0, 0, 0],\n  [4, 3, 3, 1, 0, 0, 0, 0, 0],\n  [4, 3, 3, 2, 0, 0, 0, 0, 0],\n  [4, 3, 3, 3, 1, 0, 0, 0, 0],\n  [4, 3, 3, 3, 2, 0, 0, 0, 0],\n  [4, 3, 3, 3, 2, 1, 0, 0, 0],\n  [4, 3, 3, 3, 2, 1, 0, 0, 0],\n  [4, 3, 3, 3, 2, 1, 1, 0, 0],\n  [4, 3, 3, 3, 2, 1, 1, 0, 0],\n  [4, 3, 3, 3, 2, 1, 1, 1, 0],\n  [4, 3, 3, 3, 2, 1, 1, 1, 0],\n  [4, 3, 3, 3, 2, 1, 1, 1, 1],\n  [4, 3, 3, 3, 3, 1, 1, 1, 1],\n  [4, 3, 3, 3, 3, 2, 1, 1, 1],\n  [4, 3, 3, 3, 3, 2, 2, 1, 1],\n];\n\nexport const recalcClasses = async (char: Char) => {\n  let bonis: { origin: string; value: number; max: number }[] = [];\n  let spellSlots: {\n    origin: string;\n    slots: number[];\n    max: number[];\n  }[] = [];\n  let fullClassList: { class: Class; classSet: ClassSet }[] = [];\n  let classList: Promise<Class>[] = [];\n\n  char.classes.forEach((classe) => {\n    let [name, sources] = classe.classe.split(\"|\");\n    classList.push(recivePromiseByMultiAttribute(\"classes\", { name: name, sources: sources }));\n  });\n  const results = await Promise.all(classList);\n  results?.forEach((classe: Class) => {\n    char.classes.forEach((classSet) => {\n      if (classe.name === classSet.classe.split(\"|\")[0]) {\n        fullClassList.push({ class: classe, classSet: classSet });\n      }\n    });\n  });\n\n  let multiclassCasterCount: number = 0;\n  let levelsTotal: number = 0;\n  fullClassList?.forEach((classe: { class: Class; classSet: ClassSet }) => {\n    if (\n      classe.class.featureSets[0].spellslots &&\n      classe.class.featureSets[0].spellslots.length > 0\n    ) {\n      multiclassCasterCount++;\n      if (classe.class.featureSets[0].spellslots.length === 9) levelsTotal += classe.classSet.level;\n      else if (classe.class.featureSets[0].spellslots.length === 5)\n        levelsTotal += Math.floor(classe.classSet.level / 2);\n    }\n  });\n\n  fullClassList?.forEach((classe: { class: Class; classSet: ClassSet }) => {\n    let featureSet = classe.class.featureSets[classe.classSet.level - 1];\n    if (featureSet !== undefined) {\n      if (featureSet.bonis) {\n        featureSet.bonis?.forEach((boni: Boni) => {\n          if (boni.isCurrency) {\n            bonis = [\n              ...bonis,\n              {\n                origin: boni.name,\n                value: +boni.value,\n                max: +boni.value,\n              },\n            ];\n          }\n        });\n      }\n      if (multiclassCasterCount === 1) {\n        if (featureSet.spellslots && featureSet.spellslots.length > 0) {\n          spellSlots = [\n            ...spellSlots,\n            {\n              origin: classe.class.name,\n              slots: featureSet.spellslots,\n              max: featureSet.spellslots,\n            },\n          ];\n        }\n      } else if (multiclassCasterCount > 1) {\n        spellSlots = [\n          {\n            origin: \"Multiclass Spellslots\",\n            slots: MulticlassSpellslotTable[levelsTotal - 1],\n            max: MulticlassSpellslotTable[levelsTotal - 1],\n          },\n        ];\n      }\n    }\n  });\n\n  let updatedBonis = bonis.map((newBoni) => {\n    let updatedOldBonis = char.currencyBonis?.map((old) => {\n      if (newBoni.origin === old.origin) {\n        return {\n          origin: newBoni.origin,\n          value: old.value,\n          max: newBoni.max,\n        };\n      } else {\n        return null;\n      }\n    });\n    if (\n      updatedOldBonis &&\n      updatedOldBonis.length > 0 &&\n      updatedOldBonis[0] !== undefined &&\n      updatedOldBonis[0] !== null\n    ) {\n      return updatedOldBonis[0];\n    } else {\n      return newBoni;\n    }\n  });\n  if (updatedBonis && updatedBonis.length > 0) {\n    bonis = Array.from(updatedBonis);\n  }\n\n  if (char.spellSlots && char.spellSlots.length > 0) {\n    let updatedSpellSlots = spellSlots.map((newSpellSlots) => {\n      let updatedOldSlots = char.spellSlots.map((old) => {\n        if (newSpellSlots.origin === old.origin) {\n          return {\n            origin: newSpellSlots.origin,\n            slots: old.slots,\n            max: newSpellSlots.max,\n          };\n        } else {\n          return null;\n        }\n      });\n      if (\n        updatedOldSlots &&\n        updatedOldSlots.length > 0 &&\n        updatedOldSlots[0] !== undefined &&\n        updatedOldSlots[0] !== null\n      ) {\n        return updatedOldSlots[0];\n      } else {\n        return newSpellSlots;\n      }\n    });\n    if (updatedSpellSlots && updatedSpellSlots.length > 0) {\n      spellSlots = Array.from(updatedSpellSlots);\n    }\n  }\n\n  let updatedChar = {\n    ...char,\n    spellSlots: spellSlots,\n    currencyBonis: bonis,\n  };\n  updatedChar = await recalcSelections(updatedChar);\n  return updatedChar;\n};\n\nexport const recalcSelections = async (character: Char): Promise<Char> => {\n  let selections: Selection[] = await reciveAllPromise(\"selections\");\n  let newActiveSelections: {\n    selectionName: string;\n    activeOption: {\n      entityName: string;\n      entityText: string;\n      level: number;\n    };\n    featureName: string;\n    featureCount: number;\n    className: string;\n  }[] = [];\n  let newAbilityImprovs: {\n    origin: string;\n    level: number;\n    s1: string;\n    s2: string;\n    feat: string;\n  }[] = [];\n  if (character !== undefined) {\n    let classes: Class[] = [];\n    let subclasses: Subclass[] = [];\n    let classList: Promise<Class>[] = [];\n    let subclassList: Promise<Subclass>[] = [];\n    character.classes.forEach((classe) => {\n      let [name, sources] = classe.classe.split(\"|\");\n      classList.push(recivePromiseByMultiAttribute(\"classes\", { name: name, sources: sources }));\n      [name, sources] = classe.subclasse.split(\"|\");\n      subclassList.push(\n        recivePromiseByMultiAttribute(\"subclasses\", { name: name, sources: sources })\n      );\n    });\n    classes = await Promise.all(classList);\n    subclasses = await Promise.all(subclassList);\n\n    character.classes?.forEach((classe) => {\n      classes?.forEach((c) => {\n        if (classe.classe === c.name + \"|\" + c.sources) {\n          c?.featureSets.forEach((featureSet: FeatureSet) => {\n            if (classe.level >= featureSet.level) {\n              if (featureSet.isAbilityImprov) {\n                let found: boolean = false;\n                character.abilityImprovs?.forEach((a) => {\n                  if (a.origin === c.name + \"|\" + c.sources && featureSet.level === a.level) {\n                    newAbilityImprovs.push(a);\n                    found = true;\n                  }\n                });\n                if (!found) {\n                  newAbilityImprovs.push({\n                    origin: c.name + \"|\" + c.sources,\n                    level: featureSet.level,\n                    s1: \"str\",\n                    s2: \"str\",\n                    feat: \"\",\n                  });\n                }\n              }\n              if (featureSet) {\n                featureSet.features.forEach((feature: Feature) => {\n                  if (feature.selections !== undefined && feature.selections.length > 0) {\n                    let count = 1;\n                    feature.selections.forEach((select: string) => {\n                      selections.forEach((selection: Selection) => {\n                        if (selection.name === select) {\n                          newActiveSelections.push({\n                            selectionName: selection.name,\n                            activeOption: selection.selectionOptions[0],\n                            featureName: feature.name,\n                            featureCount: count,\n                            className: c.name,\n                          });\n                          count++;\n                        }\n                      });\n                    });\n                  }\n                });\n              }\n            }\n          });\n        }\n        subclasses.forEach((subclass: Subclass) => {\n          if (subclass !== undefined) {\n            if (c?.name === subclass.type) {\n              subclass.features.forEach((featureSet: FeatureSet) => {\n                if (classe.level >= featureSet.level) {\n                  featureSet.features.forEach((feature: Feature) => {\n                    if (feature.selections !== undefined && feature.selections.length > 0) {\n                      let count = 1;\n                      feature.selections.forEach((select: string) => {\n                        selections.forEach((selection: Selection) => {\n                          if (selection.name === select) {\n                            newActiveSelections.push({\n                              selectionName: selection.name,\n                              activeOption: selection.selectionOptions[0],\n                              featureName: feature.name,\n                              featureCount: count,\n                              className: subclass.name,\n                            });\n                            count++;\n                          }\n                        });\n                      });\n                    }\n                  });\n                }\n              });\n            }\n          }\n        });\n      });\n    });\n  }\n  let newChar = {\n    ...character,\n    activeSelections: newActiveSelections,\n    abilityImprovs: newAbilityImprovs,\n  };\n\n  return new Promise((resolve, reject) => {\n    if (newChar !== undefined) resolve(newChar);\n    reject(\"Error\");\n  });\n};\n\nexport const calcLevel = (char: Char): number => {\n  let level = 0;\n  char.classes.forEach((classe) => {\n    level += classe.level;\n  });\n  return level;\n};\n\nexport const calcProf = (char: Char): number => {\n  let level = calcLevel(char);\n  return Math.ceil(level / 4) + 1;\n};\n\nexport const buildCharacter = async (character: Char): Promise<BuildChar> => {\n  console.time(\"build Character\");\n  let level: number = calcLevel(character);\n  let prof: number = calcProf(character);\n  let classes: Class[] = [];\n  let subclasses: Subclass[] = [];\n  let classFeatures: FeatureSet[] = [];\n  let race: Race;\n  let subrace: Subrace;\n  let raceFeatures: Trait[] = [];\n  let feats: Feat[] = [];\n  let background: Background;\n  let gears: {\n    gear: Gear;\n    origin: string;\n    attuned: boolean;\n    prof: boolean;\n    attribute: string;\n  }[] = [];\n  let items: {\n    item: Item;\n    base: Gear | undefined;\n    origin: string;\n    attuned: boolean;\n    prof: boolean;\n    attribute: string;\n  }[] = [];\n  let spells: Spell[];\n  let monsters: Monster[] = [];\n\n  console.time(\"load\");\n  let classList: Promise<Class>[] = [];\n  let subclassList: Promise<Subclass>[] = [];\n  let itemList: Promise<Item>[] = [];\n  let gearList: Promise<Gear>[] = [];\n  let baseList: Promise<Gear>[] = [];\n  let monsterList: Promise<Monster>[] = [];\n  let spellList: Promise<Spell>[] = [];\n  let featList: Promise<Feat>[] = [];\n\n  character.classes.forEach((classe) => {\n    let [name, sources] = classe.classe.split(\"|\");\n    classList.push(recivePromiseByMultiAttribute(\"classes\", { name: name, sources: sources }));\n    [name, sources] = classe.subclasse.split(\"|\");\n    subclassList.push(\n      recivePromiseByMultiAttribute(\"subclasses\", { name: name, sources: sources })\n    );\n  });\n  character.items.forEach((item) => {\n    let [name, sources] = item.origin.split(\"|\");\n    itemList.push(recivePromiseByMultiAttribute(\"items\", { name: name, sources: sources }));\n    gearList.push(recivePromiseByMultiAttribute(\"gears\", { name: name, sources: sources }));\n  });\n  character.monsters.forEach((monster: string) => {\n    let [name, sources] = monster.split(\"|\");\n    monsterList.push(recivePromiseByMultiAttribute(\"monsters\", { name: name, sources: sources }));\n  });\n  character.spells.forEach((spell: string) => {\n    let [name, sources] = spell.split(\"|\");\n    spellList.push(recivePromiseByMultiAttribute(\"spells\", { name: name, sources: sources }));\n  });\n  character.abilityImprovs?.forEach((a) => {\n    if (a.feat !== \"\") {\n      let [name, sources] = a.feat.split(\"|\");\n      featList.push(recivePromiseByMultiAttribute(\"feats\", { name: name, sources: sources }));\n    }\n  });\n\n  let currentItems = await Promise.all(itemList);\n  currentItems.forEach((item) => {\n    if (item !== undefined) {\n      let [name, sources] = item.base.split(\"|\");\n      if (sources !== undefined) {\n        baseList.push(recivePromiseByMultiAttribute(\"gears\", { name: name, sources: sources }));\n      } else {\n        baseList.push(recivePromiseByAttribute(\"gears\", \"name\", name));\n      }\n    }\n  });\n\n  classes = await Promise.all(classList);\n  subclasses = await Promise.all(subclassList);\n  monsters = await Promise.all(monsterList);\n  spells = await Promise.all(spellList);\n  feats = await Promise.all(featList);\n  let currentGears = await Promise.all(gearList);\n  let currentBases = await Promise.all(baseList);\n\n  currentBases = currentBases.filter((q) => q !== undefined);\n  currentBases = currentBases.filter(\n    (q, idx) => currentBases.findIndex((g) => g.name === q.name) === idx\n  );\n\n  let [name, sources] = character.race.race.split(\"|\");\n  race = await recivePromiseByMultiAttribute(\"races\", { name: name, sources: sources });\n  [name, sources] = character.race.subrace.split(\"|\");\n  subrace = await recivePromiseByMultiAttribute(\"subraces\", { name: name, sources: sources });\n  [name, sources] = character.background.split(\"|\");\n  background = await recivePromiseByMultiAttribute(\"backgrounds\", { name: name, sources: sources });\n\n  classes.forEach((classe: Class) => {\n    if (classe !== undefined) {\n      let classLevel = 0;\n      character.classes.forEach((charClass) => {\n        if (charClass !== undefined)\n          if (classe.name === charClass.classe.split(\"|\")[0]) {\n            classLevel = charClass.level;\n          }\n      });\n      classe.featureSets.forEach((featureSet: FeatureSet) => {\n        if (featureSet !== undefined) {\n          if (featureSet.level <= classLevel) {\n            classFeatures.push(featureSet);\n          }\n        }\n      });\n      subclasses?.forEach((subclass: Subclass) => {\n        if (subclass !== undefined)\n          if (subclass.type.split(\"|\")[0] === classe.name) {\n            subclass.features.forEach((featureSet: FeatureSet) => {\n              if (featureSet.level <= classLevel) {\n                classFeatures.push(featureSet);\n              }\n            });\n          }\n      });\n    }\n  });\n\n  if (race !== undefined) {\n    race.traits.forEach((trait: Trait) => {\n      if (trait !== undefined) {\n        if (trait.level <= level) {\n          raceFeatures.push(trait);\n        }\n      }\n    });\n    subrace?.traits.forEach((trait: Trait) => {\n      if (trait !== undefined) {\n        if (trait.level <= level) {\n          raceFeatures.push(trait);\n        }\n      }\n    });\n  }\n  character.items.forEach((originItem) => {\n    if (originItem !== undefined) {\n      currentItems.forEach(async (item: Item) => {\n        if (item !== undefined) {\n          if (\n            originItem.origin.toLowerCase() ===\n            item.name.toLowerCase() + \"|\" + item.sources.toLowerCase()\n          ) {\n            if (item.base !== \"\") {\n              currentBases.forEach((base: Gear) => {\n                if (base !== undefined) {\n                  let [baseName, baseSources] = item.base.split(\"|\");\n                  if (\n                    (baseSources !== undefined &&\n                      base.name.toLowerCase() + \"|\" + base.sources.toLowerCase() ===\n                        item.base.toLowerCase()) ||\n                    (baseSources === undefined &&\n                      base.name.toLowerCase() === baseName.toLowerCase())\n                  ) {\n                    items.push({ ...originItem, item: item, base: base });\n                  }\n                }\n              });\n            } else {\n              items.push({ ...originItem, item: item, base: undefined });\n            }\n          }\n        }\n      });\n      currentGears.forEach((gear: Gear) => {\n        if (gear !== undefined)\n          if (\n            originItem.origin.toLowerCase() ===\n            gear.name.toLowerCase() + \"|\" + gear.sources.toLowerCase()\n          ) {\n            gears.push({ ...originItem, gear: gear });\n          }\n      });\n    }\n  });\n  console.timeEnd(\"load\");\n\n  items = items.filter((item) => item !== undefined);\n  gears = gears.filter((gear) => gear !== undefined);\n  spells = spells.filter((spell) => spell !== undefined);\n  monsters = monsters.filter((monster) => monster !== undefined);\n  feats = feats.filter((feat) => feat !== undefined);\n\n  console.time(\"modifier\");\n  let modifiers: Modifier[] = [];\n  gears?.forEach((gear) => {\n    modifiers = modifiers.concat(extractModifier(gear.gear.description, \"Gear: \" + gear.origin));\n  });\n  items?.forEach((item) => {\n    modifiers = modifiers.concat(\n      extractModifier(item.item.description, \"Magic Item: \" + item.origin)\n    );\n  });\n  raceFeatures?.forEach((trait) => {\n    modifiers = modifiers.concat(extractModifier(trait.text, \"Race Feature: \" + trait.name));\n  });\n  classFeatures?.forEach((featureSet) => {\n    featureSet.features.forEach((feature) => {\n      modifiers = modifiers.concat(extractModifier(feature.text, \"Class Feature: \" + feature.name));\n    });\n  });\n  character.abilityImprovs\n    ?.filter((a) => a.level <= level)\n    .forEach((a) => {\n      if (a.feat === \"\") {\n        modifiers = modifiers.concat(\n          extractModifier(\n            `{{${a.s1}+1}}{{${a.s2}+1}}`,\n            \"Ability improvement from \" + a.origin + \" on level \" + a.level + \": \"\n          )\n        );\n      }\n    });\n  feats?.forEach((f) => {\n    modifiers = modifiers.concat(extractModifier(f.description, \"Feat: \" + f.name));\n  });\n  if (background !== undefined) {\n    modifiers = modifiers.concat(\n      extractModifier(background.description, \"Background: \" + background.name)\n    );\n    modifiers = modifiers.concat(\n      extractModifier(background.proficiencies, \"Background: \" + background.name)\n    );\n  }\n  console.timeEnd(\"modifier\");\n\n  console.timeEnd(\"build Character\");\n  return new BuildChar(\n    character,\n    level,\n    prof,\n    classes,\n    subclasses,\n    classFeatures,\n    race,\n    subrace,\n    raceFeatures,\n    feats,\n    gears,\n    items,\n    spells,\n    monsters,\n    modifiers\n  );\n};\n\nconst cut = (str: string, cutStart: number, cutEnd: number) => {\n  return str.substr(0, cutStart) + str.substr(cutEnd + 1);\n};\n\nconst extractTarget = (target: string): string | string[] => {\n  if (target.includes(\".\")) {\n    return target.split(\".\");\n  }\n  return target;\n};\n\nconst extractModifier = (text: string, origin: string): Modifier[] => {\n  let newModifiers: Modifier[] = [];\n\n  while (text.includes(\"{{\")) {\n    const cutStart = text.indexOf(\"{{\");\n    const cutEnd = text.indexOf(\"}}\");\n    const rawModifier = text.substring(cutStart + 2, cutEnd);\n    text = cut(text, cutStart, cutEnd + 1);\n\n    if (rawModifier.includes(\"=\")) {\n      const split = rawModifier.split(\"=\");\n\n      newModifiers.push(\n        new Modifier(\n          extractTarget(split[0]),\n          ModifierOperator.EQUAL,\n          split[1].includes('\"') ? split[1] : parseInt(split[1]),\n          origin\n        )\n      );\n    } else if (rawModifier.includes(\"+\")) {\n      const split = rawModifier.split(\"+\");\n      newModifiers.push(\n        new Modifier(\n          extractTarget(split[0]),\n          ModifierOperator.ADD,\n          split[1].includes('\"') ? split[1] : parseInt(split[1]),\n          origin\n        )\n      );\n    } else if (rawModifier.includes(\"-\")) {\n      const split = rawModifier.split(\"-\");\n      newModifiers.push(\n        new Modifier(\n          extractTarget(split[0]),\n          ModifierOperator.SUBSTRACT,\n          split[1].includes('\"') ? split[1] : parseInt(split[1]),\n          origin\n        )\n      );\n    }\n  }\n  return newModifiers;\n};\n\nexport const applyMods = async (char: BuildChar, modifiers: boolean): Promise<BuildChar> => {\n  if (modifiers) {\n    let newChar = char;\n    char.modifiers\n      .sort((a, b) => a.operator - b.operator)\n      .forEach((mod: Modifier) => {\n        if (typeof mod.target == \"string\") {\n          const target: string = mod.target;\n          if (mod.operator === ModifierOperator.EQUAL) {\n            newChar = {\n              ...newChar,\n              character: {\n                ...newChar.character,\n                [target]: replacePlaceholder(newChar, mod.value),\n              },\n            };\n          } else if (mod.operator === ModifierOperator.ADD && typeof mod.value == \"string\") {\n            newChar = {\n              ...newChar,\n              character: {\n                ...newChar.character,\n                [target]: newChar.character[target] + mod.value,\n              },\n            };\n          } else if (mod.operator === ModifierOperator.ADD && typeof mod.value == \"number\") {\n            const value: number = mod.value;\n            newChar = {\n              ...newChar,\n              character: {\n                ...newChar.character,\n                [target]: (newChar.character[target] as number) + value,\n              },\n            };\n          } else if (mod.operator === ModifierOperator.SUBSTRACT && typeof mod.value == \"number\") {\n            const value: number = mod.value;\n            newChar = {\n              ...newChar,\n              character: {\n                ...newChar.character,\n                [target]: (newChar.character[target] as number) - value,\n              },\n            };\n          }\n        } else if (Array.isArray(mod.target) && mod.target[1] !== \"add\") {\n          if (mod.operator === ModifierOperator.EQUAL) {\n            newChar = {\n              ...newChar,\n              character: {\n                ...newChar.character,\n                [mod.target[0]]: {\n                  ...newChar.character[mod.target[0]],\n                  [mod.target[1]]: replacePlaceholder(newChar, mod.value),\n                },\n              },\n            };\n          } else if (mod.operator === ModifierOperator.ADD && typeof mod.value == \"string\") {\n            newChar = {\n              ...newChar,\n              character: {\n                ...newChar.character,\n                [mod.target[0]]: {\n                  ...newChar.character[mod.target[0]],\n                  [mod.target[1]]: newChar.character[mod.target[0]][mod.target[1]] + mod.value,\n                },\n              },\n            };\n          } else if (mod.operator === ModifierOperator.ADD && typeof mod.value == \"number\") {\n            const value: number = mod.value;\n            newChar = {\n              ...newChar,\n              character: {\n                ...newChar.character,\n                [mod.target[0]]: {\n                  ...newChar.character[mod.target[0]],\n                  [mod.target[1]]:\n                    (newChar.character[mod.target[0]][mod.target[1]] as number) + value,\n                },\n              },\n            };\n          } else if (mod.operator === ModifierOperator.SUBSTRACT && typeof mod.value == \"number\") {\n            const value: number = mod.value;\n            newChar = {\n              ...newChar,\n              character: {\n                ...newChar.character,\n                [mod.target[0]]: {\n                  ...newChar.character[mod.target[0]],\n                  [mod.target[1]]:\n                    (newChar.character[mod.target[0]][mod.target[1]] as number) - value,\n                },\n              },\n            };\n          }\n        }\n      });\n\n    let modPromises: Promise<boolean>[] = [];\n    char.modifiers\n      .sort((a, b) => a.operator - b.operator)\n      .forEach((mod: Modifier) => {\n        if (mod.target[1] === \"add\" && typeof mod.value == \"string\") {\n          const value: string = mod.value;\n          modPromises.push(\n            new Promise((resolve, reject) => {\n              recivePromiseByAttribute(mod.target[0], \"name\", value.replaceAll('\"', \"\")).then(\n                (entity) => {\n                  newChar = { ...newChar, [mod.target[0]]: [...newChar[mod.target[0]], entity] };\n                  resolve(true);\n                }\n              );\n            })\n          );\n        }\n      });\n    await Promise.all(modPromises);\n    return newChar;\n  } else {\n    return { ...char, character: char.oldCharacter };\n  }\n};\n\nexport const replacePlaceholder = (char: BuildChar, text: string | number) => {\n  if (typeof text == \"string\" && text.includes(\"[\") && text.includes(\"]\")) {\n    text = text.replaceAll('\"', \"\");\n    while (text.includes(\"[\") && text.includes(\"]\")) {\n      const cutStart = text.indexOf(\"[\");\n      const cutEnd = text.indexOf(\"]\");\n      const rawPlaceholder = text.substring(cutStart + 1, cutEnd);\n      text = text.replace(text.substring(cutStart, cutEnd + 1), char.character[rawPlaceholder]);\n    }\n    // eslint-disable-next-line\n    return Math.floor(eval(text));\n  }\n  return text;\n};\n","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  value: boolean;\n  label: string;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: boolean) => void;\n}\n\nconst CheckField = ({ value, label, icon, transform, onChange }: $Props) => {\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      <Input\n        type=\"checkbox\"\n        defaultChecked={value}\n        onChange={(e) => onChange(e.target.checked)}\n      ></Input>\n      <Checkmark></Checkmark>\n    </Field>\n  );\n};\n\nexport default CheckField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 38px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n  user-select: none;\n  position: relative;\n\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1;\n`;\n\nconst Checkmark = styled.div`\n  flex: 1 1;\n  height: 30px;\n  min-width: 30px;\n  max-width: 30px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  border-radius: 5px;\n\n  &:after {\n    content: \"\";\n    display: none;\n  }\n\n  &:after {\n    width: 5px;\n    height: 10px;\n    border: solid white;\n    border-width: 0 3px 3px 0;\n    -webkit-transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    transform: rotate(45deg);\n    margin-left: 6px;\n    margin-top: 2px;\n  }\n`;\n\nconst Input = styled.input`\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n  left: 0;\n  bottom 0;\n\n  &:checked ~ ${Checkmark} {\n    background-color: ${({ theme }) => theme.main.highlight};\n    color: ${({ theme }) => theme.buttons.color};\n  }\n\n  &:checked ~ ${Checkmark}:after {\n    display: block;\n  }\n`;\n","export default class ClassSet {\n    classe: string;\n    level: number;\n    subclasse: string;\n  \n    constructor(\n        classe: string,\n        level: number,\n        subclasse: string,\n    ) {\n        this.level = level;\n        this.classe = classe;\n        this.subclasse = subclasse;\n    }\n  }\n  \n  export function isClassSet(arg: any): arg is ClassSet {\n    const classeCheck = arg.classe !== undefined && typeof arg.classe == \"string\";\n    const levelCheck = arg.level !== undefined && typeof arg.level == \"number\";\n    const subclasseCheck = arg.subclasse !== undefined && typeof arg.subclasse == \"string\";\n    return (\n      arg &&\n      levelCheck &&\n      classeCheck &&\n      subclasseCheck\n    );\n  }\n  ","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\nimport Select from \"react-select\";\n\ninterface $Props {\n  options: {\n    value: string;\n    label: string;\n  }[];\n  value: string;\n  label: string;\n  style?: any;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: string) => void;\n}\n\nconst SingleSelectField = ({ options, value, label, style, icon, transform, onChange }: $Props) => {\n  const handleChange = (option: { value: string; label: string }) => {\n    if (option !== null && option !== undefined) {\n      onChange(option.value);\n    }\n  };\n\n  return (\n    <Field style={style}>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      <StyledSelect\n        isMulti={false}\n        classNamePrefix=\"react-select\"\n        value={{\n          value: value,\n          label: value,\n        }}\n        options={options}\n        onChange={(option: { value: string; label: string }) => handleChange(option)}\n      />\n    </Field>\n  );\n};\n\nexport default SingleSelectField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1 auto;\n`;\n\nconst StyledSelect = styled(Select)`\n  flex: 3 2 auto;\n  box-sizing: border-box;\n  border: none;\n  min-width: 120px;\n\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n\n  .react-select__single-value {\n    color: ${({ theme }) => theme.input.color};\n  }\n  .react-select__control {\n    background-color: ${({ theme }) => theme.input.backgroundColor};\n    border: none;\n    border-radius: 5px;\n  }\n  .react-select__menu {\n    background-color: ${({ theme }) => theme.input.backgroundColor};\n\n    .react-select__option:hover {\n      background-color: ${({ theme }) => theme.buttons.backgroundColor};\n      color: ${({ theme }) => theme.buttons.color};\n    }\n    .react-select__option--is-focused {\n      background-color: ${({ theme }) => theme.buttons.backgroundColor};\n      color: ${({ theme }) => theme.buttons.color};\n    }\n  }\n`;\n","export default class Skills {\n  acrobaticsProf: number;\n  animalHandlingProf: number;\n  arcanaProf: number;\n  athleticsProf: number;\n  deceptionProf: number;\n  historyProf: number;\n  insightProf: number;\n  intimidationProf: number;\n  investigationProf: number;\n  medicineProf: number;\n  natureProf: number;\n  perceptionProf: number;\n  performanceProf: number;\n  persuasionProf: number;\n  religionProf: number;\n  sleightOfHandProf: number;\n  stealthProf: number;\n  survivalProf: number;\n\n  constructor(\n    acrobaticsProf?: number,\n    animalHandlingProf?: number,\n    arcanaProf?: number,\n    athleticsProf?: number,\n    deceptionProf?: number,\n    historyProf?: number,\n    insightProf?: number,\n    intimidationProf?: number,\n    investigationProf?: number,\n    medicineProf?: number,\n    natureProf?: number,\n    perceptionProf?: number,\n    performanceProf?: number,\n    persuasionProf?: number,\n    religionProf?: number,\n    sleightOfHandProf?: number,\n    stealthProf?: number,\n    survivalProf?: number\n  ) {\n    this.acrobaticsProf = acrobaticsProf || 0;\n    this.animalHandlingProf = animalHandlingProf || 0;\n    this.arcanaProf = arcanaProf || 0;\n    this.athleticsProf = athleticsProf || 0;\n    this.deceptionProf = deceptionProf || 0;\n    this.historyProf = historyProf || 0;\n    this.insightProf = insightProf || 0;\n    this.intimidationProf = intimidationProf || 0;\n    this.investigationProf = investigationProf || 0;\n    this.medicineProf = medicineProf || 0;\n    this.natureProf = natureProf || 0;\n    this.perceptionProf = perceptionProf || 0;\n    this.performanceProf = performanceProf || 0;\n    this.persuasionProf = persuasionProf || 0;\n    this.religionProf = religionProf || 0;\n    this.sleightOfHandProf = sleightOfHandProf || 0;\n    this.stealthProf = stealthProf || 0;\n    this.survivalProf = survivalProf || 0;\n  }\n}\n\nexport function isSkills(arg: any): arg is Skills {\n  const acrobaticsProfCheck =\n    arg.acrobaticsProf !== undefined && typeof arg.acrobaticsProf == \"number\";\n  const arcanaProfCheck =\n    arg.arcanaProf !== undefined && typeof arg.arcanaProf == \"number\";\n  const animalHandlingProfCheck =\n    arg.animalHandlingProf !== undefined &&\n    typeof arg.animalHandlingProf == \"number\";\n  const athleticsProfCheck =\n    arg.athleticsProf !== undefined && typeof arg.athleticsProf == \"number\";\n  const deceptionProfCheck =\n    arg.deceptionProf !== undefined && typeof arg.deceptionProf == \"number\";\n  const historyProfCheck =\n    arg.historyProf !== undefined && typeof arg.historyProf == \"number\";\n  const insightProfCheck =\n    arg.insightProf !== undefined && typeof arg.insightProf == \"number\";\n  const intimidationProfCheck =\n    arg.intimidationProf !== undefined &&\n    typeof arg.intimidationProf == \"number\";\n  const investigationProfCheck =\n    arg.investigationProf !== undefined &&\n    typeof arg.investigationProf == \"number\";\n  const medicineProfCheck =\n    arg.medicineProf !== undefined && typeof arg.medicineProf == \"number\";\n  const natureProfCheck =\n    arg.natureProf !== undefined && typeof arg.natureProf == \"number\";\n  const perceptionProfCheck =\n    arg.perceptionProf !== undefined && typeof arg.perceptionProf == \"number\";\n  const performanceProfCheck =\n    arg.performanceProf !== undefined && typeof arg.performanceProf == \"number\";\n  const persuasionProfCheck =\n    arg.persuasionProf !== undefined && typeof arg.persuasionProf == \"number\";\n  const religionProfCheck =\n    arg.religionProf !== undefined && typeof arg.religionProf == \"number\";\n  const sleightOfHandProfCheck =\n    arg.sleightOfHand !== undefined && typeof arg.sleightOfHand == \"number\";\n  const stealthProfCheck =\n    arg.stealthProf !== undefined && typeof arg.stealthProf == \"number\";\n  const survivalProfCheck =\n    arg.survivalProf !== undefined && typeof arg.survivalProf == \"number\";\n  return (\n    arg &&\n    acrobaticsProfCheck &&\n    arcanaProfCheck &&\n    animalHandlingProfCheck &&\n    athleticsProfCheck &&\n    deceptionProfCheck &&\n    historyProfCheck &&\n    insightProfCheck &&\n    intimidationProfCheck &&\n    investigationProfCheck &&\n    medicineProfCheck &&\n    natureProfCheck &&\n    perceptionProfCheck &&\n    performanceProfCheck &&\n    persuasionProfCheck &&\n    religionProfCheck &&\n    sleightOfHandProfCheck &&\n    stealthProfCheck &&\n    survivalProfCheck\n  );\n}\n","export default class Saves {\n  strSaveProf: number;\n  dexSaveProf: number;\n  conSaveProf: number;\n  intSaveProf: number;\n  wisSaveProf: number;\n  chaSaveProf: number;\n\n  constructor(\n    strSaveProf?: number,\n    dexSaveProf?: number,\n    conSaveProf?: number,\n    intSaveProf?: number,\n    wisSaveProf?: number,\n    chaSaveProf?: number\n  ) {\n    this.strSaveProf = strSaveProf || 0;\n    this.dexSaveProf = dexSaveProf || 0;\n    this.conSaveProf = conSaveProf || 0;\n    this.intSaveProf = intSaveProf || 0;\n    this.wisSaveProf = wisSaveProf || 0;\n    this.chaSaveProf = chaSaveProf || 0;\n  }\n}\n\nexport function isSaves(arg: any): arg is Saves {\n  const strSaveProfCheck =\n    arg.strSaveProf !== undefined && typeof arg.strSaveProf == \"number\";\n  const dexSaveProfCheck =\n    arg.dexSaveProf !== undefined && typeof arg.dexSaveProf == \"number\";\n  const conSaveProfCheck =\n    arg.conSaveProf !== undefined && typeof arg.conSaveProf == \"number\";\n  const intSaveProfCheck =\n    arg.intSaveProf !== undefined && typeof arg.intSaveProf == \"number\";\n  const wisSaveProfCheck =\n    arg.wisSaveProf !== undefined && typeof arg.wisSaveProf == \"number\";\n  const chaSaveProfCheck =\n    arg.chaSaveProf !== undefined && typeof arg.chaSaveProf == \"number\";\n\n  return (\n    arg &&\n    strSaveProfCheck &&\n    dexSaveProfCheck &&\n    conSaveProfCheck &&\n    intSaveProfCheck &&\n    wisSaveProfCheck &&\n    chaSaveProfCheck\n  );\n}\n","export default class Money {\n  copper: number;\n  silver: number;\n  electrum: number;\n  gold: number;\n  platinum: number;\n\n  constructor(\n    copper?: number,\n    silver?: number,\n    electrum?: number,\n    gold?: number,\n    platinum?: number\n  ) {\n    this.copper = copper || 0;\n    this.silver = silver || 0;\n    this.electrum = electrum || 0;\n    this.gold = gold || 0;\n    this.platinum = platinum || 0;\n  }\n}\n\nexport function isMoney(arg: any): arg is Money {\n  const copperCheck = arg.copper !== undefined && typeof arg.copper == \"number\";\n  const silverCheck = arg.silver !== undefined && typeof arg.silver == \"number\";\n  const electrumCheck =\n    arg.electrum !== undefined && typeof arg.electrum == \"number\";\n  const goldCheck = arg.gold !== undefined && typeof arg.gold == \"number\";\n  const platinumCheck =\n    arg.platinum !== undefined && typeof arg.platinum == \"number\";\n  return (\n    arg &&\n    copperCheck &&\n    silverCheck &&\n    electrumCheck &&\n    goldCheck &&\n    platinumCheck\n  );\n}\n","export default class RaceSet {\n  race: string;\n  subrace: string;\n\n  constructor(race?: string, subrace?: string) {\n    this.race = race || \"\";\n    this.subrace = subrace || \"\";\n  }\n}\n\nexport function isRaceSet(arg: any): arg is RaceSet {\n  const raceCheck = arg.race !== undefined && typeof arg.race == \"string\";\n  const subraceCheck =\n    arg.subrace !== undefined && typeof arg.subrace == \"string\";\n  return arg && raceCheck && subraceCheck;\n}\n","import Skills from \"./Skills\";\nimport Saves from \"./Saves\";\nimport Money from \"./Money\";\nimport IEntity from \"../IEntity\";\nimport ClassSet, { isClassSet } from \"./ClassSet\";\nimport RaceSet, { isRaceSet } from \"./RaceSet\";\n\nexport default class Char implements IEntity {\n  id?: number;\n  name: string;\n  player: string;\n  campaign: string;\n  pic: string;\n  picBase64: string;\n  classes: ClassSet[];\n  race: RaceSet;\n  background: string;\n  spells: string[];\n  spellSlots: { origin: string; slots: number[]; max: number[] }[];\n  activeSelections: {\n    selectionName: string;\n    activeOption: {\n      entityName: string;\n      entityText: string;\n      level: number;\n    };\n    featureName: string;\n    featureCount: number;\n    className: string;\n  }[];\n  currencyBonis: { origin: string; value: number; max: number }[];\n  items: {\n    origin: string;\n    attuned: boolean;\n    prof: boolean;\n    attribute: string;\n  }[];\n  monsters: string[];\n  ac: number;\n  hp: number;\n  currentHp: number;\n  init: number;\n  speed: string;\n  str: number;\n  dex: number;\n  con: number;\n  int: number;\n  wis: number;\n  cha: number;\n  abilityImprovs: { origin: string; level: number; s1: string; s2: string; feat: string }[];\n  saves: Saves;\n  actions: string;\n  profsLangs: string;\n  senses: string;\n  money: Money;\n  skills: Skills;\n  spellNotes: string;\n  alignment: string;\n  inspiration: number;\n  castingHit: number;\n  castingDC: number;\n\n  constructor(\n    id?: number,\n    name?: string,\n    player?: string,\n    campaign?: string,\n    pic?: string,\n    picBase64?: string,\n    classes?: ClassSet[],\n    race?: RaceSet,\n    background?: string,\n    spells?: string[],\n    spellSlots?: { origin: string; slots: number[]; max: number[] }[],\n    activeSelections?: {\n      selectionName: string;\n      activeOption: {\n        entityName: string;\n        entityText: string;\n        level: number;\n      };\n      featureName: string;\n      featureCount: number;\n      className: string;\n    }[],\n    currencyBonis?: { origin: string; value: number; max: number }[],\n    items?: {\n      origin: string;\n      attuned: boolean;\n      prof: boolean;\n      attribute: string;\n    }[],\n    monsters?: string[],\n    ac?: number,\n    hp?: number,\n    currentHp?: number,\n    init?: number,\n    speed?: string,\n    str?: number,\n    dex?: number,\n    con?: number,\n    int?: number,\n    wis?: number,\n    cha?: number,\n    abilityImprovs?: { origin: string; level: number; s1: string; s2: string; feat: string }[],\n    saves?: Saves,\n    actions?: string,\n    profsLangs?: string,\n    senses?: string,\n    money?: Money,\n    skills?: Skills,\n    spellNotes?: string,\n    alignment?: string,\n    inspiration?: number,\n    castingHit?: number,\n    castingDC?: number\n  ) {\n    this.id = id || -1;\n    this.name = name || \"\";\n    this.player = player || \"\";\n    this.campaign = campaign || \"\";\n    this.pic = pic || \"\";\n    this.picBase64 = picBase64 || \"\";\n    this.classes = classes || [];\n    this.race = race || new RaceSet();\n    this.background = background || \"\";\n    this.spells = spells || [];\n    this.spellSlots = spellSlots || [];\n    this.activeSelections = activeSelections || [];\n    this.currencyBonis = currencyBonis || [];\n    this.items = items || [];\n    this.monsters = monsters || [];\n    this.ac = ac || 0;\n    this.hp = hp || 0;\n    this.currentHp = currentHp || 0;\n    this.init = init || 0;\n    this.speed = speed || \"\";\n    this.str = str || 0;\n    this.dex = dex || 0;\n    this.con = con || 0;\n    this.int = int || 0;\n    this.wis = wis || 0;\n    this.cha = cha || 0;\n    this.abilityImprovs = abilityImprovs || [];\n    this.saves = saves || new Saves();\n    this.actions = actions || \"\";\n    this.profsLangs = profsLangs || \"\";\n    this.senses = senses || \"\";\n    this.money = money || new Money();\n    this.skills = skills || new Skills();\n    this.spellNotes = spellNotes || \"\";\n    this.alignment = alignment || \"\";\n    this.inspiration = inspiration || 0;\n    this.castingHit = castingHit || 0;\n    this.castingDC = castingDC || 0;\n  }\n}\n\nexport function isChar(arg: any): arg is Char {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const playerCheck = arg.player !== undefined && typeof arg.player == \"string\";\n  const campaignCheck = arg.campaign !== undefined && typeof arg.campaign == \"string\";\n  const picCheck = arg.pic !== undefined && typeof arg.pic == \"string\";\n  const picBase64Check = arg.picBase64 !== undefined && typeof arg.picBase64 == \"string\";\n  const raceCheck = arg.race !== undefined && isRaceSet(arg.race);\n  const backgroundCheck = arg.background !== undefined && typeof arg.background == \"string\";\n  const acCheck = arg.ac !== undefined && typeof arg.ac == \"number\";\n  const hpCheck = arg.hp !== undefined && typeof arg.hp == \"number\";\n  const currentHpCheck = arg.currentHp !== undefined && typeof arg.currentHp == \"number\";\n  const initCheck = arg.init !== undefined && typeof arg.init == \"number\";\n  const classesCheck =\n    arg.classes !== undefined && Array.isArray(arg.classes) && isClassSet(arg.classes[0]);\n  return (\n    arg &&\n    nameCheck &&\n    playerCheck &&\n    campaignCheck &&\n    (picCheck || picBase64Check) &&\n    raceCheck &&\n    backgroundCheck &&\n    acCheck &&\n    hpCheck &&\n    currentHpCheck &&\n    initCheck &&\n    classesCheck\n  );\n}\n","const getRandomInteger = (min: number, max: number) => {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nexport const generateBrokerId = () => {\n  let password = \"\";\n  const characters =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  for (let i = 0; i < 13; i++) {\n    password += characters[getRandomInteger(0, characters.length - 1)];\n  }\n  return password;\n};\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport styled from \"styled-components\";\nimport IEntity from \"../../data/IEntity\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\nimport { reciveAllFiltered, reciveAllFilteredPromise } from \"../../services/DatabaseService\";\nimport Filter from \"../../data/Filter\";\n\ninterface $Props {\n  optionTable?: string | string[];\n  options?: IEntity[];\n  filters?: Filter[];\n  value: string;\n  label: string;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: string) => void;\n}\n\nconst AutoStringField = ({\n  optionTable,\n  options,\n  filters,\n  value,\n  label,\n  icon,\n  transform,\n  onChange,\n}: $Props) => {\n  const [term, setTerm] = useState<string>(value);\n  const [optionsTable] = useState<string | string[]>(optionTable !== undefined ? optionTable : []);\n  const [allOptions, setOptions] = useState<IEntity[]>(options !== undefined ? options : []);\n  const [filteredOptions, setFilteredOptions] = useState<IEntity[]>([]);\n\n  useEffect(() => {\n    setTerm(value);\n  }, [value]);\n\n  const findAllItems = useCallback(\n    async (optionsTable: string[]) => {\n      let itemList: Promise<IEntity[] | undefined>[] = [];\n      optionsTable.forEach((table) => {\n        itemList.push(reciveAllFilteredPromise(table, filters !== undefined ? filters : []));\n      });\n      let results = await Promise.all(itemList);\n\n      let newList: IEntity[] = [];\n      results.forEach((entities: IEntity[] | undefined) => {\n        if (entities !== undefined) entities.forEach((entity: IEntity) => newList.push(entity));\n      });\n      setOptions(newList);\n    },\n    [filters]\n  );\n\n  useEffect(() => {\n    if (optionTable !== undefined) {\n      if (typeof optionsTable === \"string\") {\n        reciveAllFiltered(optionsTable, filters !== undefined ? filters : [], (data: any[]) => {\n          setOptions(data);\n        });\n      }\n      if (optionsTable instanceof Array && optionsTable.length > 0) {\n        findAllItems(optionsTable);\n      }\n    }\n  }, [optionTable, optionsTable, findAllItems, filters]);\n\n  const onSearch = useCallback(\n    (searchTerm: string) => {\n      console.time(\"search\");\n      setTerm(searchTerm);\n      if (searchTerm.length > 2) {\n        let newOptions = allOptions\n          .filter((option) => option.name.toLowerCase().startsWith(searchTerm.toLowerCase()))\n          .sort(\n            (a, b) =>\n              Math.abs(a.name.length - searchTerm.length) -\n              Math.abs(b.name.length - searchTerm.length)\n          )\n          .slice(0, 5);\n        setFilteredOptions(newOptions);\n      } else {\n        setFilteredOptions([]);\n      }\n      console.timeEnd(\"search\");\n    },\n    [allOptions]\n  );\n\n  const applyTerm = (e: any) => {\n    if (e.key === \"Enter\") {\n      onChange(term);\n    }\n  };\n\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      <Input\n        type=\"text\"\n        value={term}\n        onChange={(e) => onSearch(e.target.value)}\n        onKeyDown={(e) => applyTerm(e)}\n      ></Input>\n      <Options>\n        {filteredOptions.length > 0 &&\n          filteredOptions.map((opt, index: number) => {\n            return (\n              <Option\n                key={index}\n                onClick={(e) => {\n                  setTerm(opt.name + \"|\" + opt.sources);\n                  onChange(opt.name + \"|\" + opt.sources);\n                }}\n              >\n                {opt.name}|{opt.sources}\n              </Option>\n            );\n          })}\n      </Options>\n    </Field>\n  );\n};\n\nexport default AutoStringField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n  position: relative;\n  overflow: visible;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1 auto;\n`;\n\nconst Options = styled.div`\n  display: none;\n  position: absolute;\n  border-bottom: none;\n  border-top: none;\n  z-index: 99;\n  top: 100%;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n\n  &:hover {\n    display: block;\n  }\n`;\n\nconst Option = styled.div`\n  padding: 5px;\n  cursor: pointer;\n  color: ${({ theme }) => theme.input.color};\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  margin-bottom: 1px;\n  border-radius: 5px;\n`;\n\nconst Input = styled.input`\n  flex: 3 1 auto;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  border-radius: 5px;\n\n  &:focus ~ ${Options} {\n    display: block;\n  }\n`;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\nimport Select from \"react-select\";\nimport Filter from \"../../data/Filter\";\nimport IEntity from \"../../data/IEntity\";\nimport { reciveAllFilteredPromise } from \"../../services/DatabaseService\";\n\ninterface $Props {\n  optionTable: string[];\n  filters?: Filter[];\n  value: string;\n  label: string;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: string) => void;\n}\n\nconst DataSelectField = ({\n  optionTable,\n  filters,\n  value,\n  label,\n  icon,\n  transform,\n  onChange,\n}: $Props) => {\n  const [optionsTable] = useState<string[]>(optionTable);\n  const [options, setOptions] = useState<\n    {\n      value: string;\n      label: string;\n    }[]\n  >([]);\n  const [loading, setLoading] = useState<boolean>(true);\n\n  const findAllItems = useCallback(\n    async (optionsTable: string[]) => {\n      let entityList: Promise<IEntity[] | undefined>[] = [];\n      optionsTable.forEach((table) => {\n        entityList.push(reciveAllFilteredPromise(table, filters !== undefined ? filters : []));\n      });\n      let results = await Promise.all(entityList);\n\n      let newList: {\n        value: string;\n        label: string;\n      }[] = [];\n      results.forEach((entities: IEntity[] | undefined) => {\n        if (entities !== undefined)\n          entities.forEach((entity: IEntity) => {\n            if (entity.sources !== undefined)\n              newList.push({\n                value: entity.name + \"|\" + entity.sources,\n                label: entity.name + \"|\" + entity.sources,\n              });\n            else\n              newList.push({\n                value: entity.name,\n                label: entity.name,\n              });\n          });\n      });\n      setOptions(newList);\n      setLoading(false);\n    },\n    [filters]\n  );\n\n  useEffect(() => {\n    if (optionsTable !== undefined && optionsTable.length > 0) {\n      findAllItems(optionsTable);\n    }\n  }, [optionsTable, findAllItems, filters]);\n\n  const handleChange = (option: { value: string; label: string }) => {\n    if (option !== null && option !== undefined) {\n      onChange(option.value);\n    } else {\n      onChange(\"\");\n    }\n  };\n\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      <StyledSelect\n        isMulti={false}\n        isLoading={loading}\n        isClearable={true}\n        classNamePrefix=\"react-select\"\n        value={{\n          value: value,\n          label: value,\n        }}\n        options={options}\n        onChange={(option: { value: string; label: string }) => handleChange(option)}\n      />\n    </Field>\n  );\n};\n\nexport default DataSelectField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1 auto;\n`;\n\nconst StyledSelect = styled(Select)`\n  flex: 3 2 auto;\n  box-sizing: border-box;\n  border: none;\n  min-width: 200px;\n\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n\n  .react-select__single-value {\n    color: ${({ theme }) => theme.input.color};\n  }\n  .react-select__control {\n    background-color: ${({ theme }) => theme.input.backgroundColor};\n    border: none;\n    border-radius: 5px;\n  }\n  .react-select__menu {\n    background-color: ${({ theme }) => theme.input.backgroundColor};\n\n    .react-select__option:hover {\n      background-color: ${({ theme }) => theme.buttons.backgroundColor};\n      color: ${({ theme }) => theme.buttons.color};\n    }\n    .react-select__option--is-focused {\n      background-color: ${({ theme }) => theme.buttons.backgroundColor};\n      color: ${({ theme }) => theme.buttons.color};\n    }\n  }\n`;\n","import Class from \"../classes/Class\";\nimport FeatureSet from \"../classes/FeatureSet\";\nimport Subclass from \"../classes/Subclass\";\nimport Feat from \"../Feat\";\nimport Gear from \"../Gear\";\nimport Item from \"../Item\";\nimport Modifier from \"../Modifier\";\nimport Monster from \"../Monster\";\nimport Race from \"../races/Race\";\nimport Subrace from \"../races/Subrace\";\nimport Trait from \"../races/Trait\";\nimport Spell from \"../Spell\";\nimport Char from \"./Char\";\n\nexport default class BuildChar {\n  character: Char;\n  oldCharacter: Char;\n  level: number;\n  prof: number;\n  classes: Class[];\n  subclasses: Subclass[];\n  classFeatures: FeatureSet[];\n  race: Race;\n  subrace: Subrace;\n  raceFeatures: Trait[];\n  feats: Feat[];\n  gears: {\n    gear: Gear;\n    origin: string;\n    attuned: boolean;\n    prof: boolean;\n    attribute: string;\n  }[];\n  items: {\n    item: Item;\n    base: Gear | undefined;\n    origin: string;\n    attuned: boolean;\n    prof: boolean;\n    attribute: string;\n  }[];\n  spells: Spell[];\n  monsters: Monster[];\n  modifiers: Modifier[];\n\n  constructor(\n    character?: Char,\n    level?: number,\n    prof?: number,\n    classes?: Class[],\n    subclasses?: Subclass[],\n    classFeatures?: FeatureSet[],\n    race?: Race,\n    subrace?: Subrace,\n    raceFeatures?: Trait[],\n    feats?: Feat[],\n    gears?: {\n      gear: Gear;\n      origin: string;\n      attuned: boolean;\n      prof: boolean;\n      attribute: string;\n    }[],\n    items?: {\n      item: Item;\n      base: Gear | undefined;\n      origin: string;\n      attuned: boolean;\n      prof: boolean;\n      attribute: string;\n    }[],\n    spells?: Spell[],\n    monsters?: Monster[],\n    modifiers?: Modifier[]\n  ) {\n    this.character = character || new Char();\n    this.oldCharacter = character || new Char();\n    this.level = level || 0;\n    this.prof = prof || 0;\n    this.classes = classes || [];\n    this.subclasses = subclasses || [];\n    this.classFeatures = classFeatures || [];\n    this.race = race || new Race();\n    this.subrace = subrace || new Subrace();\n    this.raceFeatures = raceFeatures || [];\n    this.feats = feats || [];\n    this.gears = gears || [];\n    this.items = items || [];\n    this.spells = spells || [];\n    this.monsters = monsters || [];\n    this.modifiers = modifiers || [];\n  }\n}\n","/* eslint-disable vars-on-top, no-var, prefer-template */\nvar isRegExp = require('lodash/isRegExp');\nvar escapeRegExp = require('lodash/escapeRegExp');\nvar isString = require('lodash/isString');\nvar flatten = require('lodash/flatten');\n\n/**\n * Given a string, replace every substring that is matched by the `match` regex\n * with the result of calling `fn` on matched substring. The result will be an\n * array with all odd indexed elements containing the replacements. The primary\n * use case is similar to using String.prototype.replace except for React.\n *\n * React will happily render an array as children of a react element, which\n * makes this approach very useful for tasks like surrounding certain text\n * within a string with react elements.\n *\n * Example:\n * matchReplace(\n *   'Emphasize all phone numbers like 884-555-4443.',\n *   /([\\d|-]+)/g,\n *   (number, i) => <strong key={i}>{number}</strong>\n * );\n * // => ['Emphasize all phone numbers like ', <strong>884-555-4443</strong>, '.'\n *\n * @param {string} str\n * @param {regexp|str} match Must contain a matching group\n * @param {function} fn\n * @return {array}\n */\nfunction replaceString(str, match, fn) {\n  var curCharStart = 0;\n  var curCharLen = 0;\n\n  if (str === '') {\n    return str;\n  } else if (!str || !isString(str)) {\n    throw new TypeError('First argument to react-string-replace#replaceString must be a string');\n  }\n\n  var re = match;\n\n  if (!isRegExp(re)) {\n    re = new RegExp('(' + escapeRegExp(re) + ')', 'gi');\n  }\n\n  var result = str.split(re);\n\n  // Apply fn to all odd elements\n  for (var i = 1, length = result.length; i < length; i += 2) {\n    curCharLen = result[i].length;\n    curCharStart += result[i - 1].length;\n    result[i] = fn(result[i], i, curCharStart);\n    curCharStart += curCharLen;\n  }\n\n  return result;\n}\n\nmodule.exports = function reactStringReplace(source, match, fn) {\n  if (!Array.isArray(source)) source = [source];\n\n  return flatten(source.map(function(x) {\n    return isString(x) ? replaceString(x, match, fn) : x;\n  }));\n};\n","var baseIsRegExp = require('./_baseIsRegExp'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsRegExp = nodeUtil && nodeUtil.isRegExp;\n\n/**\n * Checks if `value` is classified as a `RegExp` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n * @example\n *\n * _.isRegExp(/abc/);\n * // => true\n *\n * _.isRegExp('/abc/');\n * // => false\n */\nvar isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\nmodule.exports = isRegExp;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar regexpTag = '[object RegExp]';\n\n/**\n * The base implementation of `_.isRegExp` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n */\nfunction baseIsRegExp(value) {\n  return isObjectLike(value) && baseGetTag(value) == regexpTag;\n}\n\nmodule.exports = baseIsRegExp;\n","var toString = require('./toString');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n    reHasRegExpChar = RegExp(reRegExpChar.source);\n\n/**\n * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escapeRegExp('[lodash](https://lodash.com/)');\n * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n */\nfunction escapeRegExp(string) {\n  string = toString(string);\n  return (string && reHasRegExpChar.test(string))\n    ? string.replace(reRegExpChar, '\\\\$&')\n    : string;\n}\n\nmodule.exports = escapeRegExp;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\nimport Select from \"react-select\";\n\ninterface $Props {\n  options: { value: string; label: string }[];\n  value: { value: string; label: string };\n  label: string;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: string) => void;\n}\n\nconst EnumField = ({\n  options,\n  value,\n  label,\n  icon,\n  transform,\n  onChange,\n}: $Props) => {\n\n  const handleChange = (option: { value: string; label: string }) => {\n    if (option !== null && option !== undefined) {\n      onChange(option.value);\n    }\n  };\n\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      <StyledSelect\n        classNamePrefix=\"react-select\"\n        value={value}\n        options={options}\n        onChange={(option: { value: string; label: string }) =>\n          handleChange(option)\n        }\n      />\n    </Field>\n  );\n};\n\nexport default EnumField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1 auto;\n`;\n\nconst StyledSelect = styled(Select)`\n  flex: 3 2 auto;\n  box-sizing: border-box;\n  border: none;\n  min-width: 120px;\n\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  \n  .react-select__single-value {\n    color: ${({ theme }) => theme.buttons.color};\n  }\n  .react-select__control {\n    background-color: ${({ theme }) => theme.input.backgroundColor};\n    border: none;\n    border-radius: 5px;\n  }\n  .react-select__menu {\n    background-color: ${({ theme }) => theme.input.backgroundColor};\n\n    .react-select__option:hover {\n      background-color: ${({ theme }) => theme.buttons.backgroundColor};\n      color: ${({ theme }) => theme.buttons.color};\n    }\n    .react-select__option--is-focused {\n      background-color: ${({ theme }) => theme.buttons.backgroundColor};\n      color: ${({ theme }) => theme.buttons.color};\n    }\n  }\n`;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 257;","export enum ModifierOperator {\n  EQUAL,\n  ADD,\n  SUBSTRACT,\n}\n\nexport default class Modifier {\n  target: string | string[];\n  operator: ModifierOperator;\n  value: string | number;\n  origin: string;\n\n  constructor(\n    target: string | string[],\n    operator: ModifierOperator,\n    value: string | number,\n    origin: string\n  ) {\n    this.target = target;\n    this.operator = operator;\n    this.value = value;\n    this.origin = origin;\n  }\n\n  makeString(): string {\n    let op = \"\";\n    if (this.operator === ModifierOperator.ADD) {\n      op = \"+\";\n    } else if (this.operator === ModifierOperator.SUBSTRACT) {\n      op = \"-\";\n    } else if (this.operator === ModifierOperator.EQUAL) {\n      op = \"=\";\n    }\n\n    let tar = \"\";\n    if (Array.isArray(this.target)) {\n      tar = `${this.target[0]}.${this.target[1]}`;\n    } else {\n      tar = this.target;\n    }\n\n    return `${tar} ${op} ${this.value}`;\n  }\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import { useLocation } from \"react-router-dom\";\n\nexport function useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","import { faLink, faPaperPlane, faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { GiDiceEightFacesEight } from \"react-icons/gi\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\nimport Class from \"../../../../data/classes/Class\";\nimport Subclass from \"../../../../data/classes/Subclass\";\nimport { createNewWithId, reciveAllFiltered } from \"../../../../services/DatabaseService\";\nimport CheckField from \"../../../form_elements/CheckField\";\nimport TextButton from \"../../../form_elements/TextButton\";\nimport FormatedText from \"../../../general_elements/FormatedText\";\nimport P2PSender from \"../../../p2p/P2PSender\";\n\ninterface $Props {\n  classe: Class;\n}\n\nconst ClasseView = ({ classe }: $Props) => {\n  const [send, setSend] = useState<boolean>(false);\n  const [subclasses, setSubclasses] = useState<Subclass[]>([]);\n  const [hardSubselect, setHardSubselect] = useState<boolean>(true);\n  let history = useHistory();\n\n  useEffect(() => {\n    reciveAllFiltered(\n      \"subclasses\",\n      hardSubselect\n        ? [\n            { fieldName: \"type\", value: classe.name, sort: 0 },\n            { fieldName: \"sources\", value: classe.sources, sort: 0 },\n          ]\n        : [{ fieldName: \"type\", value: classe.name, sort: 0 }],\n      (results: any[]) => {\n        setSubclasses(results);\n      }\n    );\n  }, [classe, hardSubselect]);\n\n  const printSpellslots = (length: number) => {\n    let count = length - 3;\n    let levels = [];\n    for (let i = 0; i < count; i++) {\n      levels.push(i + 4);\n    }\n    return levels.map((level: number, index: number) => {\n      return <SpellProp key={index}>{level}th</SpellProp>;\n    });\n  };\n\n  const getPicture = useCallback(() => {\n    if (classe !== undefined) {\n      if (classe.picBase64 !== \"\" && classe.picBase64 !== null && classe.picBase64 !== undefined) {\n        return classe.picBase64;\n      } else if (classe.pic !== \"\" && classe.pic !== null && classe.pic !== undefined) {\n        return classe.pic;\n      }\n    }\n    return \"\";\n  }, [classe]);\n\n  const createNewSubclass = () => {\n    let newSubclass = new Subclass();\n    delete newSubclass.id;\n    newSubclass.type = classe.name;\n    createNewWithId(\"subclasses\", newSubclass, (id) => {\n      history.push(`/subclasse-detail/id/${id}`);\n    });\n  };\n\n  return (\n    <>\n      <CenterWrapper>\n        {getPicture() !== \"\" ? (\n          <ImageView>\n            <Image pic={getPicture()}></Image>\n          </ImageView>\n        ) : (\n          \"\"\n        )}\n        <View>\n          <Name>\n            <b>{classe.name}</b>\n          </Name>\n          <PropWrapper>\n            <Prop>\n              <GiDiceEightFacesEight />\n              {classe.hitDices}\n            </Prop>\n            <Prop>\n              <Icon icon={faLink} />\n              {classe.sources}\n            </Prop>\n            <Text>\n              <PropTitle>Proficiencies:</PropTitle>\n              <FormatedText text={classe.proficiencies} />\n            </Text>\n            <Text>\n              <PropTitle>Equipment:</PropTitle>\n              <FormatedText text={classe.equipment} />\n            </Text>\n            <Text>\n              <CheckField value={hardSubselect} label=\"Hard Select\" onChange={setHardSubselect} />\n              <PropTitle>Subclasses:</PropTitle>\n              {subclasses.length !== 0 &&\n                subclasses.map((subclass: Subclass, index: number) => {\n                  const link: string = \"/subclasse-detail/id/\" + subclass.id;\n                  return (\n                    <SubclasseLink key={index} onClick={() => history.push(link)}>\n                      {subclass.name} | {subclass.sources}\n                    </SubclasseLink>\n                  );\n                })}\n              <CreateButton onClick={() => createNewSubclass()}>\n                <FontAwesomeIcon icon={faPlusCircle} />\n              </CreateButton>\n            </Text>\n          </PropWrapper>\n          <PropWrapper>\n            {!send && (\n              <TextButton\n                text={`Send ${classe.name}`}\n                icon={faPaperPlane}\n                onClick={() => setSend(true)}\n              />\n            )}\n            {!!send && <P2PSender data={classe} mode={\"THIS\"} />}\n          </PropWrapper>\n        </View>\n        {classe.featureSets.length !== 0 &&\n          classe.featureSets[0].spellslots &&\n          classe.featureSets[0].spellslots.length > 0 && (\n            <View>\n              <PropWrapper>\n                <FeatureWrapper>\n                  <thead>\n                    <FeatureRow>\n                      <FeatureHeadProp colSpan={classe.featureSets[0].spellslots.length + 1}>\n                        Spellslots\n                      </FeatureHeadProp>\n                    </FeatureRow>\n                  </thead>\n                  <tbody>\n                    <FeatureRow>\n                      <SpellProp>Level</SpellProp>\n                      <SpellProp>1st</SpellProp>\n                      {classe.featureSets[0].spellslots.length >= 2 && <SpellProp>2nd</SpellProp>}\n                      {classe.featureSets[0].spellslots.length >= 3 && <SpellProp>3rd</SpellProp>}\n                      {classe.featureSets[0].spellslots.length >= 4 && (\n                        <>{printSpellslots(classe.featureSets[0].spellslots.length)}</>\n                      )}\n                    </FeatureRow>\n                    {classe.featureSets.map((featureSet, index: number) => {\n                      return (\n                        <FeatureRow key={index}>\n                          {featureSet.spellslots && (\n                            <>\n                              <SpellProp>{featureSet.level}</SpellProp>\n                              {featureSet.spellslots.map((spellslot, index: number) => {\n                                return (\n                                  <SpellProp key={index}>\n                                    {spellslot === 0 ? \"-\" : spellslot}\n                                  </SpellProp>\n                                );\n                              })}\n                            </>\n                          )}\n                        </FeatureRow>\n                      );\n                    })}\n                  </tbody>\n                </FeatureWrapper>\n              </PropWrapper>\n            </View>\n          )}\n        <View>\n          <PropWrapper>\n            {classe.featureSets.length !== 0 && (\n              <FeatureWrapper>\n                <thead>\n                  <FeatureRow>\n                    <FeatureHeadProp>Level</FeatureHeadProp>\n                    <FeatureHeadProp>Features</FeatureHeadProp>\n                    {classe.featureSets[0].bonis &&\n                      classe.featureSets[0].bonis.length > 0 &&\n                      classe.featureSets[0].bonis?.map((boni, index: number) => {\n                        return <FeatureHeadProp key={index}>{boni.name}</FeatureHeadProp>;\n                      })}\n                  </FeatureRow>\n                </thead>\n                <tbody>\n                  {classe.featureSets.map((featureSet, index: number) => {\n                    return (\n                      <FeatureRow key={index}>\n                        <FeatureProp>{featureSet.level}</FeatureProp>\n                        <FeatureProp>\n                          {!featureSet.isAbilityImprov &&\n                            featureSet.features.map((feature, i) => {\n                              if (i === featureSet.features.length - 1) return feature.name;\n                              return feature.name + \", \";\n                            })}\n                          {featureSet.isAbilityImprov && \"Abilityscore Improvement or Feat\"}\n                        </FeatureProp>\n                        {featureSet.bonis?.map((boni, index: number) => {\n                          return <FeatureProp key={index}>{boni.value}</FeatureProp>;\n                        })}\n                      </FeatureRow>\n                    );\n                  })}\n                </tbody>\n              </FeatureWrapper>\n            )}\n          </PropWrapper>\n        </View>\n      </CenterWrapper>\n      <CenterWrapper>\n        <View>\n          {classe.featureSets.map((featureSet) => {\n            return featureSet.features.map((feature, index: number) => {\n              return (\n                <Text key={index}>\n                  <PropTitle>\n                    {feature.name}\n                    {feature.usedCurrency !== \"\" && feature.usedCurrency !== undefined\n                      ? \" (uses \" + feature.cost + \" \" + feature.usedCurrency + \")\"\n                      : \"\"}\n                    :\n                  </PropTitle>\n                  <FormatedText text={feature.text} />\n                  {feature.selections !== undefined &&\n                    feature.selections.map((selection) => {\n                      return (\n                        <>\n                          <PropTitle>Choose from {selection}</PropTitle>\n                          <br />\n                        </>\n                      );\n                    })}\n                </Text>\n              );\n            });\n          })}\n        </View>\n      </CenterWrapper>\n    </>\n  );\n};\n\nexport default ClasseView;\n\nconst CenterWrapper = styled.div`\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nconst View = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n  width: min-content;\n  min-width: 300px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n`;\n\nconst ImageView = styled(View)`\n  justify-content: flex-end;\n  flex: 1 1 300px;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst PropWrapper = styled.div`\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst Prop = styled.div`\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ${({ theme }) => theme.main.highlight};\n  }\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst FeatureWrapper = styled.table`\n  width: 100%;\n  padding: 0px;\n  margin: 2px 0px 2px 0px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst FeatureRow = styled.tr``;\n\nconst FeatureHeadProp = styled.th`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n`;\n\nconst FeatureProp = styled.td`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n  padding: 5px;\n  text-align: center;\n`;\n\nconst SpellProp = styled(FeatureProp)``;\n\nconst Text = styled.div`\n  height: auto;\n  width: calc(100% - 24px);\n  margin: 2px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst SubclasseLink = styled.span`\n  display: inline-block;\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  text-decoration: none;\n  color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  margin: 5px;\n  padding: 5px;\n  cursor: pointer;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\ninterface $ImageProps {\n  pic: string;\n}\n\nconst Image = ({ pic }: $ImageProps) => {\n  if (pic !== \"\") {\n    return <ImageElm src={pic}></ImageElm>;\n  } else {\n    return <Empty />;\n  }\n};\n\nconst ImageElm = styled.img`\n  margin: 5px;\n  max-height: 60vh;\n`;\nconst Empty = styled.div``;\n\nconst CreateButton = styled.button`\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 10px;\n  padding: 0px 5px 0px 5px;\n  margin: 5px;\n  border: none;\n  box-sizing: content-box;\n  height: 28px;\n  line-height: 28px;\n  float: right;\n  cursor: pointer;\n`;\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { reciveAllFiltered, createNewWithId } from \"../../../../services/DatabaseService\";\nimport Race from \"../../../../data/races/Race\";\nimport Trait from \"../../../../data/races/Trait\";\nimport Subrace from \"../../../../data/races/Subrace\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faLink, faPaperPlane, faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { GiUpgrade } from \"react-icons/gi\";\nimport FormatedText from \"../../../general_elements/FormatedText\";\nimport TextButton from \"../../../form_elements/TextButton\";\nimport P2PSender from \"../../../p2p/P2PSender\";\n\ninterface $Props {\n  race: Race;\n}\n\nconst RaceView = ({ race }: $Props) => {\n  const [send, setSend] = useState<boolean>(false);\n  const [subraces, setSubraces] = useState<Subrace[]>([]);\n  let history = useHistory();\n\n  useEffect(() => {\n    reciveAllFiltered(\n      \"subraces\",\n      [{ fieldName: \"type\", value: race.name, sort: 0 }],\n      (results: any[]) => {\n        setSubraces(results);\n      }\n    );\n  }, [race]);\n\n  const getPicture = useCallback(() => {\n    if (race !== undefined) {\n      if (race.picBase64 !== \"\" && race.picBase64 !== null && race.picBase64 !== undefined) {\n        return race.picBase64;\n      } else if (race.pic !== \"\" && race.pic !== null && race.pic !== undefined) {\n        return race.pic;\n      }\n    }\n    return \"\";\n  }, [race]);\n\n  const createNewSubrace = () => {\n    let newSubrace = new Subrace();\n    delete newSubrace.id;\n    newSubrace.type = race.name + \"|\" + race.sources;\n    createNewWithId(\"subraces\", newSubrace, (id) => {\n      history.push(`/subrace-detail/id/${id}`);\n    });\n  };\n\n  return (\n    <CenterWrapper>\n      {getPicture() !== \"\" ? (\n        <ImageView>\n          <Image pic={getPicture()}></Image>\n        </ImageView>\n      ) : (\n        \"\"\n      )}\n      <View>\n        <Name>\n          <b>{race.name}</b>\n        </Name>\n        <PropWrapper>\n          <Prop>\n            <GiUpgrade />\n            {race.abilityScores}\n          </Prop>\n          <Text>\n            <PropTitle>Age:</PropTitle>\n            <FormatedText text={race.age} />\n          </Text>\n          <Text>\n            <PropTitle>Alignment:</PropTitle>\n            <FormatedText text={race.alignment} />\n          </Text>\n          <Text>\n            <PropTitle>Size:</PropTitle>\n            <FormatedText text={race.size} />\n          </Text>\n          <Text>\n            <PropTitle>Speed:</PropTitle>\n            <FormatedText text={race.speed} />\n          </Text>\n          <Text>\n            <PropTitle>Language:</PropTitle>\n            <FormatedText text={race.lang} />\n          </Text>\n          <Text>\n            <PropTitle>Subraces:</PropTitle>\n            {subraces.length !== 0 &&\n              subraces.map((subrace: Subrace, index: number) => {\n                const link: string = \"/subrace-detail/id/\" + subrace.id;\n                return (\n                  <SubraceLink key={index} onClick={() => history.push(link)}>\n                    {subrace.name}\n                  </SubraceLink>\n                );\n              })}\n            <CreateButton onClick={() => createNewSubrace()}>\n              <FontAwesomeIcon icon={faPlusCircle} />\n            </CreateButton>\n          </Text>\n          <Prop>\n            <Icon icon={faLink} />\n            {race.sources}\n          </Prop>\n        </PropWrapper>\n        <PropWrapper>\n          {!send && (\n            <TextButton\n              text={`Send ${race.name}`}\n              icon={faPaperPlane}\n              onClick={() => setSend(true)}\n            />\n          )}\n          {!!send && <P2PSender data={race} mode={\"THIS\"} />}\n        </PropWrapper>\n      </View>\n      <View>\n        {race.traits.map((trait: Trait, index: number) => {\n          return (\n            <TraitWrapper>\n              <TraitName>{trait.name}</TraitName>\n              <TraitLevel>{trait.level}</TraitLevel>\n              <TraitText>\n                <FormatedText text={trait.text} />\n              </TraitText>\n            </TraitWrapper>\n          );\n        })}\n      </View>\n    </CenterWrapper>\n  );\n};\n\nexport default RaceView;\n\nconst CenterWrapper = styled.div`\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nconst View = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 auto;\n  max-width: 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n`;\n\nconst ImageView = styled(View)`\n  justify-content: flex-end;\n  flex: 1 1 300px;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst Prop = styled.div`\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ${({ theme }) => theme.main.highlight};\n  }\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst TraitWrapper = styled(PropWrapper)``;\nconst TraitName = styled.div`\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 3 3 auto;\n`;\nconst TraitLevel = styled(TraitName)`\n  flex: 1 1 auto;\n`;\nconst TraitText = styled(TraitName)`\n  flex: 4 4 auto;\n`;\n\nconst Text = styled.div`\n  height: auto;\n  width: calc(100% - 24px);\n  margin: 2px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst Link = styled.span`\n  display: inline-block;\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  text-decoration: none;\n  color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 10px;\n  padding: 0px 5px 0px 5px;\n  cursor: pointer;\n`;\n\nconst SubraceLink = styled(Link)`\n  font-size: 16px;\n  margin: 5px;\n  padding: 5px;\n  cursor: pointer;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\ninterface $ImageProps {\n  pic: string;\n}\n\nconst Image = ({ pic }: $ImageProps) => {\n  if (pic !== \"\") {\n    return <ImageElm src={pic}></ImageElm>;\n  } else {\n    return <Empty />;\n  }\n};\n\nconst ImageElm = styled.img`\n  margin: 5px;\n  max-height: 60vh;\n`;\nconst Empty = styled.div``;\n\nconst CreateButton = styled.button`\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 10px;\n  padding: 0px 5px 0px 5px;\n  margin: 5px;\n  border: none;\n  box-sizing: content-box;\n  height: 28px;\n  line-height: 28px;\n  float: right;\n  cursor: pointer;\n`;\n","import React, { useState } from \"react\";\nimport Trait from \"../../../../data/races/Trait\";\nimport Subrace from \"../../../../data/races/Subrace\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faLink, faPaperPlane } from \"@fortawesome/free-solid-svg-icons\";\nimport { GiUpgrade } from \"react-icons/gi\";\nimport FormatedText from \"../../../general_elements/FormatedText\";\nimport TextButton from \"../../../form_elements/TextButton\";\nimport P2PSender from \"../../../p2p/P2PSender\";\n\ninterface $Props {\n  subrace: Subrace;\n}\n\nconst SubraceView = ({ subrace }: $Props) => {\n  const [send, setSend] = useState<boolean>(false);\n  \n  return (\n    <CenterWrapper>\n      <View>\n        <Name>\n          <b>{subrace.name}</b>\n        </Name>\n        <PropWrapper>\n          <Prop>\n            <GiUpgrade />\n            {subrace.abilityScores}\n          </Prop>\n          <Prop>\n            <PropTitle>Race:</PropTitle>\n            {subrace.type}\n          </Prop>\n          <Prop>\n            <Icon icon={faLink} />\n            {subrace.sources}\n          </Prop>\n        </PropWrapper>\n      </View>\n      <View>\n        <PropWrapper>\n          {subrace.traits.map((trait: Trait, index: number) => {\n            return (\n              <TraitWrapper key={index}>\n                <TraitName>{trait.name}</TraitName>\n                <TraitLevel>{trait.level}</TraitLevel>\n                <TraitText>\n                  <FormatedText text={trait.text} />\n                </TraitText>\n              </TraitWrapper>\n            );\n          })}\n        </PropWrapper>\n      </View>\n      <View>\n        <PropWrapper>\n          {!send && (\n            <TextButton\n              text={`Send ${subrace.name}`}\n              icon={faPaperPlane}\n              onClick={() => setSend(true)}\n            />\n          )}\n          {!!send && <P2PSender data={subrace} mode={\"THIS\"} />}\n        </PropWrapper>\n      </View>\n    </CenterWrapper>\n  );\n};\n\nexport default SubraceView;\n\nconst CenterWrapper = styled.div`\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nconst View = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 auto;\n  max-width: 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst Prop = styled.div`\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ${({ theme }) => theme.main.highlight};\n  }\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst TraitWrapper = styled(PropWrapper)``;\nconst TraitName = styled.div`\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 3 3 auto;\n`;\nconst TraitLevel = styled(TraitName)`\n  flex: 1 1 auto;\n`;\nconst TraitText = styled(TraitName)`\n  flex: 4 4 auto;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Char from \"../../../../data/chars/Char\";\n\nimport IconButton from \"../../../form_elements/IconButton\";\nimport StringField from \"../../../form_elements/StringField\";\nimport { faCheckCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport DataSelectField from \"../../../form_elements/DataSelectField\";\n\ninterface $Props {\n  char: Char;\n  onChange: (character: Char) => void;\n  completed: (completed: boolean, nextTab: string) => void;\n}\n\nconst CharLabGeneral = ({ char, onChange, completed }: $Props) => {\n  return (\n    <CenterWrapper>\n      <CharView>\n        <StringField\n          value={char.name}\n          label=\"Name *\"\n          onChange={(name) => onChange({ ...char, name: name })}\n        />\n        <StringField\n          value={char.player}\n          label=\"Player *\"\n          onChange={(player) => onChange({ ...char, player: player })}\n        />\n        <DataSelectField\n          optionTable={[\"campaigns\"]}\n          value={char.campaign}\n          label=\"Campaign\"\n          onChange={(campaign) => onChange({ ...char, campaign: campaign })}\n        />\n        <StringField\n          value={char.pic}\n          label=\"Picture\"\n          onChange={(pic) => onChange({ ...char, pic: pic })}\n        />\n        <IconButton\n          icon={faCheckCircle}\n          disabled={!(char && char.name.length > 1 && char.player.length > 1)}\n          onClick={() => completed(true, \"Class\")}\n        />\n      </CharView>\n    </CenterWrapper>\n  );\n};\n\nexport default CharLabGeneral;\n\nconst CenterWrapper = styled.div`\n  overflow: visible;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst CharView = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: stretch;\n`;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Char from \"../../../../data/chars/Char\";\nimport Class from \"../../../../data/classes/Class\";\nimport ClassSet from \"../../../../data/chars/ClassSet\";\nimport Subclass from \"../../../../data/classes/Subclass\";\n\nimport IconButton from \"../../../form_elements/IconButton\";\nimport { faCheckCircle, faPlus, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport NumberField from \"../../../form_elements/NumberField\";\nimport TextButton from \"../../../form_elements/TextButton\";\nimport SingleSelectField from \"../../../form_elements/SingleSelectField\";\nimport { reciveAll } from \"../../../../services/DatabaseService\";\nimport ClasseView from \"../../classes/details/ClasseView\";\n\ninterface $Props {\n  char: Char;\n  onChange: (character: Char) => void;\n  completed: (completed: boolean, nextTab: string) => void;\n}\n\nconst CharLabClass = ({ char, onChange, completed }: $Props) => {\n  const [classes, setClasses] = useState<Class[]>([]);\n  const [subclasses, setSubclasses] = useState<Subclass[]>([]);\n\n  useEffect(() => {\n    reciveAll(\"classes\", (results: any[]) => {\n      setClasses(results);\n    });\n    reciveAll(\"subclasses\", (results: any[]) => {\n      setSubclasses(results);\n    });\n  }, []);\n\n  const removeClass = (oldClass: ClassSet) => {\n    let newClassList = char.classes.filter((classe) => classe !== oldClass);\n    onChange({ ...char, classes: newClassList });\n  };\n  const addNewClass = () => {\n    let newClassList = char.classes;\n    newClassList.push({ classe: \"\", subclasse: \"\", level: 0 });\n    onChange({ ...char, classes: newClassList });\n  };\n  const changeClassLevel = useCallback(\n    (oldClassSet: ClassSet, level: number) => {\n      let classes = char.classes.map((classSet: ClassSet) => {\n        if (classSet === oldClassSet) {\n          return { ...classSet, level: level };\n        } else {\n          return classSet;\n        }\n      });\n      onChange({ ...char, classes: classes });\n    },\n    [char, onChange]\n  );\n  const changeClass = useCallback(\n    (oldClassSet: ClassSet, classe: string) => {\n      let classes = char.classes.map((classSet: ClassSet) => {\n        if (classSet === oldClassSet) {\n          return { ...classSet, classe: classe };\n        } else {\n          return classSet;\n        }\n      });\n      onChange({ ...char, classes: classes });\n    },\n    [char, onChange]\n  );\n  const changeClassSubclass = useCallback(\n    (oldClassSet: ClassSet, subclass: string) => {\n      let classes = char.classes.map((classSet: ClassSet) => {\n        if (classSet === oldClassSet) {\n          return { ...classSet, subclasse: subclass };\n        } else {\n          return classSet;\n        }\n      });\n      onChange({ ...char, classes: classes });\n    },\n    [char, onChange]\n  );\n\n  return (\n    <CenterWrapper>\n      <CharView>\n        {classes &&\n          subclasses &&\n          char.classes.map((classSet: ClassSet, index: number) => {\n            return (\n              <PropWrapper key={index}>\n                <NumberField\n                  value={classSet.level}\n                  label=\"Level *\"\n                  onChange={(level) => changeClassLevel(classSet, level)}\n                />\n                <IconButton icon={faTrash} onClick={() => removeClass(classSet)} />\n                <SingleSelectField\n                  options={classes?.map((c) => {\n                    return { value: c.name + \"|\" + c.sources, label: c.name + \"|\" + c.sources };\n                  })}\n                  value={classSet.classe}\n                  label=\"Class *\"\n                  onChange={(classe) => changeClass(classSet, classe)}\n                />\n                <SingleSelectField\n                  options={subclasses\n                    ?.filter((s) => s.type === classSet.classe.split(\"|\")[0])\n                    .map((c) => {\n                      return { value: c.name + \"|\" + c.sources, label: c.name + \"|\" + c.sources };\n                    })}\n                  value={classSet.subclasse}\n                  label=\"Subclass\"\n                  onChange={(subclasse) => changeClassSubclass(classSet, subclasse)}\n                />\n              </PropWrapper>\n            );\n          })}\n        <TextButton text={\"Add new Class\"} icon={faPlus} onClick={() => addNewClass()} />\n        <IconButton\n          icon={faCheckCircle}\n          disabled={\n            !(\n              char &&\n              char.classes.length > 0 &&\n              char.classes[0].classe.length > 1 &&\n              char.classes[0].level > 0\n            )\n          }\n          onClick={() => completed(true, \"Race\")}\n        />\n        <PropWrapper>\n          {classes &&\n            char.classes.map((classSet: ClassSet, index: number) => {\n              return classes\n                .filter(\n                  (c) =>\n                    c.name === classSet.classe.split(\"|\")[0] &&\n                    c.sources === classSet.classe.split(\"|\")[1]\n                )\n                .map((classe, i: number) => {\n                  return <ClasseView key={index + i} classe={classe} />;\n                });\n            })}\n        </PropWrapper>\n      </CharView>\n    </CenterWrapper>\n  );\n};\n\nexport default CharLabClass;\n\nconst CenterWrapper = styled.div`\n  overflow: visible;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst CharView = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: stretch;\n`;\n\nconst PropWrapper = styled.div`\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Char from \"../../../../data/chars/Char\";\nimport Race from \"../../../../data/races/Race\";\nimport Subrace from \"../../../../data/races/Subrace\";\nimport Class from \"../../../../data/classes/Class\";\nimport {\n  reciveAll,\n  recivePromiseByAttribute,\n  recivePromiseByMultiAttribute,\n} from \"../../../../services/DatabaseService\";\n\nimport IconButton from \"../../../form_elements/IconButton\";\nimport { faCheckCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport FormatedText from \"../../../general_elements/FormatedText\";\nimport SingleSelectField from \"../../../form_elements/SingleSelectField\";\nimport ClassSet from \"../../../../data/chars/ClassSet\";\nimport RaceView from \"../../races/details/RaceView\";\nimport SubraceView from \"../../subraces/details/SubraceView\";\n\ninterface $Props {\n  char: Char;\n  onChange: (character: Char) => void;\n  completed: (completed: boolean, nextTab: string) => void;\n}\n\nconst CharLabRace = ({ char, onChange, completed }: $Props) => {\n  const [classes, setClasses] = useState<Class[]>([]);\n\n  const [races, setRaces] = useState<Race[]>();\n  const [subraces, setSubraces] = useState<Subrace[]>();\n\n  useEffect(() => {\n    let classList: Promise<Class>[] = [];\n    char.classes.forEach((classe: ClassSet) => {\n      let [name, sources] = classe.classe.split(\"|\");\n      if (sources !== undefined) {\n        classList.push(recivePromiseByMultiAttribute(\"classes\", { name: name, sources: sources }));\n      } else {\n        classList.push(recivePromiseByAttribute(\"classes\", \"name\", name));\n      }\n    });\n    Promise.all(classList).then(setClasses);\n  }, [char.classes]);\n\n  useEffect(() => {\n    reciveAll(\"races\", (results: any[]) => {\n      setRaces(results);\n    });\n    reciveAll(\"subraces\", (results: any[]) => {\n      setSubraces(results);\n    });\n  }, []);\n\n  return (\n    <>\n      <CenterWrapper>\n        <CharView>\n          <PropWrapper>\n            {classes &&\n              classes.map((classe: Class, index: number) => {\n                return (\n                  <Text key={index}>\n                    <PropTitle>{classe.name + \"|\" + classe.sources}:</PropTitle>\n                    <FormatedText text={classe.proficiencies} />\n                  </Text>\n                );\n              })}\n          </PropWrapper>\n        </CharView>\n      </CenterWrapper>\n      <CenterWrapper>\n        {races && subraces && (\n          <CharView>\n            <SingleSelectField\n              options={races?.map((c) => {\n                return { value: c.name + \"|\" + c.sources, label: c.name + \"|\" + c.sources };\n              })}\n              value={char.race.race}\n              label=\"Race *\"\n              onChange={(race) => onChange({ ...char, race: { ...char.race, race: race } })}\n            />\n            <SingleSelectField\n              options={subraces\n                ?.filter(\n                  (s) =>\n                    s.type === char.race.race.split(\"|\")[0] ||\n                    (char.race.race.split(\"|\")[1] !== undefined ? s.type === char.race.race : false)\n                )\n                .map((c) => {\n                  return { value: c.name + \"|\" + c.sources, label: c.name + \"|\" + c.sources };\n                })}\n              value={char.race.subrace}\n              label=\"Subrace\"\n              onChange={(subrace) =>\n                onChange({ ...char, race: { ...char.race, subrace: subrace } })\n              }\n            />\n            <IconButton\n              icon={faCheckCircle}\n              disabled={!(char && char.race && char.race.race.length > 1)}\n              onClick={() => completed(true, \"Background\")}\n            />\n            <PropWrapper>\n              {char.race &&\n                races\n                  .filter(\n                    (r) =>\n                      r.name === char.race.race.split(\"|\")[0] &&\n                      r.sources === char.race.race.split(\"|\")[1]\n                  )\n                  .map((race) => {\n                    return <RaceView race={race} />;\n                  })}\n              {char.race.subrace &&\n                subraces\n                  .filter(\n                    (r) =>\n                      r.name === char.race.subrace.split(\"|\")[0] &&\n                      r.sources === char.race.subrace.split(\"|\")[1]\n                  )\n                  .map((subrace) => {\n                    return <SubraceView subrace={subrace} />;\n                  })}\n            </PropWrapper>\n          </CharView>\n        )}\n      </CenterWrapper>\n    </>\n  );\n};\n\nexport default CharLabRace;\n\nconst CenterWrapper = styled.div`\n  overflow: visible;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst CharView = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: stretch;\n`;\n\nconst PropWrapper = styled.div`\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst Text = styled.div`\n  height: auto;\n  width: calc(100% - 20px);\n  margin: 0 0 5px 0;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Char from \"../../../../data/chars/Char\";\nimport Saves from \"../../../../data/chars/Saves\";\nimport Skills from \"../../../../data/chars/Skills\";\nimport Class from \"../../../../data/classes/Class\";\nimport Race from \"../../../../data/races/Race\";\nimport Subrace from \"../../../../data/races/Subrace\";\nimport { recivePromiseByMultiAttribute } from \"../../../../services/DatabaseService\";\n\nimport IconButton from \"../../../form_elements/IconButton\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faAngleDoubleUp,\n  faAngleUp,\n  faCheckCircle,\n  faMinus,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport NumberField from \"../../../form_elements/NumberField\";\nimport FormatedText from \"../../../general_elements/FormatedText\";\nimport { calcProf } from \"../../../../services/CharacterService\";\nimport ClassSet from \"../../../../data/chars/ClassSet\";\nimport Background from \"../../../../data/Background\";\n\ninterface $Props {\n  char: Char;\n  onChange: (character: Char) => void;\n  completed: (completed: boolean, nextTab: string) => void;\n}\n\nconst CharLabAbilities = ({ char, onChange, completed }: $Props) => {\n  const [classes, setClasses] = useState<Class[]>([]);\n  const [race, setRace] = useState<Race>();\n  const [subrace, setSubrace] = useState<Subrace>();\n  const [background, setBackground] = useState<Background>();\n\n  useEffect(() => {\n    let classList: Promise<Class>[] = [];\n    char.classes.forEach((classe: ClassSet) => {\n      let [name, sources] = classe.classe.split(\"|\");\n      classList.push(recivePromiseByMultiAttribute(\"classes\", { name: name, sources: sources }));\n    });\n    Promise.all(classList).then(setClasses);\n  }, [char.classes]);\n\n  useEffect(() => {\n    if (char.race && char.race.race.length > 1) {\n      let [name, sources] = char.race.race.split(\"|\");\n      recivePromiseByMultiAttribute(\"races\", { name: name, sources: sources }).then(setRace);\n    }\n    if (char.race && char.race.subrace.length > 1) {\n      let [name, sources] = char.race.subrace.split(\"|\");\n      recivePromiseByMultiAttribute(\"subraces\", { name: name, sources: sources }).then(setSubrace);\n    }\n    if (char.background) {\n      let [name, sources] = char.background.split(\"|\");\n      recivePromiseByMultiAttribute(\"backgrounds\", { name: name, sources: sources }).then(\n        setBackground\n      );\n    }\n  }, [char]);\n\n  const formatProf = useCallback((prof: number) => {\n    if (prof === undefined || prof === 0) {\n      return faMinus;\n    } else if (prof === 1) {\n      return faAngleUp;\n    } else {\n      return faAngleDoubleUp;\n    }\n  }, []);\n\n  const formatScore = useCallback((score: number) => {\n    let mod = Math.floor((score - 10) / 2);\n    return mod;\n  }, []);\n\n  const calcSkill = useCallback(\n    (skillProf: number, stat: number) => {\n      return skillProf * calcProf(char) + formatScore(stat);\n    },\n    [formatScore, char]\n  );\n\n  const changeProf = useCallback(\n    (profName: string) => {\n      const skills: Skills = char.skills;\n      let profValue = skills[profName];\n      profValue = (profValue + 1) % 3;\n      onChange({ ...char, skills: { ...char.skills, [profName]: profValue } });\n    },\n    [char, onChange]\n  );\n\n  const changeSaveProf = useCallback(\n    (profName: string) => {\n      const saves: Saves = char.saves;\n      let profValue = saves[profName];\n      profValue = (profValue + 1) % 2;\n      onChange({ ...char, saves: { ...char.saves, [profName]: profValue } });\n    },\n    [char, onChange]\n  );\n\n  return (\n    <>\n      <CenterWrapper>\n        <CharView>\n          <PropWrapper>\n            {classes &&\n              classes.map((classe: Class, index: number) => {\n                return (\n                  <Text key={index}>\n                    <PropTitle>{classe.name}:</PropTitle>\n                    <FormatedText text={classe.proficiencies} />\n                  </Text>\n                );\n              })}\n            <Text>\n              {race && (\n                <>\n                  <PropTitle>{race.name}:</PropTitle>\n                  <FormatedText text={race.abilityScores} />\n                </>\n              )}\n              <br />\n              {subrace && (\n                <>\n                  <PropTitle>{subrace.name}:</PropTitle>\n                  <FormatedText text={subrace.abilityScores} />\n                </>\n              )}\n            </Text>\n            <Text>\n              {background && (\n                <>\n                  <PropTitle>{background.name}:</PropTitle>\n                  <FormatedText text={background.proficiencies} />\n                </>\n              )}\n            </Text>\n          </PropWrapper>\n        </CharView>\n      </CenterWrapper>\n      <CenterWrapper>\n        <CharView>\n          <NumberField\n            value={char.str}\n            label=\"Strength\"\n            onChange={(str) => onChange({ ...char, str: str })}\n          />\n          <NumberField\n            value={char.dex}\n            label=\"Dexterity\"\n            onChange={(dex) => onChange({ ...char, dex: dex })}\n          />\n          <NumberField\n            value={char.con}\n            label=\"Constitution\"\n            onChange={(con) => onChange({ ...char, con: con })}\n          />\n          <NumberField\n            value={char.int}\n            label=\"Intelligence\"\n            onChange={(int) => onChange({ ...char, int: int })}\n          />\n          <NumberField\n            value={char.wis}\n            label=\"Wisdom\"\n            onChange={(wis) => onChange({ ...char, wis: wis })}\n          />\n          <NumberField\n            value={char.cha}\n            label=\"Charisma\"\n            onChange={(cha) => onChange({ ...char, cha: cha })}\n          />\n          <IconButton\n            icon={faCheckCircle}\n            disabled={\n              !(\n                char &&\n                char.str > 0 &&\n                char.dex > 0 &&\n                char.con > 0 &&\n                char.int > 0 &&\n                char.wis > 0 &&\n                char.cha > 0\n              )\n            }\n            onClick={() => completed(true, \"Equipment\")}\n          />\n          <PropWrapper>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Str Save:</PropTitle>\n                {calcSkill(char.saves.strSaveProf, char.str)}\n              </PropText>\n              <PropProf onClick={(e) => changeSaveProf(\"strSaveProf\")}>\n                <Icon icon={formatProf(char.saves.strSaveProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Dex Save:</PropTitle>\n                {calcSkill(char.saves.dexSaveProf, char.dex)}\n              </PropText>\n              <PropProf onClick={(e) => changeSaveProf(\"dexSaveProf\")}>\n                <Icon icon={formatProf(char.saves.dexSaveProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Con Save:</PropTitle>\n                {calcSkill(char.saves.conSaveProf, char.con)}\n              </PropText>\n              <PropProf onClick={(e) => changeSaveProf(\"conSaveProf\")}>\n                <Icon icon={formatProf(char.saves.conSaveProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Int Save:</PropTitle>\n                {calcSkill(char.saves.intSaveProf, char.int)}\n              </PropText>\n              <PropProf onClick={(e) => changeSaveProf(\"intSaveProf\")}>\n                <Icon icon={formatProf(char.saves.intSaveProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Wis Save:</PropTitle>\n                {calcSkill(char.saves.wisSaveProf, char.wis)}\n              </PropText>\n              <PropProf onClick={(e) => changeSaveProf(\"wisSaveProf\")}>\n                <Icon icon={formatProf(char.saves.wisSaveProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Cha Save:</PropTitle>\n                {calcSkill(char.saves.chaSaveProf, char.cha)}\n              </PropText>\n              <PropProf onClick={(e) => changeSaveProf(\"chaSaveProf\")}>\n                <Icon icon={formatProf(char.saves.chaSaveProf)} />\n              </PropProf>\n            </PropWithProf>\n          </PropWrapper>\n          <PropWrapper>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Acrobatics:</PropTitle>\n                {calcSkill(char.skills.acrobaticsProf, char.dex)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"acrobaticsProf\")}>\n                <Icon icon={formatProf(char.skills.acrobaticsProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Animal Handling:</PropTitle>\n                {calcSkill(char.skills.animalHandlingProf, char.wis)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"animalHandlingProf\")}>\n                <Icon icon={formatProf(char.skills.animalHandlingProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Arcana:</PropTitle>\n                {calcSkill(char.skills.arcanaProf, char.int)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"arcanaProf\")}>\n                <Icon icon={formatProf(char.skills.arcanaProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Athletics:</PropTitle>\n                {calcSkill(char.skills.athleticsProf, char.str)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"athleticsProf\")}>\n                <Icon icon={formatProf(char.skills.athleticsProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Deception:</PropTitle>\n                {calcSkill(char.skills.deceptionProf, char.cha)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"deceptionProf\")}>\n                <Icon icon={formatProf(char.skills.deceptionProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>History:</PropTitle>\n                {calcSkill(char.skills.historyProf, char.int)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"historyProf\")}>\n                <Icon icon={formatProf(char.skills.historyProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Insight:</PropTitle>\n                {calcSkill(char.skills.insightProf, char.wis)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"insightProf\")}>\n                <Icon icon={formatProf(char.skills.insightProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Intimidation:</PropTitle>\n                {calcSkill(char.skills.intimidationProf, char.cha)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"intimidationProf\")}>\n                <Icon icon={formatProf(char.skills.intimidationProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Investigation:</PropTitle>\n                {calcSkill(char.skills.investigationProf, char.int)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"investigationProf\")}>\n                <Icon icon={formatProf(char.skills.investigationProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Medicine:</PropTitle>\n                {calcSkill(char.skills.medicineProf, char.wis)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"medicineProf\")}>\n                <Icon icon={formatProf(char.skills.medicineProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Nature:</PropTitle>\n                {calcSkill(char.skills.natureProf, char.int)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"natureProf\")}>\n                <Icon icon={formatProf(char.skills.natureProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Perception:</PropTitle>\n                {calcSkill(char.skills.perceptionProf, char.wis)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"perceptionProf\")}>\n                <Icon icon={formatProf(char.skills.perceptionProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Performance:</PropTitle>\n                {calcSkill(char.skills.performanceProf, char.cha)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"performanceProf\")}>\n                <Icon icon={formatProf(char.skills.performanceProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Persuasion:</PropTitle>\n                {calcSkill(char.skills.persuasionProf, char.cha)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"persuasionProf\")}>\n                <Icon icon={formatProf(char.skills.persuasionProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Religion:</PropTitle>\n                {calcSkill(char.skills.religionProf, char.int)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"religionProf\")}>\n                <Icon icon={formatProf(char.skills.religionProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Sleight Of Hand:</PropTitle>\n                {calcSkill(char.skills.sleightOfHandProf, char.dex)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"sleightOfHandProf\")}>\n                <Icon icon={formatProf(char.skills.sleightOfHandProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Stealth:</PropTitle>\n                {calcSkill(char.skills.stealthProf, char.dex)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"stealthProf\")}>\n                <Icon icon={formatProf(char.skills.stealthProf)} />\n              </PropProf>\n            </PropWithProf>\n            <PropWithProf>\n              <PropText>\n                <PropTitle>Survival:</PropTitle>\n                {calcSkill(char.skills.survivalProf, char.wis)}\n              </PropText>\n              <PropProf onClick={(e) => changeProf(\"survivalProf\")}>\n                <Icon icon={formatProf(char.skills.survivalProf)} />\n              </PropProf>\n            </PropWithProf>\n          </PropWrapper>\n        </CharView>\n      </CenterWrapper>\n    </>\n  );\n};\n\nexport default CharLabAbilities;\n\nconst CenterWrapper = styled.div`\n  overflow: visible;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst CharView = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: stretch;\n`;\n\nconst PropWrapper = styled.div`\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst PropWithProf = styled.div`\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n\n  display: flex;\n`;\n\nconst PropText = styled.div`\n  flex: 2 2 auto;\n  height: auto;\n  margin: 2px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst Text = styled.div`\n  height: auto;\n  width: calc(100% - 20px);\n  margin: 0 0 5px 0;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst PropProf = styled.div`\n  flex: 1 1;\n  max-width: max-content;\n  height: auto;\n  margin: 2px;\n  padding: 10px;\n  border-radius: 30px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n\n  svg {\n    width: 17px !important;\n    height: 17px !important;\n    margin: 0;\n  }\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Char from \"../../../../data/chars/Char\";\nimport Class from \"../../../../data/classes/Class\";\nimport { recivePromiseByMultiAttribute } from \"../../../../services/DatabaseService\";\n\nimport IconButton from \"../../../form_elements/IconButton\";\nimport { faCheckCircle, faPlus, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport AutoStringField from \"../../../form_elements/AutoStringField\";\nimport FormatedText from \"../../../general_elements/FormatedText\";\nimport CheckField from \"../../../form_elements/CheckField\";\nimport EnumField from \"../../../form_elements/EnumField\";\nimport TextButton from \"../../../form_elements/TextButton\";\nimport ClassSet from \"../../../../data/chars/ClassSet\";\n\ninterface $Props {\n  char: Char;\n  onChange: (character: Char) => void;\n  completed: (completed: boolean, nextTab: string) => void;\n}\n\nconst CharLabEquipment = ({ char, onChange, completed }: $Props) => {\n  const [classes, setClasses] = useState<Class[]>([]);\n\n  useEffect(() => {\n    let classList: Promise<Class>[] = [];\n    char.classes.forEach((classe: ClassSet) => {\n      let [name, sources] = classe.classe.split(\"|\");\n      classList.push(recivePromiseByMultiAttribute(\"classes\", { name: name, sources: sources }));\n    });\n    Promise.all(classList).then(setClasses);\n  }, [char.classes]);\n\n  const removeItem = (oldItem: {\n    origin: string;\n    attuned: boolean;\n    prof: boolean;\n    attribute: string;\n  }) => {\n    let newItemList = char.items.filter((item) => item.origin !== oldItem.origin);\n    onChange({ ...char, items: newItemList });\n  };\n  const addNewItem = () => {\n    let newItemList = char.items;\n    newItemList.push({\n      origin: \"\",\n      attuned: false,\n      prof: false,\n      attribute: \"str\",\n    });\n    onChange({ ...char, items: newItemList });\n  };\n  const onChangeItem = (newItem: string, i: number) => {\n    let items = char.items;\n    items[i].origin = newItem;\n    onChange({ ...char, items: items });\n  };\n  const onChangeItemAttribute = (\n    newItem: {\n      origin: string;\n      attuned: boolean;\n      prof: boolean;\n      attribute: string;\n    },\n    i: number\n  ) => {\n    let items = char.items;\n    items[i] = newItem;\n    onChange({ ...char, items: items });\n  };\n\n  return (\n    <>\n      <CenterWrapper>\n        <CharView>\n          <PropWrapper>\n            {classes &&\n              classes.map((classe: Class, index: number) => {\n                return (\n                  <Text key={index}>\n                    <PropTitle>{classe.name}:</PropTitle>\n                    <FormatedText text={classe.proficiencies} />\n                    <br />\n                    <FormatedText text={classe.equipment} />\n                  </Text>\n                );\n              })}\n          </PropWrapper>\n        </CharView>\n      </CenterWrapper>\n      <CenterWrapper>\n        <CharView>\n          {char.items.map(\n            (\n              item: {\n                origin: string;\n                attuned: boolean;\n                prof: boolean;\n                attribute: string;\n              },\n              index: number\n            ) => {\n              return (\n                <Container key={index}>\n                  <AutoStringField\n                    optionTable={[\"items\", \"gears\"]}\n                    value={item.origin}\n                    label=\"Item\"\n                    onChange={(newItem) => onChangeItem(newItem, index)}\n                  />\n                  <CheckField\n                    value={!!item.attuned}\n                    label=\"Attunment\"\n                    onChange={(attunment) =>\n                      onChangeItemAttribute(\n                        {\n                          ...item,\n                          attuned: attunment,\n                        },\n                        index\n                      )\n                    }\n                  />\n                  <CheckField\n                    value={!!item.prof}\n                    label=\"Prof\"\n                    onChange={(prof) => onChangeItemAttribute({ ...item, prof: prof }, index)}\n                  />\n                  <EnumField\n                    options={[\n                      { value: \"str\", label: \"Str\" },\n                      { value: \"dex\", label: \"Dex\" },\n                      { value: \"con\", label: \"Con\" },\n                      { value: \"int\", label: \"Int\" },\n                      { value: \"wis\", label: \"Wis\" },\n                      { value: \"cha\", label: \"Cha\" },\n                    ]}\n                    value={{\n                      value: item.attribute,\n                      label: item.attribute.charAt(0).toUpperCase() + item.attribute.slice(1),\n                    }}\n                    label=\"Attribute\"\n                    onChange={(type) => onChangeItemAttribute({ ...item, attribute: type }, index)}\n                  />\n                  <IconButton icon={faTrash} onClick={() => removeItem(item)} />\n                </Container>\n              );\n            }\n          )}\n          <TextButton text={\"Add new Item\"} icon={faPlus} onClick={() => addNewItem()} />\n          <IconButton\n            icon={faCheckCircle}\n            disabled={!(char && char.race && char.race.race.length > 1)}\n            onClick={() => completed(true, \"Finished\")}\n          />\n        </CharView>\n      </CenterWrapper>\n    </>\n  );\n};\n\nexport default CharLabEquipment;\n\nconst CenterWrapper = styled.div`\n  overflow: visible;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst CharView = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: stretch;\n`;\n\nconst PropWrapper = styled.div`\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst Text = styled.div`\n  height: auto;\n  width: calc(100% - 20px);\n  margin: 0 0 5px 0;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  flex: 1 1 600px;\n`;\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Char from \"../../../../data/chars/Char\";\nimport Race from \"../../../../data/races/Race\";\nimport Subrace from \"../../../../data/races/Subrace\";\nimport Class from \"../../../../data/classes/Class\";\nimport {\n  reciveAll,\n  recivePromiseByAttribute,\n  recivePromiseByMultiAttribute,\n} from \"../../../../services/DatabaseService\";\n\nimport IconButton from \"../../../form_elements/IconButton\";\nimport { faCheckCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport FormatedText from \"../../../general_elements/FormatedText\";\nimport SingleSelectField from \"../../../form_elements/SingleSelectField\";\nimport ClassSet from \"../../../../data/chars/ClassSet\";\nimport Background from \"../../../../data/Background\";\n\ninterface $Props {\n  char: Char;\n  onChange: (character: Char) => void;\n  completed: (completed: boolean, nextTab: string) => void;\n}\n\nconst CharLabBackground = ({ char, onChange, completed }: $Props) => {\n  const [classes, setClasses] = useState<Class[]>([]);\n  const [race, setRace] = useState<Race>();\n  const [subrace, setSubrace] = useState<Subrace>();\n  const [backgrounds, setBackgrounds] = useState<Background[]>();\n\n  useEffect(() => {\n    let classList: Promise<Class>[] = [];\n    char.classes.forEach((classe: ClassSet) => {\n      let [name, sources] = classe.classe.split(\"|\");\n      if (sources !== undefined) {\n        classList.push(recivePromiseByMultiAttribute(\"classes\", { name: name, sources: sources }));\n      } else {\n        classList.push(recivePromiseByAttribute(\"classes\", \"name\", name));\n      }\n    });\n    Promise.all(classList).then(setClasses);\n  }, [char.classes]);\n\n  useEffect(() => {\n    if (char.race && char.race.race.length > 1) {\n      let [name, sources] = char.race.race.split(\"|\");\n      recivePromiseByMultiAttribute(\"races\", { name: name, sources: sources }).then(setRace);\n    }\n  }, [char]);\n\n  useEffect(() => {\n    if (char.race && char.race.subrace.length > 1) {\n      let [name, sources] = char.race.subrace.split(\"|\");\n      recivePromiseByMultiAttribute(\"subraces\", { name: name, sources: sources }).then(setSubrace);\n    }\n  }, [char]);\n\n  useEffect(() => {\n    reciveAll(\"backgrounds\", (results: any[]) => {\n      setBackgrounds(results);\n    });\n  }, []);\n\n  return (\n    <>\n      <CenterWrapper>\n        <CharView>\n          <PropWrapper>\n            {classes &&\n              classes.map((classe: Class, index: number) => {\n                return (\n                  <Text key={index}>\n                    <PropTitle>{classe.name}:</PropTitle>\n                    <FormatedText text={classe.proficiencies} />\n                  </Text>\n                );\n              })}\n            <Text>\n              {race && (\n                <>\n                  <PropTitle>{race.name}:</PropTitle>\n                  <FormatedText text={race.abilityScores} />\n                </>\n              )}\n              <br />\n              {subrace && (\n                <>\n                  <PropTitle>{subrace.name}:</PropTitle>\n                  <FormatedText text={subrace.abilityScores} />\n                </>\n              )}\n            </Text>\n          </PropWrapper>\n        </CharView>\n      </CenterWrapper>\n      <CenterWrapper>\n        {backgrounds && (\n          <CharView>\n            <SingleSelectField\n              options={backgrounds?.map((c) => {\n                return { value: c.name + \"|\" + c.sources, label: c.name + \"|\" + c.sources };\n              })}\n              value={char.background}\n              label=\"Background *\"\n              onChange={(background) => onChange({ ...char, background: background })}\n            />\n            <IconButton\n              icon={faCheckCircle}\n              disabled={!(char && char.background)}\n              onClick={() => completed(true, \"Abilities\")}\n            />\n            <PropWrapper>\n              {char.background &&\n                backgrounds\n                  .filter(\n                    (r) =>\n                      r.name === char.background.split(\"|\")[0] &&\n                      r.sources === char.background.split(\"|\")[1]\n                  )\n                  .map((background) => {\n                    return (\n                      <Text>\n                        <PropTitle>{background.name}:</PropTitle>\n                        <FormatedText text={background.proficiencies} />\n                        <br />\n                        <FormatedText text={background.description} />\n                      </Text>\n                    );\n                  })}\n            </PropWrapper>\n          </CharView>\n        )}\n      </CenterWrapper>\n    </>\n  );\n};\n\nexport default CharLabBackground;\n\nconst CenterWrapper = styled.div`\n  overflow: visible;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst CharView = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: stretch;\n`;\n\nconst PropWrapper = styled.div`\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst Text = styled.div`\n  height: auto;\n  width: calc(100% - 20px);\n  margin: 0 0 5px 0;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\nimport { saveWithCallback } from \"../../../../services/DatabaseService\";\nimport Char from \"../../../../data/chars/Char\";\n\nimport { faCheckCircle, faEdit } from \"@fortawesome/free-solid-svg-icons\";\nimport IconButton from \"../../../form_elements/IconButton\";\nimport TabBar from \"../../../general_elements/TabBar\";\nimport CharLabGeneral from \"./CharLabGeneral\";\nimport CharLabClass from \"./CharLabClass\";\nimport CharLabRace from \"./CharLabRace\";\nimport CharLabAbilities from \"./CharLabAbilities\";\nimport CharLabEquipment from \"./CharLabEquipment\";\nimport { useQuery } from \"../../../../hooks/QueryHook\";\nimport CharLabBackground from \"./CharLabBackground\";\nimport { recalcClasses } from \"../../../../services/CharacterService\";\n\nconst CharLab = () => {\n  let history = useHistory();\n  const name = useQuery().get(\"name\");\n  const [activeTab, setTab] = useState<string>(\"General\");\n  const [newChar, updateChar] = useState<Char>(new Char(-1, name !== null ? name : \"\"));\n\n  const [completedGeneral, setGeneral] = useState<boolean>(false);\n  const [completedClass, setClass] = useState<boolean>(false);\n  const [completedRace, setRace] = useState<boolean>(false);\n  const [completedBackground, setBackground] = useState<boolean>(false);\n  const [completedAbilities, setAbilities] = useState<boolean>(false);\n  const [completedEquipment, setEquipment] = useState<boolean>(false);\n\n  const updateGeneral = (value: boolean, nextTab: string) => {\n    setGeneral(value);\n    setTab(nextTab);\n  };\n  const updateClass = (value: boolean, nextTab: string) => {\n    setClass(value);\n    setTab(nextTab);\n  };\n  const updateRace = (value: boolean, nextTab: string) => {\n    setRace(value);\n    setTab(nextTab);\n  };\n  const updateBackground = (value: boolean, nextTab: string) => {\n    setBackground(value);\n    setTab(nextTab);\n  };\n  const updateAbilities = (value: boolean, nextTab: string) => {\n    setAbilities(value);\n    setTab(nextTab);\n  };\n  const updateEquipment = (value: boolean, nextTab: string) => {\n    setEquipment(value);\n    setTab(nextTab);\n  };\n\n  const saveChar = () => {\n    recalcClasses(newChar).then((updatedChar) => {\n      delete updatedChar[\"id\"];\n      saveWithCallback(\"chars\", updatedChar, (result) => {\n        history.push(`/char-detail/id/${result}`);\n      });\n    });\n  };\n\n  return (\n    <>\n      <TabBar\n        children={[\"General\", \"Class\", \"Race\", \"Background\", \"Abilities\", \"Equipment\", \"Finished\"]}\n        onChange={(tab: string) => setTab(tab)}\n        activeTab={activeTab}\n      />\n      <CenterWrapper>\n        <View>\n          {activeTab === \"General\" && (\n            <>\n              {!completedGeneral && (\n                <CharLabGeneral char={newChar} onChange={updateChar} completed={updateGeneral} />\n              )}\n              {completedGeneral && (\n                <PropWrapper>\n                  <Prop>Would you like to edit general again? </Prop>\n                  <IconButton icon={faEdit} onClick={() => setGeneral(false)} />\n                </PropWrapper>\n              )}\n            </>\n          )}\n          {activeTab === \"Class\" && (\n            <>\n              {!completedClass && (\n                <CharLabClass char={newChar} onChange={updateChar} completed={updateClass} />\n              )}\n              {completedClass && (\n                <PropWrapper>\n                  <Prop>Would you like to edit classes again? </Prop>\n                  <IconButton icon={faEdit} onClick={() => setClass(false)} />\n                </PropWrapper>\n              )}\n            </>\n          )}\n          {activeTab === \"Race\" && (\n            <>\n              {!completedRace && (\n                <CharLabRace char={newChar} onChange={updateChar} completed={updateRace} />\n              )}\n              {completedRace && (\n                <PropWrapper>\n                  <Prop>Would you like to edit the race again? </Prop>\n                  <IconButton icon={faEdit} onClick={() => setRace(false)} />\n                </PropWrapper>\n              )}\n            </>\n          )}\n          {activeTab === \"Background\" && (\n            <>\n              {!completedBackground && (\n                <CharLabBackground\n                  char={newChar}\n                  onChange={updateChar}\n                  completed={updateBackground}\n                />\n              )}\n              {completedBackground && (\n                <PropWrapper>\n                  <Prop>Would you like to edit the background again? </Prop>\n                  <IconButton icon={faEdit} onClick={() => setBackground(false)} />\n                </PropWrapper>\n              )}\n            </>\n          )}\n          {activeTab === \"Abilities\" && (\n            <>\n              {!completedAbilities && (\n                <CharLabAbilities\n                  char={newChar}\n                  onChange={updateChar}\n                  completed={updateAbilities}\n                />\n              )}\n              {completedAbilities && (\n                <PropWrapper>\n                  <Prop>Would you like to edit abilities again? </Prop>\n                  <IconButton icon={faEdit} onClick={() => setAbilities(false)} />\n                </PropWrapper>\n              )}\n            </>\n          )}\n          {activeTab === \"Equipment\" && (\n            <>\n              {!completedEquipment && (\n                <CharLabEquipment\n                  char={newChar}\n                  onChange={updateChar}\n                  completed={updateEquipment}\n                />\n              )}\n              {completedEquipment && (\n                <PropWrapper>\n                  <Prop>Would you like to edit equipment again? </Prop>\n                  <IconButton icon={faEdit} onClick={() => setEquipment(false)} />\n                </PropWrapper>\n              )}\n            </>\n          )}\n          {activeTab === \"Finished\" && (\n            <>\n              {(!completedGeneral ||\n                !completedClass ||\n                !completedRace ||\n                !completedBackground ||\n                !completedAbilities ||\n                !completedGeneral ||\n                !completedEquipment) && (\n                <PropWrapper>\n                  <Prop>Somthing is not finished!</Prop>\n                </PropWrapper>\n              )}\n              {completedGeneral &&\n                completedClass &&\n                completedRace &&\n                completedBackground &&\n                completedAbilities &&\n                completedGeneral &&\n                completedEquipment && (\n                  <PropWrapper>\n                    <Prop>Create Char?</Prop>\n                    <IconButton icon={faCheckCircle} onClick={() => saveChar()} />\n                  </PropWrapper>\n                )}\n            </>\n          )}\n        </View>\n      </CenterWrapper>\n    </>\n  );\n};\n\nexport default CharLab;\n\nconst CenterWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nconst View = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n  width: min-content;\n  min-width: 300px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n`;\n\nconst PropWrapper = styled.div`\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst Prop = styled.div`\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ${({ theme }) => theme.main.highlight};\n  }\n`;\n"],"sourceRoot":""}