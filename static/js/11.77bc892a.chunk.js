/*! For license information please see 11.77bc892a.chunk.js.LICENSE.txt */
(this.webpackJsonpdndtome=this.webpackJsonpdndtome||[]).push([[11,2],Array(68).concat([function(e,t,n){"use strict";n.d(t,"w",(function(){return c})),n.d(t,"x",(function(){return u})),n.d(t,"t",(function(){return l})),n.d(t,"u",(function(){return h})),n.d(t,"v",(function(){return f})),n.d(t,"s",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"n",(function(){return m})),n.d(t,"o",(function(){return g})),n.d(t,"m",(function(){return v})),n.d(t,"q",(function(){return b})),n.d(t,"p",(function(){return y})),n.d(t,"r",(function(){return _})),n.d(t,"j",(function(){return x})),n.d(t,"a",(function(){return w})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return k})),n.d(t,"k",(function(){return O})),n.d(t,"l",(function(){return S})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return j})),n.d(t,"f",(function(){return P})),n.d(t,"e",(function(){return T}));var r=n(73),i=n.n(r),a=n(29),o=n(74),s=n(98),c=function(e,t){var n=new s.a;n.open().then((function(){n.table(e).update(t.id,t)})).finally((function(){n.close()}))},u=function(e,t,n){var r=new s.a;r.open().then((function(){r.table(e).update(t.id,t).then((function(e){n(e)}))})).finally((function(){r.close()}))},l=function(e,t,n){var r=new s.a;return r.open().then(Object(o.a)(i.a.mark((function o(){var s;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return delete t.id,i.next=3,r.table(e).put(Object(a.a)(Object(a.a)({},t),{},{filename:n}));case 3:return s=i.sent,i.abrupt("return",s);case 5:case"end":return i.stop()}}),o)})))).finally((function(){r.close()}))},h=function(e,t,n){var r=new s.a;r.open().then(Object(o.a)(i.a.mark((function o(){var s,c;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=t.map((function(e){return delete e.id,Object(a.a)(Object(a.a)({},e),{},{filename:n})})),i.next=3,r.table(e).bulkPut(s);case 3:return c=i.sent,i.abrupt("return",c);case 5:case"end":return i.stop()}}),o)})))).finally((function(){r.close()}))},f=function(e,t,n){var r=new s.a;r.open().then((function(){r.table(e).add(t).then((function(e){n(e)}))})).finally((function(){r.close()}))},d=function(e,t){var n=new s.a;void 0!==t&&n.open().then((function(){n.table(e).delete(t)})).finally((function(){n.close()}))},p=function(e,t){var n=new s.a;n.open().then((function(){n.table(e).toArray().then((function(e){t(e)}))})).finally((function(){n.close()}))},m=function(e,t){var n=new s.a;n.open().then((function(){n.table(e).count((function(e){t(e)}))})).finally((function(){n.close()}))},g=function(e){var t=new s.a;return t.open().then((function(){return t.table(e).count()})).finally((function(){t.close()}))},v=function(e,t,n,r){var i=new s.a;i.open().then((function(){i.table(e).where(t).equalsIgnoreCase(n).toArray().then((function(e){r(e[0])}))})).finally((function(){i.close()}))},b=function(e,t,n){var r=new s.a;return r.open().then(Object(o.a)(i.a.mark((function a(){var o;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.table(e).where(t).equalsIgnoreCase(n).toArray();case 2:return o=i.sent,i.abrupt("return",o[0]);case 4:case"end":return i.stop()}}),a)})))).finally((function(){r.close()}))},y=function(e,t){var n=new s.a;return n.open().then(Object(o.a)(i.a.mark((function r(){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.table(e).get(t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))).finally((function(){n.close()}))},_=function(e,t,n){var r=new s.a;return"string"===typeof n?r.open().then(Object(o.a)(i.a.mark((function a(){return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.table(e).where(t).equalsIgnoreCase(n).count();case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),a)})))).finally((function(){r.close()})):"number"===typeof n?r.open().then(Object(o.a)(i.a.mark((function a(){return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.table(e).where(t).equals(n).count();case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),a)})))).finally((function(){r.close()})):r.open().then(Object(o.a)(i.a.mark((function a(){return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.table(e).where(t).equalsIgnoreCase(""+n).count();case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),a)})))).finally((function(){r.close()}))},x=function(e){var t=new s.a;return t.open().then(Object(o.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.table(e).toArray();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).finally((function(){t.close()}))},w=function(e,t){var n=[];t.forEach((function(t){if("string"===typeof t.value)if(e[t.fieldName]instanceof Array){var r=!1;e[t.fieldName].forEach((function(e){e.toLowerCase().includes(t.value.toLowerCase())&&(r=!0)})),r?n.push(!0):n.push(!1)}else n.push(e[t.fieldName].toLowerCase().includes(t.value.toLowerCase()));else if("number"===typeof t.value)n.push(e[t.fieldName]===t.value);else if("boolean"===typeof t.value)n.push(e[t.fieldName]===t.value);else if(t.value instanceof Array){var i=!1;t.value.forEach((function(n){"string"===typeof n?e[t.fieldName].toLowerCase().includes(n.toLowerCase())&&(i=!0):"number"===typeof n?e[t.fieldName]===n&&(i=!0):"boolean"===typeof n&&e[t.fieldName]===n&&(i=!0)})),n.push(i)}}));var r=!0;return n.forEach((function(e){e||(r=!1)})),r},E=function(e,t,n){var r=new s.a;r.open().then((function(){var i="name",a=!1;t.forEach((function(e){0!==e.sort&&(i=e.fieldName,2===e.sort&&(a=!0))})),a?r.table(e).filter((function(e){return w(e,t)})).reverse().sortBy(i).then((function(e){n(e)})):r.table(e).filter((function(e){return w(e,t)})).sortBy(i).then((function(e){n(e)}))})).finally((function(){r.close()}))},k=function(e,t){var n=new s.a;return n.open().then((function(){var r="name",i=!1;return t.forEach((function(e){0!==e.sort&&(r=e.fieldName,2===e.sort&&(i=!0))})),i?n.table(e).filter((function(e){return w(e,t)})).reverse().sortBy(r):n.table(e).filter((function(e){return w(e,t)})).sortBy(r)})).finally((function(){n.close()}))},O=function(e,t,n){var r=new s.a;r.open().then((function(){r.table(e).orderBy(t).uniqueKeys((function(e){n(e)}))})).finally((function(){r.close()}))},S=function(e,t){var n=new s.a;return n.open().then((function(){return n.table(e).orderBy(t).uniqueKeys()})).finally((function(){n.close()}))},C=function(e,t,n){var r=new s.a;r.open().then((function(){r.table(e).put(t).then((function(e){n(e)}))})).finally((function(){r.close()}))},A=function(e){var t=new s.a;t.open().then((function(){t.table(e).clear()})).finally((function(){t.close()}))},j=function(e,t,n){var r=new s.a;r.open().then((function(){r.table(e).where(t).anyOf(n).delete()})).finally((function(){r.close()}))},P=function(e,t,n){E(e,t,(function(e){if(window.navigator&&window.navigator.msSaveOrOpenBlob){var t=new Blob([decodeURIComponent(encodeURI(JSON.stringify(e)))],{type:"application/json;charset=utf-8;"});navigator.msSaveOrOpenBlob(t,n)}else{var r=document.createElement("a");r.download=n,r.href="data:application/json;charset=utf-8;,"+encodeURIComponent(JSON.stringify(e)),r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}))},T=function(){(new s.a).delete()}},,,,,,,,,,,function(e,t,n){"use strict";var r=n(4),i=n(15),a=n(36),o=n(1),s=n.n(o),c=n(2),u=n(3),l=n(37),h=n(40),f=n(38),d=n(28),p=n(43),m=n(13),g=n(10),v=n(9),b=n(41),y=n(42),_=n(68),x=function(e){var t=e.type,n=e.name,r=Object(o.useState)(!0),a=Object(i.a)(r,2),c=a[0],u=a[1],l=Object(o.useState)(!1),h=Object(i.a)(l,2),f=h[0],d=h[1];Object(o.useEffect)((function(){if("dice"===t)d(!0),u(!1);else{var e=t+"s";"class"!==t&&"subclass"!==t||(e=t+"es"),Object(_.r)(e,"name",n).then((function(e){d(e>0),u(!1)}))}}),[t,n]);return s.a.createElement(s.a.Fragment,null,c&&s.a.createElement(p.b,null),!c&&!f&&s.a.createElement(p.a,null),!c&&f&&s.a.createElement(s.a.Fragment,null,function(e){switch(e){case"spell":return s.a.createElement(v.a,{icon:g.M});case"item":return s.a.createElement(m.e,null);case"gear":return s.a.createElement(m.b,null);case"race":case"subrace":return s.a.createElement(m.q,null);case"class":case"subclass":return s.a.createElement(m.j,null);case"selection":return s.a.createElement(p.c,null);case"char":return s.a.createElement(v.a,{icon:g.H});case"monster":return s.a.createElement(v.a,{icon:g.s});case"encounter":return s.a.createElement(m.o,null);case"campaign":return s.a.createElement(m.c,null);case"quest":return s.a.createElement(m.m,null);case"event":return s.a.createElement(b.a,null);case"world":return s.a.createElement(m.n,null);case"location":return s.a.createElement(v.a,{icon:g.L});case"npc":return s.a.createElement(m.h,null);case"randomTable":return s.a.createElement(v.a,{icon:g.eb});case"book":return s.a.createElement(m.d,null);case"group":return s.a.createElement(y.a,null);case"dice":return s.a.createElement(m.g,null);default:return""}}(t)))};function w(){var e=Object(r.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: 5px;\n  text-align: center;\n"]);return w=function(){return e},e}function E(){var e=Object(r.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: 2px 5px 2px 5px;\n"]);return E=function(){return e},e}function k(){var e=Object(r.a)(["\n  white-space: pre-line;\n"]);return k=function(){return e},e}function O(){var e=Object(r.a)(["\n  background-color: #7289da;\n  color: white;\n"]);return O=function(){return e},e}function S(){var e=Object(r.a)(["\n  display: inline-block;\n  background-color: ",";\n  border-radius: 5px;\n  text-decoration: none;\n  color: ",";\n  font-size: 14px;\n  padding: 0px 5px 0px 5px;\n  cursor: pointer;\n  white-space: pre;\n"]);return S=function(){return e},e}function C(){var e=Object(r.a)([""]);return C=function(){return e},e}t.a=function(e){var t=e.text,n=Object(l.a)(),r=Object(o.useState)(""),u=Object(i.a)(r,2),p=u[0],m=u[1],g=Object(o.useState)(),v=Object(i.a)(g,2),b=v[0],y=v[1],_=Object(c.f)();Object(o.useEffect)((function(){if(void 0!==n){var e=Object(f.a)(t);e.length>=2e3&&(e=e.substring(0,1997)+"...");var r={username:n.name+" (DnDTome)",content:e};m(JSON.stringify(r))}}),[t,n]);var w=function(e,t,n){return e.substr(0,t)+e.substr(n+1)},E=Object(o.useCallback)((function(e){if(e.includes("d")){var t=Object(h.a)(e),r=t.result,i=t.text,a=t.rolls;void 0!==r&&void 0!==n&&Object(f.c)(n,r+" "+i+" ||"+e+" "+a+"||")}else{var o="d20"+e,s=parseInt(e.replaceAll("+","")),c=Object(h.a)(o),u=c.result,l=c.text,d=!1;u-s===20&&(d=!0);var p=!1;u-s===1&&(p=!0);var m="d20"+c.rolls+e;void 0!==u&&void 0!==n&&Object(f.c)(n,u+" "+l+(p?" :red_circle:":"")+(d?" :green_circle:":"")+" ||"+m+"||")}}),[n]),k=Object(o.useCallback)((function(e){if(void 0!==e){if(e.includes("[[")&&e.includes("]]")){var t=e.split("[["),n=[];return t.forEach((function(e,t){if(e.includes("]]")){var r=e.split("]]"),i=r[0].split("."),a=i[0];if("dice"===a)n.push(s.a.createElement(T,{key:t},s.a.createElement(P,{onClick:function(){return E(i[1])}},s.a.createElement(x,{type:i[0],name:i[1]})," ",i[1]),s.a.createElement(T,null,r[1])));else{"class"!==a&&"subclass"!==a||(a+="e");var o="/"+a+"-detail/name/"+i[1];n.push(s.a.createElement(T,{key:t},s.a.createElement(j,{onClick:function(){return _.push(o)}},s.a.createElement(x,{type:i[0],name:i[1]})," ",i[1]),s.a.createElement(T,null,r[1])))}}else""!==e&&n.push(s.a.createElement(T,{key:t},e))})),s.a.createElement(s.a.Fragment,null,n)}return s.a.createElement(T,null,e)}}),[_]),O=Object(o.useCallback)((function(e){if(e.includes("||table||")){var n=t.split("||table||"),r=n[1].split("||"),i=!0;return s.a.createElement(s.a.Fragment,null,k(n[0]),s.a.createElement("table",null,s.a.createElement("tbody",null,r.map((function(e,t){if(e.includes("|")){if(i){i=!1;var n=e.split("|");return s.a.createElement("tr",{key:t},n.map((function(e,t){return s.a.createElement(R,{key:t},e)})))}var r=e.split("|");return s.a.createElement("tr",{key:t},r.map((function(e,t){return s.a.createElement(L,{key:t},k(e))})))}return s.a.createElement(s.a.Fragment,null)})))),k(n[2]))}return k(e)}),[t,k]),S=Object(o.useCallback)((function(e){for(;e.includes("{{");){var t=e.indexOf("{{"),n=e.indexOf("}}")+1;e=w(e,t,n)}return O(e)}),[O]);return Object(o.useEffect)((function(){if(void 0!==t){var e=S(t);y(e)}}),[t,_,S]),s.a.createElement(A,null,void 0!==n&&""!==t&&s.a.createElement(d.a,{style:{backgroundColor:"#7289da",float:"right",padding:"5px"},icon:a.a,onClick:function(){return Object(f.b)(n,p)}}),b)};var A=u.b.div(C()),j=u.b.span(S(),(function(e){return e.theme.tile.backgroundColorLink}),(function(e){return e.theme.tile.backgroundColor})),P=Object(u.b)(j)(O()),T=u.b.span(k()),R=u.b.th(E(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color})),L=u.b.td(w(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}))},function(e,t,n){"use strict";var r=n(4),i=n(15),a=n(1),o=n.n(a),s=n(3),c=n(183),u=n.n(c),l=n(68),h=n(10),f=n(32),d=n(9);function p(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ",";\n"]);return p=function(){return e},e}t.a=function(e){var t=e.data,n=e.mode,r=Object(a.useState)(""),s=Object(i.a)(r,2),c=s[0],d=s[1],p=Object(a.useState)(),g=Object(i.a)(p,2),v=g[0],b=g[1],y=Object(a.useState)(),_=Object(i.a)(y,2),x=_[0],w=_[1];return Object(a.useEffect)((function(){if(void 0===v){var e=function(){for(var e,t,n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<13;i++)n+=r[(e=0,t=r.length-1,Math.floor(Math.random()*(t-e+1))+e)];return n}(),n=new u.a(e,{host:"peerjs.thedndtome.com",secure:!0});console.log(n),n.on("connection",(function(e){e.on("error",(function(e){w(e)})),e.on("open",(function(){e.send(t)}))})),b(n)}}),[t,v]),Object(a.useEffect)((function(){void 0!==v&&(v.disconnected&&!v.destroyed&&v.reconnect(),"ALL"===n&&"string"===typeof t?Object(l.j)(t).then((function(e){console.log(e),d(t),v.on("connection",(function(t){t.on("error",(function(e){w(e)})),t.on("open",(function(){t.send(e)}))}))})):"THIS"===n&&"string"!==typeof t&&(d(t.name),v.on("connection",(function(e){e.on("error",(function(e){w(e)})),e.on("open",(function(){e.send(t)}))}))))}),[t,n,v]),o.a.createElement(o.a.Fragment,null,void 0!==v&&null!==v.id&&o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{value:v.id,label:"Your ".concat(c," ID:"),onChange:function(){}})),x&&o.a.createElement(m,{icon:h.u}))};var m=Object(s.b)(d.a)(p(),(function(e){return e.theme.main.highlight}))},,,function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3),s=n(9);function c(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  max-width: 6em;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n"]);return c=function(){return e},e}function u(){var e=Object(r.a)(["\n  flex: 1 1;\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return l=function(){return e},e}function h(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return h=function(){return e},e}t.a=function(e){var t=e.value,n=e.max,r=e.step,i=e.label,o=e.icon,s=e.transform,c=e.onChange;return a.a.createElement(f,null,a.a.createElement(p,null,o?a.a.createElement(d,{icon:o,transform:s}):""," ",i),n&&a.a.createElement(m,{type:"number",max:n,step:r||1,value:t,onChange:function(e){return c(+e.target.value)}}),!n&&a.a.createElement(m,{type:"number",step:r||1,value:t,onChange:function(e){return c(+e.target.value)}}))};var f=o.b.label(h(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),d=Object(o.b)(s.a)(l(),(function(e){return e.theme.main.highlight})),p=o.b.div(u()),m=o.b.input(c(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}))},,,function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3);function s(){var e=Object(r.a)(["\n  flex: 3 1 auto;\n  height: 30px;\n  line-height: 20px;\n  padding: 5px;\n  box-sizing: border-box;\n  text-align: center;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin: 2px;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n\n  ","\n"]);return s=function(){return e},e}function c(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  min-width: calc(100% - 20px);\n  flex: 1 1 auto;\n  padding: 3px;\n  margin: 5px;\n  border-radius: 10px;\n  position: relative;\n  z-index: 100;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: baseline;\n"]);return c=function(){return e},e}t.a=function(e){var t=e.children,n=e.activeTab,r=e.onChange;return a.a.createElement(u,null,t.map((function(e,t){return a.a.createElement(l,{key:t,onClick:function(t){return r(e)},isActive:e===n},e)})))};var u=o.b.div(c(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),l=o.b.div(s(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}),(function(e){return e.theme.buttons.backgroundColor}),(function(e){return e.theme.buttons.color}),(function(e){if(e.isActive)return"background-color: ".concat(e.theme.buttons.backgroundColor,"; \n      color: ").concat(e.theme.buttons.color,";")}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(67),i=function e(t,n,i){Object(r.a)(this,e),this.fieldName=void 0,this.value=void 0,this.sort=void 0,this.fieldName=t,this.value=n,this.sort=i||0}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(21);function i(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(r.a)(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}},,,,,,function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3),s=n(9);function c(){var e=Object(r.a)(["\n  flex: 1 1;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  height: ",";\n  min-height: ",";\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n"]);return c=function(){return e},e}function u(){var e=Object(r.a)(["\n  flex: 1 1;\n  min-width: 100%;\n  height: 30px;\n  line-height: 30px;\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return l=function(){return e},e}function h(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  min-width: calc(100% - 20px);\n  flex: 3 3 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n"]);return h=function(){return e},e}t.a=function(e){var t=e.value,n=e.label,r=e.height,i=e.icon,o=e.transform,s=e.onChange;return a.a.createElement(f,null,a.a.createElement(p,null,i?a.a.createElement(d,{icon:i,transform:o}):""," ",n),a.a.createElement(m,{height:r,value:t,onChange:function(e){return s(e.target.value)}}))};var f=o.b.label(h(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),d=Object(o.b)(s.a)(l(),(function(e){return e.theme.main.highlight})),p=o.b.div(u()),m=o.b.textarea(c(),(function(e){var t=e.height;return void 0!==t?t:"auto"}),(function(e){var t=e.height;return void 0!==t?t:"22vh"}),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}))},function(e,t,n){"use strict";var r=n(4),i=n(73),a=n.n(i),o=n(74),s=n(15),c=n(1),u=n.n(c),l=n(3),h=n(9),f=n(68);function d(){var e=Object(r.a)(["\n  flex: 3 1 auto;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n\n  &:focus ~ "," {\n    display: block;\n  }\n"]);return d=function(){return e},e}function p(){var e=Object(r.a)(["\n  padding: 5px;\n  cursor: pointer;\n  color: ",";\n  background-color: ",";\n  margin-bottom: 1px;\n  border-radius: 5px;\n"]);return p=function(){return e},e}function m(){var e=Object(r.a)(["\n  display: none;\n  position: absolute;\n  border-bottom: none;\n  border-top: none;\n  z-index: 99;\n  top: 100%;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n\n  &:hover {\n    display: block;\n  }\n"]);return m=function(){return e},e}function g(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return g=function(){return e},e}function v(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return v=function(){return e},e}function b(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n  position: relative;\n  overflow: visible;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return b=function(){return e},e}t.a=function(e){var t=e.optionTable,n=e.filters,r=e.value,i=e.label,l=e.icon,h=e.transform,d=e.onChange,p=Object(c.useState)(t),m=Object(s.a)(p,1)[0],g=Object(c.useState)([]),v=Object(s.a)(g,2),b=v[0],O=v[1],S=Object(c.useState)([]),C=Object(s.a)(S,2),A=C[0],j=C[1],P=Object(c.useCallback)(function(){var e=Object(o.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],t.forEach((function(e){r.push(Object(f.i)(e,void 0!==n?n:[]))})),e.next=4,Promise.all(r);case 4:e.sent.forEach((function(e){O((function(t){return t.concat(e)}))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]);Object(c.useEffect)((function(){"string"===typeof m&&Object(f.h)(m,void 0!==n?n:[],(function(e){O(e)})),m instanceof Array&&m.length>0&&P(m)}),[m,P,n]);var T=Object(c.useCallback)((function(e){d(e);var t=b.filter((function(t){return t.name.includes(e)}));j(t)}),[b,d]);return u.a.createElement(y,null,u.a.createElement(x,null,l?u.a.createElement(_,{icon:l,transform:h}):""," ",i),u.a.createElement(k,{type:"text",value:r,onChange:function(e){return T(e.target.value)}}),u.a.createElement(w,null,A.length>0&&A.map((function(e,t){return u.a.createElement(E,{key:t,onClick:function(t){return T(e.name)}},e.name)}))))};var y=l.b.label(b(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),_=Object(l.b)(h.a)(v(),(function(e){return e.theme.main.highlight})),x=l.b.div(g()),w=l.b.div(m()),E=l.b.div(p(),(function(e){return e.theme.input.color}),(function(e){return e.theme.input.backgroundColor})),k=l.b.input(d(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}),w)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(67),i=function e(t,n,i){Object(r.a)(this,e),this.name=void 0,this.text=void 0,this.level=void 0,this.name=t,this.text=n,this.level=i};function a(e){if(void 0!==e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.text&&"string"==typeof e.text,r=void 0!==e.level&&"number"==typeof e.level;return e&&t&&n&&r}return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(29),i=n(67),a=n(243),o=n(240),s=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this,"DnDTomeDB")).spells=void 0,e.items=void 0,e.gears=void 0,e.monsters=void 0,e.races=void 0,e.subraces=void 0,e.classes=void 0,e.subclasses=void 0,e.chars=void 0,e.encounters=void 0,e.books=void 0,e.selections=void 0,e.randomTables=void 0,e.campaigns=void 0,e.quests=void 0,e.npcs=void 0,e.worlds=void 0,e.locations=void 0,e.events=void 0,e.groups=void 0,e.version(1).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic"}),e.version(2).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment"}),e.version(3).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties"}),e.version(4).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment"}),e.version(5).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",chars:"++id, name, player, prof, level, pic, classes, race, background, ac, hp, currentHp, hitDice, init, speed, str, dex, con, int, wis, cha, strSave, dexSave, conSave, intSave, wisSave, chaSave, strSaveProf, dexSaveProf, conSaveProf, intSaveProf, wisSaveProf, chaSaveProf, actions, bonusActions, reactions, features, classFeatures, racialFeatures, profsLangs, senses, passivPerception, passivInsight, passivInvestigation, notesOne, notesTwo, notesThree, acrobatics, animalHandling, arcana, athletics, deception, history, insight, intimidation, investigation, medicine, nature, perception, performance, persuasion, religion, sleightOfHand, stealth, survival, acrobaticsProf, animalHandlingProf, arcanaProf, athleticsProf, deceptionProf, historyProf, insightProf, intimidationProf, investigationProf, medicineProf, natureProf, perceptionProf, performanceProf, persuasionProf, religionProf, sleightOfHandProf, stealthProf, survivalProf, spellNotes, alignment, inspiration, castingHit, castingDC"}),e.version(6).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",chars:"++id, name, player, prof, level, pic, classes, race, background, ac, hp, currentHp, hitDice, init, speed, str, dex, con, int, wis, cha, strSave, dexSave, conSave, intSave, wisSave, chaSave, strSaveProf, dexSaveProf, conSaveProf, intSaveProf, wisSaveProf, chaSaveProf, actions, bonusActions, reactions, features, classFeatures, racialFeatures, profsLangs, senses, passivPerception, passivInsight, passivInvestigation, notesOne, notesTwo, notesThree, acrobatics, animalHandling, arcana, athletics, deception, history, insight, intimidation, investigation, medicine, nature, perception, performance, persuasion, religion, sleightOfHand, stealth, survival, acrobaticsProf, animalHandlingProf, arcanaProf, athleticsProf, deceptionProf, historyProf, insightProf, intimidationProf, investigationProf, medicineProf, natureProf, perceptionProf, performanceProf, persuasionProf, religionProf, sleightOfHandProf, stealthProf, survivalProf, spellNotes, alignment, inspiration, castingHit, castingDC",chars_spells:"++id, char_id, spell_id, prepared",chars_monsters:"++id, char_id, monster_id",chars_items:"++id, char_id, item_id, gear_id, amount, equiped, attuned, damage, hit, range, properties"}),e.version(7).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC"}),e.version(8).stores({chars_spells:null,chars_monsters:null,chars_items:null,spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players"}),e.version(9).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags"}),e.version(10).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename"}),e.version(11).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename"}),e.version(12).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename"}),e.version(13).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename"}),e.version(14).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename",campaigns:"++id, name, pic, description, world, quests, npcs, notes, players, sources, filename"}),e.version(15).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename",campaigns:"++id, name, pic, description, world, quests, npcs, notes, players, sources, filename",quests:"++id, name, pic, locations, origin, description, rewards, followQuest, sources, filename",npcs:"++id, name, pic, char, traits, description, sources, filename",worlds:"++id, name, map, description, locations, events, notes, sources, filename",locations:"++id, name, map, description, events, notes, sources, filename",events:"++id, name, description, locations, npcs, notes, sources, filename"}),e.version(16).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename",campaigns:"++id, name, pic, description, world, quests, npcs, notes, players, map, sources, filename",quests:"++id, name, pic, locations, origin, description, rewards, followQuest, sources, filename",npcs:"++id, name, pic, char, traits, description, sources, filename",worlds:"++id, name, map, description, locations, events, notes, sources, filename",locations:"++id, name, map, description, events, notes, sources, filename",events:"++id, name, description, locations, npcs, notes, sources, filename"}),e.version(17).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename",campaigns:"++id, name, pic, description, world, npcs, notes, logs, players, flow, map, sources, filename",quests:"++id, name, pic, description, rewards, followQuest, sources, filename",npcs:"++id, name, pic, char, traits, description, sources, filename",worlds:"++id, name, map, description, events, notes, sources, filename",locations:"++id, name, map, dimension, description, events, notes, markers, sources, filename",events:"++id, name, description, npcs, notes, sources, filename"}),e.version(18).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename",campaigns:"++id, name, pic, description, world, npcs, notes, logs, players, flow, map, sources, filename",quests:"++id, name, pic, description, rewards, followQuest, sources, filename",npcs:"++id, name, pic, char, traits, description, sources, filename",worlds:"++id, name, map, description, locations, events, sources, filename",locations:"++id, name, map, dimension, markers, sources, filename",events:"++id, name, description, date, sources, filename",groups:"++id, name, pic, description, npcs, players, monsters, flow, sources, filename"}),e.version(19).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, enemies, players, isPlaying, currentInit, roundCounter, map, dimension",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename",campaigns:"++id, name, pic, description, world, npcs, notes, logs, players, flow, map, sources, filename",quests:"++id, name, pic, description, rewards, followQuest, sources, filename",npcs:"++id, name, pic, char, traits, description, sources, filename",worlds:"++id, name, map, description, locations, events, sources, filename",locations:"++id, name, map, dimension, markers, sources, filename",events:"++id, name, description, date, sources, filename",groups:"++id, name, pic, description, npcs, players, monsters, flow, sources, filename"}),e.version(20).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, campaign, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, enemies, players, isPlaying, currentInit, roundCounter, map, dimension",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename",campaigns:"++id, name, pic, description, world, npcs, notes, logs, players, flow, map, sources, filename",quests:"++id, name, pic, description, rewards, followQuest, sources, filename",npcs:"++id, name, pic, char, traits, description, sources, filename",worlds:"++id, name, map, description, locations, events, sources, filename",locations:"++id, name, map, dimension, markers, sources, filename",events:"++id, name, description, date, sources, filename",groups:"++id, name, pic, description, notes, npcs, players, monsters, flow, sources, filename"}).upgrade((function(e){return e.chars.toCollection().modify((function(e){void 0===e.campaign&&(e=Object(r.a)(Object(r.a)({},e),{},{campaign:""}))}))})),e.version(21).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, sources, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, campaign, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, enemies, players, isPlaying, currentInit, roundCounter, map, dimension",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename",campaigns:"++id, name, pic, description, world, npcs, notes, logs, players, flow, map, sources, filename",quests:"++id, name, pic, description, rewards, followQuest, sources, filename",npcs:"++id, name, pic, char, traits, description, sources, filename",worlds:"++id, name, map, description, locations, events, sources, filename",locations:"++id, name, map, dimension, markers, sources, filename",events:"++id, name, description, date, sources, filename",groups:"++id, name, pic, description, notes, npcs, players, monsters, flow, sources, filename"}),e.spells=e.table("spells"),e.items=e.table("items"),e.gears=e.table("gears"),e.monsters=e.table("monsters"),e.races=e.table("races"),e.subraces=e.table("subraces"),e.classes=e.table("classes"),e.subclasses=e.table("subclasses"),e.chars=e.table("chars"),e.encounters=e.table("encounters"),e.books=e.table("books"),e.selections=e.table("selections"),e.randomTables=e.table("randomTables"),e.campaigns=e.table("campaigns"),e.quests=e.table("quests"),e.npcs=e.table("npcs"),e.worlds=e.table("worlds"),e.locations=e.table("locations"),e.events=e.table("events"),e.groups=e.table("groups"),e}return n}(n(181).a)},function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3),s=n(9);function c(){var e=Object(r.a)(["\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n  left: 0;\n  bottom 0;\n\n  &:checked ~ "," {\n    background-color: ",";\n    color: ",";\n  }\n\n  &:checked ~ ",":after {\n    display: block;\n  }\n"]);return c=function(){return e},e}function u(){var e=Object(r.a)(["\n  flex: 1 1;\n  height: 30px;\n  min-width: 30px;\n  max-width: 30px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",';\n  margin-left: 5px;\n  border-radius: 5px;\n\n  &:after {\n    content: "";\n    display: none;\n  }\n\n  &:after {\n    width: 5px;\n    height: 10px;\n    border: solid white;\n    border-width: 0 3px 3px 0;\n    -webkit-transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    transform: rotate(45deg);\n    margin-left: 6px;\n    margin-top: 2px;\n  }\n']);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n  flex: 1 1;\n"]);return l=function(){return e},e}function h(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return h=function(){return e},e}function f(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 38px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n  user-select: none;\n  position: relative;\n\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n"]);return f=function(){return e},e}t.a=function(e){var t=e.value,n=e.label,r=e.icon,i=e.transform,o=e.onChange;return a.a.createElement(d,null,a.a.createElement(m,null,r?a.a.createElement(p,{icon:r,transform:i}):""," ",n),a.a.createElement(v,{type:"checkbox",defaultChecked:t,onChange:function(e){return o(e.target.checked)}}),a.a.createElement(g,null))};var d=o.b.label(f(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),p=Object(o.b)(s.a)(h(),(function(e){return e.theme.main.highlight})),m=o.b.div(l()),g=o.b.div(u(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color})),v=o.b.input(c(),g,(function(e){return e.theme.main.highlight}),(function(e){return e.theme.buttons.color}),g)},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(67),i=n(97),a=function e(t,n,i,a,o,s,c,u,l,h,f,d){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.abilityScores=void 0,this.age=void 0,this.alignment=void 0,this.size=void 0,this.speed=void 0,this.lang=void 0,this.traits=void 0,this.sources=void 0,this.filename=void 0,this.pic=void 0,this.name=t||"",this.id=n,this.filename=i||"",this.pic=a||"",this.abilityScores=o||"",this.age=s||"",this.alignment=c||"",this.size=u||"",this.speed=l||"",this.lang=h||"",this.traits=f||[],this.sources=d||""};function o(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.pic&&"string"==typeof e.pic,r=void 0!==e.abilityScores&&"string"==typeof e.abilityScores,a=void 0!==e.age&&"string"==typeof e.age,o=void 0!==e.alignment&&"string"==typeof e.alignment,s=void 0!==e.size&&"string"==typeof e.size,c=void 0!==e.speed&&"string"==typeof e.speed,u=void 0!==e.lang&&"string"==typeof e.lang,l=void 0!==e.traits&&Array.isArray(e.traits)&&Object(i.b)(e.traits[0]),h=void 0!==e.sources&&"string"==typeof e.sources;return e&&t&&n&&r&&a&&o&&s&&c&&u&&l&&h}},,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(494),i=n(495),a=n(458);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):f(e,t);if("Buffer"===t.type&&a(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=s(e,t<0?0:0|d(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){var a,o=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=n;a<s;a++)if(u(e,a)===u(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===c)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var h=!0,f=0;f<c;f++)if(u(e,a+f)!==u(t,f)){h=!1;break}if(h)return a}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function _(e,t,n,r){return H(B(t,e.length-n),e,n,r)}function x(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return x(e,t,n,r)}function E(e,t,n,r){return H(U(t),e,n,r)}function k(e,t,n,r){return H(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function O(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,c,u=e[i],l=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128===(192&(a=e[i+1]))&&(c=(31&u)<<6|63&a)>127&&(l=c);break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(c=(15&u)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(c=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return h(null,e)},c.allocUnsafeSlow=function(e){return h(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(r,i),l=e.slice(t,n),h=0;h<s;++h)if(u[h]!==l[h]){a=u[h],o=l[h];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=z(e[a]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function T(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function I(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,a){return a||I(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,a){return a||I(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=c.isBuffer(e)?e:B(new c(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(17))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(67),i=n(97),a=function e(t,n,i,a,o,s,c){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.type=void 0,this.abilityScores=void 0,this.traits=void 0,this.sources=void 0,this.filename=void 0,this.name=t||"",this.id=n,this.type=i||"",this.filename=a||"",this.abilityScores=o||"",this.traits=s||[],this.sources=c||""};function o(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.type&&"string"==typeof e.type,r=void 0!==e.abilityScores&&"string"==typeof e.abilityScores,a=void 0!==e.traits&&Array.isArray(e.traits)&&Object(i.b)(e.traits[0]),o=void 0!==e.sources&&"string"==typeof e.sources;return e&&t&&n&&r&&a&&o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(67),i=function e(t,n,i,a,o,s,c,u,l,h,f,d,p,m,g,v,b,y,_,x,w,E,k,O,S,C,A,j,P,T){Object(r.a)(this,e),this.id=void 0,this.filename=void 0,this.name=void 0,this.pic=void 0,this.sources=void 0,this.size=void 0,this.type=void 0,this.subtype=void 0,this.alignment=void 0,this.ac=void 0,this.hp=void 0,this.speed=void 0,this.cr=void 0,this.str=void 0,this.dex=void 0,this.con=void 0,this.int=void 0,this.wis=void 0,this.cha=void 0,this.savingThrows=void 0,this.skills=void 0,this.senses=void 0,this.lang=void 0,this.dmgVulnerabilitie=void 0,this.dmgResistance=void 0,this.dmgImmunities=void 0,this.conImmunities=void 0,this.sAblt=void 0,this.ablt=void 0,this.lAblt=void 0,this.name=n||"",this.sources=i||"",this.id=t,this.pic=a||"",this.size=o||"",this.type=s||"",this.subtype=c||"",this.alignment=u||"",this.ac=l||0,this.hp=h||0,this.speed=f||"",this.cr=d||0,this.str=p||0,this.dex=m||0,this.con=g||0,this.int=v||0,this.wis=b||0,this.cha=y||0,this.savingThrows=_||"",this.skills=x||"",this.senses=w||"",this.lang=E||"",this.dmgVulnerabilitie=k||"",this.dmgResistance=O||"",this.dmgImmunities=S||"",this.conImmunities=C||"",this.sAblt=A||"",this.ablt=j||"",this.lAblt=P||"",this.filename=T||""};function a(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.pic&&"string"==typeof e.pic,r=void 0!==e.sources&&"string"==typeof e.sources,i=void 0!==e.size&&"string"==typeof e.size,a=void 0!==e.type&&"string"==typeof e.type,o=void 0!==e.subtype&&"string"==typeof e.subtype,s=void 0!==e.alignment&&"string"==typeof e.alignment,c=void 0!==e.ac&&"number"==typeof e.ac,u=void 0!==e.hp&&"number"==typeof e.hp,l=void 0!==e.speed&&"string"==typeof e.speed,h=void 0!==e.cr&&"number"==typeof e.cr,f=void 0!==e.str&&"number"==typeof e.str,d=void 0!==e.dex&&"number"==typeof e.dex,p=void 0!==e.con&&"number"==typeof e.con,m=void 0!==e.int&&"number"==typeof e.int,g=void 0!==e.wis&&"number"==typeof e.wis,v=void 0!==e.cha&&"number"==typeof e.cha,b=void 0!==e.savingThrows&&"string"==typeof e.savingThrows,y=void 0!==e.skills&&"string"==typeof e.skills,_=void 0!==e.senses&&"string"==typeof e.senses,x=void 0!==e.lang&&"string"==typeof e.lang,w=void 0!==e.dmgVulnerabilitie&&"string"==typeof e.dmgVulnerabilitie,E=void 0!==e.dmgResistance&&"string"==typeof e.dmgResistance,k=void 0!==e.dmgImmunities&&"string"==typeof e.dmgImmunities,O=void 0!==e.conImmunities&&"string"==typeof e.conImmunities,S=void 0!==e.sAblt&&"string"==typeof e.sAblt,C=void 0!==e.ablt&&"string"==typeof e.ablt,A=void 0!==e.lAblt&&"string"==typeof e.lAblt;return e&&t&&n&&r&&i&&a&&o&&s&&c&&u&&l&&h&&f&&d&&p&&m&&g&&v&&b&&y&&_&&x&&w&&E&&k&&O&&S&&C&&A}},,,function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(7),s=n(3),c=n(9),u=n(10),l=n(13),h=n(41);function f(){var e=Object(r.a)([""]);return f=function(){return e},e}function d(){var e=Object(r.a)(["\n  margin: -10px 5px -10px -10px;\n  height: 57px;\n  width: 57px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  box-shadow: 0px 0px 10px 0px rgba(172, 172, 172, 0.2);\n  background-color: white;\n  overflow: hidden;\n"]);return d=function(){return e},e}function p(){var e=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 5px 10px 7px 10px;\n  margin-left: 5px;\n  font-size: 12px;\n  line-height: 30px;\n  border-radius: 0px 0px 10px 10px;\n  background-color: ",";\n"]);return p=function(){return e},e}function m(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ",";\n"]);return m=function(){return e},e}function g(){var e=Object(r.a)(["\n  margin: 0 0 5px 0px;\n  width: calc(100% - 20px);\n\n  &:nth-child(odd) {\n    margin: 0 0 5px 0px;\n    width: calc(100% - 20px);\n  }\n"]);return g=function(){return e},e}function v(){var e=Object(r.a)(["\n  height: 12px;\n  width: calc(50% - 25px);\n  margin: 0 0 5px 5px;\n  float: left;\n  line-height: 10px;\n  padding: 10px;\n  font-size: 12px;\n  border-radius: 5px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  &:nth-child(odd) {\n    margin: 0 0 5px 0px;\n    width: calc(50% - 20px);\n  }\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    color: ",";\n  }\n}\n"]);return v=function(){return e},e}function b(){var e=Object(r.a)(["\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n"]);return b=function(){return e},e}function y(){var e=Object(r.a)(["\n  height: 40px;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ",";\n  text-align: center;\n  border-radius: 50px 5px 5px 50px;\n"]);return y=function(){return e},e}function _(){var e=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ",";\n  text-align: center;\n  border-radius: 5px;\n"]);return _=function(){return e},e}function x(){var e=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 5px 10px 7px 10px;\n  font-size: 12px;\n  line-height: 30px;\n  border-radius: 0px 0px 10px 0px;\n  background-color: ",";\n"]);return x=function(){return e},e}function w(){var e=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  float: right;\n  text-align: center;\n  border-top-right-radius: 3px;\n  border-radius: 30px;\n  border-bottom: solid 1px ",";\n  margin: 5px;\n"]);return w=function(){return e},e}function E(){var e=Object(r.a)(["\n  flex: 1 1 15em;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n  cursor: pointer;\n"]);return E=function(){return e},e}t.a=function(e){var t=e.monster,n=Object(i.useCallback)((function(){return void 0===t||""===t.lAblt.trim()&&!t.sAblt.includes("Legendary")?"":"L"}),[t]),r=Object(i.useCallback)((function(){return void 0!==t?.125===t.cr?"\u215b":.25===t.cr?"\xbc":.5===t.cr?"\xbd":t.cr:""}),[t]),o=Object(i.useCallback)((function(){return void 0!==t?""===t.pic||null===t.pic?"":t.pic:""}),[t]);return a.a.createElement(k,{to:"/monster-detail/id/"+t.id},a.a.createElement(S,null,t.type," ",""!==t.subtype.trim()?"("+t.subtype+")":""),a.a.createElement(L,null,a.a.createElement("b",null,n())),a.a.createElement(O,null,a.a.createElement("b",null,r())),""!==o()?a.a.createElement(A,null,a.a.createElement(M,{pic:o()}),a.a.createElement("b",null,t.name)):a.a.createElement(C,null,a.a.createElement("b",null,t.name)),a.a.createElement(j,null,a.a.createElement(P,null,a.a.createElement(l.k,null),t.size),a.a.createElement(P,null,a.a.createElement(l.a,null),t.alignment),a.a.createElement(T,null,a.a.createElement(R,{icon:u.W}),t.speed),a.a.createElement(T,null,a.a.createElement(h.b,null),t.lang),a.a.createElement(T,null,a.a.createElement(R,{icon:u.J}),t.sources)))};var k=Object(s.b)(o.b)(E(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.boxShadow})),O=s.b.div(w(),(function(e){return e.theme.main.highlight})),S=s.b.div(x(),(function(e){return e.theme.tile.backgroundColor})),C=s.b.div(_(),(function(e){return e.theme.tile.headerColor})),A=s.b.div(y(),(function(e){return e.theme.tile.headerColor})),j=s.b.div(b()),P=s.b.div(v(),(function(e){return e.theme.main.highlight})),T=Object(s.b)(P)(g()),R=Object(s.b)(c.a)(m(),(function(e){return e.theme.main.highlight})),L=s.b.div(p(),(function(e){return e.theme.tile.backgroundColor})),M=function(e){var t=e.pic,n={backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==t?a.a.createElement(I,{style:n}):a.a.createElement(N,null)},I=s.b.div(d(),(function(e){return e.theme.main.highlight})),N=s.b.div(f())},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(67),i=function e(t,n,i,a,o,s){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.map=void 0,this.dimension=void 0,this.markers=void 0,this.sources=void 0,this.id=t,this.name=n||"",this.sources=i||"",this.map=a||"",this.dimension=o||{height:1,width:1},this.markers=s||[]};function a(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.sources&&"string"==typeof e.sources,r=void 0!==e.map&&"string"==typeof e.map,i=void 0!==e.dimension&&"number"==typeof e.dimension.height&&"number"==typeof e.dimension.width,a=void 0!==e.markers&&Array.isArray(e.markers);return e&&t&&n&&r&&i&&a}},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c}));var r,i=n(67),a=[{value:"normal",label:"Normal"},{value:"action",label:"Action"},{value:"bonusAction",label:"Bonus Action"},{value:"reaction",label:"Reaction"}];function o(e){var t=void 0;return a.forEach((function(n){n.value===e.toString()&&(t=n)})),void 0!==t?t:{value:"",label:""}}!function(e){e[e.normal=0]="normal",e[e.action=1]="action",e[e.bonusAction=2]="bonusAction",e[e.reaction=3]="reaction"}(r||(r={}));var s=function e(t,n,a,o){Object(i.a)(this,e),this.name=void 0,this.text=void 0,this.type=void 0,this.selections=void 0,this.name=t,this.text=n,this.type=o||r.normal,this.selections=a};function c(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.text&&"string"==typeof e.text,r=void 0!==e.selections&&Array.isArray(e.selections)&&"string"==typeof e.selections[0];return e&&t&&n&&r}},function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3),s=n(9),c=n(176);function u(){var e=Object(r.a)(["\n  flex: 3 2 auto;\n  box-sizing: border-box;\n  border: none;\n  min-width: 120px;\n\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  \n  .react-select__single-value {\n    color: ",";\n  }\n  .react-select__control {\n    background-color: ",";\n    border: none;\n    border-radius: 5px;\n  }\n  .react-select__menu {\n    background-color: ",";\n\n    .react-select__option:hover {\n      background-color: ",";\n      color: ",";\n    }\n    .react-select__option--is-focused {\n      background-color: ",";\n      color: ",";\n    }\n  }\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return l=function(){return e},e}function h(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return h=function(){return e},e}function f(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return f=function(){return e},e}t.a=function(e){var t=e.options,n=e.value,r=e.label,i=e.icon,o=e.transform,s=e.onChange,c=function(e){null!==e&&void 0!==e&&s(e.value)};return a.a.createElement(d,null,a.a.createElement(m,null,i?a.a.createElement(p,{icon:i,transform:o}):""," ",r),a.a.createElement(g,{classNamePrefix:"react-select",value:n,options:t,onChange:function(e){return c(e)}}))};var d=o.b.label(f(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),p=Object(o.b)(s.a)(h(),(function(e){return e.theme.main.highlight})),m=o.b.div(l()),g=Object(o.b)(c.a)(u(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}),(function(e){return e.theme.buttons.color}),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.buttons.backgroundColor}),(function(e){return e.theme.buttons.color}),(function(e){return e.theme.buttons.backgroundColor}),(function(e){return e.theme.buttons.color}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(67),i=n(127),a=function e(t,n,i,a,o){Object(r.a)(this,e),this.level=void 0,this.profBonus=void 0,this.features=void 0,this.bonis=void 0,this.spellslots=void 0,this.level=t,this.profBonus=n,this.features=i,this.bonis=a,this.spellslots=o};function o(e){var t=void 0!==e.level&&"number"==typeof e.level,n=void 0!==e.profBonus&&"number"==typeof e.profBonus,r=void 0!==e.features&&Array.isArray(e.features)&&Object(i.e)(e.features[0]);return e&&t&&n&&r}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(67),i=function e(t,n,i,a,o,s,c,u,l,h,f){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.sources=void 0,this.description=void 0,this.pic=void 0,this.cost=void 0,this.damage=void 0,this.weight=void 0,this.properties=void 0,this.type=void 0,this.filename=void 0,this.name=n||"",this.sources=i||"",this.description=a||"",this.pic=o||"",this.cost=s||"",this.damage=c||"",this.weight=u||"",this.properties=l||"",this.type=h||"",this.id=t,this.filename=f||""};function a(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.sources&&"string"==typeof e.sources,r=void 0!==e.description&&"string"==typeof e.description,i=void 0!==e.cost&&"string"==typeof e.cost,a=void 0!==e.damage&&"string"==typeof e.damage,o=void 0!==e.weight&&"string"==typeof e.weight,s=void 0!==e.properties&&"string"==typeof e.properties,c=void 0!==e.type&&"string"==typeof e.type,u=void 0!==e.pic&&"string"==typeof e.pic;return e&&t&&n&&r&&i&&a&&o&&s&&c&&u}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(67),i=function e(t,n,i,a,o,s,c,u,l,h,f){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.sources=void 0,this.description=void 0,this.pic=void 0,this.rarity=void 0,this.magicBonus=void 0,this.attunment=void 0,this.base=void 0,this.type=void 0,this.filename=void 0,this.name=n||"",this.sources=i||"",this.description=a||"",this.pic=o||"",this.rarity=s||"",this.magicBonus=c||0,this.attunment=u||0,this.base=l||"",this.type=h||"",this.id=t,this.filename=f||""};function a(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.sources&&"string"==typeof e.sources,r=void 0!==e.description&&"string"==typeof e.description,i=void 0!==e.magicBonus&&"number"==typeof e.magicBonus,a=void 0!==e.attunment&&"number"==typeof e.attunment,o=void 0!==e.rarity&&"string"==typeof e.rarity,s=void 0!==e.base&&"string"==typeof e.base,c=void 0!==e.type&&"string"==typeof e.type,u=void 0!==e.pic&&"string"==typeof e.pic;return e&&t&&n&&r&&i&&a&&o&&s&&c&&u}},function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3),s=n(9);function c(){var e=Object(r.a)(["\n  float: left;\n  font-size: calc("," + 10px);\n  margin: 10px 0px 0px 10px;\n  cursor: pointer;\n"]);return c=function(){return e},e}function u(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n"]);return u=function(){return e},e}t.a=function(e){var t=e.icon,n=e.transform,r=e.action;return a.a.createElement(h,{onClick:r},a.a.createElement(l,{icon:t,transform:n}))};var l=Object(o.b)(s.a)(u(),(function(e){return e.theme.main.highlight}),(function(e){return e.theme.buttons.color})),h=o.b.div(c(),(function(e){return e.theme.buttons.height}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(4),i=n(3);function a(){var e=Object(r.a)(["\n  width: auto;\n  height: ",";\n  float: right;\n  color: ",";\n\n  "," {\n    background-color: ",";\n  }\n\n  "," {\n    background-color: ",";\n  }\n"]);return a=function(){return e},e}function o(){var e=Object(r.a)(["\n  margin: 5px 5px 5px 0px;\n\n  border-radius: 0px 5px 5px 0px;\n"]);return o=function(){return e},e}function s(){var e=Object(r.a)(["\n  width: auto;\n  padding: 10px;\n  margin: 5px 0px 5px 5px;\n  height: ",";\n  line-height: ",";\n  float: left;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  border-radius: 5px 0px 0px 5px;\n\n  transition: color 0.2s, background-color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n"]);return s=function(){return e},e}var c=i.b.div(s(),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.hoverColor})),u=Object(i.b)(c)(o()),l=i.b.div(a(),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.color}),c,(function(e){return"true"!==e.mode?function(e){return e.theme.buttons.backgroundColor}:function(e){return e.theme.tile.backgroundColor}}),u,(function(e){return"true"===e.mode?function(e){return e.theme.buttons.backgroundColor}:function(e){return e.theme.tile.backgroundColor}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(67),i=function e(t,n,i,a,o,s,c,u,l,h,f,d){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.pic=void 0,this.description=void 0,this.players=void 0,this.logs=void 0,this.map=void 0,this.npcs=void 0,this.notes=void 0,this.flow=void 0,this.sources=void 0,this.filename=void 0,this.id=t,this.name=n||"",this.pic=i||"",this.description=a||"",this.players=o||[],this.logs=s||[],this.map=c||"",this.npcs=u||[],this.notes=l||[],this.flow=h||[],this.sources=f||"",this.filename=d||""};function a(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.pic&&"string"==typeof e.pic,r=void 0!==e.map&&"string"==typeof e.map,i=void 0!==e.description&&"string"==typeof e.description,a=void 0!==e.players&&Array.isArray(e.players),o=void 0!==e.logs&&Array.isArray(e.logs),s=void 0!==e.npcs&&Array.isArray(e.npcs),c=void 0!==e.notes&&Array.isArray(e.notes),u=void 0!==e.sources&&"string"==typeof e.sources;return e&&t&&n&&i&&a&&o&&s&&c&&r&&u}},function(e,t,n){!function(e){"use strict";function t(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var n=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function r(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var i=0;function a(e){return e._leaflet_id=e._leaflet_id||++i,e._leaflet_id}function o(e,t,n){var r,i,a,o;return o=function(){r=!1,i&&(a.apply(n,i),i=!1)},a=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(o,t),r=!0)}}function s(e,t,n){var r=t[1],i=t[0],a=r-i;return e===r&&n?e:((e-i)%a+a)%a+i}function c(){return!1}function u(e,t){var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function l(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return l(e).split(/\s+/)}function f(e,t){for(var r in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?n(e.options):{}),t)e.options[r]=t[r];return e.options}function d(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var p=/\{ *([\w_-]+) *\}/g;function m(e,t){return e.replace(p,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r}))}var g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function v(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function y(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var _=0;function x(e){var t=+new Date,n=Math.max(0,16-(t-_));return _=t+n,window.setTimeout(e,n)}var w=window.requestAnimationFrame||y("RequestAnimationFrame")||x,E=window.cancelAnimationFrame||y("CancelAnimationFrame")||y("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function k(e,t,n){if(!n||w!==x)return w.call(window,r(e,t));e.call(t)}function O(e){e&&E.call(window,e)}var S={extend:t,create:n,bind:r,lastId:i,stamp:a,throttle:o,wrapNum:s,falseFn:c,formatNum:u,trim:l,splitWords:h,setOptions:f,getParamString:d,template:m,isArray:g,indexOf:v,emptyImageUrl:b,requestFn:w,cancelFn:E,requestAnimFrame:k,cancelAnimFrame:O};function C(){}C.extend=function(e){var r=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=r.__super__=this.prototype,a=n(i);for(var o in a.constructor=r,r.prototype=a,this)Object.prototype.hasOwnProperty.call(this,o)&&"prototype"!==o&&"__super__"!==o&&(r[o]=this[o]);return e.statics&&(t(r,e.statics),delete e.statics),e.includes&&(function(e){if("undefined"!==typeof L&&L&&L.Mixin){e=g(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(e.includes),t.apply(null,[a].concat(e.includes)),delete e.includes),a.options&&(e.options=t(n(a.options),e.options)),t(a,e),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=a._initHooks.length;e<t;e++)a._initHooks[e].call(this)}},r},C.include=function(e){return t(this.prototype,e),this},C.mergeOptions=function(e){return t(this.prototype.options,e),this},C.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var A={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,a=(e=h(e)).length;i<a;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(e)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else for(var i=0,a=(e=h(e)).length;i<a;i++)this._off(e[i],t,n);else delete this._events;return this},_on:function(e,t,n){this._events=this._events||{};var r=this._events[e];r||(r=[],this._events[e]=r),n===this&&(n=void 0);for(var i={fn:t,ctx:n},a=r,o=0,s=a.length;o<s;o++)if(a[o].fn===t&&a[o].ctx===n)return;a.push(i)},_off:function(e,t,n){var r,i,a;if(this._events&&(r=this._events[e]))if(t){if(n===this&&(n=void 0),r)for(i=0,a=r.length;i<a;i++){var o=r[i];if(o.ctx===n&&o.fn===t)return o.fn=c,this._firingCount&&(this._events[e]=r=r.slice()),void r.splice(i,1)}}else{for(i=0,a=r.length;i<a;i++)r[i].fn=c;delete this._events[e]}},fire:function(e,n,r){if(!this.listens(e,r))return this;var i=t({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var a=this._events[e];if(a){this._firingCount=this._firingCount+1||1;for(var o=0,s=a.length;o<s;o++){var c=a[o];c.fn.call(c.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t){var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var r in this._eventParents)if(this._eventParents[r].listens(e,t))return!0;return!1},once:function(e,t,n){if("object"===typeof e){for(var i in e)this.once(i,e[i],t);return this}var a=r((function(){this.off(e,t,n).off(e,a,n)}),this);return this.on(e,t,n).on(e,a,n)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,t({layer:e.target,propagatedFrom:e.target},e),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var j=C.extend(A);function P(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var T=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function R(e,t,n){return e instanceof P?e:g(e)?new P(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new P(e.x,e.y):new P(e,t,n)}function M(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function I(e,t){return!e||e instanceof M?e:new M(e,t)}function N(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function D(e,t){return e instanceof N?e:new N(e,t)}function F(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function z(e,t,n){return e instanceof F?e:g(e)&&"object"!==typeof e[0]?3===e.length?new F(e[0],e[1],e[2]):2===e.length?new F(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new F(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new F(e,t,n)}P.prototype={clone:function(){return new P(this.x,this.y)},add:function(e){return this.clone()._add(R(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(R(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new P(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new P(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=T(this.x),this.y=T(this.y),this},distanceTo:function(e){var t=(e=R(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=R(e)).x===this.x&&e.y===this.y},contains:function(e){return e=R(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},M.prototype={extend:function(e){return e=R(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new P((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new P(this.min.x,this.max.y)},getTopRight:function(){return new P(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof P?R(e):I(e))instanceof M?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=I(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>=t.x&&r.x<=n.x,o=i.y>=t.y&&r.y<=n.y;return a&&o},overlaps:function(e){e=I(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>t.x&&r.x<n.x,o=i.y>t.y&&r.y<n.y;return a&&o},isValid:function(){return!(!this.min||!this.max)}},N.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof F)t=e,n=e;else{if(!(e instanceof N))return e?this.extend(z(e)||D(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new F(t.lat,t.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new N(new F(t.lat-r,t.lng-i),new F(n.lat+r,n.lng+i))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof F||"lat"in e?z(e):D(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof N?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=D(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>=t.lat&&r.lat<=n.lat,o=i.lng>=t.lng&&r.lng<=n.lng;return a&&o},overlaps:function(e){e=D(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>t.lat&&r.lat<n.lat,o=i.lng>t.lng&&r.lng<n.lng;return a&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=D(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(e,t){return!!e&&(e=z(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+u(this.lat,e)+", "+u(this.lng,e)+")"},distanceTo:function(e){return U.distance(this,z(e))},wrap:function(){return U.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return D([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var B={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new M(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?s(e.lng,this.wrapLng,!0):e.lng;return new F(this.wrapLat?s(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var a=e.getSouthWest(),o=e.getNorthEast();return new N(new F(a.lat-r,a.lng-i),new F(o.lat-r,o.lng-i))}},U=t({},B,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,a=Math.sin((t.lat-e.lat)*n/2),o=Math.sin((t.lng-e.lng)*n/2),s=a*a+Math.cos(r)*Math.cos(i)*o*o,c=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*c}}),H={R:6378137,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new P(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new F((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=6378137*Math.PI;return new M([-e,-e],[e,e])}()};function q(e,t,n,r){if(g(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function W(e,t,n,r){return new q(e,t,n,r)}q.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new P((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var G=t({},U,{code:"EPSG:3857",projection:H,transformation:function(){var e=.5/(Math.PI*H.R);return W(e,.5,-e,.5)}()}),Z=t({},G,{code:"EPSG:900913"});function V(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e,t){var n,r,i,a,o,s,c="";for(n=0,i=e.length;n<i;n++){for(r=0,a=(o=e[n]).length;r<a;r++)c+=(r?"L":"M")+(s=o[r]).x+" "+s.y;c+=t?Se?"z":"x":""}return c||"M0 0"}var X=document.documentElement.style,K="ActiveXObject"in window,J=K&&!document.addEventListener,Q="msLaunchUri"in navigator&&!("documentMode"in document),$=Ae("webkit"),ee=Ae("android"),te=Ae("android 2")||Ae("android 3"),ne=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),re=ee&&Ae("Google")&&ne<537&&!("AudioNode"in window),ie=!!window.opera,ae=!Q&&Ae("chrome"),oe=Ae("gecko")&&!$&&!ie&&!K,se=!ae&&Ae("safari"),ce=Ae("phantom"),ue="OTransition"in X,le=0===navigator.platform.indexOf("Win"),he=K&&"transition"in X,fe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!te,de="MozPerspective"in X,pe=!window.L_DISABLE_3D&&(he||fe||de)&&!ue&&!ce,me="undefined"!==typeof orientation||Ae("mobile"),ge=me&&$,ve=me&&fe,be=!window.PointerEvent&&window.MSPointerEvent,ye=!(!window.PointerEvent&&!be),_e=!window.L_NO_TOUCH&&(ye||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),xe=me&&ie,we=me&&oe,Ee=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ke=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),Oe=!!document.createElement("canvas").getContext,Se=!(!document.createElementNS||!V("svg").createSVGRect),Ce=!Se&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}();function Ae(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var je={ie:K,ielt9:J,edge:Q,webkit:$,android:ee,android23:te,androidStock:re,opera:ie,chrome:ae,gecko:oe,safari:se,phantom:ce,opera12:ue,win:le,ie3d:he,webkit3d:fe,gecko3d:de,any3d:pe,mobile:me,mobileWebkit:ge,mobileWebkit3d:ve,msPointer:be,pointer:ye,touch:_e,mobileOpera:xe,mobileGecko:we,retina:Ee,passiveEvents:ke,canvas:Oe,svg:Se,vml:Ce},Pe=be?"MSPointerDown":"pointerdown",Te=be?"MSPointerMove":"pointermove",Re=be?"MSPointerUp":"pointerup",Le=be?"MSPointerCancel":"pointercancel",Me={},Ie=!1;function Ne(e,t,n,i){return"touchstart"===t?function(e,t,n){var i=r((function(e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Lt(e),Be(e,t)}));e["_leaflet_touchstart"+n]=i,e.addEventListener(Pe,i,!1),Ie||(document.addEventListener(Pe,De,!0),document.addEventListener(Te,Fe,!0),document.addEventListener(Re,ze,!0),document.addEventListener(Le,ze,!0),Ie=!0)}(e,n,i):"touchmove"===t?function(e,t,n){var r=function(e){e.pointerType===(e.MSPOINTER_TYPE_MOUSE||"mouse")&&0===e.buttons||Be(e,t)};e["_leaflet_touchmove"+n]=r,e.addEventListener(Te,r,!1)}(e,n,i):"touchend"===t&&function(e,t,n){var r=function(e){Be(e,t)};e["_leaflet_touchend"+n]=r,e.addEventListener(Re,r,!1),e.addEventListener(Le,r,!1)}(e,n,i),this}function De(e){Me[e.pointerId]=e}function Fe(e){Me[e.pointerId]&&(Me[e.pointerId]=e)}function ze(e){delete Me[e.pointerId]}function Be(e,t){for(var n in e.touches=[],Me)e.touches.push(Me[n]);e.changedTouches=[e],t(e)}var Ue,He,qe,We,Ge,Ze=be?"MSPointerDown":ye?"pointerdown":"touchstart",Ve=be?"MSPointerUp":ye?"pointerup":"touchend",Ye="_leaflet_",Xe=ht(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ke=ht(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Je="webkitTransition"===Ke||"OTransition"===Ke?Ke+"End":"transitionend";function Qe(e){return"string"===typeof e?document.getElementById(e):e}function $e(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function et(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function tt(e){var t=e.parentNode;t&&t.removeChild(e)}function nt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function rt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function it(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function at(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=ut(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function ot(e,t){if(void 0!==e.classList)for(var n=h(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!at(e,t)){var a=ut(e);ct(e,(a?a+" ":"")+t)}}function st(e,t){void 0!==e.classList?e.classList.remove(t):ct(e,l((" "+ut(e)+" ").replace(" "+t+" "," ")))}function ct(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function ut(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function lt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}(e,t)}function ht(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function ft(e,t,n){var r=t||new P(0,0);e.style[Xe]=(he?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function dt(e,t){e._leaflet_pos=t,pe?ft(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function pt(e){return e._leaflet_pos||new P(0,0)}if("onselectstart"in document)Ue=function(){Et(window,"selectstart",Lt)},He=function(){Ot(window,"selectstart",Lt)};else{var mt=ht(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ue=function(){if(mt){var e=document.documentElement.style;qe=e[mt],e[mt]="none"}},He=function(){mt&&(document.documentElement.style[mt]=qe,qe=void 0)}}function gt(){Et(window,"dragstart",Lt)}function vt(){Ot(window,"dragstart",Lt)}function bt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(yt(),We=e,Ge=e.style.outline,e.style.outline="none",Et(window,"keydown",yt))}function yt(){We&&(We.style.outline=Ge,We=void 0,Ge=void 0,Ot(window,"keydown",yt))}function _t(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function xt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var wt={TRANSFORM:Xe,TRANSITION:Ke,TRANSITION_END:Je,get:Qe,getStyle:$e,create:et,remove:tt,empty:nt,toFront:rt,toBack:it,hasClass:at,addClass:ot,removeClass:st,setClass:ct,getClass:ut,setOpacity:lt,testProp:ht,setTransform:ft,setPosition:dt,getPosition:pt,disableTextSelection:Ue,enableTextSelection:He,disableImageDrag:gt,enableImageDrag:vt,preventOutline:bt,restoreOutline:yt,getSizedParentNode:_t,getScale:xt};function Et(e,t,n,r){if("object"===typeof t)for(var i in t)At(e,i,t[i],n);else for(var a=0,o=(t=h(t)).length;a<o;a++)At(e,t[a],n,r);return this}var kt="_leaflet_events";function Ot(e,t,n,r){if("object"===typeof t)for(var i in t)jt(e,i,t[i],n);else if(t)for(var a=0,o=(t=h(t)).length;a<o;a++)jt(e,t[a],n,r);else{for(var s in e[kt])jt(e,s,e[kt][s]);delete e[kt]}return this}function St(){if(ye)return!(Q||se)}var Ct={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function At(e,t,n,r){var i=t+a(n)+(r?"_"+a(r):"");if(e[kt]&&e[kt][i])return this;var o=function(t){return n.call(r||e,t||window.event)},s=o;ye&&0===t.indexOf("touch")?Ne(e,t,o,i):_e&&"dblclick"===t&&!St()?function(e,t,n){var r,i,a=!1;function o(e){if(ye){if(!e.isPrimary)return;if("mouse"===e.pointerType)return}else if(e.touches.length>1)return;var t=Date.now(),n=t-(r||t);i=e.touches?e.touches[0]:e,a=n>0&&n<=250,r=t}function s(e){if(a&&!i.cancelBubble){if(ye){if("mouse"===e.pointerType)return;var n,o,s={};for(o in i)n=i[o],s[o]=n&&n.bind?n.bind(i):n;i=s}i.type="dblclick",i.button=0,t(i),r=null}}e[Ye+Ze+n]=o,e[Ye+Ve+n]=s,e[Ye+"dblclick"+n]=t,e.addEventListener(Ze,o,!!ke&&{passive:!1}),e.addEventListener(Ve,s,!!ke&&{passive:!1}),e.addEventListener("dblclick",t,!1)}(e,o,i):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Ct[t]||t,o,!!ke&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(o=function(t){t=t||window.event,Ut(e,t)&&s(t)},e.addEventListener(Ct[t],o,!1)):e.addEventListener(t,s,!1):"attachEvent"in e&&e.attachEvent("on"+t,o),e[kt]=e[kt]||{},e[kt][i]=o}function jt(e,t,n,r){var i=t+a(n)+(r?"_"+a(r):""),o=e[kt]&&e[kt][i];if(!o)return this;ye&&0===t.indexOf("touch")?function(e,t,n){var r=e["_leaflet_"+t+n];"touchstart"===t?e.removeEventListener(Pe,r,!1):"touchmove"===t?e.removeEventListener(Te,r,!1):"touchend"===t&&(e.removeEventListener(Re,r,!1),e.removeEventListener(Le,r,!1))}(e,t,i):_e&&"dblclick"===t&&!St()?function(e,t){var n=e[Ye+Ze+t],r=e[Ye+Ve+t],i=e[Ye+"dblclick"+t];e.removeEventListener(Ze,n,!!ke&&{passive:!1}),e.removeEventListener(Ve,r,!!ke&&{passive:!1}),e.removeEventListener("dblclick",i,!1)}(e,i):"removeEventListener"in e?e.removeEventListener(Ct[t]||t,o,!1):"detachEvent"in e&&e.detachEvent("on"+t,o),e[kt][i]=null}function Pt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,Bt(e),this}function Tt(e){return At(e,"wheel",Pt),this}function Rt(e){return Et(e,"mousedown touchstart dblclick",Pt),At(e,"click",zt),this}function Lt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Mt(e){return Lt(e),Pt(e),this}function It(e,t){if(!t)return new P(e.clientX,e.clientY);var n=xt(t),r=n.boundingClientRect;return new P((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Nt=le&&ae?2*window.devicePixelRatio:oe?window.devicePixelRatio:1;function Dt(e){return Q?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Nt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}var Ft={};function zt(e){Ft[e.type]=!0}function Bt(e){var t=Ft[e.type];return Ft[e.type]=!1,t}function Ut(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}var Ht={on:Et,off:Ot,stopPropagation:Pt,disableScrollPropagation:Tt,disableClickPropagation:Rt,preventDefault:Lt,stop:Mt,getMousePosition:It,getWheelDelta:Dt,fakeStop:zt,skipped:Bt,isExternalTarget:Ut,addListener:Et,removeListener:Ot},qt=j.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=pt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=k(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),dt(this._el,n),this.fire("step")},_complete:function(){O(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Wt=j.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=f(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(z(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ke&&pe&&!xe&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Et(this._proxy,Je,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,r){return n=void 0===n?this._zoom:this._limitZoom(n),e=this._limitCenter(z(e),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=t({animate:r.animate},r.zoom),r.pan=t({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,n),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(pe?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(pe?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),a=(e instanceof P?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),o=this.containerPointToLatLng(i.add(a));return this.setView(o,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():D(e);var n=R(t.paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var a=r.subtract(n).divideBy(2),o=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(o.add(s).divideBy(2).add(a),i),zoom:i}},fitBounds:function(e,t){if(!(e=D(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=R(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){ot(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!pe)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),a=this.getSize(),o=this._zoom;e=z(e),t=void 0===t?o:t;var s=Math.max(a.x,a.y),c=s*this.getZoomScale(o,t),u=i.distanceTo(r)||1;function l(e){var t=(c*c-s*s+2.0164*(e?-1:1)*2.0164*u*u)/(2*(e?c:s)*2.0164*u),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function h(e){return(Math.exp(e)-Math.exp(-e))/2}function f(e){return(Math.exp(e)+Math.exp(-e))/2}var d=l(0);function p(e){return s*(f(d)*(h(t=d+1.42*e)/f(t))-h(d))/2.0164;var t}var m=Date.now(),g=(l(1)-d)/1.42,v=n.duration?1e3*n.duration:1e3*g*.8;return this._moveStart(!0,n.noMoveStart),function n(){var a=(Date.now()-m)/v,c=function(e){return 1-Math.pow(1-e,1.5)}(a)*g;a<=1?(this._flyToFrame=k(n,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(p(c)/u)),o),this.getScaleZoom(s/function(e){return s*(f(d)/f(d+1.42*e))}(c),o),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return(e=D(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,D(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=R((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),i=this.getCenter(),a=this.project(i),o=this.project(e),s=this.getPixelBounds(),c=s.getSize().divideBy(2),u=I([s.min.add(n),s.max.subtract(r)]);if(!u.contains(o)){this._enforcingBounds=!0;var l=a.subtract(o),h=R(o.x+l.x,o.y+l.y);(o.x<u.min.x||o.x>u.max.x)&&(h.x=a.x-l.x,l.x>0?h.x+=c.x-n.x:h.x-=c.x-r.x),(o.y<u.min.y||o.y>u.max.y)&&(h.y=a.y-l.y,l.y>0?h.y+=c.y-n.y:h.y-=c.y-r.y),this.panTo(this.unproject(h),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},!0===e?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),a=n.divideBy(2).round(),o=i.divideBy(2).round(),s=a.subtract(o);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=t({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,i,e):navigator.geolocation.getCurrentPosition(n,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(e){var t=new F(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var a={latlng:t,bounds:n,timestamp:e.timestamp};for(var o in e.coords)"number"===typeof e.coords[o]&&(a[o]=e.coords[o]);this.fire("locationfound",a)},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),tt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(O(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)tt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=et("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new N(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=D(e),n=R(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),a=this.getMaxZoom(),o=e.getNorthWest(),s=e.getSouthEast(),c=this.getSize().subtract(n),u=I(this.project(s,r),this.project(o,r)).getSize(),l=pe?this.options.zoomSnap:1,h=c.x/u.x,f=c.y/u.y,d=t?Math.max(h,f):Math.min(h,f);return r=this.getScaleZoom(d,r),l&&(r=Math.round(r/(l/100))*(l/100),r=t?Math.ceil(r/l)*l:Math.floor(r/l)*l),Math.max(i,Math.min(a,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new P(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new M(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(z(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(R(e),t)},layerPointToLatLng:function(e){var t=R(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(z(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(z(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(D(e))},distance:function(e,t){return this.options.crs.distance(z(e),z(t))},containerPointToLayerPoint:function(e){return R(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return R(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(R(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(z(e)))},mouseEventToContainerPoint:function(e){return It(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=Qe(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Et(t,"scroll",this._onScroll,this),this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&pe,ot(e,"leaflet-container"+(_e?" leaflet-touch":"")+(Ee?" leaflet-retina":"")+(J?" leaflet-oldie":"")+(se?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=$e(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),dt(this._mapPane,new P(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ot(e.markerPane,"leaflet-zoom-hide"),ot(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){dt(this._mapPane,new P(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var r=this._zoom!==t;this._moveStart(r,!1)._move(e,t)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n){void 0===t&&(t=this._zoom);var r=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return O(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){dt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[a(this._container)]=this;var t=e?Ot:Et;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),pe&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){O(this._resizeRequest),this._resizeRequest=k((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,o=e.target||e.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(i&&!Ut(o,e))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||s||i||!Ut(o,e)||(r=[this]),r},_handleDOMEvent:function(e){if(this._loaded&&!Bt(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t&&"keyup"!==t&&"keydown"!==t||bt(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,r){if("click"===e.type){var i=t({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}if(!e._stopped&&(r=(r||[]).concat(this._findEventTargets(e,n))).length){var a=r[0];"contextmenu"===n&&a.listens(n,!0)&&Lt(e);var o={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var s=a.getLatLng&&(!a._radius||a._radius<=10);o.containerPoint=s?this.latLngToContainerPoint(a.getLatLng()):this.mouseEventToContainerPoint(e),o.layerPoint=this.containerPointToLayerPoint(o.containerPoint),o.latlng=s?a.getLatLng():this.layerPointToLatLng(o.layerPoint)}for(var c=0;c<r.length;c++)if(r[c].fire(n,o,!0),o.originalEvent._stopped||!1===r[c].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,n))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return pt(this._mapPane)||new P(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return I([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),a=new M(r.subtract(i),r.add(i)),o=this._getBoundsOffset(a,n,t);return o.round().equals([0,0])?e:this.unproject(r.add(o),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new M(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=I(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),a=r.max.subtract(e.max);return new P(this._rebound(i.x,-a.x),this._rebound(i.y,-a.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=pe?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){st(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=et("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=Xe,n=this._proxy.style[t];ft(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){tt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();ft(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(k((function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,ot(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:i}),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&st(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),k((function(){this._moveEnd(!0)}),this))}}),Gt=C.extend({options:{position:"topright"},initialize:function(e){f(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return ot(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(tt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Zt=function(e){return new Gt(e)};Wt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=et("div",t+"control-container",this._container);function r(r,i){var a=t+r+" "+t+i;e[r+i]=et("div",a,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)tt(this._controlCorners[e]);tt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vt=Gt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Gt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){ot(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(ot(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):st(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return st(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=et("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Rt(t),Tt(t);var r=this._section=et("section",e+"-list");n&&(this._map.on("click",this.collapse,this),ee||Et(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var i=this._layersLink=et("a",e+"-toggle",t);i.href="#",i.title="Layers",_e?(Et(i,"click",Mt),Et(i,"click",this.expand,this)):Et(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=et("div",e+"-base",r),this._separator=et("div",e+"-separator",r),this._overlaysList=et("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&a(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(r((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;nt(this._baseLayersList),nt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(a(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(t),t.layerId=a(e.layer),Et(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var o=document.createElement("div");return n.appendChild(o),o.appendChild(t),o.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var a=n.length-1;a>=0;a--)e=n[a],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(a=0;a<i.length;a++)this._map.hasLayer(i[a])&&this._map.removeLayer(i[a]);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])||this._map.addLayer(r[a]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Yt=Gt.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=et("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var a=et("a",n,r);return a.innerHTML=e,a.href="#",a.title=t,a.setAttribute("role","button"),a.setAttribute("aria-label",t),Rt(a),Et(a,"click",Mt),Et(a,"click",i,this),Et(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";st(this._zoomInButton,t),st(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&ot(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&ot(this._zoomInButton,t)}});Wt.mergeOptions({zoomControl:!0}),Wt.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Yt,this.addControl(this.zoomControl))}));var Xt=Gt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t=et("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",t),e.on(n.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),t},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=et("div",t,n)),e.imperial&&(this._iScale=et("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),Kt=Gt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){f(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=et("div","leaflet-control-attribution"),Rt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" | ")}}});Wt.mergeOptions({attributionControl:!0}),Wt.addInitHook((function(){this.options.attributionControl&&(new Kt).addTo(this)})),Gt.Layers=Vt,Gt.Zoom=Yt,Gt.Scale=Xt,Gt.Attribution=Kt,Zt.layers=function(e,t,n){return new Vt(e,t,n)},Zt.zoom=function(e){return new Yt(e)},Zt.scale=function(e){return new Xt(e)},Zt.attribution=function(e){return new Kt(e)};var Jt=C.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jt.addTo=function(e,t){return e.addHandler(t,this),this};var Qt,$t={Events:A},en=_e?"touchstart mousedown":"mousedown",tn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},nn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},rn=j.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){f(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Et(this._dragStartTarget,en,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(rn._dragging===this&&this.finishDrag(),Ot(this._dragStartTarget,en,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!at(this._element,"leaflet-zoom-anim")&&!(rn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(rn._dragging=this,this._preventOutline&&bt(this._element),gt(),Ue(),!this._moving))){this.fire("down");var t=e.touches?e.touches[0]:e,n=_t(this._element);this._startPoint=new P(t.clientX,t.clientY),this._parentScale=xt(n),Et(document,nn[e.type],this._onMove,this),Et(document,tn[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new P(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Lt(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=pt(this._element).subtract(n),ot(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ot(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,O(this._animRequest),this._lastEvent=e,this._animRequest=k(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),dt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var e in st(document.body,"leaflet-dragging"),this._lastTarget&&(st(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),nn)Ot(document,nn[e],this._onMove,this),Ot(document,tn[e],this._onUp,this);vt(),He(),this._moved&&this._moving&&(O(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,rn._dragging=!1}});function an(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=function(e,t){var n=e.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,function e(t,n,r,i,a){var o,s,c,u=0;for(s=i+1;s<=a-1;s++)(c=hn(t[s],t[i],t[a],!0))>u&&(o=s,u=c);u>r&&(n[o]=1,e(t,n,r,i,o),e(t,n,r,o,a))}(e,r,t,0,n-1);var i,a=[];for(i=0;i<n;i++)r[i]&&a.push(e[i]);return a}(e=function(e,t){for(var n=[e[0]],r=1,i=0,a=e.length;r<a;r++)ln(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<a-1&&n.push(e[a-1]),n}(e,n),n)}function on(e,t,n){return Math.sqrt(hn(e,t,n,!0))}function sn(e,t,n,r,i){var a,o,s,c=r?Qt:un(e,n),u=un(t,n);for(Qt=u;;){if(!(c|u))return[e,t];if(c&u)return!1;s=un(o=cn(e,t,a=c||u,n,i),n),a===c?(e=o,c=s):(t=o,u=s)}}function cn(e,t,n,r,i){var a,o,s=t.x-e.x,c=t.y-e.y,u=r.min,l=r.max;return 8&n?(a=e.x+s*(l.y-e.y)/c,o=l.y):4&n?(a=e.x+s*(u.y-e.y)/c,o=u.y):2&n?(a=l.x,o=e.y+c*(l.x-e.x)/s):1&n&&(a=u.x,o=e.y+c*(u.x-e.x)/s),new P(a,o,i)}function un(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function ln(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function hn(e,t,n,r){var i,a=t.x,o=t.y,s=n.x-a,c=n.y-o,u=s*s+c*c;return u>0&&((i=((e.x-a)*s+(e.y-o)*c)/u)>1?(a=n.x,o=n.y):i>0&&(a+=s*i,o+=c*i)),s=e.x-a,c=e.y-o,r?s*s+c*c:new P(a,o)}function fn(e){return!g(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function dn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),fn(e)}var pn={simplify:an,pointToSegmentDistance:on,closestPointOnSegment:function(e,t,n){return hn(e,t,n)},clipSegment:sn,_getEdgeIntersection:cn,_getBitCode:un,_sqClosestPointOnSegment:hn,isFlat:fn,_flat:dn};function mn(e,t,n){var r,i,a,o,s,c,u,l,h,f=[1,4,2,8];for(i=0,u=e.length;i<u;i++)e[i]._code=un(e[i],t);for(o=0;o<4;o++){for(l=f[o],r=[],i=0,a=(u=e.length)-1;i<u;a=i++)s=e[i],c=e[a],s._code&l?c._code&l||((h=cn(c,s,l,t,n))._code=un(h,t),r.push(h)):(c._code&l&&((h=cn(c,s,l,t,n))._code=un(h,t),r.push(h)),r.push(s));e=r}return e}var gn={clipPolygon:mn},vn={project:function(e){return new P(e.lng,e.lat)},unproject:function(e){return new F(e.y,e.x)},bounds:new M([-180,-90],[180,90])},bn={R:6378137,R_MINOR:6356752.314245179,bounds:new M([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,a=Math.sqrt(1-i*i),o=a*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-o)/(1+o),a/2);return r=-n*Math.log(Math.max(s,1e-10)),new P(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,a=Math.sqrt(1-i*i),o=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(o),c=0,u=.1;c<15&&Math.abs(u)>1e-7;c++)t=a*Math.sin(s),t=Math.pow((1-t)/(1+t),a/2),s+=u=Math.PI/2-2*Math.atan(o*t)-s;return new F(s*n,e.x*n/r)}},yn={LonLat:vn,Mercator:bn,SphericalMercator:H},_n=t({},U,{code:"EPSG:3395",projection:bn,transformation:function(){var e=.5/(Math.PI*bn.R);return W(e,.5,-e,.5)}()}),xn=t({},U,{code:"EPSG:4326",projection:vn,transformation:W(1/180,1,-1/180,.5)}),wn=t({},B,{projection:vn,transformation:W(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});B.Earth=U,B.EPSG3395=_n,B.EPSG3857=G,B.EPSG900913=Z,B.EPSG4326=xn,B.Simple=wn;var En=j.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});Wt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=a(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=a(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&a(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?g(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=a(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var kn=En.extend({initialize:function(e,t){var n,r;if(f(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}}),On=kn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),kn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),kn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new N;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Sn=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){f(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var i=R(r),a=R("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),a&&(e.style.marginLeft=-a.x+"px",e.style.marginTop=-a.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Ee&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),Cn=Sn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return Cn.imagePath||(Cn.imagePath=this._detectIconPath()),(this.options.imagePath||Cn.imagePath)+Sn.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=et("div","leaflet-default-icon-path",document.body),t=$e(e,"background-image")||$e(e,"backgroundImage");return document.body.removeChild(e),t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),An=Jt.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new rn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ot(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&st(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,a=pt(t._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),c=I(o.min._subtract(s).add(i),o.max._subtract(s).subtract(i));if(!c.contains(a)){var u=R((Math.max(c.max.x,a.x)-c.max.x)/(o.max.x-c.max.x)-(Math.min(c.min.x,a.x)-c.min.x)/(o.min.x-c.min.x),(Math.max(c.max.y,a.y)-c.max.y)/(o.max.y-c.max.y)-(Math.min(c.min.y,a.y)-c.min.y)/(o.min.y-c.min.y)).multiplyBy(r);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),dt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=k(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(O(this._panRequest),this._panRequest=k(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=pt(t._icon),i=t._map.layerPointToLatLng(r);n&&dt(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){O(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),jn=En.extend({options:{icon:new Cn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){f(this,t),this._latlng=z(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=z(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),ot(n,t),e.keyboard&&(n.tabIndex="0"),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var i=e.icon.createShadow(this._shadow),a=!1;i!==this._shadow&&(this._removeShadow(),a=!0),i&&(ot(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&a&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),tt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&tt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&dt(this._icon,e),this._shadow&&dt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(ot(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),An)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new An(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&lt(this._icon,e),this._shadow&&lt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Pn=En.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return f(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Tn=Pn.extend({options:{fill:!0,radius:10},initialize:function(e,t){f(this,t),this._latlng=z(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=z(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return Pn.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new M(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Rn=Tn.extend({initialize:function(e,n,r){if("number"===typeof n&&(n=t({},r,{radius:n})),f(this,n),this._latlng=z(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new N(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Pn.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===U.distance){var i=Math.PI/180,a=this._mRadius/U.R/i,o=n.project([t+a,e]),s=n.project([t-a,e]),c=o.add(s).divideBy(2),u=n.unproject(c).lat,l=Math.acos((Math.cos(a*i)-Math.sin(t*i)*Math.sin(u*i))/(Math.cos(t*i)*Math.cos(u*i)))/i;(isNaN(l)||0===l)&&(l=a/Math.cos(Math.PI/180*t)),this._point=c.subtract(n.getPixelOrigin()),this._radius=isNaN(l)?0:c.x-n.project([u,e-l]).x,this._radiusY=c.y-o.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),Ln=Pn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){f(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,a=hn,o=0,s=this._parts.length;o<s;o++)for(var c=this._parts[o],u=1,l=c.length;u<l;u++){var h=a(e,t=c[u-1],n=c[u],!0);h<r&&(r=h,i=a(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,a,o,s=this._rings[0],c=s.length;if(!c)return null;for(e=0,t=0;e<c-1;e++)t+=s[e].distanceTo(s[e+1])/2;if(0===t)return this._map.layerPointToLatLng(s[0]);for(e=0,r=0;e<c-1;e++)if(i=s[e],a=s[e+1],(r+=n=i.distanceTo(a))>t)return o=(r-t)/n,this._map.layerPointToLatLng([a.x-o*(a.x-i.x),a.y-o*(a.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=z(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new N,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return fn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=fn(e),r=0,i=e.length;r<i;r++)n?(t[r]=z(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new P(e,e);this._pxBounds=new M([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)])},_projectLatlngs:function(e,t,n){var r,i,a=e[0]instanceof F,o=e.length;if(a){for(i=[],r=0;r<o;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<o;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,a,o,s,c=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,a=(s=this._rings[t]).length;n<a-1;n++)(o=sn(s[n],s[n+1],e,n,!0))&&(c[r]=c[r]||[],c[r].push(o[0]),o[1]===s[n+1]&&n!==a-2||(c[r].push(o[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=an(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,a,o,s,c=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,a=this._parts.length;n<a;n++)for(r=0,i=(o=(s=this._parts[n]).length)-1;r<o;i=r++)if((t||0!==r)&&on(e,s[i],s[r])<=c)return!0;return!1}});Ln._flat=dn;var Mn=Ln.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,a,o,s,c,u=this._rings[0],l=u.length;if(!l)return null;for(a=o=s=0,e=0,t=l-1;e<l;t=e++)n=u[e],r=u[t],i=n.y*r.x-r.y*n.x,o+=(n.x+r.x)*i,s+=(n.y+r.y)*i,a+=3*i;return c=0===a?u[0]:[o/a,s/a],this._map.layerPointToLatLng(c)},_convertLatLngs:function(e){var t=Ln.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof F&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){Ln.prototype._setLatLngs.call(this,e),fn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return fn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new P(t,t);if(e=new M(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,a=this._rings.length;i<a;i++)(r=mn(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,a,o,s,c,u=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(a=0,o=(c=(t=this._parts[i]).length)-1;a<c;o=a++)n=t[a],r=t[o],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(u=!u);return u||Ln.prototype._containsPoint.call(this,e,!0)}}),In=On.extend({initialize:function(e,t){f(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=g(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var a=this.options;if(a.filter&&!a.filter(e))return this;var o=Nn(e,a);return o?(o.feature=qn(e),o.defaultOptions=o.options,this.resetStyle(o),a.onEachFeature&&a.onEachFeature(e,o),this.addLayer(o)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=t({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function Nn(e,t){var n,r,i,a,o="Feature"===e.type?e.geometry:e,s=o?o.coordinates:null,c=[],u=t&&t.pointToLayer,l=t&&t.coordsToLatLng||Fn;if(!s&&!o)return null;switch(o.type){case"Point":return Dn(u,e,n=l(s),t);case"MultiPoint":for(i=0,a=s.length;i<a;i++)n=l(s[i]),c.push(Dn(u,e,n,t));return new On(c);case"LineString":case"MultiLineString":return r=zn(s,"LineString"===o.type?0:1,l),new Ln(r,t);case"Polygon":case"MultiPolygon":return r=zn(s,"Polygon"===o.type?1:2,l),new Mn(r,t);case"GeometryCollection":for(i=0,a=o.geometries.length;i<a;i++){var h=Nn({geometry:o.geometries[i],type:"Feature",properties:e.properties},t);h&&c.push(h)}return new On(c);default:throw new Error("Invalid GeoJSON object.")}}function Dn(e,t,n,r){return e?e(t,n):new jn(n,r&&r.markersInheritOptions&&r)}function Fn(e){return new F(e[1],e[0],e[2])}function zn(e,t,n){for(var r,i=[],a=0,o=e.length;a<o;a++)r=t?zn(e[a],t-1,n):(n||Fn)(e[a]),i.push(r);return i}function Bn(e,t){return t="number"===typeof t?t:6,void 0!==e.alt?[u(e.lng,t),u(e.lat,t),u(e.alt,t)]:[u(e.lng,t),u(e.lat,t)]}function Un(e,t,n,r){for(var i=[],a=0,o=e.length;a<o;a++)i.push(t?Un(e[a],t-1,n,r):Bn(e[a],r));return!t&&n&&i.push(i[0]),i}function Hn(e,n){return e.feature?t({},e.feature,{geometry:n}):qn(n)}function qn(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var Wn={toGeoJSON:function(e){return Hn(this,{type:"Point",coordinates:Bn(this.getLatLng(),e)})}};function Gn(e,t){return new In(e,t)}jn.include(Wn),Rn.include(Wn),Tn.include(Wn),Ln.include({toGeoJSON:function(e){var t=!fn(this._latlngs);return Hn(this,{type:(t?"Multi":"")+"LineString",coordinates:Un(this._latlngs,t?1:0,!1,e)})}}),Mn.include({toGeoJSON:function(e){var t=!fn(this._latlngs),n=t&&!fn(this._latlngs[0]),r=Un(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),Hn(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),kn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),Hn(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var a=qn(i);"FeatureCollection"===a.type?r.push.apply(r,a.features):r.push(a)}}})),n?Hn(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Zn=Gn,Vn=En.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=D(t),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ot(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){tt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&rt(this._image),this},bringToBack:function(){return this._map&&it(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=D(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:et("img");ot(t,"leaflet-image-layer"),this._zoomAnimated&&ot(t,"leaflet-zoom-animated"),this.options.className&&ot(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=r(this.fire,this,"load"),t.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;ft(this._image,n,t)},_reset:function(){var e=this._image,t=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();dt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){lt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),Yn=Vn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:et("video");if(ot(t,"leaflet-image-layer"),this._zoomAnimated&&ot(t,"leaflet-zoom-animated"),this.options.className&&ot(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=r(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),i=[],a=0;a<n.length;a++)i.push(n[a].src);this._url=n.length>0?i:[t.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted;for(var o=0;o<this._url.length;o++){var s=et("source");s.src=this._url[o],t.appendChild(s)}}}}),Xn=Vn.extend({_initImage:function(){var e=this._image=this._url;ot(e,"leaflet-image-layer"),this._zoomAnimated&&ot(e,"leaflet-zoom-animated"),this.options.className&&ot(e,this.options.className),e.onselectstart=c,e.onmousemove=c}}),Kn=En.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){f(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&lt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&lt(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(lt(this._container,0),this._removeTimeout=setTimeout(r(tt,void 0,this._container),200)):tt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=z(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rt(this._container),this},bringToBack:function(){return this._map&&it(this._container),this},_prepareOpen:function(e,t,n){if(t instanceof En||(n=t,t=e),t instanceof On)for(var r in e._layers){t=e._layers[r];break}if(!n)if(t.getCenter)n=t.getCenter();else{if(!t.getLatLng)throw new Error("Unable to get source layer LatLng.");n=t.getLatLng()}return this._source=t,this.update(),n},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=R(this.options.offset),n=this._getAnchor();this._zoomAnimated?dt(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}}),Jn=Kn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){Kn.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Pn||this._source.on("preclick",Pt))},onRemove:function(e){Kn.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Pn||this._source.off("preclick",Pt))},getEvents:function(){var e=Kn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=et("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=et("div",e+"-content-wrapper",t);if(this._contentNode=et("div",e+"-content",n),Rt(t),Tt(this._contentNode),Et(t,"contextmenu",Pt),this._tipContainer=et("div",e+"-tip-container",t),this._tip=et("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=et("a",e+"-close-button",t);r.href="#close",r.innerHTML="&#215;",Et(r,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight;i&&r>i?(t.height=i+"px",ot(e,"leaflet-popup-scrolled")):st(e,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();dt(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var e=this._map,t=parseInt($e(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new P(this._containerLeft,-n-this._containerBottom);i._add(pt(this._container));var a=e.layerPointToContainerPoint(i),o=R(this.options.autoPanPadding),s=R(this.options.autoPanPaddingTopLeft||o),c=R(this.options.autoPanPaddingBottomRight||o),u=e.getSize(),l=0,h=0;a.x+r+c.x>u.x&&(l=a.x+r-u.x+c.x),a.x-l-s.x<0&&(l=a.x-s.x),a.y+n+c.y>u.y&&(h=a.y+n-u.y+c.y),a.y-h-s.y<0&&(h=a.y-s.y),(l||h)&&e.fire("autopanstart").panBy([l,h])}},_onCloseButtonClick:function(e){this._close(),Mt(e)},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Wt.mergeOptions({closePopupOnClick:!0}),Wt.include({openPopup:function(e,t,n){return e instanceof Jn||(e=new Jn(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),En.include({bindPopup:function(e,t){return e instanceof Jn?(f(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new Jn(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){return this._popup&&this._map&&(t=this._popup._prepareOpen(this,e,t),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;this._popup&&this._map&&(Mt(e),t instanceof Pn?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Qn=Kn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){Kn.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){Kn.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=Kn.prototype.getEvents.call(this);return _e&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=et("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,a=r.latLngToContainerPoint(r.getCenter()),o=r.layerPointToContainerPoint(e),s=this.options.direction,c=i.offsetWidth,u=i.offsetHeight,l=R(this.options.offset),h=this._getAnchor();"top"===s?(t=c/2,n=u):"bottom"===s?(t=c/2,n=0):"center"===s?(t=c/2,n=u/2):"right"===s?(t=0,n=u/2):"left"===s?(t=c,n=u/2):o.x<a.x?(s="right",t=0,n=u/2):(s="left",t=c+2*(l.x+h.x),n=u/2),e=e.subtract(R(t,n,!0)).add(l).add(h),st(i,"leaflet-tooltip-right"),st(i,"leaflet-tooltip-left"),st(i,"leaflet-tooltip-top"),st(i,"leaflet-tooltip-bottom"),ot(i,"leaflet-tooltip-"+s),dt(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&lt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Wt.include({openTooltip:function(e,t,n){return e instanceof Qn||(e=new Qn(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),En.include({bindTooltip:function(e,t){return e instanceof Qn?(f(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=new Qn(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),_e&&(n.click=this._openTooltip)),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){return this._tooltip&&this._map&&(t=this._tooltip._prepareOpen(this,e,t),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(ot(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(st(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var $n=Sn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(nt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=R(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});Sn.Default=Cn;var er=En.extend({options:{tileSize:256,opacity:1,updateWhenIdle:me,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){f(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),tt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(it(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof P?e:new P(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,a=n.length;i<a;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!J){lt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var a=Math.min(1,(e-i.loaded)/200);lt(i.el,a),a<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(O(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=et("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(tt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=et("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),r.el.offsetWidth,this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)tt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),a=Math.floor(t/2),o=n-1,s=new P(+i,+a);s.z=+o;var c=this._tileCoordsToKey(s),u=this._tiles[c];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),o>r&&this._retainParent(i,a,o,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var a=2*t;a<2*t+2;a++){var o=new P(i,a);o.z=n+1;var s=this._tileCoordsToKey(o),c=this._tiles[s];c&&c.active?c.retain=!0:(c&&c.loaded&&(c.retain=!0),n+1<r&&this._retainChildren(i,a,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var a=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!a||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();pe?ft(e.el,i,r):dt(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),a=t.getSize().divideBy(2*r);return new M(i.subtract(a),i.add(a))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),a=i.getCenter(),o=[],s=this.options.keepBuffer,c=new M(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var l=this._tiles[u].coords;l.z===this._tileZoom&&c.contains(new P(l.x,l.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var f=i.min.x;f<=i.max.x;f++){var d=new P(f,h);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:o.push(d)}}if(o.sort((function(e,t){return e.distanceTo(a)-t.distanceTo(a)})),0!==o.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(f=0;f<o.length;f++)this._addTile(o[f],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return D(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new N(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new P(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(tt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){ot(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,J&&this.options.opacity<1&&lt(e,this.options.opacity),ee&&!te&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var n=this._getTilePos(e),i=this._tileCoordsToKey(e),a=this.createTile(this._wrapCoords(e),r(this._tileReady,this,e));this._initTile(a),this.createTile.length<2&&k(r(this._tileReady,this,e,null,a)),dt(a,n),this._tiles[i]={el:a,coords:e,current:!0},t.appendChild(a),this.fire("tileloadstart",{tile:a,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var i=this._tileCoordsToKey(e);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(lt(n.el,0),O(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(ot(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),J||!this._map._fadeAnimated?k(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new P(this._wrapX?s(e.x,this._wrapX):e.x,this._wrapY?s(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new M(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),tr=er.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,(t=f(this,t)).detectRetina&&Ee&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),ee||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Et(n,"load",r(this._tileOnLoad,this,t,n)),Et(n,"error",r(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(e),n},getTileUrl:function(e){var n={r:Ee?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=r),n["-y"]=r}return m(this._url,t(n,this.options))},_tileOnLoad:function(e,t){J?setTimeout(r(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,t.complete||(t.src=b,tt(t),delete this._tiles[e]))},_removeTile:function(e){var t=this._tiles[e];if(t)return re||t.el.setAttribute("src",b),er.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==b))return er.prototype._tileReady.call(this,e,t,n)}});function nr(e,t){return new tr(e,t)}var rr=tr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var r=t({},this.defaultWmsParams);for(var i in n)i in this.options||(r[i]=n[i]);var a=(n=f(this,n)).detectRetina&&Ee?2:1,o=this.getTileSize();r.width=o.x*a,r.height=o.y*a,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,tr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=I(n.project(t[0]),n.project(t[1])),i=r.min,a=r.max,o=(this._wmsVersion>=1.3&&this._crs===xn?[i.y,i.x,a.y,a.x]:[i.x,i.y,a.x,a.y]).join(","),s=tr.prototype.getTileUrl.call(this,e);return s+d(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(e,n){return t(this.wmsParams,e),n||this.redraw(),this}});tr.WMS=rr,nr.wms=function(e,t){return new rr(e,t)};var ir=En.extend({options:{padding:.1,tolerance:0},initialize:function(e){f(this,e),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ot(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=pt(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),a=this._map.project(this._center,t),o=this._map.project(e,t).subtract(a),s=i.multiplyBy(-n).add(r).add(i).subtract(o);pe?ft(this._container,s,n):dt(this._container,s)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new M(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ar=ir.extend({getEvents:function(){var e=ir.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ir.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Et(e,"mousemove",this._onMouseMove,this),Et(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Et(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){O(this._redrawRequest),delete this._ctx,tt(this._container),Ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ir.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=Ee?2:1;dt(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Ee&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){ir.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[a(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||k(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,a,o=e._parts,s=o.length,c=this._ctx;if(s){for(c.beginPath(),n=0;n<s;n++){for(r=0,i=o[n].length;r<i;r++)a=o[n][r],c[r?"lineTo":"moveTo"](a.x,a.y);t&&c.closePath()}this._fillStroke(c,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"===e.type||!this._map._draggableMoved(t))&&(n=t);n&&(zt(e),this._fireEvent([n],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(st(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,i,a=this._drawFirst;a;a=a.next)(n=a.layer).options.interactive&&n._containsPoint(t)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(e),i&&(ot(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(r((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function or(e){return Oe?new ar(e):null}var sr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),cr={_initContainer:function(){this._container=et("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ir.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=sr("shape");ot(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=sr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;tt(t),e.removeInteractiveTarget(t),delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=sr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=g(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=sr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){rt(e._container)},_bringToBack:function(e){it(e._container)}},ur=Ce?sr:V,lr=ir.extend({getEvents:function(){var e=ir.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=ur("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ur("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){tt(this._container),Ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ir.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),dt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=ur("path");e.options.className&&ot(t,e.options.className),e.options.interactive&&ot(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){tt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[a(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Y(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){rt(e._path)},_bringToBack:function(e){it(e._path)}});function hr(e){return Se||Ce?new lr(e):null}Ce&&lr.include(cr),Wt.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&or(e)||hr(e)}});var fr=Mn.extend({initialize:function(e,t){Mn.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=D(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});lr.create=ur,lr.pointsToPath=Y,In.geometryToLayer=Nn,In.coordsToLatLng=Fn,In.coordsToLatLngs=zn,In.latLngToCoords=Bn,In.latLngsToCoords=Un,In.getFeature=Hn,In.asFeature=qn,Wt.mergeOptions({boxZoom:!0});var dr=Jt.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){tt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),Ue(),gt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Et(document,{contextmenu:Mt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=et("div","leaflet-zoom-box",this._container),ot(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new M(this._point,this._startPoint),n=t.getSize();dt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(tt(this._box),st(this._container,"leaflet-crosshair")),He(),vt(),Ot(document,{contextmenu:Mt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var t=new N(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});Wt.addInitHook("addHandler","boxZoom",dr),Wt.mergeOptions({doubleClickZoom:!0});var pr=Jt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});Wt.addInitHook("addHandler","doubleClickZoom",pr),Wt.mergeOptions({dragging:!0,inertia:!te,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mr=Jt.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new rn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}ot(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){st(this._map._container,"leaflet-grab"),st(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=D(this._map.options.maxBounds);this._offsetLimit=I(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,a=(r+t+n)%e-t-n,o=Math.abs(i+n)<Math.abs(a+n)?i:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,s=i.multiplyBy(o/a),c=s.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,c),l=s.multiplyBy(u/c),h=u/(n.inertiaDeceleration*o),f=l.multiplyBy(-h/2).round();f.x||f.y?(f=t._limitOffset(f,t.options.maxBounds),k((function(){t.panBy(f,{duration:h,easeLinearity:o,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});Wt.addInitHook("addHandler","dragging",mr),Wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gr=Jt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Et(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){Et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys)r._panAnim&&r._panAnim._inProgress||(t=this._panKeys[n],e.shiftKey&&(t=R(t).multiplyBy(3)),r.panBy(t),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Mt(e)}}});Wt.addInitHook("addHandler","keyboard",gr),Wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var vr=Jt.extend({addHooks:function(){Et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Dt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),Mt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,a=n?Math.ceil(i/n)*n:i,o=e._limitZoom(t+(this._delta>0?a:-a))-t;this._delta=0,this._startTime=null,o&&("center"===e.options.scrollWheelZoom?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}});Wt.addInitHook("addHandler","scrollWheelZoom",vr),Wt.mergeOptions({tap:!0,tapTolerance:15});var br=Jt.extend({addHooks:function(){Et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(Lt(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],n=t.target;this._startPos=this._newPos=new P(t.clientX,t.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&ot(n,"leaflet-active"),this._holdTimeout=setTimeout(r((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))}),this),1e3),this._simulateEvent("mousedown",t),Et(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),Ot(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],n=t.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&st(n,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new P(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var n=document.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}});!_e||ye&&!se||Wt.addInitHook("addHandler","tap",br),Wt.mergeOptions({touchZoom:_e&&!te,bounceAtZoomLimits:!0});var yr=Jt.extend({addHooks:function(){ot(this._map._container,"leaflet-touch-zoom"),Et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){st(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Et(document,"touchmove",this._onTouchMove,this),Et(document,"touchend",this._onTouchEnd,this),Lt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]),a=n.distanceTo(i)/this._startDist;if(this._zoom=t.getScaleZoom(a,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&a<1||this._zoom>t.getMaxZoom()&&a>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===a)return}else{var o=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===a&&0===o.x&&0===o.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),O(this._animRequest);var s=r(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=k(s,this,!0),Lt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,O(this._animRequest),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Wt.addInitHook("addHandler","touchZoom",yr),Wt.BoxZoom=dr,Wt.DoubleClickZoom=pr,Wt.Drag=mr,Wt.Keyboard=gr,Wt.ScrollWheelZoom=vr,Wt.Tap=br,Wt.TouchZoom=yr,e.version="1.7.1",e.Control=Gt,e.control=Zt,e.Browser=je,e.Evented=j,e.Mixin=$t,e.Util=S,e.Class=C,e.Handler=Jt,e.extend=t,e.bind=r,e.stamp=a,e.setOptions=f,e.DomEvent=Ht,e.DomUtil=wt,e.PosAnimation=qt,e.Draggable=rn,e.LineUtil=pn,e.PolyUtil=gn,e.Point=P,e.point=R,e.Bounds=M,e.bounds=I,e.Transformation=q,e.transformation=W,e.Projection=yn,e.LatLng=F,e.latLng=z,e.LatLngBounds=N,e.latLngBounds=D,e.CRS=B,e.GeoJSON=In,e.geoJSON=Gn,e.geoJson=Zn,e.Layer=En,e.LayerGroup=kn,e.layerGroup=function(e,t){return new kn(e,t)},e.FeatureGroup=On,e.featureGroup=function(e,t){return new On(e,t)},e.ImageOverlay=Vn,e.imageOverlay=function(e,t,n){return new Vn(e,t,n)},e.VideoOverlay=Yn,e.videoOverlay=function(e,t,n){return new Yn(e,t,n)},e.SVGOverlay=Xn,e.svgOverlay=function(e,t,n){return new Xn(e,t,n)},e.DivOverlay=Kn,e.Popup=Jn,e.popup=function(e,t){return new Jn(e,t)},e.Tooltip=Qn,e.tooltip=function(e,t){return new Qn(e,t)},e.Icon=Sn,e.icon=function(e){return new Sn(e)},e.DivIcon=$n,e.divIcon=function(e){return new $n(e)},e.Marker=jn,e.marker=function(e,t){return new jn(e,t)},e.TileLayer=tr,e.tileLayer=nr,e.GridLayer=er,e.gridLayer=function(e){return new er(e)},e.SVG=lr,e.svg=hr,e.Renderer=ir,e.Canvas=ar,e.canvas=or,e.Path=Pn,e.CircleMarker=Tn,e.circleMarker=function(e,t){return new Tn(e,t)},e.Circle=Rn,e.circle=function(e,t,n){return new Rn(e,t,n)},e.Polyline=Ln,e.polyline=function(e,t){return new Ln(e,t)},e.Polygon=Mn,e.polygon=function(e,t){return new Mn(e,t)},e.Rectangle=fr,e.rectangle=function(e,t){return new fr(e,t)},e.Map=Wt,e.map=function(e,t){return new Wt(e,t)};var _r=window.L;e.noConflict=function(){return window.L=_r,this},window.L=e}(t)},function(e,t,n){e.exports=n(456)},function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,a=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(){void 0!==a&&e.removeListener("error",a),n([].slice.call(arguments))}var a;"error"!==t&&(a=function(n){e.removeListener(t,i),r(n)},e.once("error",a)),e.once(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,a,o,s;if(u(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=l(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,s=c,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)a(c,this,t);else{var u=c.length,l=g(c,u);for(n=0;n<u;++n)a(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return h(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return h(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";var r=n(4),i=n(36),a=n(1),o=n.n(a),s=n(3),c=n(37),u=n(40),l=n(38),h=n(28);function f(){var e=Object(r.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return f=function(){return e},e}function d(){var e=Object(r.a)(["\n  flex: 2 2 auto;\n  height: auto;\n  margin: 2px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return d=function(){return e},e}t.a=function(e){var t=e.char,n=e.title,r=e.value,a=e.rolledValue,s=Object(c.a)();return o.a.createElement(p,{onClick:function(){return function(){var e="",r=0;if(a>=0){var i=Object(u.a)("1d20+"+a),o=i.result,c=i.text;r=o,e="d20"+i.rolls+"+"+a+c}else{var h=Object(u.a)("1d20"+a),f=h.result,d=h.text;r=f,e="d20"+h.rolls+a+d}console.log(r,e);var p=!1;r-a===20&&(p=!0);var m=!1;if(r-a===1&&(m=!0),""!==e&&void 0!==s){var g=void 0!==t?a>=0?n+"(+"+a+")":n+"("+a+")":n;e=void 0!==t?e:"";var v={username:s.name+" (DnDTome)",embeds:[{author:{name:void 0!==t?t.name:"???",icon_url:void 0!==t?t.pic:""},fields:[{name:g,value:r+(m?" :red_circle:":"")+(p?" :green_circle:":"")+(""!==e?" ||"+e+"||":"")}]}]};Object(l.b)(s,JSON.stringify(v))}}()},style:{cursor:void 0!==s?"pointer":"default"}},o.a.createElement(m,null,n,":"),void 0!==r?r+" ":"",void 0!==r?"("+(a>=0?"+"+a:a)+")":a,void 0!==s&&o.a.createElement(h.a,{style:{backgroundColor:"#7289da",float:"right",padding:"5px",height:"10px",lineHeight:"10px",fontSize:"10px",margin:"0px",marginLeft:"5px"},icon:i.a}))};var p=s.b.div(d(),(function(e){return e.theme.tile.backgroundColor})),m=s.b.span(f(),(function(e){return e.theme.tile.backgroundColorLink}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(67),i=function e(t,n,i,a,o,s,c){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.description=void 0,this.locations=void 0,this.events=void 0,this.map=void 0,this.sources=void 0,this.id=t,this.name=n||"",this.description=i||"",this.locations=a||[],this.events=o||[],this.map=s||"",this.sources=c||""};function a(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.description&&"string"==typeof e.description,r=void 0!==e.locations&&Array.isArray(e.locations),i=void 0!==e.events&&Array.isArray(e.events),a=void 0!==e.sources&&"string"==typeof e.sources,o=void 0!==e.map&&"string"==typeof e.map;return e&&t&&n&&r&&i&&a&&o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(67),i=function e(t,n,i,a,o,s,c,u,l,h,f,d,p,m){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.classes=void 0,this.sources=void 0,this.level=void 0,this.school=void 0,this.time=void 0,this.range=void 0,this.components=void 0,this.duration=void 0,this.ritual=void 0,this.text=void 0,this.filename=void 0,this.pic=void 0,this.name=t||"",this.classes=n||"",this.sources=i||"",this.level=a||0,this.school=o||"",this.time=s||"",this.range=c||"",this.components=u||"",this.duration=l||"",this.ritual=h||0,this.text=f||"",this.id=d,this.filename=p||"",this.pic=m||""};function a(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.classes&&"string"==typeof e.classes,r=void 0!==e.sources&&"string"==typeof e.sources,i=void 0!==e.level&&"number"==typeof e.level,a=void 0!==e.school&&"string"==typeof e.school,o=void 0!==e.time&&"string"==typeof e.time,s=void 0!==e.range&&"string"==typeof e.range,c=void 0!==e.components&&"string"==typeof e.components,u=void 0!==e.duration&&"string"==typeof e.duration,l=void 0!==e.ritual&&"number"==typeof e.ritual,h=void 0!==e.text&&"string"==typeof e.text,f=void 0!==e.pic&&"string"==typeof e.pic;return e&&t&&n&&r&&i&&a&&o&&s&&c&&u&&l&&h&&f}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(67),i=n(129),a=function e(t,n,i,a,o,s,c,u,l){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.featureSets=void 0,this.hitDices=void 0,this.proficiencies=void 0,this.equipment=void 0,this.sources=void 0,this.filename=void 0,this.pic=void 0,this.id=t,this.name=n||"",this.featureSets=i||[],this.hitDices=a||"",this.proficiencies=o||"",this.equipment=s||"",this.filename=c||"",this.sources=u||"",this.pic=l||""};function o(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.featureSets&&Array.isArray(e.featureSets)&&Object(i.b)(e.featureSets[0]),r=void 0!==e.hitDices&&"string"==typeof e.hitDices,a=void 0!==e.proficiencies&&"string"==typeof e.proficiencies,o=void 0!==e.equipment&&"string"==typeof e.equipment,s=void 0!==e.sources&&"string"==typeof e.sources;return e&&t&&s&&n&&r&&a&&o}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(7),s=n(3),c=n(9),u=n(10);function l(){var e=Object(r.a)([""]);return l=function(){return e},e}function h(){var e=Object(r.a)(["\n  margin: 30px;\n  width: 100px;\n  height: 100px;\n  border: 2px double ",';\n  transform: rotate(45deg);\n  overflow: hidden;\n\n  &::before {\n    content: "";\n    position: absolute;\n    width: 200%;\n    height: 200%;\n    top: -50%;\n    left: -50%;\n    z-index: -1;\n    background: url(',") 0 0 no-repeat;\n    background-size: cover;\n    transform: rotate(-45deg);\n  }\n"]);return h=function(){return e},e}function f(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ",";\n"]);return f=function(){return e},e}function d(){var e=Object(r.a)(["\n  margin: 0 0 5px 0px;\n  min-width: calc(100% - 20px);\n"]);return d=function(){return e},e}function p(){var e=Object(r.a)(["\n  &:nth-child(odd) {\n    margin: 0 5px 5px 0;\n  }\n}\n"]);return p=function(){return e},e}function m(){var e=Object(r.a)(["\n  height: 12px;\n  margin: 0 5px 0 0;\n  flex: 1 1 auto;\n  line-height: 10px;\n  padding: 10px;\n  font-size: 12px;\n  border-radius: 5px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ",";\n  }\n}\n"]);return m=function(){return e},e}function g(){var e=Object(r.a)(["\n  height: auto;\n  flex: 1 1 auto;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n  min-width: calc(100% - 10px);\n"]);return g=function(){return e},e}function v(){var e=Object(r.a)(["\n  height: auto;\n  flex: 1 1 auto;\n  padding: 10px;\n  margin: 5px 5px 5px 0;\n  font-size: 14px;\n  text-align: center;\n  border-radius: 5px;\n  min-width: calc(100% - 20px);\n"]);return v=function(){return e},e}function b(){var e=Object(r.a)(["\n  flex: 1 1 15em;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n  cursor: pointer;\n  text-decoration: none;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n"]);return b=function(){return e},e}t.a=function(e){var t=e.npc,n=Object(i.useCallback)((function(){return void 0!==t?""===t.pic||null===t.pic?"":t.pic:""}),[t]);return a.a.createElement(y,{to:"/npc-detail/id/"+t.id},""!==n()?a.a.createElement(S,{pic:n()}):"",a.a.createElement(x,null,a.a.createElement(_,null,a.a.createElement("b",null,t.name)),a.a.createElement(k,null,a.a.createElement(O,{icon:u.J}),t.sources)))};var y=Object(s.b)(o.b)(b(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.boxShadow})),_=s.b.div(v()),x=s.b.div(g()),w=s.b.div(m(),(function(e){return e.theme.main.highlight})),E=Object(s.b)(w)(p()),k=Object(s.b)(E)(d()),O=Object(s.b)(c.a)(f(),(function(e){return e.theme.main.highlight})),S=function(e){var t=e.pic;return""!==t?a.a.createElement(C,{pic:t}):a.a.createElement(A,null)},C=s.b.div(h(),(function(e){return e.theme.main.highlight}),(function(e){return e.pic})),A=s.b.div(l())},function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(7),s=n(3);function c(){var e=Object(r.a)([""]);return c=function(){return e},e}function u(){var e=Object(r.a)(["\n  margin: 30px;\n  width: 100px;\n  height: 100px;\n  border: 2px double ",';\n  transform: rotate(45deg);\n  overflow: hidden;\n\n  &::before {\n    content: "";\n    position: absolute;\n    width: 200%;\n    height: 200%;\n    top: -50%;\n    left: -50%;\n    z-index: -1;\n    background: url(',") 0 0 no-repeat;\n    background-size: cover;\n    transform: rotate(-45deg);\n  }\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n  &:nth-child(odd) {\n    margin: 0 5px 5px 0;\n  }\n}\n"]);return l=function(){return e},e}function h(){var e=Object(r.a)(["\n  height: 12px;\n  margin: 0 5px 0 0;\n  flex: 1 1 auto;\n  line-height: 10px;\n  padding: 10px;\n  font-size: 12px;\n  border-radius: 5px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ",";\n  }\n}\n"]);return h=function(){return e},e}function f(){var e=Object(r.a)(["\n  flex-wrap: nowrap;\n  padding: 0 0 5px 0;\n  flex: 1 1 auto;\n  width: 100%;\n  border-bottom: 1px solid ",";\n"]);return f=function(){return e},e}function d(){var e=Object(r.a)(["\n  height: auto;\n  flex: 1 1 auto;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n"]);return d=function(){return e},e}function p(){var e=Object(r.a)(["\n  height: auto;\n  flex: 1 1 auto;\n  padding: 10px;\n  margin: 5px 5px 5px 0;\n  font-size: 14px;\n  text-align: center;\n  border-radius: 5px;\n"]);return p=function(){return e},e}function m(){var e=Object(r.a)(["\n  flex: 1 1 15em;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n  cursor: pointer;\n  text-decoration: none;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n"]);return m=function(){return e},e}t.a=function(e){var t=e.char,n=Object(i.useCallback)((function(){return void 0!==t?""===t.pic||null===t.pic?"":t.pic:""}),[t]),r=Object(i.useCallback)((function(){var e=0;return t.classes.forEach((function(t){e+=t.level})),e}),[t]);return a.a.createElement(g,{to:"/char-detail/id/"+t.id},""!==n()?a.a.createElement(w,{pic:n()}):"",a.a.createElement(b,null,a.a.createElement(v,null,a.a.createElement("b",null,t.name)),t.campaign&&a.a.createElement(v,null,t.campaign),a.a.createElement(y,null,a.a.createElement(_,null,r()),a.a.createElement(_,null,t.player),a.a.createElement(_,null,t.race.race),a.a.createElement(_,null,t.race.subrace)),t.classes&&t.classes.map((function(e,t){return a.a.createElement(y,{key:t},a.a.createElement(_,null,e.level),a.a.createElement(_,null,e.classe),a.a.createElement(_,null,e.subclasse))})),a.a.createElement(x,null,t.background),a.a.createElement(x,null,t.alignment)))};var g=Object(s.b)(o.b)(m(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.boxShadow})),v=s.b.div(p()),b=s.b.div(d()),y=Object(s.b)(b)(f(),(function(e){return e.theme.main.backgroundColor})),_=s.b.div(h(),(function(e){return e.theme.main.highlight})),x=Object(s.b)(_)(l()),w=function(e){var t=e.pic;return""!==t?a.a.createElement(E,{pic:t}):a.a.createElement(k,null)},E=s.b.div(u(),(function(e){return e.theme.main.highlight}),(function(e){return e.pic})),k=s.b.div(c())},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(67),i=n(129),a=function e(t,n,i,a,o,s){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.type=void 0,this.features=void 0,this.sources=void 0,this.filename=void 0,this.id=t,this.name=n||"",this.type=i||"",this.features=a||[],this.filename=o||"",this.sources=s||""};function o(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.type&&"string"==typeof e.type,r=void 0!==e.features&&Array.isArray(e.features)&&Object(i.b)(e.features[0]),a=void 0!==e.sources&&"string"==typeof e.sources;return e&&t&&n&&a&&r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(67),i=function e(t,n,i,a,o,s,c,u,l,h,f){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.pic=void 0,this.description=void 0,this.notes=void 0,this.players=void 0,this.npcs=void 0,this.monsters=void 0,this.flow=void 0,this.sources=void 0,this.filename=void 0,this.id=t,this.name=n||"",this.pic=i||"",this.description=a||"",this.notes=o||[],this.players=s||[],this.npcs=c||[],this.monsters=u||[],this.flow=l||[],this.sources=h||"",this.filename=f||""};function a(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.pic&&"string"==typeof e.pic,r=void 0!==e.description&&"string"==typeof e.description,i=void 0!==e.notes&&Array.isArray(e.notes),a=void 0!==e.players&&Array.isArray(e.players),o=void 0!==e.npcs&&Array.isArray(e.npcs),s=void 0!==e.monsters&&Array.isArray(e.monsters),c=void 0!==e.flow&&Array.isArray(e.flow),u=void 0!==e.sources&&"string"==typeof e.sources;return e&&t&&n&&r&&i&&a&&o&&s&&c&&u}},function(e,t,n){"use strict";var r=n(247),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var a=Object.create(n(187));a.inherits=n(130);var o=n(467),s=n(470);a.inherits(h,o);for(var c=i(s.prototype),u=0;u<c.length;u++){var l=c[u];h.prototype[l]||(h.prototype[l]=s.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(67),i=function e(t,n,i,a,o,s,c,u){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.pic=void 0,this.char=void 0,this.traits=void 0,this.description=void 0,this.sources=void 0,this.filename=void 0,this.id=t,this.name=n||"",this.pic=i||"",this.char=a,this.traits=o||"",this.description=s||"",this.sources=c||"",this.filename=u||""};function a(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.pic&&"string"==typeof e.pic,r=void 0!==e.traits&&"string"==typeof e.traits,i=void 0!==e.description&&"string"==typeof e.description,a=void 0!==e.sources&&"string"==typeof e.sources;return e&&t&&n&&i&&r&&a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(67),i=function e(t,n,i,a,o,s,c,u){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.pic=void 0,this.description=void 0,this.rewards=void 0,this.followQuest=void 0,this.sources=void 0,this.filename=void 0,this.id=t,this.name=n||"",this.pic=i||"",this.description=a||"",this.rewards=o||"",this.followQuest=s||"",this.sources=c||"",this.filename=u||""};function a(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.pic&&"string"==typeof e.pic,r=void 0!==e.description&&"string"==typeof e.description,i=void 0!==e.followQuest&&"string"==typeof e.followQuest,a=void 0!==e.rewards&&"string"==typeof e.rewards,o=void 0!==e.sources&&"string"==typeof e.sources;return e&&t&&n&&r&&i&&a&&o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(67),i=function e(t,n,i,a,o){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.description=void 0,this.date=void 0,this.sources=void 0,this.id=t,this.name=n||"",this.description=i||"",this.date=a||"",this.sources=o||""};function a(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.description&&"string"==typeof e.description,r=void 0!==e.date&&"string"==typeof e.date,i=void 0!==e.sources&&"string"==typeof e.sources,a=void 0!==e.map&&"string"==typeof e.map;return e&&t&&n&&r&&i&&a}},,,,,,,,,function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3),s=n(9),c=n(30);function u(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  margin-right: 5px;\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n  width: 100%;\n"]);return l=function(){return e},e}function h(){var e=Object(r.a)(["\n  width: 100%;\n  text-align: center;\n"]);return h=function(){return e},e}function f(){var e=Object(r.a)(["\n  width: 180px;\n  position: absolute;\n  z-index: 1010;\n  top: 10px;\n  left: calc(50% - 100px);\n  padding: 10px;\n  background-color: ",";\n  color: ",";\n"]);return f=function(){return e},e}t.a=function(e){var t=e.message,n=e.icon,r=e.confirmeText,i=e.confirmeClick,o=e.abortText,s=e.abortClick;return a.a.createElement(d,null,a.a.createElement(p,null,n?a.a.createElement(g,{icon:n}):""," ",t),a.a.createElement(m,null,a.a.createElement(c.a,{text:o,onClick:s}),a.a.createElement(c.a,{text:r,onClick:i})))};var d=o.b.div(f(),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.color})),p=o.b.div(h()),m=o.b.div(l()),g=Object(o.b)(s.a)(u())},,function(module,exports,__webpack_require__){(function(process,Buffer){var _assertThisInitialized=__webpack_require__(459),_get=__webpack_require__(496),_getPrototypeOf=__webpack_require__(288),_slicedToArray=__webpack_require__(289),_regeneratorRuntime=__webpack_require__(73),_asyncToGenerator=__webpack_require__(461),_toConsumableArray=__webpack_require__(501),_createForOfIteratorHelper=__webpack_require__(505),_createClass=__webpack_require__(291),_classCallCheck=__webpack_require__(292),_inherits=__webpack_require__(506),_createSuper=__webpack_require__(508),factory;factory=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r=n(1),i=n(3),a=n(16),o=n(17),s=n(4),c=n(18),u=n(10),l=n(6);if(n(7).isNodeJS){var h=n(19).PDFNodeStream;i.setPDFNetworkStreamFactory((function(e){return new h(e)}))}else{var f,d=n(22).PDFNetworkStream;s.isFetchSupported()&&(f=n(23).PDFFetchStream),i.setPDFNetworkStreamFactory((function(e){return f&&s.isValidFetchUrl(e.url)?new f(e):new d(e)}))}t.build=i.build,t.version=i.version,t.getDocument=i.getDocument,t.LoopbackPort=i.LoopbackPort,t.PDFDataRangeTransport=i.PDFDataRangeTransport,t.PDFWorker=i.PDFWorker,t.renderTextLayer=a.renderTextLayer,t.AnnotationLayer=o.AnnotationLayer,t.createPromiseCapability=r.createPromiseCapability,t.PasswordResponses=r.PasswordResponses,t.InvalidPDFException=r.InvalidPDFException,t.MissingPDFException=r.MissingPDFException,t.SVGGraphics=c.SVGGraphics,t.NativeImageDecoding=r.NativeImageDecoding,t.CMapCompressionType=r.CMapCompressionType,t.PermissionFlag=r.PermissionFlag,t.UnexpectedResponseException=r.UnexpectedResponseException,t.OPS=r.OPS,t.VerbosityLevel=r.VerbosityLevel,t.UNSUPPORTED_FEATURES=r.UNSUPPORTED_FEATURES,t.createValidAbsoluteUrl=r.createValidAbsoluteUrl,t.createObjectURL=r.createObjectURL,t.removeNullCharacters=r.removeNullCharacters,t.shadow=r.shadow,t.Util=r.Util,t.RenderingCancelledException=s.RenderingCancelledException,t.getFilenameFromUrl=s.getFilenameFromUrl,t.LinkTarget=s.LinkTarget,t.addLinkAttributes=s.addLinkAttributes,t.loadScript=s.loadScript,t.PDFDateString=s.PDFDateString,t.GlobalWorkerOptions=u.GlobalWorkerOptions,t.apiCompatibilityParams=l.apiCompatibilityParams},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=y,t.arraysToBytes=function(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var n=0,r=0;r<t;r++)n+=y(e[r]);for(var i=0,a=new Uint8Array(n),o=0;o<t;o++){var s=e[o];s instanceof Uint8Array||(s="string"===typeof s?b(s):new Uint8Array(s));var c=s.byteLength;a.set(s,i),i+=c}return a},t.assert=s,t.bytesToString=function(e){s(null!==e&&"object"===typeof e&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var n=[],r=0;r<t;r+=8192){var i=Math.min(r+8192,t),a=e.subarray(r,i);n.push(String.fromCharCode.apply(null,a))}return n.join("")},t.createPromiseCapability=function(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise((function(n,r){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,r(e)}})),e},t.getVerbosityLevel=function(){return i},t.info=function(e){i>=r.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===typeof e&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},t.isBool=function(e){return"boolean"===typeof e},t.isEmptyObj=function(e){for(var t in e)return!1;return!0},t.isNum=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSameOrigin=function(e,t){var n;try{if(!(n=new URL(e)).origin||"null"===n.origin)return!1}catch(i){return!1}var r=new URL(t,n);return n.origin===r.origin},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var n=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(r){}return null},t.removeNullCharacters=function(e){return"string"!==typeof e?(a("The argument for removeNullCharacters must be a string."),e):e.replace(v,"")},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(i=e)},t.shadow=c,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=b,t.stringToPDFString=function(e){var t=e.length,n=[];if("\xfe"===e[0]&&"\xff"===e[1])for(var r=2;r<t;r+=2)n.push(String.fromCharCode(e.charCodeAt(r)<<8|e.charCodeAt(r+1)));else if("\xff"===e[0]&&"\xfe"===e[1])for(var i=2;i<t;i+=2)n.push(String.fromCharCode(e.charCodeAt(i+1)<<8|e.charCodeAt(i)));else for(var a=0;a<t;++a){var o=k[e.charCodeAt(a)];n.push(o?String.fromCharCode(o):e.charAt(a))}return n.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=a,t.unreachable=o,t.IsEvalSupportedCached=t.IsLittleEndianCached=t.createObjectURL=t.FormatError=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.NativeImageDecoding=t.MissingPDFException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=t.BaseException=void 0,n(2),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"},t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var r={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=r,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var i=r.WARNINGS;function a(e){i>=r.WARNINGS&&console.log("Warning: ".concat(e))}function o(e){throw new Error(e)}function s(e,t){e||o(t)}function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var u=function(){function e(t){this.constructor===e&&o("Cannot initialize BaseException."),this.message=t,this.name=this.constructor.name}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=u;var l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).code=r,i}return n}(u);t.PasswordException=l;var h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).details=r,i}return n}(u);t.UnknownErrorException=h;var f=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(u);t.InvalidPDFException=f;var d=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(u);t.MissingPDFException=d;var p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).status=r,i}return n}(u);t.UnexpectedResponseException=p;var m=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(u);t.FormatError=m;var g=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(u);t.AbortException=g;var v=/\x00/g;function b(e){s("string"===typeof e,"Invalid argument for stringToBytes");for(var t=e.length,n=new Uint8Array(t),r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function y(e){return void 0!==e.length?e.length:(s(void 0!==e.byteLength),e.byteLength)}var _={get value(){return c(this,"value",function(){var e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}};t.IsLittleEndianCached=_;var x={get value(){return c(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};t.IsEvalSupportedCached=x;var w=["rgb(",0,",",0,",",0,")"],E=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"makeCssRgb",value:function(e,t,n){return w[1]=e,w[3]=t,w[5]=n,w.join("")}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}},{key:"getAxialAlignedBoundingBox",value:function(t,n){var r=e.applyTransform(t,n),i=e.applyTransform(t.slice(2,4),n),a=e.applyTransform([t[0],t[3]],n),o=e.applyTransform([t[2],t[1]],n);return[Math.min(r[0],i[0],a[0],o[0]),Math.min(r[1],i[1],a[1],o[1]),Math.max(r[0],i[0],a[0],o[0]),Math.max(r[1],i[1],a[1],o[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(n+a)/2,s=Math.sqrt((n+a)*(n+a)-4*(n*a-i*r))/2,c=o+s||1,u=o-s||1;return[Math.sqrt(c),Math.sqrt(u)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(t,n){function r(e,t){return e-t}var i=[t[0],t[2],n[0],n[2]].sort(r),a=[t[1],t[3],n[1],n[3]].sort(r),o=[];return t=e.normalizeRect(t),n=e.normalizeRect(n),i[0]===t[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===t[0]?(o[0]=i[1],o[2]=i[2],a[0]===t[1]&&a[1]===n[1]||a[0]===n[1]&&a[1]===t[1]?(o[1]=a[1],o[3]=a[2],o):null):null}}]),e}();t.Util=E;var k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],O=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r&&URL.createObjectURL){var i=new Blob([t],{type:n});return URL.createObjectURL(i)}for(var a="data:".concat(n,";base64,"),o=0,s=t.length;o<s;o+=3){var c=255&t[o],u=255&t[o+1],l=255&t[o+2],h=c>>2,f=(3&c)<<4|u>>4,d=o+1<s?(15&u)<<2|l>>6:64,p=o+2<s?63&l:64;a+=e[h]+e[f]+e[d]+e[p]}return a}}();t.createObjectURL=O},function(e,t,n){},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(4),_font_loader=__w_pdfjs_require__(5),_api_compatibility=__w_pdfjs_require__(6),_canvas=__w_pdfjs_require__(8),_worker_options=__w_pdfjs_require__(10),_is_node=__w_pdfjs_require__(7),_message_handler=__w_pdfjs_require__(11),_metadata=__w_pdfjs_require__(12),_transport_stream=__w_pdfjs_require__(14),_webgl=__w_pdfjs_require__(15),DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var t,n=new PDFDocumentLoadingTask;if("string"===typeof e)t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if("object"!==typeof e)throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var r=Object.create(null),i=null,a=null;for(var o in t)if("url"!==o||"undefined"===typeof window)if("range"!==o)if("worker"!==o)if("data"!==o||t[o]instanceof Uint8Array)r[o]=t[o];else{var s=t[o];if("string"===typeof s)r[o]=(0,_util.stringToBytes)(s);else if("object"!==typeof s||null===s||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");r[o]=new Uint8Array(s)}else r[o]=new Uint8Array(s)}else a=t[o];else i=t[o];else r[o]=new URL(t[o],window.location).href;r.rangeChunkSize=r.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,r.CMapReaderFactory=r.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.pdfBug=!0===r.pdfBug;var c=Object.values(_util.NativeImageDecoding);if(void 0!==r.nativeImageDecoderSupport&&c.includes(r.nativeImageDecoderSupport)||(r.nativeImageDecoderSupport=_api_compatibility.apiCompatibilityParams.nativeImageDecoderSupport||_util.NativeImageDecoding.DECODE),Number.isInteger(r.maxImageSize)||(r.maxImageSize=-1),"boolean"!==typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!==typeof r.disableFontFace&&(r.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!==typeof r.disableRange&&(r.disableRange=!1),"boolean"!==typeof r.disableStream&&(r.disableStream=!1),"boolean"!==typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),"boolean"!==typeof r.disableCreateObjectURL&&(r.disableCreateObjectURL=_api_compatibility.apiCompatibilityParams.disableCreateObjectURL||!1),(0,_util.setVerbosityLevel)(r.verbosity),!a){var u={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};a=u.port?PDFWorker.fromPort(u):new PDFWorker(u),n._worker=a}var l=n.docId;return a.promise.then((function(){if(n.destroyed)throw new Error("Loading aborted");return _fetchDocument(a,r,i,l).then((function(e){if(n.destroyed)throw new Error("Loading aborted");var t;i?t=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,disableRange:r.disableRange,disableStream:r.disableStream},i):r.data||(t=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream}));var o=new _message_handler.MessageHandler(l,e,a.port);o.postMessageTransfers=a.postMessageTransfers;var s=new WorkerTransport(o,n,t,r);n._transport=s,o.send("Ready",null)}))})).catch(n._capability.reject),n}function _fetchDocument(e,t,n,r){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(n&&(t.length=n.length,t.initialData=n.initialData,t.progressiveDone=n.progressiveDone),e.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.4.456",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,disableCreateObjectURL:t.disableCreateObjectURL,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,nativeImageDecoderSupport:t.nativeImageDecoderSupport,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported}).then((function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t})))}var PDFDocumentLoadingTask=function(){var e=0;return function(){function t(){_classCallCheck(this,t),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(t,[{key:"destroy",value:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then((function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)}))}},{key:"then",value:function(e,t){throw new Error("Removed API method: PDFDocumentLoadingTask.then, use the `promise` getter instead.")}},{key:"promise",get:function(){return this._capability.promise}}]),t}()}(),PDFDataRangeTransport=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.length=t,this.initialData=n,this.progressiveDone=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(e,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var n,r=_createForOfIteratorHelper(this._rangeListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(e,t)}catch(i){r.e(i)}finally{r.f()}}},{key:"onDataProgress",value:function(e,t){var n=this;this._readyCapability.promise.then((function(){var r,i=_createForOfIteratorHelper(n._progressListeners);try{for(i.s();!(r=i.n()).done;)(0,r.value)(e,t)}catch(a){i.e(a)}finally{i.f()}}))}},{key:"onDataProgressiveRead",value:function(e){var t=this;this._readyCapability.promise.then((function(){var n,r=_createForOfIteratorHelper(t._progressiveReadListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(e)}catch(i){r.e(i)}finally{r.f()}}))}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then((function(){var t,n=_createForOfIteratorHelper(e._progressiveDoneListeners);try{for(n.s();!(t=n.n()).done;)(0,t.value)()}catch(r){n.e(r)}finally{n.f()}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function e(t,n){_classCallCheck(this,e),this._pdfInfo=t,this._transport=n}return _createClass(e,[{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getOpenActionDestination",value:function(){return(0,_display_utils.deprecated)("getOpenActionDestination, use getOpenAction instead."),this.getOpenAction().then((function(e){return e&&e.dest?e.dest:null}))}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){return this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),e}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,e),this._pageIndex=t,this._pageInfo=n,this._transport=r,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return _createClass(e,[{key:"getViewport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,n=e.rotation,r=void 0===n?this.rotate:n,i=e.offsetX,a=void 0===i?0:i,o=e.offsetY,s=void 0===o?0:o,c=e.dontFlip,u=void 0!==c&&c;if(arguments.length>1||"number"===typeof arguments[0])throw new Error("PDFPageProxy.getViewport is called with obsolete arguments.");return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:r,offsetX:a,offsetY:s,dontFlip:u})}},{key:"getAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,n=void 0===t?null:t;return this.annotationsPromise&&this.annotationsIntent===n||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,n),this.annotationsIntent=n),this.annotationsPromise}},{key:"render",value:function(e){var t=this,n=e.canvasContext,r=e.viewport,i=e.intent,a=void 0===i?"display":i,o=e.enableWebGL,s=void 0!==o&&o,c=e.renderInteractiveForms,u=void 0!==c&&c,l=e.transform,h=void 0===l?null:l,f=e.imageLayer,d=void 0===f?null:f,p=e.canvasFactory,m=void 0===p?null:p,g=e.background,v=void 0===g?null:g;this._stats&&this._stats.time("Overall");var b="print"===a?"print":"display";this.pendingCleanup=!1,this.intentStates[b]||(this.intentStates[b]=Object.create(null));var y=this.intentStates[b];y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);var _=m||new _display_utils.DOMCanvasFactory,x=new _webgl.WebGLContext({enable:s});y.displayReadyCapability||(y.displayReadyCapability=(0,_util.createPromiseCapability)(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:b,renderInteractiveForms:!0===u}));var w=function(e){var n=y.renderTasks.indexOf(E);n>=0&&y.renderTasks.splice(n,1),(t.cleanupAfterRender||"print"===b)&&(t.pendingCleanup=!0),t._tryCleanup(),e?(E.capability.reject(e),t._abortOperatorList({intentState:y,reason:e})):E.capability.resolve(),t._stats&&(t._stats.timeEnd("Rendering"),t._stats.timeEnd("Overall"))},E=new InternalRenderTask({callback:w,params:{canvasContext:n,viewport:r,transform:h,imageLayer:d,background:v},objs:this.objs,commonObjs:this.commonObjs,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:_,webGLContext:x,useRequestAnimationFrame:"print"!==b,pdfBug:this._pdfBug});y.renderTasks||(y.renderTasks=[]),y.renderTasks.push(E);var k=E.task;return y.displayReadyCapability.promise.then((function(e){t.pendingCleanup?w():(t._stats&&t._stats.time("Rendering"),E.initializeGraphics(e),E.operatorListChanged())})).catch(w),k}},{key:"getOperatorList",value:function(){this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var e,t=this.intentStates.oplist;return t.opListReadCapability||((e={}).operatorListChanged=function(){if(t.operatorList.lastChunk){t.opListReadCapability.resolve(t.operatorList);var n=t.renderTasks.indexOf(e);n>=0&&t.renderTasks.splice(n,1)}},t.opListReadCapability=(0,_util.createPromiseCapability)(),t.renderTasks=[],t.renderTasks.push(e),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:"oplist"})),t.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.normalizeWhitespace,n=void 0!==t&&t,r=e.disableCombineTextItems,i=void 0!==r&&r,a=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===n,combineTextItems:!0!==i},{highWaterMark:a,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.streamTextContent(e);return new Promise((function(e,n){var r=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){r.read().then((function(n){var r,a=n.value;n.done?e(i):(Object.assign(i.styles,a.styles),(r=i.items).push.apply(r,_toConsumableArray(a.items)),t())}),n)}()}))}},{key:"_destroy",value:function(){var e=this;this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var t=[];return Object.keys(this.intentStates).forEach((function(n){var r=e.intentStates[n];e._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==n&&r.renderTasks.forEach((function(e){var n=e.capability.promise.catch((function(){}));t.push(n),e.cancel()}))})),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(!this.pendingCleanup||Object.keys(this.intentStates).some((function(t){var n=e.intentStates[t];return 0!==n.renderTasks.length||!n.operatorList.lastChunk})))&&(Object.keys(this.intentStates).forEach((function(t){delete e.intentStates[t]})),this.objs.clear(),this.annotationsPromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0)}},{key:"_startRenderPage",value:function(e,t){var n=this.intentStates[t];n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk;for(var i=0;i<t.renderTasks.length;i++)t.renderTasks[i].operatorListChanged();e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var t=this;(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var n=this._transport.messageHandler.sendWithStream("GetOperatorList",e).getReader(),r=this.intentStates[e.intent];r.streamReader=n,function e(){n.read().then((function(n){var i=n.value;n.done?r.streamReader=null:t._transport.destroyed||(t._renderPageChunk(i,r),e())}),(function(e){if(r.streamReader=null,!t._transport.destroyed){if(r.operatorList){r.operatorList.lastChunk=!0;for(var n=0;n<r.renderTasks.length;n++)r.renderTasks[n].operatorListChanged();t._tryCleanup()}if(r.displayReadyCapability)r.displayReadyCapability.reject(e);else{if(!r.opListReadCapability)throw e;r.opListReadCapability.reject(e)}}}))}()}},{key:"_abortOperatorList",value:function(e){var t=this,n=e.intentState,r=e.reason,i=e.force,a=void 0!==i&&i;if((0,_util.assert)(r instanceof Error||"object"===typeof r&&null!==r,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),n.streamReader){if(!a){if(0!==n.renderTasks.length)return;if(r instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout((function(){t._abortOperatorList({intentState:n,reason:r,force:!0}),n.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}n.streamReader.cancel(new _util.AbortException(r&&r.message)),n.streamReader=null,this._transport.destroyed||(Object.keys(this.intentStates).some((function(e){return t.intentStates[e]===n&&(delete t.intentStates[e],!0)})),this.cleanup())}}},{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats}}]),e}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,e),this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}return _createClass(e,[{key:"postMessage",value:function(e,t){var n=this;if(this._defer){var r=new WeakMap,i={data:function e(n){if("object"!==typeof n||null===n)return n;if(r.has(n))return r.get(n);var i,a;if((i=n.buffer)&&(0,_util.isArrayBuffer)(i))return a=t&&t.includes(i)?new n.constructor(i,n.byteOffset,n.byteLength):new n.constructor(n),r.set(n,a),a;for(var o in a=Array.isArray(n)?[]:{},r.set(n,a),n){for(var s=void 0,c=n;!(s=Object.getOwnPropertyDescriptor(c,o));)c=Object.getPrototypeOf(c);if("undefined"!==typeof s.value)if("function"!==typeof s.value)a[o]=e(s.value);else if(n.hasOwnProperty&&n.hasOwnProperty(o))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(n[o]))}return a}(e)};this._deferred.then((function(){n._listeners.forEach((function(e){e.call(n,i)}))}))}else this._listeners.forEach((function(t){t.call(n,{data:e})}))}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var n=this._listeners.indexOf(t);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"===typeof document&&"currentScript"in document){var pdfjsFilePath=document.currentScript&&document.currentScript.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if("undefined"!==typeof fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var e;try{e=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(t){}return e||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref8=_asyncToGenerator(_regeneratorRuntime.mark((function _callee(){var mainWorkerMessageHandler,worker;return _regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context.next=3;break}return _context.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context.abrupt("return",worker.WorkerMessageHandler);case 6:return _context.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}}),_callee)})));return function(){return _ref8.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(e){var t="importScripts('"+e+"');";return URL.createObjectURL(new Blob([t]))}var PDFWorker=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,r=void 0===n?null:n,i=t.port,a=void 0===i?null:i,o=t.verbosity,s=void 0===o?(0,_util.getVerbosityLevel)():o;if(_classCallCheck(this,e),a&&pdfWorkerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=r,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=s,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return pdfWorkerPorts.set(a,this),void this._initializeFromPort(a);this._initialize()}return _createClass(e,[{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var e=this;if("undefined"!==typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var t=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,t)||(t=createCDNWrapper(new URL(t,window.location).href));var n=new Worker(t),r=new _message_handler.MessageHandler("main","worker",n),i=function(){n.removeEventListener("error",a),r.destroy(),n.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},a=function(){e._webWorker||i()};n.addEventListener("error",a),r.on("test",(function(t){n.removeEventListener("error",a),e.destroyed?i():t?(e._messageHandler=r,e._port=n,e._webWorker=n,t.supportTransfers||(e.postMessageTransfers=!1),e._readyCapability.resolve(),r.send("configure",{verbosity:e.verbosity})):(e._setupFakeWorker(),r.destroy(),n.terminate())})),r.on("ready",(function(t){if(n.removeEventListener("error",a),e.destroyed)i();else try{o()}catch(r){e._setupFakeWorker()}}));var o=function(){var t=new Uint8Array([e.postMessageTransfers?255:0]);try{r.send("test",t,[t.buffer])}catch(n){(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,r.send("test",t)}};return void o()}catch(s){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var e=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then((function(t){if(e.destroyed)e._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new LoopbackPort;e._port=n;var r="fake"+nextFakeWorkerId++,i=new _message_handler.MessageHandler(r+"_worker",r,n);t.setup(i,n);var a=new _message_handler.MessageHandler(r,r+"_worker",n);e._messageHandler=a,e._readyCapability.resolve(),a.send("configure",{verbosity:e.verbosity})}})).catch((function(t){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(t){if(!t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(t.port)?pdfWorkerPorts.get(t.port):new e(t)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),e}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function e(t,n,r,i){_classCallCheck(this,e),this.messageHandler=t,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=i,this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(e,[{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[];this.pageCache.forEach((function(e){e&&t.push(e._destroy())})),this.pageCache.length=0,this.pagePromises.length=0;var n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then((function(){e.fontLoader.clear(),e._networkStream&&e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var e=this,t=this.messageHandler,n=this.loadingTask;t.on("GetReader",(function(t,n){(0,_util.assert)(e._networkStream),e._fullReader=e._networkStream.getFullReader(),e._fullReader.onProgress=function(t){e._lastProgress={loaded:t.loaded,total:t.total}},n.onPull=function(){e._fullReader.read().then((function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t)),n.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){n.error(e)}))},n.onCancel=function(t){e._fullReader.cancel(t)}})),t.on("ReaderHeadersReady",(function(t){var r=(0,_util.createPromiseCapability)(),i=e._fullReader;return i.headersReady.then((function(){i.isStreamingSupported&&i.isRangeSupported||(e._lastProgress&&n.onProgress&&n.onProgress(e._lastProgress),i.onProgress=function(e){n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}),r.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),r.reject),r.promise})),t.on("GetRangeReader",(function(t,n){(0,_util.assert)(e._networkStream);var r=e._networkStream.getRangeReader(t.begin,t.end);r?(n.onPull=function(){r.read().then((function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t)),n.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){n.error(e)}))},n.onCancel=function(e){r.cancel(e)}):n.close()})),t.on("GetDoc",(function(t){var r=t.pdfInfo;e._numPages=r.numPages,n._capability.resolve(new PDFDocumentProxy(r,e))})),t.on("DocException",(function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details)}n._capability.reject(t)})),t.on("PasswordRequest",(function(t){if(e._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword)try{n.onPassword((function(t){e._passwordCapability.resolve({password:t})}),t.code)}catch(r){e._passwordCapability.reject(r)}else e._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return e._passwordCapability.promise})),t.on("DataLoaded",(function(t){n.onProgress&&n.onProgress({loaded:t.length,total:t.length}),e.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(function(t){e.destroyed||e.pageCache[t.pageIndex]._startRenderPage(t.transparency,t.intent)})),t.on("commonobj",(function(n){if(!e.destroyed){var r=_slicedToArray(n,3),i=r[0],a=r[1],o=r[2];if(!e.commonObjs.has(i))switch(a){case"Font":var s=e._params;if("error"in o){var c=o.error;(0,_util.warn)("Error during font loading: ".concat(c)),e.commonObjs.resolve(i,c);break}var u=null;s.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(u={registerFont:function(e,t){globalThis.FontInspector.fontAdded(e,t)}});var l=new _font_loader.FontFaceObject(o,{isEvalSupported:s.isEvalSupported,disableFontFace:s.disableFontFace,ignoreErrors:s.ignoreErrors,onUnsupportedFeature:e._onUnsupportedFeature.bind(e),fontRegistry:u});e.fontLoader.bind(l).then((function(){e.commonObjs.resolve(i,l)}),(function(n){t.sendWithPromise("FontFallback",{id:i}).finally((function(){e.commonObjs.resolve(i,l)}))}));break;case"FontPath":case"FontType3Res":e.commonObjs.resolve(i,o);break;default:throw new Error("Got unknown common object type ".concat(a))}}})),t.on("obj",(function(t){if(!e.destroyed){var n=_slicedToArray(t,4),r=n[0],i=n[1],a=n[2],o=n[3],s=e.pageCache[i];if(!s.objs.has(r))switch(a){case"JpegStream":return new Promise((function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=function(){t(new Error("Error during JPEG image loading")),(0,_display_utils.releaseImageResources)(n)},n.src=o})).then((function(e){s.objs.resolve(r,e)}));case"Image":s.objs.resolve(r,o),o&&"data"in o&&o.data.length>8e6&&(s.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(a))}}})),t.on("DocProgress",(function(t){e.destroyed||n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})})),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("JpegDecode",(function(t){if(e.destroyed)return Promise.reject(new Error("Worker was destroyed"));if("undefined"===typeof document)return Promise.reject(new Error('"document" is not defined.'));var n=_slicedToArray(t,2),r=n[0],i=n[1];return 3!==i&&1!==i?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise((function(e,t){var n=new Image;n.onload=function(){var t=n.width,r=n.height,a=t*r,o=4*a,s=new Uint8ClampedArray(a*i),c=document.createElement("canvas");c.width=t,c.height=r;var u=c.getContext("2d");u.drawImage(n,0,0);var l=u.getImageData(0,0,t,r).data;if(3===i)for(var h=0,f=0;h<o;h+=4,f+=3)s[f]=l[h],s[f+1]=l[h+1],s[f+2]=l[h+2];else if(1===i)for(var d=0,p=0;d<o;d+=4,p++)s[p]=l[d];e({data:s,width:t,height:r}),(0,_display_utils.releaseImageResources)(n),c.width=0,c.height=0,c=null,u=null},n.onerror=function(){t(new Error("JpegDecode failed to load image")),(0,_display_utils.releaseImageResources)(n)},n.src=r}))})),t.on("FetchBuiltInCMap",(function(t,n){if(e.destroyed)n.error(new Error("Worker was destroyed"));else{var r=!1;n.onPull=function(){r?n.close():(r=!0,e.CMapReaderFactory.fetch(t).then((function(e){n.enqueue(e,1,[e.cMapData.buffer])})).catch((function(e){n.error(e)})))}}}))}},{key:"_onUnsupportedFeature",value:function(e){var t=e.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(t)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(e){var t=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=e-1;if(n in this.pagePromises)return this.pagePromises[n];var r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then((function(e){if(t.destroyed)throw new Error("Transport destroyed");var r=new PDFPageProxy(n,e,t,t._params.pdfBug);return t.pageCache[n]=r,r}));return this.pagePromises[n]=r,r}},{key:"getPageIndex",value:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch((function(e){return Promise.reject(new Error(e))}))}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var e=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then((function(t){return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:e._fullReader?e._fullReader.filename:null}}))}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var e=this;return this.messageHandler.sendWithPromise("Cleanup",null).then((function(){for(var t=0,n=e.pageCache.length;t<n;t++){var r=e.pageCache[t];if(r&&!r.cleanup())throw new Error("startCleanup: Page ".concat(t+1," is currently rendering."))}e.commonObjs.clear(),e.fontLoader.clear()}))}},{key:"loadingParams",get:function(){var e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,disableCreateObjectURL:e.disableCreateObjectURL,disableFontFace:e.disableFontFace,nativeImageDecoderSupport:e.nativeImageDecoderSupport})}}]),e}(),PDFObjects=function(){function e(){_classCallCheck(this,e),this._objs=Object.create(null)}return _createClass(e,[{key:"_ensureObj",value:function(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return this._ensureObj(e).capability.promise.then(t),null;var n=this._objs[e];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}},{key:"has",value:function(e){var t=this._objs[e];return!!t&&t.resolved}},{key:"resolve",value:function(e,t){var n=this._ensureObj(e);n.resolved=!0,n.data=t,n.capability.resolve(t)}},{key:"clear",value:function(){for(var e in this._objs){var t=this._objs[e].data;"undefined"!==typeof Image&&t instanceof Image&&(0,_display_utils.releaseImageResources)(t)}this._objs=Object.create(null)}}]),e}(),RenderTask=function(){function e(t){_classCallCheck(this,e),this._internalRenderTask=t,this.onContinue=null}return _createClass(e,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"then",value:function(e,t){throw new Error("Removed API method: RenderTask.then, use the `promise` getter instead.")}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),e}(),InternalRenderTask=function(){var e=new WeakSet;return function(){function t(e){var n=e.callback,r=e.params,i=e.objs,a=e.commonObjs,o=e.operatorList,s=e.pageIndex,c=e.canvasFactory,u=e.webGLContext,l=e.useRequestAnimationFrame,h=void 0!==l&&l,f=e.pdfBug,d=void 0!==f&&f;_classCallCheck(this,t),this.callback=n,this.params=r,this.objs=i,this.commonObjs=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=s,this.canvasFactory=c,this.webGLContext=u,this._pdfBug=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===h&&"undefined"!==typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}return _createClass(t,[{key:"initializeGraphics",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.cancelled){if(this._canvas){if(e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var n=this.params,r=n.canvasContext,i=n.viewport,a=n.transform,o=n.imageLayer,s=n.background;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,o),this.gfx.beginDrawing({transform:a,viewport:i,transparency:t,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){e._nextBound().catch(e.cancel.bind(e))})):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:function(){var t=_asyncToGenerator(_regeneratorRuntime.mark((function t(){return _regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cancelled){t.next=2;break}return t.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback()));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}()}(),version="2.4.456";exports.version=version;var build="228a591c";exports.build=build},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.url,i=t.target,a=t.rel,o=t.enabled,s=void 0===o||o;(0,r.assert)(n&&"string"===typeof n,'addLinkAttributes: A valid "url" parameter must provided.');var c=(0,r.removeNullCharacters)(n);s?e.href=e.title=c:(e.href="",e.title="Disabled: ".concat(c),e.onclick=function(){return!1});var u="";switch(i){case l.NONE:break;case l.SELF:u="_self";break;case l.BLANK:u="_blank";break;case l.PARENT:u="_parent";break;case l.TOP:u="_top"}e.target=u,e.rel="string"===typeof a?a:"noopener noreferrer nofollow"},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),n=e.indexOf("?"),r=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",r)+1,r)},t.isFetchSupported=d,t.isValidFetchUrl=p,t.loadScript=function(e){return new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.onload=t,r.onerror=function(){n(new Error("Cannot load script at: ".concat(r.src)))},(document.head||document.documentElement).appendChild(r)}))},t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.releaseImageResources=function(e){(0,r.assert)(e instanceof Image,"Invalid `img` parameter.");var t=e.src;"string"===typeof t&&t.startsWith("blob:")&&URL.revokeObjectURL&&URL.revokeObjectURL(t),e.removeAttribute("src")},t.PDFDateString=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=void 0;var r=n(1);t.DEFAULT_LINK_REL="noopener noreferrer nofollow";var i="http://www.w3.org/2000/svg",a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var n=document.createElement("canvas"),r=n.getContext("2d");return n.width=e,n.height=t,{canvas:n,context:r}}},{key:"reset",value:function(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),e}();t.DOMCanvasFactory=a;var o=function(){function e(t){var n=t.baseUrl,r=void 0===n?null:n,i=t.isCompressed,a=void 0!==i&&i;_classCallCheck(this,e),this.baseUrl=r,this.isCompressed=a}return _createClass(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,i,a,o=this;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,this.baseUrl){e.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){e.next=5;break}throw new Error("CMap name must be specified.");case 5:if(i=this.baseUrl+n+(this.isCompressed?".bcmap":""),a=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE,!d()||!p(i,document.baseURI)){e.next=9;break}return e.abrupt("return",fetch(i).then(function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}throw new Error(t.statusText);case 2:if(!o.isCompressed){e.next=10;break}return e.t0=Uint8Array,e.next=6,t.arrayBuffer();case 6:e.t1=e.sent,n=new e.t0(e.t1),e.next=15;break;case 10:return e.t2=r.stringToBytes,e.next=13,t.text();case 13:e.t3=e.sent,n=(0,e.t2)(e.t3);case 15:return e.abrupt("return",{cMapData:n,compressionType:a});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw new Error("Unable to load ".concat(o.isCompressed?"binary ":"")+"CMap at: ".concat(i))})));case 9:return e.abrupt("return",new Promise((function(e,t){var n=new XMLHttpRequest;n.open("GET",i,!0),o.isCompressed&&(n.responseType="arraybuffer"),n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){var i;if((200===n.status||0===n.status)&&(o.isCompressed&&n.response?i=new Uint8Array(n.response):!o.isCompressed&&n.responseText&&(i=(0,r.stringToBytes)(n.responseText)),i))return void e({cMapData:i,compressionType:a});t(new Error(n.statusText))}},n.send(null)})).catch((function(e){throw new Error("Unable to load ".concat(o.isCompressed?"binary ":"")+"CMap at: ".concat(i))})));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())}]),e}();t.DOMCMapReaderFactory=o;var s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(e,t){(0,r.assert)(e>0&&t>0,"Invalid SVG dimensions");var n=document.createElementNS(i,"svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 "+e+" "+t),n}},{key:"createElement",value:function(e){return(0,r.assert)("string"===typeof e,"Invalid SVG element type"),document.createElementNS(i,e)}}]),e}();t.DOMSVGFactory=s;var c=function(){function e(t){var n=t.viewBox,r=t.scale,i=t.rotation,a=t.offsetX,o=void 0===a?0:a,s=t.offsetY,c=void 0===s?0:s,u=t.dontFlip,l=void 0!==u&&u;_classCallCheck(this,e),this.viewBox=n,this.scale=r,this.rotation=i,this.offsetX=o,this.offsetY=c;var h,f,d,p,m,g,v,b,y=(n[2]+n[0])/2,_=(n[3]+n[1])/2;switch(i=(i%=360)<0?i+360:i){case 180:h=-1,f=0,d=0,p=1;break;case 90:h=0,f=1,d=1,p=0;break;case 270:h=0,f=-1,d=-1,p=0;break;default:h=1,f=0,d=0,p=-1}l&&(d=-d,p=-p),0===h?(m=Math.abs(_-n[1])*r+o,g=Math.abs(y-n[0])*r+c,v=Math.abs(n[3]-n[1])*r,b=Math.abs(n[2]-n[0])*r):(m=Math.abs(y-n[0])*r+o,g=Math.abs(_-n[1])*r+c,v=Math.abs(n[2]-n[0])*r,b=Math.abs(n[3]-n[1])*r),this.transform=[h*r,f*r,d*r,p*r,m-h*r*y-d*r*_,g-f*r*y-p*r*_],this.width=v,this.height=b}return _createClass(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.scale,r=void 0===n?this.scale:n,i=t.rotation,a=void 0===i?this.rotation:i,o=t.offsetX,s=void 0===o?this.offsetX:o,c=t.offsetY,u=void 0===c?this.offsetY:c,l=t.dontFlip,h=void 0!==l&&l;return new e({viewBox:this.viewBox.slice(),scale:r,rotation:a,offsetX:s,offsetY:u,dontFlip:h})}},{key:"convertToViewportPoint",value:function(e,t){return r.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=r.Util.applyTransform([e[0],e[1]],this.transform),n=r.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(e,t){return r.Util.applyInverseTransform([e,t],this.transform)}}]),e}();t.PageViewport=c;var u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).type=r,i}return n}(r.BaseException);t.RenderingCancelledException=u;var l={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};t.LinkTarget=l;var h,f=function(){function e(){_classCallCheck(this,e),this.started=Object.create(null),this.times=[]}return _createClass(e,[{key:"time",value:function(e){e in this.started&&(0,r.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,r.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e,t=[],n=0,r=_createForOfIteratorHelper(this.times);try{for(r.s();!(e=r.n()).done;){var i=e.value.name;i.length>n&&(n=i.length)}}catch(u){r.e(u)}finally{r.f()}var a,o=_createForOfIteratorHelper(this.times);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=s.end-s.start;t.push("".concat(s.name.padEnd(n)," ").concat(c,"ms\n"))}}catch(u){o.e(u)}finally{o.f()}return t.join("")}}]),e}();function d(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype&&"undefined"!==typeof ReadableStream}function p(e,t){try{var n=(t?new URL(e,t):new URL(e)).protocol;return"http:"===n||"https:"===n}catch(r){return!1}}t.StatTimer=f;var m=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"toDateObject",value:function(e){if(!e||!(0,r.isString)(e))return null;h||(h=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var t=h.exec(e);if(!t)return null;var n=parseInt(t[1],10),i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;var a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;var o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;var s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;var c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;var u=t[7]||"Z",l=parseInt(t[8],10);l=l>=0&&l<=23?l:0;var f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,"-"===u?(o+=l,s+=f):"+"===u&&(o-=l,s-=f),new Date(Date.UTC(n,i,a,o,s,c))}}]),e}();t.PDFDateString=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r,i=n(1),a=function(){function e(t){var n=t.docId,r=t.onUnsupportedFeature;_classCallCheck(this,e),this.constructor===e&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=r,this.nativeFontFaces=[],this.styleElement=null}return _createClass(e,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),document.fonts.add(e)}},{key:"insertRule",value:function(e){var t=this.styleElement;t||((t=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(t));var n=t.sheet;n.insertRule(e,n.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach((function(e){document.fonts.delete(e)})),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,a=this;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.attached&&!t.missingFile){e.next=2;break}return e.abrupt("return");case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){e.next=19;break}if(!(n=t.createNativeFontFace())){e.next=18;break}return this.addNativeFontFace(n),e.prev=7,e.next=10,n.loaded;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e.catch(7),this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.font}),(0,i.warn)("Failed to load font '".concat(n.family,"': '").concat(e.t0,"'.")),t.disableFontFace=!0,e.t0;case 18:return e.abrupt("return");case 19:if(!(r=t.createFontFaceRule())){e.next=26;break}if(this.insertRule(r),!this.isSyncFontLoadingSupported){e.next=24;break}return e.abrupt("return");case 24:return e.next=26,new Promise((function(e){var n=a._queueLoadingCallback(e);a._prepareFontLoadEvent([r],[t],n)}));case 26:case"end":return e.stop()}}),e,this,[[7,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_queueLoadingCallback",value:function(e){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(e,t,n){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){var e="undefined"!==typeof document&&!!document.fonts;return(0,i.shadow)(this,"isFontLoadingAPISupported",e)}},{key:"isSyncFontLoadingSupported",get:function(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}}]),e}();t.FontLoader=r,t.FontLoader=r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).loadingContext={requests:[],nextRequestId:0},r.loadTestFontId=0,r}return _createClass(n,[{key:"_queueLoadingCallback",value:function(e){var t=this.loadingContext,n={id:"pdfjs-font-loading-".concat(t.nextRequestId++),done:!1,complete:function(){for((0,i.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.requests.length>0&&t.requests[0].done;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(n),n}},{key:"_prepareFontLoadEvent",value:function(e,t,n){function r(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function a(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}var o,s,c=document.createElement("canvas");c.width=1,c.height=1;var u=c.getContext("2d"),l=0,h="lt".concat(Date.now()).concat(this.loadTestFontId++),f=this._loadTestFont,d=r(f=a(f,976,h.length,h),16);for(o=0,s=h.length-3;o<s;o+=4)d=d-1482184792+r(h,o)|0;o<h.length&&(d=d-1482184792+r(h+"XXX",o)|0),f=a(f,16,4,(0,i.string32)(d));var p="url(data:font/opentype;base64,".concat(btoa(f),");"),m='@font-face {font-family:"'.concat(h,'";src:').concat(p,"}");this.insertRule(m);var g=[];for(o=0,s=t.length;o<s;o++)g.push(t[o].loadedName);g.push(h);var v=document.createElement("div");for(v.style.visibility="hidden",v.style.width=v.style.height="10px",v.style.position="absolute",v.style.top=v.style.left="0px",o=0,s=g.length;o<s;++o){var b=document.createElement("span");b.textContent="Hi",b.style.fontFamily=g[o],v.appendChild(b)}document.body.appendChild(v),function e(t,n){if(++l>30)return(0,i.warn)("Load test font never loaded."),void n();u.font="30px "+t,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(h,(function(){document.body.removeChild(v),n.complete()}))}},{key:"isSyncFontLoadingSupported",get:function(){var e=!1;if("undefined"===typeof navigator)e=!0;else{var t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);t&&t[1]>=14&&(e=!0)}return(0,i.shadow)(this,"isSyncFontLoadingSupported",e)}},{key:"_loadTestFont",get:function(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]),n}(a);var o=function(){function e(t,n){var r=n.isEvalSupported,i=void 0===r||r,a=n.disableFontFace,o=void 0!==a&&a,s=n.ignoreErrors,c=void 0!==s&&s,u=n.onUnsupportedFeature,l=void 0===u?null:u,h=n.fontRegistry,f=void 0===h?null:h;for(var d in _classCallCheck(this,e),this.compiledGlyphs=Object.create(null),t)this[d]=t[d];this.isEvalSupported=!1!==i,this.disableFontFace=!0===o,this.ignoreErrors=!0===c,this._onUnsupportedFeature=l,this.fontRegistry=f}return _createClass(e,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var e=(0,i.bytesToString)(new Uint8Array(this.data)),t="url(data:".concat(this.mimetype,";base64,").concat(btoa(e),");"),n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,t),n}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var n,r;try{n=e.get(this.loadedName+"_path_"+t)}catch(u){if(!this.ignoreErrors)throw u;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.font}),(0,i.warn)('getPathGenerator - ignoring character: "'.concat(u,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&i.IsEvalSupportedCached.value){for(var a,o="",s=0,c=n.length;s<c;s++)a=void 0!==(r=n[s]).args?r.args.join(","):"",o+="c."+r.cmd+"("+a+");\n";return this.compiledGlyphs[t]=new Function("c","size",o)}return this.compiledGlyphs[t]=function(e,t){for(var i=0,a=n.length;i<a;i++)"scale"===(r=n[i]).cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}]),e}();t.FontFaceObject=o},function(e,t,n){"use strict";var r=Object.create(null),i=n(7).isNodeJS,a="undefined"!==typeof navigator&&navigator.userAgent||"",o=/Trident/.test(a),s=/CriOS/.test(a);(o||s)&&(r.disableCreateObjectURL=!0),i&&(r.disableFontFace=!0,r.nativeImageDecoderSupport="none"),t.apiCompatibilityParams=Object.freeze(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var r="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!process.versions.electron;t.isNodeJS=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(1),i=n(9);function a(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=t*i-n*r,c=n*r-t*i;return[i/s,n/c,r/c,t/s,(i*a-r*o)/c,(n*a-t*o)/s]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var n=this._transformMatrix;n[4]=n[0]*e+n[2]*t+n[4],n[5]=n[1]*e+n[3]*t+n[5],this._originalTranslate(e,t)},e.scale=function(e,t){var n=this._transformMatrix;n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*t,n[3]=n[3]*t,this._originalScale(e,t)},e.transform=function(t,n,r,i,a,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*n,s[1]*t+s[3]*n,s[0]*r+s[2]*i,s[1]*r+s[3]*i,s[0]*a+s[2]*o+s[4],s[1]*a+s[3]*o+s[5]],e._originalTransform(t,n,r,i,a,o)},e.setTransform=function(t,n,r,i,a,o){this._transformMatrix=[t,n,r,i,a,o],e._originalSetTransform(t,n,r,i,a,o)},e.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this._transformMatrix;this._transformMatrix=[r[0]*t+r[2]*n,r[1]*t+r[3]*n,r[0]*-n+r[2]*t,r[1]*-n+r[3]*t,r[4],r[5]],this._originalRotate(e)})}var o=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,n,r){var i;return void 0!==this.cache[e]?(i=this.cache[e],this.canvasFactory.reset(i,t,n),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),r&&a(i.context),i},clear:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},e}(),s=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),c=function(){function e(e,t,n,r,i,c){this.ctx=e,this.current=new s,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.webGLContext=i,this.imageLayer=c,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new o(this.canvasFactory),e&&a(e),this._cachedGetSinglePixelWidth=null}function t(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var n,i,a,o,s,c=t.height,u=t.width,l=c%16,h=(c-l)/16,f=0===l?h:h+1,d=e.createImageData(u,16),p=0,m=t.data,g=d.data;if(t.kind===r.ImageKind.GRAYSCALE_1BPP){var v=m.byteLength,b=new Uint32Array(g.buffer,0,g.byteLength>>2),y=b.length,_=u+7>>3,x=4294967295,w=r.IsLittleEndianCached.value?4278190080:255;for(i=0;i<f;i++){for(o=i<h?16:l,n=0,a=0;a<o;a++){for(var E=v-p,k=0,O=E>_?u:8*E-7,S=-8&O,C=0,A=0;k<S;k+=8)A=m[p++],b[n++]=128&A?x:w,b[n++]=64&A?x:w,b[n++]=32&A?x:w,b[n++]=16&A?x:w,b[n++]=8&A?x:w,b[n++]=4&A?x:w,b[n++]=2&A?x:w,b[n++]=1&A?x:w;for(;k<O;k++)0===C&&(A=m[p++],C=128),b[n++]=A&C?x:w,C>>=1}for(;n<y;)b[n++]=0;e.putImageData(d,0,16*i)}}else if(t.kind===r.ImageKind.RGBA_32BPP){for(a=0,s=16*u*4,i=0;i<h;i++)g.set(m.subarray(p,p+s)),p+=s,e.putImageData(d,0,a),a+=16;i<f&&(s=u*l*4,g.set(m.subarray(p,p+s)),e.putImageData(d,0,a))}else{if(t.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(s=u*(o=16),i=0;i<f;i++){for(i>=h&&(s=u*(o=l)),n=0,a=s;a--;)g[n++]=m[p++],g[n++]=m[p++],g[n++]=m[p++],g[n++]=255;e.putImageData(d,0,16*i)}}}}function n(e,t){for(var n=t.height,r=t.width,i=n%16,a=(n-i)/16,o=0===i?a:a+1,s=e.createImageData(r,16),c=0,u=t.data,l=s.data,h=0;h<o;h++){for(var f=h<a?16:i,d=3,p=0;p<f;p++)for(var m=0,g=0;g<r;g++){if(!m){var v=u[c++];m=128}l[d]=v&m?0:255,d+=4,m>>=1}e.putImageData(s,0,16*h)}}function c(e,t){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],r=0,i=n.length;r<i;r++){var a=n[r];void 0!==e[a]&&(t[a]=e[a])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function u(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function l(e,t,n,r){for(var i=e.length,a=3;a<i;a+=4){var o=e[a];if(0===o)e[a-3]=t,e[a-2]=n,e[a-1]=r;else if(o<255){var s=255-o;e[a-3]=e[a-3]*o+t*s>>8,e[a-2]=e[a-2]*o+n*s>>8,e[a-1]=e[a-1]*o+r*s>>8}}}function h(e,t,n){for(var r=e.length,i=3;i<r;i+=4){var a=n?n[e[i]]:e[i];t[i]=t[i]*a*(1/255)|0}}function f(e,t,n){for(var r=e.length,i=3;i<r;i+=4){var a=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[a>>8]>>8:t[i]*a>>16}}function d(e,t,n,r){var i=t.canvas,a=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var o=t.backdrop||null;if(!t.transferMap&&r.isEnabled){var s=r.composeSMask({layer:n.canvas,mask:i,properties:{subtype:t.subtype,backdrop:o}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(s,t.offsetX,t.offsetY)}!function(e,t,n,r,i,a,o){var s,c=!!a,u=c?a[0]:0,d=c?a[1]:0,p=c?a[2]:0;s="Luminosity"===i?f:h;for(var m=Math.min(r,Math.ceil(1048576/n)),g=0;g<r;g+=m){var v=Math.min(m,r-g),b=e.getImageData(0,g,n,v),y=t.getImageData(0,g,n,v);c&&l(b.data,u,d,p),s(b.data,y.data,o),e.putImageData(y,0,g)}}(a,n,i.width,i.height,t.subtype,o,t.transferMap),e.drawImage(i,0,0)}var p=["butt","round","square"],m=["miter","round","bevel"],g={},v={};for(var b in e.prototype={beginDrawing:function(e){var t=e.transform,n=e.viewport,r=e.transparency,i=void 0!==r&&r,a=e.background,o=void 0===a?null:a,s=this.ctx.canvas.width,c=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=o||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,c),this.ctx.restore(),i){var l=this.cachedCanvases.getCanvas("transparent",s,c,!0);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),u(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,n.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,n,i){var a=e.argsArray,o=e.fnArray,s=t||0,c=a.length;if(c===s)return s;for(var u,l=c-s>10&&"function"===typeof n,h=l?Date.now()+15:0,f=0,d=this.commonObjs,p=this.objs;;){if(void 0!==i&&s===i.nextBreakPoint)return i.breakIt(s,n),s;if((u=o[s])!==r.OPS.dependency)this[u].apply(this,a[s]);else{var m,g=_createForOfIteratorHelper(a[s]);try{for(g.s();!(m=g.n()).done;){var v=m.value,b=v.startsWith("g_")?d:p;if(!b.has(v))return b.get(v,n),s}}catch(y){g.e(y)}finally{g.f()}}if(++s===c)return s;if(l&&++f>10){if(Date.now()>h)return n(),s;f=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=p[e]},setLineJoin:function(e){this.ctx.lineJoin=m[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)},setRenderingIntent:function(e){},setFlatness:function(e){},setGState:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],i=r[0],a=r[1];switch(i){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=a?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,n=e.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,t,n,!0),a=this.ctx,o=a.mozCurrentTransform;this.ctx.save();var s=i.context;s.scale(1/e.scaleX,1/e.scaleY),s.translate(-e.offsetX,-e.offsetY),s.transform.apply(s,o),e.startTransformInverse=s.mozCurrentTransformInverse,c(a,s),this.ctx=s,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(a),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),d(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),this.ctx.save(),c(e,this.ctx),this.current.resumeSMaskCtx=e;var t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),d(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),c(e,this.ctx);var t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(e,t,n,r,i,a){this.ctx.transform(e,t,n,r,i,a),this._cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var n=this.ctx,i=this.current,a=i.x,o=i.y,s=0,c=0,u=e.length;s<u;s++)switch(0|e[s]){case r.OPS.rectangle:a=t[c++],o=t[c++];var l=t[c++],h=t[c++];0===l&&(l=this.getSinglePixelWidth()),0===h&&(h=this.getSinglePixelWidth());var f=a+l,d=o+h;this.ctx.moveTo(a,o),this.ctx.lineTo(f,o),this.ctx.lineTo(f,d),this.ctx.lineTo(a,d),this.ctx.lineTo(a,o),this.ctx.closePath();break;case r.OPS.moveTo:a=t[c++],o=t[c++],n.moveTo(a,o);break;case r.OPS.lineTo:a=t[c++],o=t[c++],n.lineTo(a,o);break;case r.OPS.curveTo:a=t[c+4],o=t[c+5],n.bezierCurveTo(t[c],t[c+1],t[c+2],t[c+3],a,o),c+=6;break;case r.OPS.curveTo2:n.bezierCurveTo(a,o,t[c],t[c+1],t[c+2],t[c+3]),a=t[c+2],o=t[c+3],c+=4;break;case r.OPS.curveTo3:a=t[c+2],o=t[c+3],n.bezierCurveTo(t[c],t[c+1],a,o,a,o),c+=4;break;case r.OPS.closePath:n.closePath()}i.setCurrentPoint(a,o)},closePath:function(){this.ctx.closePath()},stroke:function(e){e="undefined"===typeof e||e;var t=this.ctx,n=this.current.strokeColor;if(t.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type){t.save();var i=t.mozCurrentTransform,a=r.Util.singularValueDecompose2dScale(i)[0];t.strokeStyle=n.getPattern(t,this),t.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth*a),t.stroke(),t.restore()}else t.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),t.stroke();e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e="undefined"===typeof e||e;var t=this.ctx,n=this.current.fillColor,r=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=n.getPattern(t,this),r=!0),this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill(),r&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=g},eoClip:function(){this.pendingClip=v},beginText:function(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];t.setTransform.apply(t,r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error("Can't find font for ".concat(e));if(i.fontMatrix=n.fontMatrix?n.fontMatrix:r.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,!n.isType3Font){var a=n.loadedName||"sans-serif",o="normal";n.black?o="900":n.bold&&(o="bold");var s=n.italic?"italic":"normal",c='"'.concat(a,'", ').concat(n.fallbackName),u=t;t<16?u=16:t>100&&(u=100),this.current.fontSizeScale=t/u,this.ctx.font="".concat(s," ").concat(o," ").concat(u,"px ").concat(c)}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,n,r,i,a){this.current.textMatrix=[e,t,n,r,i,a],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,n,i){var a,o=this.ctx,s=this.current,c=s.font,u=s.textRenderingMode,l=s.fontSize/s.fontSizeScale,h=u&r.TextRenderingMode.FILL_STROKE_MASK,f=!!(u&r.TextRenderingMode.ADD_TO_PATH_FLAG),d=s.patternFill&&c.data;(c.disableFontFace||f||d)&&(a=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||d?(o.save(),o.translate(t,n),o.beginPath(),a(o,l),i&&o.setTransform.apply(o,i),h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||o.fill(),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||o.stroke(),o.restore()):(h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||o.fillText(e,t,n),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||o.strokeText(e,t,n)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:o.mozCurrentTransform,x:t,y:n,fontSize:l,addToPath:a})},get isFontSubpixelAAEnabled(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,n=!1,i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)},showText:function(e){var t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);var i=t.fontSize;if(0!==i){var a,o=this.ctx,s=t.fontSizeScale,c=t.charSpacing,u=t.wordSpacing,l=t.fontDirection,h=t.textHScale*l,f=e.length,d=n.vertical,p=d?1:-1,m=n.defaultVMetrics,g=i*t.fontMatrix[0],v=t.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;if(o.save(),t.patternFill){o.save();var b=t.fillColor.getPattern(o,this);a=o.mozCurrentTransform,o.restore(),o.fillStyle=b}o.transform.apply(o,t.textMatrix),o.translate(t.x,t.y+t.textRise),l>0?o.scale(h,-1):o.scale(h,1);var y=t.lineWidth,_=t.textMatrixScale;if(0===_||0===y){var x=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;x!==r.TextRenderingMode.STROKE&&x!==r.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,y=.65*this.getSinglePixelWidth())}else y/=_;1!==s&&(o.scale(s,s),y/=s),o.lineWidth=y;var w,E=0;for(w=0;w<f;++w){var k=e[w];if((0,r.isNum)(k))E+=p*k*i/1e3;else{var O,S,C,A,j,P,T,R=!1,L=(k.isSpace?u:0)+c,M=k.fontChar,I=k.accent,N=k.width;if(d?(j=k.vmetric||m,P=-(P=k.vmetric?j[1]:.5*N)*g,T=j[2]*g,N=j?-j[0]:N,O=P/s,S=(E+T)/s):(O=E/s,S=0),n.remeasure&&N>0){var D=1e3*o.measureText(M).width/i*s;if(N<D&&this.isFontSubpixelAAEnabled){var F=N/D;R=!0,o.save(),o.scale(F,1),O/=F}else N!==D&&(O+=(N-D)/2e3*i/s)}(k.isInFont||n.missingFile)&&(v&&!I?o.fillText(M,O,S):(this.paintChar(M,O,S,a),I&&(C=O+I.offset.x/s,A=S-I.offset.y/s,this.paintChar(I.fontChar,C,A,a)))),E+=d?N*g-L*l:N*g+L*l,R&&o.restore()}}d?t.y-=E:t.x+=E*h,o.restore()}},showType3Text:function(e){var t,n,i,a,o=this.ctx,s=this.current,c=s.font,u=s.fontSize,l=s.fontDirection,h=c.vertical?1:-1,f=s.charSpacing,d=s.wordSpacing,p=s.textHScale*l,m=s.fontMatrix||r.FONT_IDENTITY_MATRIX,g=e.length;if(s.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==u){for(this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,s.textMatrix),o.translate(s.x,s.y),o.scale(p,l),t=0;t<g;++t)if(n=e[t],(0,r.isNum)(n))a=h*n*u/1e3,this.ctx.translate(a,0),s.x+=a*p;else{var v=(n.isSpace?d:0)+f,b=c.charProcOperatorList[n.operatorListId];b?(this.processingType3=n,this.save(),o.scale(u,u),o.transform.apply(o,m),this.executeOperatorList(b),this.restore(),i=r.Util.applyTransform([n.width,0],m)[0]*u+v,o.translate(i,0),s.x+=i*p):(0,r.warn)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}o.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,n,r,i,a){this.ctx.rect(n,r,i-n,a-r),this.clip(),this.endPath()},getColorN_Pattern:function(t){var n,r=this;if("TilingPattern"===t[0]){var a=t[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice(),s={createCanvasGraphics:function(t){return new e(t,r.commonObjs,r.objs,r.canvasFactory,r.webGLContext)}};n=new i.TilingPattern(t,a,this.ctx,s,o)}else n=(0,i.getShadingPatternFromIR)(t);return n},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,n){var i=r.Util.makeCssRgb(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i},setFillRGBColor:function(e,t,n){var i=r.Util.makeCssRgb(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1},shadingFill:function(e){var t=this.ctx;this.save();var n=(0,i.getShadingPatternFromIR)(e);t.fillStyle=n.getPattern(t,this,!0);var a=t.mozCurrentTransformInverse;if(a){var o=t.canvas,s=o.width,c=o.height,u=r.Util.applyTransform([0,0],a),l=r.Util.applyTransform([0,c],a),h=r.Util.applyTransform([s,0],a),f=r.Util.applyTransform([s,c],a),d=Math.min(u[0],l[0],h[0],f[0]),p=Math.min(u[1],l[1],h[1],f[1]),m=Math.max(u[0],l[0],h[0],f[0]),g=Math.max(u[1],l[1],h[1],f[1]);this.ctx.fillRect(d,p,m-d,g-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,r.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,r.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){if(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t){var n=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],n,r),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(e){this.save();var t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");var n=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var i=r.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),a=[0,0,t.canvas.width,t.canvas.height];i=r.Util.intersect(i,a)||[0,0,0,0];var o=Math.floor(i[0]),s=Math.floor(i[1]),u=Math.max(Math.ceil(i[2])-o,1),l=Math.max(Math.ceil(i[3])-s,1),h=1,f=1;u>4096&&(h=u/4096,u=4096),l>4096&&(f=l/4096,l=4096);var d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);var p=this.cachedCanvases.getCanvas(d,u,l,!0),m=p.context;m.scale(1/h,1/f),m.translate(-o,-s),m.transform.apply(m,n),e.smask?this.smaskStack.push({canvas:p.canvas,context:m,offsetX:o,offsetY:s,scaleX:h,scaleY:f,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,s),t.scale(h,f)),c(t,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,n){if(this.save(),u(this.ctx),this.current=new s,Array.isArray(e)&&4===e.length){var r=e[2]-e[0],i=e[3]-e[1];this.ctx.rect(e[0],e[1],r,i),this.clip(),this.endPath()}this.transform.apply(this,t),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintJpegXObject:function(e,t,n){var i=this.processingType3?this.commonObjs.get(e):this.objs.get(e);if(i){this.save();var a=this.ctx;if(a.scale(1/t,-1/n),a.drawImage(i,0,0,i.width,i.height,0,-n,t,n),this.imageLayer){var o=a.mozCurrentTransformInverse,s=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:e,left:s[0],top:s[1],width:t/o[0],height:n/o[3]})}this.restore()}else(0,r.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(e){var t=this.ctx,r=e.width,i=e.height,a=this.current.fillColor,o=this.current.patternFill,s=this.processingType3;if(s&&void 0===s.compiled&&(s.compiled=r<=1e3&&i<=1e3?function(e){var t,n,r,i,a=e.width,o=e.height,s=a+1,c=new Uint8Array(s*(o+1)),u=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=a+7&-8,h=e.data,f=new Uint8Array(l*o),d=0;for(t=0,i=h.length;t<i;t++)for(var p=128,m=h[t];p>0;)f[d++]=m&p?0:255,p>>=1;var g=0;for(0!==f[d=0]&&(c[0]=1,++g),n=1;n<a;n++)f[d]!==f[d+1]&&(c[n]=f[d]?2:1,++g),d++;for(0!==f[d]&&(c[n]=2,++g),t=1;t<o;t++){r=t*s,f[(d=t*l)-l]!==f[d]&&(c[r]=f[d]?1:8,++g);var v=(f[d]?4:0)+(f[d-l]?8:0);for(n=1;n<a;n++)u[v=(v>>2)+(f[d+1]?4:0)+(f[d-l+1]?8:0)]&&(c[r+n]=u[v],++g),d++;if(f[d-l]!==f[d]&&(c[r+n]=f[d]?2:4,++g),g>1e3)return null}for(r=t*s,0!==f[d=l*(o-1)]&&(c[r]=8,++g),n=1;n<a;n++)f[d]!==f[d+1]&&(c[r+n]=f[d]?4:8,++g),d++;if(0!==f[d]&&(c[r+n]=4,++g),g>1e3)return null;var b=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=[];for(t=0;g&&t<=o;t++){for(var _=t*s,x=_+a;_<x&&!c[_];)_++;if(_!==x){var w,E=[_%s,t],k=c[_],O=_;do{var S=b[k];do{_+=S}while(!c[_]);5!==(w=c[_])&&10!==w?(k=w,c[_]=0):(k=w&51*k>>4,c[_]&=k>>2|k<<2),E.push(_%s),E.push(_/s|0),c[_]||--g}while(O!==_);y.push(E),--t}}return function(e){e.save(),e.scale(1/a,-1/o),e.translate(0,-o),e.beginPath();for(var t=0,n=y.length;t<n;t++){var r=y[t];e.moveTo(r[0],r[1]);for(var i=2,s=r.length;i<s;i+=2)e.lineTo(r[i],r[i+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:r,height:i}):null),s&&s.compiled)s.compiled(t);else{var c=this.cachedCanvases.getCanvas("maskCanvas",r,i),u=c.context;u.save(),n(u,e),u.globalCompositeOperation="source-in",u.fillStyle=o?a.getPattern(u,this):a,u.fillRect(0,0,r,i),u.restore(),this.paintInlineImageXObject(c.canvas)}},paintImageMaskXObjectRepeat:function(e,t,r,i){var a=e.width,o=e.height,s=this.current.fillColor,c=this.current.patternFill,u=this.cachedCanvases.getCanvas("maskCanvas",a,o),l=u.context;l.save(),n(l,e),l.globalCompositeOperation="source-in",l.fillStyle=c?s.getPattern(l,this):s,l.fillRect(0,0,a,o),l.restore();for(var h=this.ctx,f=0,d=i.length;f<d;f+=2)h.save(),h.transform(t,0,0,r,i[f],i[f+1]),h.scale(1,-1),h.drawImage(u.canvas,0,0,a,o,0,-1,1,1),h.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,r=this.current.fillColor,i=this.current.patternFill,a=0,o=e.length;a<o;a++){var s=e[a],c=s.width,u=s.height,l=this.cachedCanvases.getCanvas("maskCanvas",c,u),h=l.context;h.save(),n(h,s),h.globalCompositeOperation="source-in",h.fillStyle=i?r.getPattern(h,this):r,h.fillRect(0,0,c,u),h.restore(),t.save(),t.transform.apply(t,s.transform),t.scale(1,-1),t.drawImage(l.canvas,0,0,c,u,0,-1,1,1),t.restore()}},paintImageXObject:function(e){var t=this.processingType3?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,n,i){var a=this.processingType3?this.commonObjs.get(e):this.objs.get(e);if(a){for(var o=a.width,s=a.height,c=[],u=0,l=i.length;u<l;u+=2)c.push({transform:[t,0,0,n,i[u],i[u+1]],x:0,y:0,w:o,h:s});this.paintInlineImageXObjectGroup(a,c)}else(0,r.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e){var n=e.width,r=e.height,i=this.ctx;this.save(),i.scale(1/n,-1/r);var a,o,s=i.mozCurrentTransformInverse,c=s[0],u=s[1],l=Math.max(Math.sqrt(c*c+u*u),1),h=s[2],f=s[3],d=Math.max(Math.sqrt(h*h+f*f),1);if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)a=e;else{var p=(o=this.cachedCanvases.getCanvas("inlineImage",n,r)).context;t(p,e),a=o.canvas}for(var m=n,g=r,v="prescale1";l>2&&m>1||d>2&&g>1;){var b=m,y=g;l>2&&m>1&&(l/=m/(b=Math.ceil(m/2))),d>2&&g>1&&(d/=g/(y=Math.ceil(g/2))),(p=(o=this.cachedCanvases.getCanvas(v,b,y)).context).clearRect(0,0,b,y),p.drawImage(a,0,0,m,g,0,0,b,y),a=o.canvas,m=b,g=y,v="prescale1"===v?"prescale2":"prescale1"}if(i.drawImage(a,0,0,m,g,0,-r,n,r),this.imageLayer){var _=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:e,left:_[0],top:_[1],width:n/s[0],height:r/s[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,n){var r=this.ctx,i=e.width,a=e.height,o=this.cachedCanvases.getCanvas("inlineImage",i,a);t(o.context,e);for(var s=0,c=n.length;s<c;s++){var u=n[s];if(r.save(),r.transform.apply(r,u.transform),r.scale(1,-1),r.drawImage(o.canvas,u.x,u.y,u.w,u.h,0,-1,1,1),this.imageLayer){var l=this.getCanvasPosition(u.x,u.y);this.imageLayer.appendImage({imgData:e,left:l[0],top:l[1],width:i,height:a})}r.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,r.warn)("Unsupported 'paintXObject' command.")},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){},beginMarkedContentProps:function(e,t){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===v?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(e){if(null===this._cachedGetSinglePixelWidth){var t=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var n=this.ctx.mozCurrentTransform;return[n[0]*e+n[2]*t+n[4],n[1]*e+n[3]*t+n[5]]}},r.OPS)e.prototype[r.OPS[b]]=e.prototype[b];return e}();t.CanvasGraphics=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=function(e){var t=i[e[0]];if(!t)throw new Error("Unknown IR type: ".concat(e[0]));return t.fromIR(e)},t.TilingPattern=void 0;var r=n(1),i={};function a(e,t){if(t&&"undefined"!==typeof Path2D){var n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}}i.RadialAxial={fromIR:function(e){var t=e[1],n=e[2],r=e[3],i=e[4],o=e[5],s=e[6],c=e[7];return{type:"Pattern",getPattern:function(e){var u;a(e,n),"axial"===t?u=e.createLinearGradient(i[0],i[1],o[0],o[1]):"radial"===t&&(u=e.createRadialGradient(i[0],i[1],s,o[0],o[1],c));for(var l=0,h=r.length;l<h;++l){var f=r[l];u.addColorStop(f[0],f[1])}return u}}}};var o=function(){function e(e,t,n,r,i,a,o,s){var c,u=t.coords,l=t.colors,h=e.data,f=4*e.width;u[n+1]>u[r+1]&&(c=n,n=r,r=c,c=a,a=o,o=c),u[r+1]>u[i+1]&&(c=r,r=i,i=c,c=o,o=s,s=c),u[n+1]>u[r+1]&&(c=n,n=r,r=c,c=a,a=o,o=c);var d=(u[n]+t.offsetX)*t.scaleX,p=(u[n+1]+t.offsetY)*t.scaleY,m=(u[r]+t.offsetX)*t.scaleX,g=(u[r+1]+t.offsetY)*t.scaleY,v=(u[i]+t.offsetX)*t.scaleX,b=(u[i+1]+t.offsetY)*t.scaleY;if(!(p>=b))for(var y,_,x,w,E,k,O,S,C=l[a],A=l[a+1],j=l[a+2],P=l[o],T=l[o+1],R=l[o+2],L=l[s],M=l[s+1],I=l[s+2],N=Math.round(p),D=Math.round(b),F=N;F<=D;F++){if(F<g){var z=void 0;y=d-(d-m)*(z=F<p?0:p===g?1:(p-F)/(p-g)),_=C-(C-P)*z,x=A-(A-T)*z,w=j-(j-R)*z}else{var B=void 0;y=m-(m-v)*(B=F>b?1:g===b?0:(g-F)/(g-b)),_=P-(P-L)*B,x=T-(T-M)*B,w=R-(R-I)*B}var U=void 0;E=d-(d-v)*(U=F<p?0:F>b?1:(p-F)/(p-b)),k=C-(C-L)*U,O=A-(A-M)*U,S=j-(j-I)*U;for(var H=Math.round(Math.min(y,E)),q=Math.round(Math.max(y,E)),W=f*F+4*H,G=H;G<=q;G++){var Z=(y-G)/(y-E);Z<0?Z=0:Z>1&&(Z=1),h[W++]=_-(_-k)*Z|0,h[W++]=x-(x-O)*Z|0,h[W++]=w-(w-S)*Z|0,h[W++]=255}}}function t(t,n,r){var i,a,o=n.coords,s=n.colors;switch(n.type){case"lattice":var c=n.verticesPerRow,u=Math.floor(o.length/c)-1,l=c-1;for(i=0;i<u;i++)for(var h=i*c,f=0;f<l;f++,h++)e(t,r,o[h],o[h+1],o[h+c],s[h],s[h+1],s[h+c]),e(t,r,o[h+c+1],o[h+1],o[h+c],s[h+c+1],s[h+1],s[h+c]);break;case"triangles":for(i=0,a=o.length;i<a;i+=3)e(t,r,o[i],o[i+1],o[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}return function(e,n,r,i,a,o,s,c){var u,l,h,f,d=Math.floor(e[0]),p=Math.floor(e[1]),m=Math.ceil(e[2])-d,g=Math.ceil(e[3])-p,v=Math.min(Math.ceil(Math.abs(m*n[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(g*n[1]*1.1)),3e3),y=m/v,_=g/b,x={coords:r,colors:i,offsetX:-d,offsetY:-p,scaleX:1/y,scaleY:1/_},w=v+4,E=b+4;if(c.isEnabled)u=c.drawFigures({width:v,height:b,backgroundColor:o,figures:a,context:x}),(l=s.getCanvas("mesh",w,E,!1)).context.drawImage(u,2,2),u=l.canvas;else{var k=(l=s.getCanvas("mesh",w,E,!1)).context,O=k.createImageData(v,b);if(o){var S=O.data;for(h=0,f=S.length;h<f;h+=4)S[h]=o[0],S[h+1]=o[1],S[h+2]=o[2],S[h+3]=255}for(h=0;h<a.length;h++)t(O,a[h],x);k.putImageData(O,2,2),u=l.canvas}return{canvas:u,offsetX:d-2*y,offsetY:p-2*_,scaleX:y,scaleY:_}}}();i.Mesh={fromIR:function(e){var t=e[2],n=e[3],i=e[4],s=e[5],c=e[6],u=e[7],l=e[8];return{type:"Pattern",getPattern:function(e,h,f){var d;if(a(e,u),f)d=r.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(d=r.Util.singularValueDecompose2dScale(h.baseTransform),c){var p=r.Util.singularValueDecompose2dScale(c);d=[d[0]*p[0],d[1]*p[1]]}var m=o(s,d,t,n,i,f?null:l,h.cachedCanvases,h.webGLContext);return f||(e.setTransform.apply(e,h.baseTransform),c&&e.transform.apply(e,c)),e.translate(m.offsetX,m.offsetY),e.scale(m.scaleX,m.scaleY),e.createPattern(m.canvas,"no-repeat")}}}},i.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var s=function(){var e=1,t=2;function n(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=r,this.baseTransform=i,this.type="Pattern",this.ctx=n}return n.prototype={createPatternCanvas:function(e){var t=this.operatorList,n=this.bbox,i=this.xstep,a=this.ystep,o=this.paintType,s=this.tilingType,c=this.color,u=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+s);var l=n[0],h=n[1],f=n[2],d=n[3],p=r.Util.singularValueDecompose2dScale(this.matrix),m=r.Util.singularValueDecompose2dScale(this.baseTransform),g=[p[0]*m[0],p[1]*m[1]],v=this.getSizeAndScale(i,this.ctx.canvas.width,g[0]),b=this.getSizeAndScale(a,this.ctx.canvas.height,g[1]),y=e.cachedCanvases.getCanvas("pattern",v.size,b.size,!0),_=y.context,x=u.createCanvasGraphics(_);return x.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(x,o,c),x.transform(v.scale,0,0,b.scale,0,0),x.transform(1,0,0,1,-l,-h),this.clipBbox(x,n,l,h,f,d),x.executeOperatorList(t),this.ctx.transform(1,0,0,1,l,h),this.ctx.scale(1/v.scale,1/b.scale),y.canvas},getSizeAndScale:function(e,t,n){e=Math.abs(e);var r=Math.max(3e3,t),i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}},clipBbox:function(e,t,n,r,i,a){if(Array.isArray(t)&&4===t.length){var o=i-n,s=a-r;e.ctx.rect(n,r,o,s),e.clip(),e.endPath()}},setFillAndStrokeStyleToContext:function(n,i,a){var o=n.ctx,s=n.current;switch(i){case e:var c=this.ctx;o.fillStyle=c.fillStyle,o.strokeStyle=c.strokeStyle,s.fillColor=c.fillStyle,s.strokeColor=c.strokeStyle;break;case t:var u=r.Util.makeCssRgb(a[0],a[1],a[2]);o.fillStyle=u,o.strokeStyle=u,s.fillColor=u,s.strokeColor=u;break;default:throw new r.FormatError("Unsupported paint type: ".concat(i))}},getPattern:function(e,t){(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix);var n=this.createPatternCanvas(t);return e.createPattern(n,"repeat")}},n}();t.TilingPattern=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var r=Object.create(null);t.GlobalWorkerOptions=r,r.workerPort=void 0===r.workerPort?null:r.workerPort,r.workerSrc=void 0===r.workerSrc?"":r.workerSrc},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r=n(1),i=1,a=2,o=1,s=2,c=3,u=4,l=5,h=6,f=7,d=8;function p(e){if("object"!==typeof e||null===e)return e;switch(e.name){case"AbortException":return new r.AbortException(e.message);case"MissingPDFException":return new r.MissingPDFException(e.message);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new r.UnknownErrorException(e.message,e.details);default:return new r.UnknownErrorException(e.message,e.toString())}}var m=function(){function e(t,n,r){var o=this;_classCallCheck(this,e),this.sourceName=t,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===o.sourceName)if(t.stream)o._processStreamMessage(t);else if(t.callback){var n=t.callbackId,s=o.callbackCapabilities[n];if(!s)throw new Error("Cannot resolve callback ".concat(n));if(delete o.callbackCapabilities[n],t.callback===i)s.resolve(t.data);else{if(t.callback!==a)throw new Error("Unexpected callback case");s.reject(p(t.reason))}}else{var c=o.actionHandler[t.action];if(!c)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var u=o.sourceName,l=t.sourceName;new Promise((function(e){e(c(t.data))})).then((function(e){r.postMessage({sourceName:u,targetName:l,callback:i,callbackId:t.callbackId,data:e})}),(function(e){r.postMessage({sourceName:u,targetName:l,callback:a,callbackId:t.callbackId,reason:p(e)})}))}else t.streamId?o._createStreamSink(t):c(t.data)}},r.addEventListener("message",this._onComObjOnMessage)}return _createClass(e,[{key:"on",value:function(e,t){var n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}},{key:"send",value:function(e,t,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}},{key:"sendWithPromise",value:function(e,t,n){var i=this.callbackId++,a=(0,r.createPromiseCapability)();this.callbackCapabilities[i]=a;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(o){a.reject(o)}return a.promise}},{key:"sendWithStream",value:function(e,t,n,i){var a=this,s=this.streamId++,c=this.sourceName,u=this.targetName,l=this.comObj;return new ReadableStream({start:function(n){var o=(0,r.createPromiseCapability)();return a.streamControllers[s]={controller:n,startCall:o,pullCall:null,cancelCall:null,isClosed:!1},a._postMessage({sourceName:c,targetName:u,action:e,streamId:s,data:t,desiredSize:n.desiredSize},i),o.promise},pull:function(e){var t=(0,r.createPromiseCapability)();return a.streamControllers[s].pullCall=t,l.postMessage({sourceName:c,targetName:u,stream:h,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,r.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,r.createPromiseCapability)();return a.streamControllers[s].cancelCall=t,a.streamControllers[s].isClosed=!0,l.postMessage({sourceName:c,targetName:u,stream:o,streamId:s,reason:p(e)}),t.promise}},n)}},{key:"_createStreamSink",value:function(e){var t=this,n=this.actionHandler[e.action],i=e.streamId,a=this.sourceName,o=e.sourceName,s=this.comObj,h={enqueue:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var c=this.desiredSize;this.desiredSize-=n,c>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),t._postMessage({sourceName:a,targetName:o,stream:u,streamId:i,chunk:e},s)}},close:function(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:a,targetName:o,stream:c,streamId:i}),delete t.streamSinks[i])},error:function(e){(0,r.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:a,targetName:o,stream:l,streamId:i,reason:p(e)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[i]=h,new Promise((function(t){t(n(e.data,h))})).then((function(){s.postMessage({sourceName:a,targetName:o,stream:d,streamId:i,success:!0})}),(function(e){s.postMessage({sourceName:a,targetName:o,stream:d,streamId:i,reason:p(e)})}))}},{key:"_processStreamMessage",value:function(e){var t=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj;switch(e.stream){case d:e.success?this.streamControllers[t].startCall.resolve():this.streamControllers[t].startCall.reject(p(e.reason));break;case f:e.success?this.streamControllers[t].pullCall.resolve():this.streamControllers[t].pullCall.reject(p(e.reason));break;case h:if(!this.streamSinks[t]){a.postMessage({sourceName:n,targetName:i,stream:f,streamId:t,success:!0});break}this.streamSinks[t].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[t].sinkCapability.resolve(),this.streamSinks[t].desiredSize=e.desiredSize;var m=this.streamSinks[e.streamId].onPull;new Promise((function(e){e(m&&m())})).then((function(){a.postMessage({sourceName:n,targetName:i,stream:f,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:n,targetName:i,stream:f,streamId:t,reason:p(e)})}));break;case u:if((0,r.assert)(this.streamControllers[t],"enqueue should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].controller.enqueue(e.chunk);break;case c:if((0,r.assert)(this.streamControllers[t],"close should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].isClosed=!0,this.streamControllers[t].controller.close(),this._deleteStreamController(t);break;case l:(0,r.assert)(this.streamControllers[t],"error should have stream controller"),this.streamControllers[t].controller.error(p(e.reason)),this._deleteStreamController(t);break;case s:e.success?this.streamControllers[t].cancelCall.resolve():this.streamControllers[t].cancelCall.reject(p(e.reason)),this._deleteStreamController(t);break;case o:if(!this.streamSinks[t])break;var g=this.streamSinks[e.streamId].onCancel;new Promise((function(t){t(g&&g(p(e.reason)))})).then((function(){a.postMessage({sourceName:n,targetName:i,stream:s,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:n,targetName:i,stream:s,streamId:t,reason:p(e)})})),this.streamSinks[t].sinkCapability.reject(p(e.reason)),this.streamSinks[t].isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map((function(e){return e&&e.promise})));case 2:delete this.streamControllers[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_postMessage",value:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),e}();t.MessageHandler=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(1),i=n(13),a=function(){function e(t){_classCallCheck(this,e),(0,r.assert)("string"===typeof t,"Metadata: input is not a string"),t=this._repair(t);var n=(new i.SimpleXMLParser).parseFromString(t);this._metadataMap=new Map,n&&this._parse(n)}return _createClass(e,[{key:"_repair",value:function(e){return e.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,(function(e,t){for(var n=t.replace(/\\([0-3])([0-7])([0-7])/g,(function(e,t,n,r){return String.fromCharCode(64*t+8*n+1*r)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(t," isn't defined."))})),r="",i=0,a=n.length;i<a;i+=2){var o=256*n.charCodeAt(i)+n.charCodeAt(i+1);r+=o>=32&&o<127&&60!==o&&62!==o&&38!==o?String.fromCharCode(o):"&#x"+(65536+o).toString(16).substring(1)+";"}return">"+r}))}},{key:"_parse",value:function(e){var t=e.documentElement;if("rdf:rdf"!==t.nodeName.toLowerCase())for(t=t.firstChild;t&&"rdf:rdf"!==t.nodeName.toLowerCase();)t=t.nextSibling;var n=t?t.nodeName.toLowerCase():null;if(t&&"rdf:rdf"===n&&t.hasChildNodes())for(var r=t.childNodes,i=0,a=r.length;i<a;i++){var o=r[i];if("rdf:description"===o.nodeName.toLowerCase())for(var s=0,c=o.childNodes.length;s<c;s++)if("#text"!==o.childNodes[s].nodeName.toLowerCase()){var u=o.childNodes[s],l=u.nodeName.toLowerCase();this._metadataMap.set(l,u.textContent.trim())}}}},{key:"get",value:function(e){return this._metadataMap.has(e)?this._metadataMap.get(e):null}},{key:"getAll",value:function(){var e,t=Object.create(null),n=_createForOfIteratorHelper(this._metadataMap);try{for(n.s();!(e=n.n()).done;){var r=_slicedToArray(e.value,2),i=r[0],a=r[1];t[i]=a}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"has",value:function(e){return this._metadataMap.has(e)}}]),e}();t.Metadata=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleXMLParser=void 0;var r=0,i=-2,a=-3,o=-4,s=-5,c=-6,u=-9;function l(e,t){var n=e[t];return" "===n||"\n"===n||"\r"===n||"\t"===n}var h=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"_resolveEntities",value:function(e){var t=this;return e.replace(/&([^;]+);/g,(function(e,n){if("#x"===n.substring(0,2))return String.fromCharCode(parseInt(n.substring(2),16));if("#"===n.substring(0,1))return String.fromCharCode(parseInt(n.substring(1),10));switch(n){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return t.onResolveEntity(n)}))}},{key:"_parseContent",value:function(e,t){var n=[],r=t;function i(){for(;r<e.length&&l(e,r);)++r}for(;r<e.length&&!l(e,r)&&">"!==e[r]&&"/"!==e[r];)++r;var a=e.substring(t,r);for(i();r<e.length&&">"!==e[r]&&"/"!==e[r]&&"?"!==e[r];){i();for(var o,s="";r<e.length&&!l(e,r)&&"="!==e[r];)s+=e[r],++r;if(i(),"="!==e[r])return null;++r,i();var c=e[r];if('"'!==c&&"'"!==c)return null;var u=e.indexOf(c,++r);if(u<0)return null;o=e.substring(r,u),n.push({name:s,value:this._resolveEntities(o)}),r=u+1,i()}return{name:a,attributes:n,parsed:r-t}}},{key:"_parseProcessingInstruction",value:function(e,t){for(var n=t;n<e.length&&!l(e,n)&&">"!==e[n]&&"/"!==e[n];)++n;var r=e.substring(t,n);!function(){for(;n<e.length&&l(e,n);)++n}();for(var i=n;n<e.length&&("?"!==e[n]||">"!==e[n+1]);)++n;return{name:r,value:e.substring(i,n),parsed:n-t}}},{key:"parseXml",value:function(e){for(var t=0;t<e.length;){var n=t;if("<"===e[t]){var r=void 0;switch(e[++n]){case"/":if(++n,(r=e.indexOf(">",n))<0)return void this.onError(u);this.onEndElement(e.substring(n,r)),n=r+1;break;case"?":++n;var l=this._parseProcessingInstruction(e,n);if("?>"!==e.substring(n+l.parsed,n+l.parsed+2))return void this.onError(a);this.onPi(l.name,l.value),n+=l.parsed+2;break;case"!":if("--"===e.substring(n+1,n+3)){if((r=e.indexOf("--\x3e",n+3))<0)return void this.onError(s);this.onComment(e.substring(n+3,r)),n=r+3}else if("[CDATA["===e.substring(n+1,n+8)){if((r=e.indexOf("]]>",n+8))<0)return void this.onError(i);this.onCdata(e.substring(n+8,r)),n=r+3}else{if("DOCTYPE"!==e.substring(n+1,n+8))return void this.onError(c);var h=e.indexOf("[",n+8),f=!1;if((r=e.indexOf(">",n+8))<0)return void this.onError(o);if(h>0&&r>h){if((r=e.indexOf("]>",n+8))<0)return void this.onError(o);f=!0}var d=e.substring(n+8,r+(f?1:0));this.onDoctype(d),n=r+(f?2:1)}break;default:var p=this._parseContent(e,n);if(null===p)return void this.onError(c);var m=!1;if("/>"===e.substring(n+p.parsed,n+p.parsed+2))m=!0;else if(">"!==e.substring(n+p.parsed,n+p.parsed+1))return void this.onError(u);this.onBeginElement(p.name,p.attributes,m),n+=p.parsed+(m?2:1)}}else{for(;n<e.length&&"<"!==e[n];)n++;var g=e.substring(t,n);this.onText(this._resolveEntities(g))}t=n}}},{key:"onResolveEntity",value:function(e){return"&".concat(e,";")}},{key:"onPi",value:function(e,t){}},{key:"onComment",value:function(e){}},{key:"onCdata",value:function(e){}},{key:"onDoctype",value:function(e){}},{key:"onText",value:function(e){}},{key:"onBeginElement",value:function(e,t,n){}},{key:"onEndElement",value:function(e){}},{key:"onError",value:function(e){}}]),e}(),f=function(){function e(t,n){_classCallCheck(this,e),this.nodeName=t,this.nodeValue=n,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return _createClass(e,[{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var e=this.parentNode.childNodes;if(e){var t=e.indexOf(this);if(-1!==t)return e[t+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map((function(e){return e.textContent})).join(""):this.nodeValue||""}}]),e}(),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._currentFragment=null,e._stack=null,e._errorCode=r,e}return _createClass(n,[{key:"parseFromString",value:function(e){if(this._currentFragment=[],this._stack=[],this._errorCode=r,this.parseXml(e),this._errorCode===r){var t=_slicedToArray(this._currentFragment,1)[0];if(t)return{documentElement:t}}}},{key:"onResolveEntity",value:function(e){switch(e){case"apos":return"'"}return _get(_getPrototypeOf(n.prototype),"onResolveEntity",this).call(this,e)}},{key:"onText",value:function(e){if(!function(e){for(var t=0,n=e.length;t<n;t++)if(!l(e,t))return!1;return!0}(e)){var t=new f("#text",e);this._currentFragment.push(t)}}},{key:"onCdata",value:function(e){var t=new f("#text",e);this._currentFragment.push(t)}},{key:"onBeginElement",value:function(e,t,n){var r=new f(e);r.childNodes=[],this._currentFragment.push(r),n||(this._stack.push(this._currentFragment),this._currentFragment=r.childNodes)}},{key:"onEndElement",value:function(e){this._currentFragment=this._stack.pop()||[];var t=this._currentFragment[this._currentFragment.length-1];if(t)for(var n=0,r=t.childNodes.length;n<r;n++)t.childNodes[n].parentNode=t}},{key:"onError",value:function(e){this._errorCode=e}}]),n}(h);t.SimpleXMLParser=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r=n(1),i=function(){function e(t,n){var i=this;_classCallCheck(this,e),(0,r.assert)(n),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1;var a=t.initialData;if(a&&a.length>0){var o=new Uint8Array(a).buffer;this._queuedChunks.push(o)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(e,t){i._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener((function(e,t){i._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(e){i._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((function(){i._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}return _createClass(e,[{key:"_onReceiveData",value:function(e){var t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{var n=this._rangeReaders.some((function(n){return n._begin===e.begin&&(n._enqueue(t),!0)}));(0,r.assert)(n)}}},{key:"_onProgress",value:function(e){if(void 0===e.total){var t=this._rangeReaders[0];t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{var n=this._fullRequestReader;n&&n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}},{key:"getFullReader",value:function(){(0,r.assert)(!this._fullRequestReader);var e=this._queuedChunks;return this._queuedChunks=null,new a(this,e,this._progressiveDone)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new o(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeReaders.slice(0).forEach((function(t){t.cancel(e)})),this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),e}();t.PDFDataTransportStream=i;var a=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this._stream=t,this._done=r||!1,this._filename=null,this._queuedChunks=n||[],this._loaded=0;var i,a=_createForOfIteratorHelper(this._queuedChunks);try{for(a.s();!(i=a.n()).done;){var o=i.value;this._loaded+=o.byteLength}}catch(s){a.e(s)}finally{a.f()}this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}return _createClass(e,[{key:"_enqueue",value:function(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._queuedChunks.length>0)){e.next=3;break}return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 3:if(!this._done){e.next=5;break}return e.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),e}(),o=function(){function e(t,n,r){_classCallCheck(this,e),this._stream=t,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return _createClass(e,[{key:"_enqueue",value:function(e){this._done||(0===this._requests.length?this._queuedChunk=e:(this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var r=n(1),i=function(){function e(t){var n=t.enable,r=void 0!==n&&n;_classCallCheck(this,e),this._enabled=!0===r}return _createClass(e,[{key:"composeSMask",value:function(e){var t=e.layer,n=e.mask,r=e.properties;return a.composeSMask(t,n,r)}},{key:"drawFigures",value:function(e){var t=e.width,n=e.height,r=e.backgroundColor,i=e.figures,o=e.context;return a.drawFigures(t,n,r,i,o)}},{key:"clear",value:function(){a.cleanup()}},{key:"isEnabled",get:function(){var e=this._enabled;return e&&(e=a.tryInitGL()),(0,r.shadow)(this,"isEnabled",e)}}]),e}();t.WebGLContext=i;var a=function(){function e(e,t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(r);throw new Error("Error during shader compilation: "+i)}return r}function t(t,n){return e(t,n,t.VERTEX_SHADER)}function n(t,n){return e(t,n,t.FRAGMENT_SHADER)}function r(e,t){for(var n=e.createProgram(),r=0,i=t.length;r<i;++r)e.attachShader(n,t[r]);if(e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var a=e.getProgramInfoLog(n);throw new Error("Error during program linking: "+a)}return n}function i(e,t,n){e.activeTexture(n);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),r}var a,o;function s(){a||(o=document.createElement("canvas"),a=o.getContext("webgl",{premultipliedalpha:!1}))}var c=null,u=null;return{tryInitGL:function(){try{return s(),!!a}catch(e){}return!1},composeSMask:function(e,u,l){var h=e.width,f=e.height;c||function(){var e,i;s(),e=o,o=null,i=a,a=null;var u=r(i,[t(i,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),n(i,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);i.useProgram(u);var l={};l.gl=i,l.canvas=e,l.resolutionLocation=i.getUniformLocation(u,"u_resolution"),l.positionLocation=i.getAttribLocation(u,"a_position"),l.backdropLocation=i.getUniformLocation(u,"u_backdrop"),l.subtypeLocation=i.getUniformLocation(u,"u_subtype");var h=i.getAttribLocation(u,"a_texCoord"),f=i.getUniformLocation(u,"u_image"),d=i.getUniformLocation(u,"u_mask"),p=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,p),i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),i.STATIC_DRAW),i.enableVertexAttribArray(h),i.vertexAttribPointer(h,2,i.FLOAT,!1,0,0),i.uniform1i(f,0),i.uniform1i(d,1),c=l}();var d=c,p=d.canvas,m=d.gl;p.width=h,p.height=f,m.viewport(0,0,m.drawingBufferWidth,m.drawingBufferHeight),m.uniform2f(d.resolutionLocation,h,f),l.backdrop?m.uniform4f(d.resolutionLocation,l.backdrop[0],l.backdrop[1],l.backdrop[2],1):m.uniform4f(d.resolutionLocation,0,0,0,0),m.uniform1i(d.subtypeLocation,"Luminosity"===l.subtype?1:0);var g=i(m,e,m.TEXTURE0),v=i(m,u,m.TEXTURE1),b=m.createBuffer();return m.bindBuffer(m.ARRAY_BUFFER,b),m.bufferData(m.ARRAY_BUFFER,new Float32Array([0,0,h,0,0,f,0,f,h,0,h,f]),m.STATIC_DRAW),m.enableVertexAttribArray(d.positionLocation),m.vertexAttribPointer(d.positionLocation,2,m.FLOAT,!1,0,0),m.clearColor(0,0,0,0),m.enable(m.BLEND),m.blendFunc(m.ONE,m.ONE_MINUS_SRC_ALPHA),m.clear(m.COLOR_BUFFER_BIT),m.drawArrays(m.TRIANGLES,0,6),m.flush(),m.deleteTexture(g),m.deleteTexture(v),m.deleteBuffer(b),p},drawFigures:function(e,i,c,l,h){u||function(){var e,i;s(),e=o,o=null,i=a,a=null;var c=r(i,[t(i,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),n(i,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);i.useProgram(c);var l={};l.gl=i,l.canvas=e,l.resolutionLocation=i.getUniformLocation(c,"u_resolution"),l.scaleLocation=i.getUniformLocation(c,"u_scale"),l.offsetLocation=i.getUniformLocation(c,"u_offset"),l.positionLocation=i.getAttribLocation(c,"a_position"),l.colorLocation=i.getAttribLocation(c,"a_color"),u=l}();var f=u,d=f.canvas,p=f.gl;d.width=e,d.height=i,p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight),p.uniform2f(f.resolutionLocation,e,i);var m,g,v,b=0;for(m=0,g=l.length;m<g;m++)switch(l[m].type){case"lattice":b+=((v=l[m].coords.length/l[m].verticesPerRow|0)-1)*(l[m].verticesPerRow-1)*6;break;case"triangles":b+=l[m].coords.length}var y=new Float32Array(2*b),_=new Uint8Array(3*b),x=h.coords,w=h.colors,E=0,k=0;for(m=0,g=l.length;m<g;m++){var O=l[m],S=O.coords,C=O.colors;switch(O.type){case"lattice":var A=O.verticesPerRow;v=S.length/A|0;for(var j=1;j<v;j++)for(var P=j*A+1,T=1;T<A;T++,P++)y[E]=x[S[P-A-1]],y[E+1]=x[S[P-A-1]+1],y[E+2]=x[S[P-A]],y[E+3]=x[S[P-A]+1],y[E+4]=x[S[P-1]],y[E+5]=x[S[P-1]+1],_[k]=w[C[P-A-1]],_[k+1]=w[C[P-A-1]+1],_[k+2]=w[C[P-A-1]+2],_[k+3]=w[C[P-A]],_[k+4]=w[C[P-A]+1],_[k+5]=w[C[P-A]+2],_[k+6]=w[C[P-1]],_[k+7]=w[C[P-1]+1],_[k+8]=w[C[P-1]+2],y[E+6]=y[E+2],y[E+7]=y[E+3],y[E+8]=y[E+4],y[E+9]=y[E+5],y[E+10]=x[S[P]],y[E+11]=x[S[P]+1],_[k+9]=_[k+3],_[k+10]=_[k+4],_[k+11]=_[k+5],_[k+12]=_[k+6],_[k+13]=_[k+7],_[k+14]=_[k+8],_[k+15]=w[C[P]],_[k+16]=w[C[P]+1],_[k+17]=w[C[P]+2],E+=12,k+=18;break;case"triangles":for(var R=0,L=S.length;R<L;R++)y[E]=x[S[R]],y[E+1]=x[S[R]+1],_[k]=w[C[R]],_[k+1]=w[C[R]+1],_[k+2]=w[C[R]+2],E+=2,k+=3}}c?p.clearColor(c[0]/255,c[1]/255,c[2]/255,1):p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT);var M=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,M),p.bufferData(p.ARRAY_BUFFER,y,p.STATIC_DRAW),p.enableVertexAttribArray(f.positionLocation),p.vertexAttribPointer(f.positionLocation,2,p.FLOAT,!1,0,0);var I=p.createBuffer();return p.bindBuffer(p.ARRAY_BUFFER,I),p.bufferData(p.ARRAY_BUFFER,_,p.STATIC_DRAW),p.enableVertexAttribArray(f.colorLocation),p.vertexAttribPointer(f.colorLocation,3,p.UNSIGNED_BYTE,!1,0,0),p.uniform2f(f.scaleLocation,h.scaleX,h.scaleY),p.uniform2f(f.offsetLocation,h.offsetX,h.offsetY),p.drawArrays(p.TRIANGLES,0,b),p.flush(),p.deleteBuffer(M),p.deleteBuffer(I),d},cleanup:function(){c&&c.canvas&&(c.canvas.width=0,c.canvas.height=0),u&&u.canvas&&(u.canvas.width=0,u.canvas.height=0),c=null,u=null}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var r=n(1),i=function(){var e=/\S/;function t(t,n,i){var a,o=document.createElement("span"),s={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(t._textDivs.push(o),a=n.str,!e.test(a))return s.isWhitespace=!0,void t._textDivProperties.set(o,s);var c=r.Util.transform(t._viewport.transform,n.transform),u=Math.atan2(c[1],c[0]),l=i[n.fontName];l.vertical&&(u+=Math.PI/2);var h,f,d=Math.sqrt(c[2]*c[2]+c[3]*c[3]),p=d;if(l.ascent?p=l.ascent*p:l.descent&&(p=(1+l.descent)*p),0===u?(h=c[4],f=c[5]-p):(h=c[4]+p*Math.sin(u),f=c[5]-p*Math.cos(u)),o.style.left="".concat(h,"px"),o.style.top="".concat(f,"px"),o.style.fontSize="".concat(d,"px"),o.style.fontFamily=l.fontFamily,o.textContent=n.str,t._fontInspectorEnabled&&(o.dataset.fontName=n.fontName),0!==u&&(s.angle=u*(180/Math.PI)),n.str.length>1&&(l.vertical?s.canvasWidth=n.height*t._viewport.scale:s.canvasWidth=n.width*t._viewport.scale),t._textDivProperties.set(o,s),t._textContentStream&&t._layoutText(o),t._enhanceTextSelection){var m=1,g=0;0!==u&&(m=Math.cos(u),g=Math.sin(u));var v,b,y=(l.vertical?n.height:n.width)*t._viewport.scale,_=d;0!==u?(v=[m,g,-g,m,h,f],b=r.Util.getAxialAlignedBoundingBox([0,0,y,_],v)):b=[h,f,h+y,f+_],t._bounds.push({left:b[0],top:b[1],right:b[2],bottom:b[3],div:o,size:[y,_],m:v})}}function n(e){if(!e._canceled){var t=e._textDivs,n=e._capability,r=t.length;if(r>1e5)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(var i=0;i<r;i++)e._layoutText(t[i]);e._renderingDone=!0,n.resolve()}}function i(e){for(var t=e._bounds,n=e._viewport,i=function(e,t,n){var r=n.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));a(e,r);var i=new Array(n.length);return r.forEach((function(e){var t=e.index;i[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}})),n.map((function(t,n){var a=i[n],o=r[n];o.x1=t.top,o.y1=e-a.right,o.x2=t.bottom,o.y2=e-a.left,o.index=n,o.x1New=void 0,o.x2New=void 0})),a(t,r),r.forEach((function(e){var t=e.index;i[t].top=e.x1New,i[t].bottom=e.x2New})),i}(n.width,n.height,t),o=0;o<i.length;o++){var s=t[o].div,c=e._textDivProperties.get(s);if(0!==c.angle){var u=i[o],l=t[o],h=l.m,f=h[0],d=h[1],p=[[0,0],[0,l.size[1]],[l.size[0],0],l.size],m=new Float64Array(64);p.forEach((function(e,t){var n=r.Util.applyTransform(e,h);m[t+0]=f&&(u.left-n[0])/f,m[t+4]=d&&(u.top-n[1])/d,m[t+8]=f&&(u.right-n[0])/f,m[t+12]=d&&(u.bottom-n[1])/d,m[t+16]=d&&(u.left-n[0])/-d,m[t+20]=f&&(u.top-n[1])/f,m[t+24]=d&&(u.right-n[0])/-d,m[t+28]=f&&(u.bottom-n[1])/f,m[t+32]=f&&(u.left-n[0])/-f,m[t+36]=d&&(u.top-n[1])/-d,m[t+40]=f&&(u.right-n[0])/-f,m[t+44]=d&&(u.bottom-n[1])/-d,m[t+48]=d&&(u.left-n[0])/d,m[t+52]=f&&(u.top-n[1])/-f,m[t+56]=d&&(u.right-n[0])/d,m[t+60]=f&&(u.bottom-n[1])/-f}));var g=function(e,t,n){for(var r=0,i=0;i<n;i++){var a=e[t++];a>0&&(r=r?Math.min(a,r):a)}return r},v=1+Math.min(Math.abs(f),Math.abs(d));c.paddingLeft=g(m,32,16)/v,c.paddingTop=g(m,48,16)/v,c.paddingRight=g(m,0,16)/v,c.paddingBottom=g(m,16,16)/v,e._textDivProperties.set(s,c)}else c.paddingLeft=t[o].left-i[o].left,c.paddingTop=t[o].top-i[o].top,c.paddingRight=i[o].right-t[o].right,c.paddingBottom=i[o].bottom-t[o].bottom,e._textDivProperties.set(s,c)}}function a(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));var n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];t.forEach((function(e){for(var t=0;t<n.length&&n[t].end<=e.y1;)t++;for(var r,i,a=n.length-1;a>=0&&n[a].start>=e.y2;)a--;var o,s,c=-1/0;for(o=t;o<=a;o++){var u;(u=(i=(r=n[o]).boundary).x2>e.x1?i.index>e.index?i.x1New:e.x1:void 0===i.x2New?(i.x2+e.x1)/2:i.x2New)>c&&(c=u)}for(e.x1New=c,o=t;o<=a;o++)void 0===(i=(r=n[o]).boundary).x2New?i.x2>e.x1?i.index>e.index&&(i.x2New=i.x2):i.x2New=c:i.x2New>c&&(i.x2New=Math.max(c,i.x2));var l=[],h=null;for(o=t;o<=a;o++){var f=(i=(r=n[o]).boundary).x2>e.x2?i:e;h===f?l[l.length-1].end=r.end:(l.push({start:r.start,end:r.end,boundary:f}),h=f)}for(n[t].start<e.y1&&(l[0].start=e.y1,l.unshift({start:n[t].start,end:e.y1,boundary:n[t].boundary})),e.y2<n[a].end&&(l[l.length-1].end=e.y2,l.push({start:e.y2,end:n[a].end,boundary:n[a].boundary})),o=t;o<=a;o++)if(void 0===(i=(r=n[o]).boundary).x2New){var d=!1;for(s=t-1;!d&&s>=0&&n[s].start>=i.y1;s--)d=n[s].boundary===i;for(s=a+1;!d&&s<n.length&&n[s].end<=i.y2;s++)d=n[s].boundary===i;for(s=0;!d&&s<l.length;s++)d=l[s].boundary===i;d||(i.x2New=c)}Array.prototype.splice.apply(n,[t,a-t+1].concat(l))})),n.forEach((function(t){var n=t.boundary;void 0===n.x2New&&(n.x2New=Math.max(e,n.x2))}))}function o(e){var t=this,n=e.textContent,i=e.textContentStream,a=e.container,o=e.viewport,s=e.textDivs,c=e.textContentItemsStr,u=e.enhanceTextSelection;this._textContent=n,this._textContentStream=i,this._container=a,this._viewport=o,this._textDivs=s||[],this._textContentItemsStr=c||[],this._enhanceTextSelection=!!u,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally((function(){t._layoutTextCtx&&(t._layoutTextCtx.canvas.width=0,t._layoutTextCtx.canvas.height=0,t._layoutTextCtx=null)})).catch((function(){}))}return o.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(e,n){for(var r=0,i=e.length;r<i;r++)this._textContentItemsStr.push(e[r].str),t(this,e[r],n)},_layoutText:function(e){var t=this._textDivProperties.get(e);if(!t.isWhitespace){var n="";if(0!==t.canvasWidth){var r=e.style,i=r.fontSize,a=r.fontFamily;i===this._layoutTextLastFontSize&&a===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(i," ").concat(a),this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=a);var o=this._layoutTextCtx.measureText(e.textContent).width;o>0&&(t.scale=t.canvasWidth/o,n="scaleX(".concat(t.scale,")"))}0!==t.angle&&(n="rotate(".concat(t.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(t.originalTransform=n),e.style.transform=n),this._textDivProperties.set(e,t),this._container.appendChild(e)}},_render:function(e){var t=this,i=(0,r.createPromiseCapability)(),a=Object.create(null),o=document.createElement("canvas");if(o.mozOpaque=!0,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent){var s=this._textContent.items,c=this._textContent.styles;this._processItems(s,c),i.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function e(){t._reader.read().then((function(n){var r=n.value;n.done?i.resolve():(Object.assign(a,r.styles),t._processItems(r.items,a),e())}),i.reject)}()}i.promise.then((function(){a=null,e?t._renderTimer=setTimeout((function(){n(t),t._renderTimer=null}),e):n(t)}),this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(i(this),this._bounds=null);for(var t=[],n=[],r=0,a=this._textDivs.length;r<a;r++){var o=this._textDivs[r],s=this._textDivProperties.get(o);s.isWhitespace||(e?(t.length=0,n.length=0,s.originalTransform&&t.push(s.originalTransform),s.paddingTop>0?(n.push("".concat(s.paddingTop,"px")),t.push("translateY(".concat(-s.paddingTop,"px)"))):n.push(0),s.paddingRight>0?n.push("".concat(s.paddingRight/s.scale,"px")):n.push(0),s.paddingBottom>0?n.push("".concat(s.paddingBottom,"px")):n.push(0),s.paddingLeft>0?(n.push("".concat(s.paddingLeft/s.scale,"px")),t.push("translateX(".concat(-s.paddingLeft/s.scale,"px)"))):n.push(0),o.style.padding=n.join(" "),t.length&&(o.style.transform=t.join(" "))):(o.style.padding=null,o.style.transform=s.originalTransform))}}}},function(e){var t=new o({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}}();t.renderTextLayer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var r=n(4),i=n(1),a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new s(e);case i.AnnotationType.TEXT:return new c(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new l(e);case"Btn":return e.data.radioButton?new f(e):e.data.checkBox?new h(e):new d(e);case"Ch":return new p(e)}return new u(e);case i.AnnotationType.POPUP:return new m(e);case i.AnnotationType.FREETEXT:return new v(e);case i.AnnotationType.LINE:return new b(e);case i.AnnotationType.SQUARE:return new y(e);case i.AnnotationType.CIRCLE:return new _(e);case i.AnnotationType.POLYLINE:return new x(e);case i.AnnotationType.CARET:return new E(e);case i.AnnotationType.INK:return new k(e);case i.AnnotationType.POLYGON:return new w(e);case i.AnnotationType.HIGHLIGHT:return new O(e);case i.AnnotationType.UNDERLINE:return new S(e);case i.AnnotationType.SQUIGGLY:return new C(e);case i.AnnotationType.STRIKEOUT:return new A(e);case i.AnnotationType.STAMP:return new j(e);case i.AnnotationType.FILEATTACHMENT:return new P(e);default:return new o(e)}}}]),e}(),o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.isRenderable=n,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderInteractiveForms=t.renderInteractiveForms,this.svgFactory=t.svgFactory,n&&(this.container=this._createContainer(r))}return _createClass(e,[{key:"_createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data,n=this.page,r=this.viewport,a=document.createElement("section"),o=t.rect[2]-t.rect[0],s=t.rect[3]-t.rect[1];a.setAttribute("data-annotation-id",t.id);var c=i.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(a.style.transform="matrix(".concat(r.transform.join(","),")"),a.style.transformOrigin="-".concat(c[0],"px -").concat(c[1],"px"),!e&&t.borderStyle.width>0){a.style.borderWidth="".concat(t.borderStyle.width,"px"),t.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(o-=2*t.borderStyle.width,s-=2*t.borderStyle.width);var u=t.borderStyle.horizontalCornerRadius,l=t.borderStyle.verticalCornerRadius;if(u>0||l>0){var h="".concat(u,"px / ").concat(l,"px");a.style.borderRadius=h}switch(t.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}t.color?a.style.borderColor=i.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):a.style.borderWidth=0}return a.style.left="".concat(c[0],"px"),a.style.top="".concat(c[1],"px"),a.style.width="".concat(o,"px"),a.style.height="".concat(s,"px"),a}},{key:"_createPopup",value:function(e,t,n){t||((t=document.createElement("div")).style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));var r=new g({container:e,trigger:t,color:n.color,title:n.title,modificationDate:n.modificationDate,contents:n.contents,hideWrapper:!0}).render();r.style.left=e.style.width,e.appendChild(r)}},{key:"render",value:function(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.url||e.data.dest||e.data.action);return t.call(this,e,r)}return _createClass(n,[{key:"render",value:function(){this.container.className="linkAnnotation";var e=this.data,t=this.linkService,n=document.createElement("a");return e.url?(0,r.addLinkAttributes)(n,{url:e.url,target:e.newWindow?r.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled}):e.action?this._bindNamedAction(n,e.action):this._bindLink(n,e.dest),this.container.appendChild(n),this.container}},{key:"_bindLink",value:function(e,t){var n=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&n.linkService.navigateTo(t),!1},t&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return n.linkService.executeNamedAction(t),!1},e.className="internalLink"}}]),n}(o),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r)}return _createClass(n,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}]),n}(o),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"render",value:function(){return this.container}}]),n}(o),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;return t.call(this,e,r)}return _createClass(n,[{key:"render",value:function(){this.container.className="textWidgetAnnotation";var e=null;if(this.renderInteractiveForms){if(this.data.multiLine?(e=document.createElement("textarea")).textContent=this.data.fieldValue:((e=document.createElement("input")).type="text",e.setAttribute("value",this.data.fieldValue)),e.disabled=this.data.readOnly,null!==this.data.maxLen&&(e.maxLength=this.data.maxLen),this.data.comb){var t=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;e.classList.add("comb"),e.style.letterSpacing="calc(".concat(t,"px - 1ch)")}}else{(e=document.createElement("div")).textContent=this.data.fieldValue,e.style.verticalAlign="middle",e.style.display="table-cell";var n=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(n=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(e,n)}return null!==this.data.textAlignment&&(e.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(e),this.container}},{key:"_setTextStyle",value:function(e,t){var n=e.style;if(n.fontSize="".concat(this.data.fontSize,"px"),n.direction=this.data.fontDirection<0?"rtl":"ltr",t){var r="normal";t.black?r="900":t.bold&&(r="bold"),n.fontWeight=r,n.fontStyle=t.italic?"italic":"normal";var i=t.loadedName?'"'.concat(t.loadedName,'", '):"",a=t.fallbackName||"Helvetica, sans-serif";n.fontFamily=i+a}}}]),n}(u),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,e.renderInteractiveForms)}return _createClass(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),n}(u),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,e.renderInteractiveForms)}return _createClass(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="radio",e.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),n}(u),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"render",value:function(){var e=_get(_getPrototypeOf(n.prototype),"render",this).call(this);return e.className="buttonWidgetAnnotation pushButton",e}}]),n}(s),p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,e.renderInteractiveForms)}return _createClass(n,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var e=document.createElement("select");e.disabled=this.data.readOnly,this.data.combo||(e.size=this.data.options.length,this.data.multiSelect&&(e.multiple=!0));var t,n=_createForOfIteratorHelper(this.data.options);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=document.createElement("option");i.textContent=r.displayValue,i.value=r.exportValue,this.data.fieldValue.includes(r.displayValue)&&i.setAttribute("selected",!0),e.appendChild(i)}}catch(a){n.e(a)}finally{n.f()}return this.container.appendChild(e),this.container}}]),n}(u),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!(!e.data.title&&!e.data.contents);return t.call(this,e,r)}return _createClass(n,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var e='[data-annotation-id="'.concat(this.data.parentId,'"]'),t=this.layer.querySelector(e);if(!t)return this.container;var n=new g({container:this.container,trigger:t,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),r=parseFloat(t.style.left),i=parseFloat(t.style.width);return this.container.style.transformOrigin="-".concat(r+i,"px -").concat(t.style.top),this.container.style.left="".concat(r+i,"px"),this.container.appendChild(n.render()),this.container}}]),n}(o),g=function(){function e(t){_classCallCheck(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.title=t.title,this.modificationDate=t.modificationDate,this.contents=t.contents,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return _createClass(e,[{key:"render",value:function(){var e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.setAttribute("hidden",!0);var t=document.createElement("div");t.className="popup";var n=this.color;if(n){var a=.7*(255-n[0])+n[0],o=.7*(255-n[1])+n[1],s=.7*(255-n[2])+n[2];t.style.backgroundColor=i.Util.makeCssRgb(0|a,0|o,0|s)}var c=document.createElement("h1");c.textContent=this.title,t.appendChild(c);var u=r.PDFDateString.toDateObject(this.modificationDate);if(u){var l=document.createElement("span");l.textContent="{{date}}, {{time}}",l.dataset.l10nId="annotation_date_string",l.dataset.l10nArgs=JSON.stringify({date:u.toLocaleDateString(),time:u.toLocaleTimeString()}),t.appendChild(l)}var h=this._formatContents(this.contents);return t.appendChild(h),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),t.addEventListener("click",this._hide.bind(this,!0)),e.appendChild(t),e}},{key:"_formatContents",value:function(e){for(var t=document.createElement("p"),n=e.split(/(?:\r\n?|\n)/),r=0,i=n.length;r<i;++r){var a=n[r];t.appendChild(document.createTextNode(a)),r<i-1&&t.appendChild(document.createElement("br"))}return t}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),e}(),v=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(o),b=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),i=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),r.appendChild(i),this.container.append(r),this._createPopup(this.container,i,e),this.container}}]),n}(o),y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),i=e.borderStyle.width,a=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",i/2),a.setAttribute("y",i/2),a.setAttribute("width",t-i),a.setAttribute("height",n-i),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),r.appendChild(a),this.container.append(r),this._createPopup(this.container,a,e),this.container}}]),n}(o),_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),i=e.borderStyle.width,a=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-i/2),a.setAttribute("ry",n/2-i/2),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),r.appendChild(a),this.container.append(r),this._createPopup(this.container,a,e),this.container}}]),n}(o),x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=!!(e.data.hasPopup||e.data.title||e.data.contents);return(r=t.call(this,e,i,!0)).containerClassName="polylineAnnotation",r.svgElementName="svg:polyline",r}return _createClass(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=t.rect[2]-t.rect[0],r=t.rect[3]-t.rect[1],i=this.svgFactory.create(n,r),a=[],o=_createForOfIteratorHelper(t.vertices);try{for(o.s();!(e=o.n()).done;){var s=e.value,c=s.x-t.rect[0],u=t.rect[3]-s.y;a.push(c+","+u)}}catch(h){o.e(h)}finally{o.f()}a=a.join(" ");var l=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",a),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","none"),i.appendChild(l),this.container.append(i),this._createPopup(this.container,l,t),this.container}}]),n}(o),w=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return n}(x),E=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(o),k=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=!!(e.data.hasPopup||e.data.title||e.data.contents);return(r=t.call(this,e,i,!0)).containerClassName="inkAnnotation",r.svgElementName="svg:polyline",r}return _createClass(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=t.rect[2]-t.rect[0],r=t.rect[3]-t.rect[1],i=this.svgFactory.create(n,r),a=_createForOfIteratorHelper(t.inkLists);try{for(a.s();!(e=a.n()).done;){var o,s=e.value,c=[],u=_createForOfIteratorHelper(s);try{for(u.s();!(o=u.n()).done;){var l=o.value,h=l.x-t.rect[0],f=t.rect[3]-l.y;c.push("".concat(h,",").concat(f))}}catch(p){u.e(p)}finally{u.f()}c=c.join(" ");var d=this.svgFactory.createElement(this.svgElementName);d.setAttribute("points",c),d.setAttribute("stroke-width",t.borderStyle.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","none"),this._createPopup(this.container,d,t),i.appendChild(d)}}catch(p){a.e(p)}finally{a.f()}return this.container.append(i),this.container}}]),n}(o),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(o),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(o),C=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(o),A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(o),j=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(o),P=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var a;_classCallCheck(this,n);var o=(a=t.call(this,e,!0)).data.file,s=o.filename,c=o.content;return a.filename=(0,r.getFilenameFromUrl)(s),a.content=c,a.linkService.eventBus&&a.linkService.eventBus.dispatch("fileattachmentannotation",{source:_assertThisInitialized(a),id:(0,i.stringToPDFString)(s),filename:s,content:c}),a}return _createClass(n,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,i.warn)("Download cannot be started due to unavailable download manager")}}]),n}(o),T=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"render",value:function(e){var t,n=[],o=[],s=_createForOfIteratorHelper(e.annotations);try{for(s.s();!(t=s.n()).done;){var c=t.value;c&&(c.annotationType!==i.AnnotationType.POPUP?n.push(c):o.push(c))}}catch(d){s.e(d)}finally{s.f()}o.length&&n.push.apply(n,o);for(var u=0,l=n;u<l.length;u++){var h=l[u],f=a.create({data:h,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:e.renderInteractiveForms||!1,svgFactory:new r.DOMSVGFactory});f.isRenderable&&e.div.appendChild(f.render())}}},{key:"update",value:function(e){var t,n=_createForOfIteratorHelper(e.annotations);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=e.div.querySelector('[data-annotation-id="'.concat(r.id,'"]'));i&&(i.style.transform="matrix(".concat(e.viewport.transform.join(","),")"))}}catch(a){n.e(a)}finally{n.f()}e.div.removeAttribute("hidden")}}]),e}();t.AnnotationLayer=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(1),i=n(4),a=n(7),o=function(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=o;{var s={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},c="http://www.w3.org/1999/xlink",u=["butt","round","square"],l=["miter","round","bevel"],h=function(){for(var e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256),n=0;n<256;n++){for(var i=n,o=0;o<8;o++)i=1&i?3988292384^i>>1&2147483647:i>>1&2147483647;t[n]=i}function s(e,n,r,i){var a=i,o=n.length;r[a]=o>>24&255,r[a+1]=o>>16&255,r[a+2]=o>>8&255,r[a+3]=255&o,r[a+=4]=255&e.charCodeAt(0),r[a+1]=255&e.charCodeAt(1),r[a+2]=255&e.charCodeAt(2),r[a+3]=255&e.charCodeAt(3),a+=4,r.set(n,a);var s=function(e,n,r){for(var i=-1,a=n;a<r;a++){var o=255&(i^e[a]);i=i>>>8^t[o]}return-1^i}(r,i+4,a+=n.length);r[a]=s>>24&255,r[a+1]=s>>16&255,r[a+2]=s>>8&255,r[a+3]=255&s}function c(e){var t=e.length,n=Math.ceil(t/65535),r=new Uint8Array(2+t+5*n+4),i=0;r[i++]=120,r[i++]=156;for(var a=0;t>65535;)r[i++]=0,r[i++]=255,r[i++]=255,r[i++]=0,r[i++]=0,r.set(e.subarray(a,a+65535),i),i+=65535,a+=65535,t-=65535;r[i++]=1,r[i++]=255&t,r[i++]=t>>8&255,r[i++]=255&~t,r[i++]=(65535&~t)>>8&255,r.set(e.subarray(a),i),i+=e.length-a;var o=function(e,t,n){for(var r=1,i=0,a=t;a<n;++a)i=(i+(r=(r+(255&e[a]))%65521))%65521;return i<<16|r}(e,0,e.length);return r[i++]=o>>24&255,r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=255&o,r}function u(t,n,i,o){var u,l,h,f=t.width,d=t.height,p=t.data;switch(n){case r.ImageKind.GRAYSCALE_1BPP:l=0,u=1,h=f+7>>3;break;case r.ImageKind.RGB_24BPP:l=2,u=8,h=3*f;break;case r.ImageKind.RGBA_32BPP:l=6,u=8,h=4*f;break;default:throw new Error("invalid format")}for(var m=new Uint8Array((1+h)*d),g=0,v=0,b=0;b<d;++b)m[g++]=0,m.set(p.subarray(v,v+h),g),v+=h,g+=h;if(n===r.ImageKind.GRAYSCALE_1BPP&&o){g=0;for(var y=0;y<d;y++){g++;for(var _=0;_<h;_++)m[g++]^=255}}var x=new Uint8Array([f>>24&255,f>>16&255,f>>8&255,255&f,d>>24&255,d>>16&255,d>>8&255,255&d,u,l,0,0,0]),w=function(e){if(!a.isNodeJS)return c(e);try{var t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);var n=__webpack_require__(512).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(i){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+i)}return c(e)}(m),E=e.length+36+x.length+w.length,k=new Uint8Array(E),O=0;return k.set(e,O),s("IHDR",x,k,O+=e.length),s("IDATA",w,k,O+=12+x.length),O+=12+w.length,s("IEND",new Uint8Array(0),k,O),(0,r.createObjectURL)(k,"image/png",i)}return function(e,t,n){return u(e,void 0===e.kind?r.ImageKind.GRAYSCALE_1BPP:e.kind,t,n)}}(),f=function(){function e(){_classCallCheck(this,e),this.fontSizeScale=1,this.fontWeight=s.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=s.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return _createClass(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}();function d(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)}function p(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(d(e[0])," ").concat(d(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(d(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(d(e[4])," ").concat(d(e[5]),")");return"matrix(".concat(d(e[0])," ").concat(d(e[1])," ").concat(d(e[2])," ").concat(d(e[3])," ").concat(d(e[4])," ")+"".concat(d(e[5]),")")}var m=0,g=0,v=0;t.SVGGraphics=o=function(){function e(t,n,a){for(var o in _classCallCheck(this,e),this.svgFactory=new i.DOMSVGFactory,this.current=new f,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!a,this._operatorIdMapping=[],r.OPS)this._operatorIdMapping[r.OPS[o]]=o}return _createClass(e,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(e){for(var t=this,n=e.fnArray,i=e.argsArray,a=0,o=n.length;a<o;a++)if(n[a]===r.OPS.dependency){var s,c=_createForOfIteratorHelper(i[a]);try{var u=function(){var e=s.value,n=e.startsWith("g_")?t.commonObjs:t.objs,r=new Promise((function(t){n.get(e,t)}));t.current.dependencies.push(r)};for(c.s();!(s=c.n()).done;)u()}catch(l){c.e(l)}finally{c.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(e,t,n,i,a,o){var s=[e,t,n,i,a,o];this.transformMatrix=r.Util.transform(this.transformMatrix,s),this.tgrp=null}},{key:"getSVG",value:function(e,t){var n=this;this.viewport=t;var i=this._initialize(t);return this.loadDependencies(e).then((function(){return n.transformMatrix=r.IDENTITY_MATRIX,n.executeOpTree(n.convertOpList(e)),i}))}},{key:"convertOpList",value:function(e){for(var t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,i=[],a=0,o=r.length;a<o;a++){var s=r[a];i.push({fnId:s,fn:t[s],args:n[a]})}return function(e){var t,n=[],r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;"save"!==a.fn?"restore"===a.fn?n=r.pop():n.push(a):(n.push({fnId:92,fn:"group",items:[]}),r.push(n),n=n[n.length-1].items)}}catch(o){i.e(o)}finally{i.f()}return n}(i)}},{key:"executeOpTree",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,a=i.fn,o=i.fnId,s=i.args;switch(0|o){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(s);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case r.OPS.setFont:this.setFont(s);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(s[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(s[0],s[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case r.OPS.setHScale:this.setHScale(s[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.setTextRise:this.setTextRise(s[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case r.OPS.setLineWidth:this.setLineWidth(s[0]);break;case r.OPS.setLineJoin:this.setLineJoin(s[0]);break;case r.OPS.setLineCap:this.setLineCap(s[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(s);break;case r.OPS.setFillColorN:this.setFillColorN(s);break;case r.OPS.shadingFill:this.shadingFill(s[0]);break;case r.OPS.setDash:this.setDash(s[0],s[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(s[0]);break;case r.OPS.setFlatness:this.setFlatness(s[0]);break;case r.OPS.setGState:this.setGState(s[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintJpegXObject:this.paintJpegXObject(s[0],s[1],s[2]);break;case r.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.constructPath:this.constructPath(s[0],s[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,r.warn)("Unimplemented operator ".concat(a))}}}catch(c){n.e(c)}finally{n.f()}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(e,t,n,r,i,a){var o=this.current;o.textMatrix=o.lineMatrix=[e,t,n,r,i,a],o.textMatrixScale=Math.sqrt(e*e+t*t),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size","".concat(d(o.fontSize),"px")),o.tspan.setAttributeNS(null,"y",d(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.appendChild(o.tspan)}},{key:"beginText",value:function(){var e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=r.IDENTITY_MATRIX,e.lineMatrix=r.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[]}},{key:"moveText",value:function(e,t){var n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(d(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",d(-n.y))}},{key:"showText",value:function(e){var t=this.current,n=t.font,i=t.fontSize;if(0!==i){var a,o=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,l=t.textHScale*u,h=n.vertical,f=i*t.fontMatrix[0],m=0,g=_createForOfIteratorHelper(e);try{for(g.s();!(a=g.n()).done;){var v=a.value;if(null!==v)if((0,r.isNum)(v))m+=-v*i*.001;else{var b=v.width,y=v.fontChar,_=b*f+((v.isSpace?c:0)+o)*u;v.isInFont||n.missingFile?(t.xcoords.push(t.x+m),t.tspan.textContent+=y,m+=_):m+=_}else m+=u*c}}catch(k){g.e(k)}finally{g.f()}h?t.y-=m*l:t.x+=m*l,t.tspan.setAttributeNS(null,"x",t.xcoords.map(d).join(" ")),t.tspan.setAttributeNS(null,"y",d(-t.y)),t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(d(t.fontSize),"px")),t.fontStyle!==s.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==s.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);var x=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;if(x===r.TextRenderingMode.FILL||x===r.TextRenderingMode.FILL_STROKE?(t.fillColor!==s.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),x===r.TextRenderingMode.STROKE||x===r.TextRenderingMode.FILL_STROKE){var w=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,w)}var E=t.textMatrix;0!==t.textRise&&((E=E.slice())[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(p(E)," scale(").concat(d(l),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"addFontStyle",value:function(e){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,r.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}},{key:"setFont",value:function(e){var t=this.current,n=this.commonObjs.get(e[0]),i=e[1];t.font=n,this.embedFonts&&n.data&&!this.embeddedFonts[n.loadedName]&&(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix?n.fontMatrix:r.FONT_IDENTITY_MATRIX;var a="normal";n.black?a="900":n.bold&&(a="bold");var o=n.italic?"italic":"normal";i<0?(i=-i,t.fontDirection=-1):t.fontDirection=1,t.fontSize=i,t.fontFamily=n.loadedName,t.fontWeight=a,t.fontStyle=o,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",d(-t.y)),t.xcoords=[]}},{key:"endText",value:function(){var e=this.current;e.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement&&e.txtElement.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){e>0&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=u[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=l[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(e,t,n){this.current.strokeColor=r.Util.makeCssRgb(e,t,n)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(e,t,n){this.current.fillColor=r.Util.makeCssRgb(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(e){var t=this.viewport.width,n=this.viewport.height,i=r.Util.inverseTransform(this.transformMatrix),a=r.Util.applyTransform([0,0],i),o=r.Util.applyTransform([0,n],i),s=r.Util.applyTransform([t,0],i),c=r.Util.applyTransform([t,n],i),u=Math.min(a[0],o[0],s[0],c[0]),l=Math.min(a[1],o[1],s[1],c[1]),h=Math.max(a[0],o[0],s[0],c[0]),f=Math.max(a[1],o[1],s[1],c[1]),d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",u),d.setAttributeNS(null,"y",l),d.setAttributeNS(null,"width",h-u),d.setAttributeNS(null,"height",f-l),d.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this._ensureTransformGroup().appendChild(d)}},{key:"_makeColorN_Pattern",value:function(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(e){var t=e[1],n=e[2],i=e[3]||r.IDENTITY_MATRIX,a=_slicedToArray(e[4],4),o=a[0],s=a[1],c=a[2],u=a[3],l=e[5],h=e[6],f=e[7],d="shading".concat(v++),p=r.Util.applyTransform([o,s],i),m=_slicedToArray(p,2),g=m[0],b=m[1],y=r.Util.applyTransform([c,u],i),_=_slicedToArray(y,2),x=_[0],w=_[1],E=r.Util.singularValueDecompose2dScale(i),k=_slicedToArray(E,2),O=l*k[0],S=h*k[1],C=this.svgFactory.createElement("svg:pattern");C.setAttributeNS(null,"id",d),C.setAttributeNS(null,"patternUnits","userSpaceOnUse"),C.setAttributeNS(null,"width",O),C.setAttributeNS(null,"height",S),C.setAttributeNS(null,"x","".concat(g)),C.setAttributeNS(null,"y","".concat(b));var A=this.svg,j=this.transformMatrix,P=this.current.fillColor,T=this.current.strokeColor,R=this.svgFactory.create(x-g,w-b);if(this.svg=R,this.transformMatrix=i,2===f){var L,M=(L=r.Util).makeCssRgb.apply(L,_toConsumableArray(t));this.current.fillColor=M,this.current.strokeColor=M}return this.executeOpTree(this.convertOpList(n)),this.svg=A,this.transformMatrix=j,this.current.fillColor=P,this.current.strokeColor=T,C.appendChild(R.childNodes[0]),this.defs.appendChild(C),"url(#".concat(d,")")}},{key:"_makeShadingPattern",value:function(e){switch(e[0]){case"RadialAxial":var t,n="shading".concat(v++),i=e[3];switch(e[1]){case"axial":var a=e[4],o=e[5];(t=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"x1",a[0]),t.setAttributeNS(null,"y1",a[1]),t.setAttributeNS(null,"x2",o[0]),t.setAttributeNS(null,"y2",o[1]);break;case"radial":var s=e[4],c=e[5],u=e[6],l=e[7];(t=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"cx",c[0]),t.setAttributeNS(null,"cy",c[1]),t.setAttributeNS(null,"r",l),t.setAttributeNS(null,"fx",s[0]),t.setAttributeNS(null,"fy",s[1]),t.setAttributeNS(null,"fr",u);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}var h,f=_createForOfIteratorHelper(i);try{for(f.s();!(h=f.n()).done;){var d=h.value,p=this.svgFactory.createElement("svg:stop");p.setAttributeNS(null,"offset",d[0]),p.setAttributeNS(null,"stop-color",d[1]),t.appendChild(p)}}catch(m){f.e(m)}finally{f.f()}return this.defs.appendChild(t),"url(#".concat(n,")");case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(e,t){var n,i=this.current,a=i.x,o=i.y,s=[],c=0,u=_createForOfIteratorHelper(e);try{for(u.s();!(n=u.n()).done;)switch(0|n.value){case r.OPS.rectangle:a=t[c++],o=t[c++];var l=t[c++],h=t[c++],f=a+l,p=o+h;s.push("M",d(a),d(o),"L",d(f),d(o),"L",d(f),d(p),"L",d(a),d(p),"Z");break;case r.OPS.moveTo:a=t[c++],o=t[c++],s.push("M",d(a),d(o));break;case r.OPS.lineTo:a=t[c++],o=t[c++],s.push("L",d(a),d(o));break;case r.OPS.curveTo:a=t[c+4],o=t[c+5],s.push("C",d(t[c]),d(t[c+1]),d(t[c+2]),d(t[c+3]),d(a),d(o)),c+=6;break;case r.OPS.curveTo2:s.push("C",d(a),d(o),d(t[c]),d(t[c+1]),d(t[c+2]),d(t[c+3])),a=t[c+2],o=t[c+3],c+=4;break;case r.OPS.curveTo3:a=t[c+2],o=t[c+3],s.push("C",d(t[c]),d(t[c+1]),d(a),d(o),d(a),d(o)),c+=4;break;case r.OPS.closePath:s.push("Z")}}catch(m){u.e(m)}finally{u.f()}s=s.join(" "),i.path&&e.length>0&&e[0]!==r.OPS.rectangle&&e[0]!==r.OPS.moveTo?s=i.path.getAttributeNS(null,"d")+s:(i.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(i.path)),i.path.setAttributeNS(null,"d",s),i.path.setAttributeNS(null,"fill","none"),i.element=i.path,i.setCurrentPoint(a,o)}},{key:"endPath",value:function(){var e=this.current;if(e.path=null,this.pendingClip)if(e.element){var t="clippath".concat(m++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",p(this.transformMatrix));var r=e.element.cloneNode(!0);"evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.appendChild(r),this.defs.appendChild(n),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach((function(e){e.clipGroup=null})),n.setAttributeNS(null,"clip-path",e.activeClipUrl)),e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e=this.current;if(e.path){var t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=_slicedToArray(t.value,2),a=i[0],o=i[1];switch(a){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o);break;case"CA":this.setStrokeAlpha(o);break;case"ca":this.setFillAlpha(o);break;default:(0,r.warn)("Unimplemented graphic state operator ".concat(a))}}}catch(s){n.e(s)}finally{n.f()}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.current,r=n.dashArray;1!==t&&r.length>0&&(r=r.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",d(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",d(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(d).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",d(t*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}},{key:"paintJpegXObject",value:function(e,t,n){var r=this.objs.get(e),i=this.svgFactory.createElement("svg:image");i.setAttributeNS(c,"xlink:href",r.src),i.setAttributeNS(null,"width",d(t)),i.setAttributeNS(null,"height",d(n)),i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y",d(-n)),i.setAttributeNS(null,"transform","scale(".concat(d(1/t)," ").concat(d(-1/n),")")),this._ensureTransformGroup().appendChild(i)}},{key:"paintImageXObject",value:function(e){var t=this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(e,t){var n=e.width,r=e.height,i=h(e,this.forceDataSchema,!!t),a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",d(n)),a.setAttributeNS(null,"height",d(r)),this.current.element=a,this.clip("nonzero");var o=this.svgFactory.createElement("svg:image");o.setAttributeNS(c,"xlink:href",i),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",d(-r)),o.setAttributeNS(null,"width",d(n)+"px"),o.setAttributeNS(null,"height",d(r)+"px"),o.setAttributeNS(null,"transform","scale(".concat(d(1/n)," ").concat(d(-1/r),")")),t?t.appendChild(o):this._ensureTransformGroup().appendChild(o)}},{key:"paintImageMaskXObject",value:function(e){var t=this.current,n=e.width,r=e.height,i=t.fillColor;t.maskId="mask".concat(g++);var a=this.svgFactory.createElement("svg:mask");a.setAttributeNS(null,"id",t.maskId);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",d(n)),o.setAttributeNS(null,"height",d(r)),o.setAttributeNS(null,"fill",i),o.setAttributeNS(null,"mask","url(#".concat(t.maskId,")")),this.defs.appendChild(a),this._ensureTransformGroup().appendChild(o),this.paintInlineImageXObject(e,a)}},{key:"paintFormXObjectBegin",value:function(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){var n=t[2]-t[0],r=t[3]-t[1],i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",t[0]),i.setAttributeNS(null,"y",t[1]),i.setAttributeNS(null,"width",d(n)),i.setAttributeNS(null,"height",d(r)),this.current.element=i,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.appendChild(n),this.defs=n;var r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",p(e.transform)),t.appendChild(r),this.svg=r,t}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",p(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),e}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r=n(1),i=n(20),a=__webpack_require__(513),o=__webpack_require__(514),s=__webpack_require__(515),c=__webpack_require__(516),u=/^file:\/\/\/[a-zA-Z]:\//,l=function(){function e(t){_classCallCheck(this,e),this.source=t,this.url=function(e){var t=c.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?c.parse("file:///".concat(e)):(t.host||(t.protocol="file:"),t)}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequestReader),this._fullRequestReader=this.isFsUrl?new g(this):new p(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=this.isFsUrl?new v(this,e,t):new m(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),e}();t.PDFNodeStream=l;var h=function(){function e(t){_classCallCheck(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}return _createClass(e,[{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,r.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}(),f=function(){function e(t){_classCallCheck(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();var n=t.source;this._isStreamingSupported=!n.disableStream}return _createClass(e,[{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,r.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}();function d(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var a;_classCallCheck(this,n);var c=function(t){if(404===t.statusCode){var n=new r.MissingPDFException('Missing PDF "'.concat(a._url,'".'));return a._storedError=n,void a._headersCapability.reject(n)}a._headersCapability.resolve(),a._setReadableStream(t);var o=function(e){return a._readableStream.headers[e.toLowerCase()]},s=(0,i.validateRangeRequestCapabilities)({getResponseHeader:o,isHttp:e.isHttp,rangeChunkSize:a._rangeChunkSize,disableRange:a._disableRange}),c=s.allowRangeRequests,u=s.suggestedLength;a._isRangeSupported=c,a._contentLength=u||a._contentLength,a._filename=(0,i.extractFilenameFromHeader)(o)};return(a=t.call(this,e))._request=null,"http:"===a._url.protocol?a._request=o.request(d(a._url,e.httpHeaders),c):a._request=s.request(d(a._url,e.httpHeaders),c),a._request.on("error",(function(e){a._storedError=e,a._headersCapability.reject(e)})),a._request.end(),a}return n}(h),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var c;for(var u in _classCallCheck(this,n),(c=t.call(this,e))._httpHeaders={},e.httpHeaders){var l=e.httpHeaders[u];"undefined"!==typeof l&&(c._httpHeaders[u]=l)}c._httpHeaders.Range="bytes=".concat(i,"-").concat(a-1);var h=function(e){if(404!==e.statusCode)c._setReadableStream(e);else{var t=new r.MissingPDFException('Missing PDF "'.concat(c._url,'".'));c._storedError=t}};return c._request=null,"http:"===c._url.protocol?c._request=o.request(d(c._url,c._httpHeaders),h):c._request=s.request(d(c._url,c._httpHeaders),h),c._request.on("error",(function(e){c._storedError=e})),c._request.end(),c}return n}(f),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;_classCallCheck(this,n),i=t.call(this,e);var o=decodeURIComponent(i._url.path);return u.test(i._url.href)&&(o=o.replace(/^\//,"")),a.lstat(o,(function(e,t){if(e)return"ENOENT"===e.code&&(e=new r.MissingPDFException('Missing PDF "'.concat(o,'".'))),i._storedError=e,void i._headersCapability.reject(e);i._contentLength=t.size,i._setReadableStream(a.createReadStream(o)),i._headersCapability.resolve()})),i}return n}(h),v=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;_classCallCheck(this,n),o=t.call(this,e);var s=decodeURIComponent(o._url.path);return u.test(o._url.href)&&(s=s.replace(/^\//,"")),o._setReadableStream(a.createReadStream(s,{start:r,end:i-1})),o}return n}(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e)},t.extractFilenameFromHeader=function(e){var t=e("Content-Disposition");if(t){var n=(0,i.getFilenameFromContentDispositionHeader)(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(r){}if(/\.pdf$/i.test(n))return n}return null},t.validateRangeRequestCapabilities=function(e){var t=e.getResponseHeader,n=e.isHttp,i=e.rangeChunkSize,a=e.disableRange;(0,r.assert)(i>0,"Range chunk size must be larger than zero");var o={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);return Number.isInteger(s)?(o.suggestedLength=s,s<=2*i||a||!n||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o):o},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(1),i=n(21)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){var t=!0,n=a("filename\\*","i").exec(e);if(n){var r=c(n=n[1]);return s(r=l(r=u(r=unescape(r))))}if(n=function(e){for(var t,n=[],r=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(t=r.exec(e));){var i=_slicedToArray(t,4),o=i[1],s=i[2],l=i[3];if((o=parseInt(o,10))in n){if(0===o)break}else n[o]=[s,l]}for(var h=[],f=0;f<n.length&&f in n;++f){var d=_slicedToArray(n[f],2),p=d[0],m=d[1];m=c(m),p&&(m=unescape(m),0===f&&(m=u(m))),h.push(m)}return h.join("")}(e))return s(l(n));if(n=a("filename","i").exec(e)){var i=c(n=n[1]);return s(i=l(i))}function a(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function o(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var r=new TextDecoder(e,{fatal:!0}),i=Array.from(n,(function(e){return 255&e.charCodeAt(0)}));n=r.decode(new Uint8Array(i)),t=!1}catch(a){if(/^utf-?8$/i.test(e))try{n=decodeURIComponent(escape(n)),t=!1}catch(o){}}}return n}function s(e){return t&&/[\x80-\xff]/.test(e)&&(e=o("utf-8",e),t&&(e=o("iso-8859-1",e))),e}function c(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),n=0;n<t.length;++n){var r=t[n].indexOf('"');-1!==r&&(t[n]=t[n].slice(0,r),t.length=n+1),t[n]=t[n].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function u(e){var t=e.indexOf("'");return-1===t?e:o(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return o(t,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(i){}return o(t,r)}))}return""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r=n(1),i=n(20),a=function(){function e(t,n){_classCallCheck(this,e),this.url=t,n=n||{},this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&n.httpHeaders||{},this.withCredentials=n.withCredentials||!1,this.getXhr=n.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return _createClass(e,[{key:"requestRange",value:function(e,t,n){var r={begin:e,end:t};for(var i in n)r[i]=n[i];return this.request(r)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(e){var t=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};for(var i in t.open("GET",this.url),t.withCredentials=this.withCredentials,this.httpHeaders){var a=this.httpHeaders[i];"undefined"!==typeof a&&t.setRequestHeader(i,a)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}},{key:"onProgress",value:function(e,t){var n=this.pendingRequests[e];n&&n.onProgress&&n.onProgress(t)}},{key:"onStateChange",value:function(e,t){var n=this.pendingRequests[e];if(n){var i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===i.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===i.status&&this.isHttp)n.onError&&n.onError(i.status);else{var a=i.status||200;if(200===a&&206===n.expectedStatus||a===n.expectedStatus){var o=function(e){var t=e.response;return"string"!==typeof t?t:(0,r.stringToBytes)(t).buffer}(i);if(206===a){var s=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(s);n.onDone({begin:parseInt(c[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):n.onError&&n.onError(i.status)}else n.onError&&n.onError(i.status)}}}},{key:"hasPendingRequests",value:function(){for(var e in this.pendingRequests)return!0;return!1}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortAllRequests",value:function(){for(var e in this.pendingRequests)this.abortRequest(0|e)}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),e}(),o=function(){function e(t){_classCallCheck(this,e),this._source=t,this._manager=new a(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"_onRangeRequestReaderClosed",value:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}},{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequestReader),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var n=new c(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}}]),e}();t.PDFNetworkStream=o;var s=function(){function e(t,n){_classCallCheck(this,e),this._manager=t;var i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=t.requestFull(i),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return _createClass(e,[{key:"_onHeadersReceived",value:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=function(e){return t.getResponseHeader(e)},r=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),a=r.allowRangeRequests,o=r.suggestedLength;a&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(e){e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[])}},{key:"_onError",value:function(e){var t=this._url,n=(0,i.createResponseStatusError)(e,t);this._storedError=n,this._headersReceivedCapability.reject(n),this._requests.forEach((function(e){e.reject(n)})),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){e.next=5;break}return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 5:if(!this._done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),e}(),c=function(){function e(t,n,r){_classCallCheck(this,e),this._manager=t;var i={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=t.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}return _createClass(e,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(e){var t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._close()}},{key:"_onProgress",value:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r=n(1),i=n(20);function a(e,t,n){return{method:"GET",headers:e,signal:n&&n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function o(e){var t=new Headers;for(var n in e){var r=e[n];"undefined"!==typeof r&&t.append(n,r)}return t}var s=function(){function e(t){_classCallCheck(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequestReader),this._fullRequestReader=new c(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new u(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),e}();t.PDFFetchStream=s;var c=function(){function e(t){var n=this;_classCallCheck(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var s=t.source;this._withCredentials=s.withCredentials||!1,this._contentLength=s.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!==typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._headers=o(this._stream.httpHeaders);var c=s.url;fetch(c,a(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,c);n._reader=e.body.getReader(),n._headersCapability.resolve();var t=function(t){return e.headers.get(t)},a=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),o=a.allowRangeRequests,s=a.suggestedLength;n._isRangeSupported=o,n._contentLength=s||n._contentLength,n._filename=(0,i.extractFilenameFromHeader)(t),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}return _createClass(e,[{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n,r,i;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,n=t.value,!(r=t.done)){e.next=9;break}return e.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),i=new Uint8Array(n).buffer,e.abrupt("return",{value:i,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}(),u=function(){function e(t,n,s){var c=this;_classCallCheck(this,e),this._stream=t,this._reader=null,this._loaded=0;var u=t.source;this._withCredentials=u.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!u.disableStream,"undefined"!==typeof AbortController&&(this._abortController=new AbortController),this._headers=o(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(s-1));var l=u.url;fetch(l,a(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,l);c._readCapability.resolve(),c._reader=e.body.getReader()})),this.onProgress=null}return _createClass(e,[{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n,r,i;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,n=t.value,!(r=t.done)){e.next=9;break}return e.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),i=new Uint8Array(n).buffer,e.abrupt("return",{value:i,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}()}])},module.exports=factory()}).call(this,__webpack_require__(39),__webpack_require__(110).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!1;return{promise:new Promise((function(n,r){e.then((function(){return!t&&n.apply(void 0,arguments)})).catch((function(e){return!t&&r(e)}))})),cancel:function(){t=!0}}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=e.isBuffer}).call(this,n(110).Buffer)},function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(7),s=n(3),c=n(9),u=n(10);function l(){var e=Object(r.a)([""]);return l=function(){return e},e}function h(){var e=Object(r.a)(["\n  margin: -10px 5px -10px -10px;\n  height: 47px;\n  width: 47px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  box-shadow: 0px 0px 10px 0px rgba(172, 172, 172, 0.2);\n  background-color: white;\n  overflow: hidden;\n"]);return h=function(){return e},e}function f(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ",";\n"]);return f=function(){return e},e}function d(){var e=Object(r.a)(["\n  margin: 0 0 5px 0px;\n  width: calc(100% - 20px);\n"]);return d=function(){return e},e}function p(){var e=Object(r.a)(["\n  height: 12px;\n  width: calc(50% - 22.5px);\n  margin: 0 0 5px 5px;\n  float: left;\n  line-height: 10px;\n  padding: 10px;\n  font-size: 12px;\n  border-radius: 5px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  &:nth-child(odd) {\n  margin: 0 0 5px 0px;\n  }\n}\n"]);return p=function(){return e},e}function m(){var e=Object(r.a)(["\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n"]);return m=function(){return e},e}function g(){var e=Object(r.a)(["\n  height: 30px;\n  float: left;\n  padding: 10px;\n  margin: 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ",";\n  text-align: center;\n  border-radius: 50px 5px 5px 50px;\n"]);return g=function(){return e},e}function v(){var e=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ",";\n  text-align: center;\n  border-radius: 5px;\n"]);return v=function(){return e},e}function b(){var e=Object(r.a)(["\n  flex: 1 1 15em;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n  cursor: pointer;\n"]);return b=function(){return e},e}t.a=function(e){var t=e.location,n=Object(i.useCallback)((function(){return void 0!==t?""===t.map||null===t.map?"":t.map:""}),[t]);return a.a.createElement(y,{to:"/location-detail/id/"+t.id},""!==n()?a.a.createElement(x,null,a.a.createElement(S,{pic:n()}),a.a.createElement("b",null,t.name)):a.a.createElement(_,null,a.a.createElement("b",null,t.name)),a.a.createElement(w,null,a.a.createElement(k,null,a.a.createElement(O,{icon:u.J}),t.sources)))};var y=Object(s.b)(o.b)(b(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.boxShadow})),_=s.b.div(v(),(function(e){return e.theme.tile.headerColor})),x=s.b.div(g(),(function(e){return e.theme.tile.headerColor})),w=s.b.div(m()),E=s.b.div(p()),k=Object(s.b)(E)(d()),O=Object(s.b)(c.a)(f(),(function(e){return e.theme.main.highlight})),S=function(e){var t=e.pic,n={backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==t?a.a.createElement(C,{style:n}):a.a.createElement(A,null)},C=s.b.div(h(),(function(e){return e.theme.main.highlight})),A=s.b.div(l())},function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(7),s=n(3),c=n(9),u=n(10);function l(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ",";\n"]);return l=function(){return e},e}function h(){var e=Object(r.a)(["\n  margin: 0 0 5px 0px;\n  width: calc(100% - 20px);\n"]);return h=function(){return e},e}function f(){var e=Object(r.a)(["\n  height: 12px;\n  width: calc(50% - 22.5px);\n  margin: 0 0 5px 5px;\n  float: left;\n  line-height: 10px;\n  padding: 10px;\n  font-size: 12px;\n  border-radius: 5px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  &:nth-child(odd) {\n  margin: 0 0 5px 0px;\n  }\n}\n"]);return f=function(){return e},e}function d(){var e=Object(r.a)(["\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n"]);return d=function(){return e},e}function p(){var e=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ",";\n  text-align: center;\n  border-radius: 5px;\n"]);return p=function(){return e},e}function m(){var e=Object(r.a)(["\n  flex: 1 1 15em;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n  cursor: pointer;\n"]);return m=function(){return e},e}t.a=function(e){var t=e.event;return a.a.createElement(g,{to:"/event-detail/id/"+t.id},a.a.createElement(v,null,a.a.createElement("b",null,t.name)),a.a.createElement(b,null,a.a.createElement(_,null,a.a.createElement(x,{icon:u.g}),t.date),a.a.createElement(_,null,a.a.createElement(x,{icon:u.J}),t.sources)))};var g=Object(s.b)(o.b)(m(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.boxShadow})),v=s.b.div(p(),(function(e){return e.theme.tile.headerColor})),b=s.b.div(d()),y=s.b.div(f()),_=Object(s.b)(y)(h()),x=Object(s.b)(c.a)(l(),(function(e){return e.theme.main.highlight}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(67);function i(e){var t=void 0!==e.name&&"string"==typeof e.name;return e&&t}var a=function e(t,n,i,a){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.selectionOptions=void 0,this.filename=void 0,this.id=t,this.filename=i||"",this.name=n||"",this.selectionOptions=a||[]};function o(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.selectionOptions&&Array.isArray(e.selectionOptions)&&i(e.selectionOptions[0]);return e&&t&&n}},,,function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=245},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.focusEvents=t.keyboardEvents=t.touchEvents=t.mouseEvents=void 0;var r=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"];t.mouseEvents=r;var i=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"];t.touchEvents=i;var a=["onKeyDown","onKeyPress","onKeyUp"];t.keyboardEvents=a;var o=["onFocus","onBlur"];t.focusEvents=o;var s=function(e,t){var n={};return[].concat(r,i,a,o).forEach((function(r){e[r]&&(n[r]=function(n){return t?e[r](n,t(r)):e[r](n)})})),n};t.default=s},function(e,t,n){"use strict";(function(t){"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick((function(){e.apply(null,a)}))}}}:e.exports=t}).call(this,n(39))},,,,,,,,,,function(e,t,n){"use strict";var r=n(4),i=n(29),a=n(31),o=n(15),s=n(136),c=n(1),u=n.n(c);function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var h=Object(c.createContext)(null),f=h.Provider;function d(){var e=Object(c.useContext)(h);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){var t=e.children,n=e.className,r=e.id,i=e.placeholder,a=e.style,h=e.whenCreated,d=l(e,["children","className","id","placeholder","style","whenCreated"]),m=Object(c.useRef)(null),g=function(e,t){var n=Object(c.useState)(null),r=Object(o.a)(n,2),i=r[0],a=r[1];return Object(c.useEffect)((function(){if(null!==e.current&&null===i){var n=new s.Map(e.current,t);null!=t.center&&null!=t.zoom?n.setView(t.center,t.zoom):null!=t.bounds&&n.fitBounds(t.bounds,t.boundsOptions),null!=t.whenReady&&n.whenReady(t.whenReady),a(n)}}),[e,i,t]),i}(m,d),v=Object(c.useRef)(!1);Object(c.useEffect)((function(){null!=g&&!1===v.current&&null!=h&&(v.current=!0,h(g))}),[g,h]);var b=Object(c.useState)({className:n,id:r,style:a}),y=Object(o.a)(b,1)[0],_=Object(c.useMemo)((function(){return g?{__version:1,map:g}:null}),[g]),x=_?u.a.createElement(f,{value:_},t):null!=i?i:null;return u.a.createElement("div",p({},y,{ref:m}),x)}var g=n(34);function v(e){function t(t,n){var r=e(t).current,i=r.instance,a=r.context;return Object(c.useImperativeHandle)(n,(function(){return i})),null==t.children?null:u.a.createElement(f,{value:a},t.children)}return Object(c.forwardRef)(t)}function b(e){function t(t,n){var r=e(t).current.instance;return Object(c.useImperativeHandle)(n,(function(){return r})),null}return Object(c.forwardRef)(t)}function y(e,t){return null==t?function(t,n){return Object(c.useRef)(e(t,n))}:function(n,r){var i=Object(c.useRef)(e(n,r)),a=Object(c.useRef)(n),o=i.current.instance;return Object(c.useEffect)((function(){a.current!==n&&(t(o,n,a.current),a.current=n)}),[o,n,r]),i}}function _(e,t){var n=Object(c.useRef)(t);Object(c.useEffect)((function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t}),[e,t])}function x(e,t){var n=Object(c.useRef)();Object(c.useEffect)((function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}}),[e,t])}function w(e,t){var n,r=null!=(n=e.pane)?n:t.pane;return r?Object(i.a)(Object(i.a)({},e),{},{pane:r}):e}function E(e,t){Object(c.useEffect)((function(){var n,r=null!=(n=t.layerContainer)?n:t.map;return r.addLayer(e.instance),function(){r.removeLayer(e.instance)}}),[t,e])}function k(e){return function(t){var n=d(),r=e(w(t,n),n);return _(n.map,t.attribution),x(r.current,t.eventHandlers),E(r.current,n),r}}function O(e,t){return v(k(y(e,t)))}var S=b(k(y((function(e,t){var n=e.url,r=l(e,["url"]);return{instance:new s.TileLayer(n,w(r,t)),context:t}}),(function(e,t,n){var r=t.opacity,i=t.zIndex;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=i&&i!==n.zIndex&&e.setZIndex(i)}))));var C=O((function(e,t){var n=e.bounds,r=e.url,a=l(e,["bounds","url"]),o=new s.ImageOverlay(r,n,a);return{instance:o,context:Object(i.a)(Object(i.a)({},t),{},{overlayContainer:o})}}),(function(e,t,n){!function(e,t,n){t.bounds instanceof s.LatLngBounds&&t.bounds!==n.bounds&&e.setBounds(t.bounds),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=t.zIndex&&t.zIndex!==n.zIndex&&e.setZIndex(t.zIndex)}(e,t,n),t.url!==n.url&&e.setUrl(t.url)}));function A(){return d().map}var j=O((function(e,t){var n=e.position,r=l(e,["position"]),a=new s.Marker(n,r);return{instance:a,context:Object(i.a)(Object(i.a)({},t),{},{overlayContainer:a})}}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())})),P=function(e,t){return function(e){function t(t,n){var r=Object(c.useState)(!1),i=Object(o.a)(r,2),a=i[0],s=i[1],u=e(t,s).current.instance;Object(c.useImperativeHandle)(n,(function(){return u})),Object(c.useEffect)((function(){a&&u.update()}),[u,a,t.children]);var l=u._contentNode;return l?Object(g.createPortal)(t.children,l):null}return Object(c.forwardRef)(t)}(function(e,t){return function(n,r){var i=d(),a=e(w(n,i),i);return _(i.map,n.attribution),x(a.current,n.eventHandlers),t(a.current,i,n,r),a}}(y(e),t))}((function(e,t){return{instance:new s.Popup(e,t.overlayContainer),context:t}}),(function(e,t,n,r){var i=n.onClose,a=n.onOpen,o=n.position;Object(c.useEffect)((function(){var n=e.instance;function s(e){e.popup===n&&(n.update(),r(!0),null==a||a())}function c(e){e.popup===n&&(r(!1),null==i||i())}return t.map.on({popupopen:s,popupclose:c}),null==t.overlayContainer?(null!=o&&n.setLatLng(o),n.openOn(t.map)):t.overlayContainer.bindPopup(n),function(){t.map.off({popupopen:s,popupclose:c}),null==t.overlayContainer?t.map.removeLayer(n):t.overlayContainer.unbindPopup()}}),[e,t,r,i,a,o])})),T=n(3),R=n(79),L=n(32),M=n(10),I=n(30);function N(){var e=Object(r.a)(["\n  position: absolute;\n  z-index: 1000;\n  top: 0px;\n\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  padding: 10px;\n  border-radius: 10px;\n  box-shadow: ",";\n"]);return N=function(){return e},e}var D=function(e){var t=e.activeElement,n=e.onSave,r=e.onClose,a=e.onDelete,s=Object(c.useState)(t.text),l=Object(o.a)(s,2),h=l[0],f=l[1];Object(c.useEffect)((function(){f(t.text)}),[t]);return u.a.createElement(F,null,u.a.createElement(L.a,{value:h,label:"Label",onChange:f}),u.a.createElement(I.a,{text:"Cancel",icon:M.hb,onClick:r}),u.a.createElement(I.a,{text:"Delete",icon:M.hb,onClick:a}),u.a.createElement(I.a,{text:"Save",icon:M.X,onClick:function(){return function(){var e=Object(i.a)({},t);e.text=h,n(e)}()}}))},F=T.b.div(N(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.main.backgroundColor}),(function(e){return e.theme.tile.boxShadow}));function z(){var e=Object(r.a)(["\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  position: relative;\n\n  height: calc(100vh - 265px);\n  width: calc(100% - 6px);\n\n  & .leaflet-popup {\n    .leaflet-popup-content-wrapper {\n      background-color: ",";\n      color: ",";\n    }\n    .leaflet-popup-tip {\n      background-color: ",";\n    }\n  }\n"]);return z=function(){return e},e}t.a=function(e){var t=e.location,n=e.editable,r=e.onEdit,s=Object(c.useState)(!1),l=Object(o.a)(s,2),h=l[0],f=l[1],d=Object(c.useState)(),p=Object(o.a)(d,2),g=p[0],v=p[1],b=Object(c.useRef)(null),y=Object(c.useState)(null),_=Object(o.a)(y,2),x=_[0],w=_[1],E=Object(c.useState)(),k=Object(o.a)(E,2),O=k[0],A=k[1],j=Object(c.useState)(),P=Object(o.a)(j,2),T=P[0],R=P[1],L=Object(c.useCallback)((function(e,t){return t?L(t,e%t):e}),[]);Object(c.useEffect)((function(){if(void 0!==t.dimension&&void 0!==t.map&&""!==t.map&&t.dimension!=={height:0,width:0}){var e=L(t.dimension.width,t.dimension.height),n=t.dimension.width/e,r=t.dimension.height/e;R([[-r/2,-n/2],[r/2,n/2]])}}),[t.map,t.dimension,L]),Object(c.useEffect)((function(){var e;null!==x&&T&&x.fitBounds([[.5*(e=T)[0][0],.5*e[0][1]],[.5*e[1][0],.5*e[1][1]]])}),[x,T]),Object(c.useEffect)((function(){if(b&&b.current){var e=b.current.clientHeight;A(e+"px")}}),[]);return u.a.createElement(U,{ref:b},h&&void 0!==g&&u.a.createElement(D,{activeElement:t.markers[g],onSave:function(e){if(n&&void 0!==r&&void 0!==g){var o=Object(a.a)(t.markers);o[g]=e,r(Object(i.a)(Object(i.a)({},t),{},{markers:o}))}},onDelete:function(){if(n&&void 0!==r&&void 0!==g){var e=Object(a.a)(t.markers);e.splice(g,1),f(!1),v(void 0),r(Object(i.a)(Object(i.a)({},t),{},{markers:e}))}},onClose:function(){return f(!1)}}),t.map&&O&&T&&u.a.createElement(m,{style:{height:O,width:"100%"},center:[0,0],zoom:1,scrollWheelZoom:!1,whenCreated:w},u.a.createElement(S,{url:""}),u.a.createElement(C,{bounds:T,url:t.map}),u.a.createElement(B,{markerPositions:t.markers,location:t,editable:n,onEdit:r,setActive:v,setEditDialaog:f})))};var B=function(e){var t=e.location,r=e.editable,o=e.markerPositions,l=e.onEdit,h=e.setActive,f=e.setEditDialaog;!function(e){var t=A();Object(c.useEffect)((function(){return t.on(e),function(){t.off(e)}}),[t,e])}({click:function(e){r&&void 0!==l&&l(Object(i.a)(Object(i.a)({},t),{},{markers:[].concat(Object(a.a)(t.markers),[{position:e.latlng,text:"New"}])}))}});var d=new s.Icon({iconRetinaUrl:n(490),iconUrl:n(491),shadowUrl:n(492),iconSize:[25,41],iconAnchor:[12,41]});return u.a.createElement(u.a.Fragment,null,o&&o.map((function(e,t){return u.a.createElement(j,{key:t,position:e.position,icon:d},u.a.createElement(P,{autoPan:!0,minWidth:120,onOpen:function(){return function(e){r&&void 0!==l&&(h(e),f(!0))}(t)}},u.a.createElement(R.a,{text:e.text})))})))},U=T.b.div(z(),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return Pc})),n.d(t,"b",(function(){return fa})),n.d(t,"c",(function(){return Cc})),n.d(t,"d",(function(){return Hs})),n.d(t,"e",(function(){return ua})),n.d(t,"f",(function(){return yt})),n.d(t,"h",(function(){return mt})),n.d(t,"i",(function(){return gt})),n.d(t,"j",(function(){return vt}));var i=n(35),a=n(73),o=n.n(a),s=n(89),c=n(1),u=n.n(c),l=n(34),h=n.n(l),f=o.a.mark(Vn),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function p(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}var m=Array.isArray;function g(e){var t="";if("string"===typeof e||"number"===typeof e)return e||"";if(m(e))for(var n,r=0;r<e.length;r++)""!==(n=g(e[r]))&&(t+=(t&&" ")+n);else for(var r in e)e.hasOwnProperty(r)&&e[r]&&(t+=(t&&" ")+r);return t}function v(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function b(e){var t={exports:{}};return e(t,t.exports),t.exports}var y=function(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r),_=function(){return Math.random().toString(36).substring(7).split("").join(".")},x={INIT:"@@redux/INIT"+_(),REPLACE:"@@redux/REPLACE"+_(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+_()}};function w(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function E(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function k(e,t){return function(){return t(e.apply(this,arguments))}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var j=Object.freeze({__proto__:null,__DO_NOT_USE__ActionTypes:x,applyMiddleware:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return C({},n,{dispatch:r=A.apply(void 0,a)(n.dispatch)})}}},bindActionCreators:function(e,t){if("function"===typeof e)return k(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=k(i,t))}return n},combineReducers:function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:x.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:x.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+x.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var c=o[s],u=n[c],l=e[c],h=u(l,t);if("undefined"===typeof h){var f=E(c,t);throw new Error(f)}i[c]=h,r=r||h!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}},compose:A,createStore:function e(t,n,r){var i;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var a=t,o=n,s=[],c=s,u=!1;function l(){c===s&&(c=s.slice())}function h(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function f(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return l(),c.push(e),function(){if(t){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,l();var n=c.indexOf(e);c.splice(n,1),s=null}}}function d(e){if(!w(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,o=a(o,e)}finally{u=!1}for(var t=s=c,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");a=e,d({type:x.REPLACE})}function m(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[y]=function(){return this},e}return d({type:x.INIT}),(i={dispatch:d,subscribe:f,getState:h,replaceReducer:p})[y]=m,i}});function P(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var T=P();T.withExtraArgument=P;var R=Object.freeze({__proto__:null,default:T});function L(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function M(e){return!!e&&!!e[Oe]}function I(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[ke]||!!e.constructor[ke]||H(e)||q(e))}function N(e,t,n){void 0===n&&(n=!1),0===D(e)?(n?Object.keys:Ce)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function D(e){var t=e[Oe];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:H(e)?2:q(e)?3:0}function F(e,t){return 2===D(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return 2===D(e)?e.get(t):e[t]}function B(e,t,n){var r=D(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function U(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function H(e){return _e&&e instanceof Map}function q(e){return xe&&e instanceof Set}function W(e){return e.o||e.t}function G(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ae(e);delete t[Oe];for(var n=Ce(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Z(e,t){Y(e)||M(e)||!I(e)||(D(e)>1&&(e.set=e.add=e.clear=e.delete=V),Object.freeze(e),t&&N(e,(function(e,t){return Z(t,!0)}),!0))}function V(){L(2)}function Y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function X(e){var t=je[e];return t||L(19,e),t}function K(e,t){je[e]=t}function J(){return be}function Q(e,t){t&&(X("Patches"),e.u=[],e.s=[],e.v=t)}function $(e){ee(e),e.p.forEach(ne),e.p=null}function ee(e){e===be&&(be=e.l)}function te(e){return be={p:[],l:be,h:e,m:!0,_:0}}function ne(e){var t=e[Oe];0===t.i||1===t.i?t.j():t.g=!0}function re(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||X("ES5").S(t,e,r),r?(n[Oe].P&&($(t),L(4)),I(e)&&(e=ie(t,e),t.l||oe(t,e)),t.u&&X("Patches").M(n[Oe],e,t.u,t.s)):e=ie(t,n,[]),$(t),t.u&&t.v(t.u,t.s),e!==Ee?e:void 0}function ie(e,t,n){if(Y(t))return t;var r=t[Oe];if(!r)return N(t,(function(i,a){return ae(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return oe(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=G(r.k):r.o;N(3===r.i?new Set(i):i,(function(t,a){return ae(e,r,i,t,a,n)})),oe(e,i,!1),n&&e.u&&X("Patches").R(r,n,e.u,e.s)}return r.o}function ae(e,t,n,r,i,a){if(M(i)){var o=ie(e,i,a&&t&&3!==t.i&&!F(t.D,r)?a.concat(r):void 0);if(B(n,r,o),!M(o))return;e.m=!1}if(I(i)&&!Y(i)){if(!e.h.N&&e._<1)return;ie(e,i),t&&t.A.l||oe(e,i)}}function oe(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&Z(t,n)}function se(e,t){var n=e[Oe];return(n?W(n):e)[t]}function ce(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ue(e){e.P||(e.P=!0,e.l&&ue(e.l))}function le(e){e.o||(e.o=G(e.t))}function he(e,t,n){var r=H(t)?X("MapSet").T(t,n):q(t)?X("MapSet").F(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:J(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Pe;n&&(i=[r],a=Te);var o=Proxy.revocable(i,a),s=o.revoke,c=o.proxy;return r.k=c,r.j=s,c}(t,n):X("ES5").J(t,n);return(n?n.A:J()).p.push(r),r}function fe(e){return M(e)||L(22,e),function e(t){if(!I(t))return t;var n,r=t[Oe],i=D(t);if(r){if(!r.P&&(r.i<4||!X("ES5").K(r)))return r.t;r.I=!0,n=de(t,i),r.I=!1}else n=de(t,i);return N(n,(function(t,i){r&&z(r.t,t)===i||B(n,t,e(i))})),3===i?new Set(n):n}(e)}function de(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return G(e)}function pe(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Oe];return Pe.get(t,e)},set:function(t){var n=this[Oe];Pe.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Oe];if(!i.P)switch(i.i){case 5:r(i)&&ue(i);break;case 4:n(i)&&ue(i)}}}function n(e){for(var t=e.t,n=e.k,r=Ce(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==Oe){var o=t[a];if(void 0===o&&!F(t,a))return!0;var s=n[a],c=s&&s[Oe];if(c?c.t!==o:!U(s,o))return!0}}var u=!!t[Oe];return r.length!==Ce(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var i={};K("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Ae(n);delete a[Oe];for(var o=Ce(a),s=0;s<o.length;s++){var c=o[s];a[c]=e(c,t||!!a[c].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:J(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Oe,{value:a,writable:!0}),i},S:function(e,n,i){i?M(n)&&n[Oe].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Oe];if(n){var i=n.t,a=n.k,o=n.D,s=n.i;if(4===s)N(a,(function(t){t!==Oe&&(void 0!==i[t]||F(i,t)?o[t]||e(a[t]):(o[t]=!0,ue(n)))})),N(i,(function(e){void 0!==a[e]||F(a,e)||(o[e]=!1,ue(n))}));else if(5===s){if(r(n)&&(ue(n),o.length=!0),a.length<i.length)for(var c=a.length;c<i.length;c++)o[c]=!1;else for(var u=i.length;u<a.length;u++)o[u]=!0;for(var l=Math.min(a.length,i.length),h=0;h<l;h++)void 0===o[h]&&e(a[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}function me(){function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);if(H(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(q(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return n}function t(t){return M(t)?e(t):t}var n="add";K("Patches",{$:function(t,r){return r.forEach((function(r){for(var i=r.path,a=r.op,o=t,s=0;s<i.length-1;s++)"object"!=typeof(o=z(o,i[s]))&&L(15,i.join("/"));var c=D(o),u=e(r.value),l=i[i.length-1];switch(a){case"replace":switch(c){case 2:return o.set(l,u);case 3:L(16);default:return o[l]=u}case n:switch(c){case 1:return o.splice(l,0,u);case 2:return o.set(l,u);case 3:return o.add(u);default:return o[l]=u}case"remove":switch(c){case 1:return o.splice(l,1);case 2:return o.delete(l);case 3:return o.delete(r.value);default:return delete o[l]}default:L(17,a)}})),t},R:function(e,r,i,a){switch(e.i){case 0:case 4:case 2:return function(e,r,i,a){var o=e.t,s=e.o;N(e.D,(function(e,c){var u=z(o,e),l=z(s,e),h=c?F(o,e)?"replace":n:"remove";if(u!==l||"replace"!==h){var f=r.concat(e);i.push("remove"===h?{op:h,path:f}:{op:h,path:f,value:l}),a.push(h===n?{op:"remove",path:f}:"remove"===h?{op:n,path:f,value:t(u)}:{op:"replace",path:f,value:t(u)})}}))}(e,r,i,a);case 5:case 1:return function(e,r,i,a){var o=e.t,s=e.D,c=e.o;if(c.length<o.length){var u=[c,o];o=u[0],c=u[1];var l=[a,i];i=l[0],a=l[1]}for(var h=0;h<o.length;h++)if(s[h]&&c[h]!==o[h]){var f=r.concat([h]);i.push({op:"replace",path:f,value:t(c[h])}),a.push({op:"replace",path:f,value:t(o[h])})}for(var d=o.length;d<c.length;d++){var p=r.concat([d]);i.push({op:n,path:p,value:t(c[d])})}o.length<c.length&&a.push({op:"replace",path:r.concat(["length"]),value:o.length})}(e,r,i,a);case 3:return function(e,t,r,i){var a=e.t,o=e.o,s=0;a.forEach((function(e){if(!o.has(e)){var a=t.concat([s]);r.push({op:"remove",path:a,value:e}),i.unshift({op:n,path:a,value:e})}s++})),s=0,o.forEach((function(e){if(!a.has(e)){var o=t.concat([s]);r.push({op:n,path:o,value:e}),i.unshift({op:"remove",path:o,value:e})}s++}))}(e,r,i,a)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t}),r.push({op:"replace",path:[],value:e.t})}})}function ge(){function e(e,t){function n(){this.constructor=e}i(e,t),e.prototype=(n.prototype=t.prototype,new n)}function t(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function n(e){e.o||(e.o=new Set,e.t.forEach((function(t){if(I(t)){var n=he(e.A.h,t,e);e.p.set(t,n),e.o.add(n)}else e.o.add(t)})))}function r(e){e.g&&L(3,JSON.stringify(W(e)))}var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},a=function(){function n(e,t){return this[Oe]={i:2,l:t,A:t?t.A:J(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,g:!1},this}e(n,Map);var i=n.prototype;return Object.defineProperty(i,"size",{get:function(){return W(this[Oe]).size}}),i.has=function(e){return W(this[Oe]).has(e)},i.set=function(e,n){var i=this[Oe];return r(i),W(i).has(e)&&W(i).get(e)===n||(t(i),ue(i),i.D.set(e,!0),i.o.set(e,n),i.D.set(e,!0)),this},i.delete=function(e){if(!this.has(e))return!1;var n=this[Oe];return r(n),t(n),ue(n),n.D.set(e,!1),n.o.delete(e),!0},i.clear=function(){var e=this[Oe];return r(e),t(e),ue(e),e.D=new Map,N(e.t,(function(t){e.D.set(t,!1)})),e.o.clear()},i.forEach=function(e,t){var n=this;W(this[Oe]).forEach((function(r,i){e.call(t,n.get(i),i,n)}))},i.get=function(e){var n=this[Oe];r(n);var i=W(n).get(e);if(n.I||!I(i))return i;if(i!==n.t.get(e))return i;var a=he(n.A.h,i,n);return t(n),n.o.set(e,a),a},i.keys=function(){return W(this[Oe]).keys()},i.values=function(){var e,t=this,n=this.keys();return(e={})[Se]=function(){return t.values()},e.next=function(){var e=n.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},i.entries=function(){var e,t=this,n=this.keys();return(e={})[Se]=function(){return t.entries()},e.next=function(){var e=n.next();if(e.done)return e;var r=t.get(e.value);return{done:!1,value:[e.value,r]}},e},i[Se]=function(){return this.entries()},n}(),o=function(){function t(e,t){return this[Oe]={i:3,l:t,A:t?t.A:J(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,g:!1,C:!1},this}e(t,Set);var i=t.prototype;return Object.defineProperty(i,"size",{get:function(){return W(this[Oe]).size}}),i.has=function(e){var t=this[Oe];return r(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},i.add=function(e){var t=this[Oe];return r(t),this.has(e)||(n(t),ue(t),t.o.add(e)),this},i.delete=function(e){if(!this.has(e))return!1;var t=this[Oe];return r(t),n(t),ue(t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},i.clear=function(){var e=this[Oe];return r(e),n(e),ue(e),e.o.clear()},i.values=function(){var e=this[Oe];return r(e),n(e),e.o.values()},i.entries=function(){var e=this[Oe];return r(e),n(e),e.o.entries()},i.keys=function(){return this.values()},i[Se]=function(){return this.values()},i.forEach=function(e,t){for(var n=this.values(),r=n.next();!r.done;)e.call(t,r.value,r.value,this),r=n.next()},t}();K("MapSet",{T:function(e,t){return new a(e,t)},F:function(e,t){return new o(e,t)}})}var ve,be,ye="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),_e="undefined"!=typeof Map,xe="undefined"!=typeof Set,we="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ee=ye?Symbol.for("immer-nothing"):((ve={})["immer-nothing"]=!0,ve),ke=ye?Symbol.for("immer-draftable"):"__$immer_draftable",Oe=ye?Symbol.for("immer-state"):"__$immer_state",Se="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Ce="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ae=Object.getOwnPropertyDescriptors||function(e){var t={};return Ce(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},je={},Pe={get:function(e,t){if(t===Oe)return e;var n=W(e);if(!F(n,t))return function(e,t,n){var r,i=ce(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!I(r)?r:r===se(e.t,t)?(le(e),e.o[t]=he(e.A.h,r,e)):r},has:function(e,t){return t in W(e)},ownKeys:function(e){return Reflect.ownKeys(W(e))},set:function(e,t,n){var r=ce(W(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(e.D[t]=!0,!e.P){if(U(n,se(W(e),t))&&(void 0!==n||F(e.t,t)))return!0;le(e),ue(e)}return e.o[t]=n,!0},deleteProperty:function(e,t){return void 0!==se(e.t,t)||t in e.t?(e.D[t]=!1,le(e),ue(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=W(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){L(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){L(12)}},Te={};N(Pe,(function(e,t){Te[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Te.deleteProperty=function(e,t){return Pe.deleteProperty.call(this,e[0],t)},Te.set=function(e,t,n){return Pe.set.call(this,e[0],t,n,e[0])};var Re=function(){function e(e){this.O=we,this.N=!1,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var r=t;t=e;var i=this;return function(e){var n=this;void 0===e&&(e=r);for(var a=arguments.length,o=Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(o))}))}}var a;if("function"!=typeof t&&L(6),void 0!==n&&"function"!=typeof n&&L(7),I(e)){var o=te(this),s=he(this,e,void 0),c=!0;try{a=t(s),c=!1}finally{c?$(o):ee(o)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return Q(o,n),re(e,o)}),(function(e){throw $(o),e})):(Q(o,n),re(a,o))}if(!e||"object"!=typeof e){if((a=t(e))===Ee)return;return void 0===a&&(a=e),this.N&&Z(a,!0),a}L(21,e)},t.produceWithPatches=function(e,t){var n,r,i=this;return"function"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return i.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){I(e)||L(8),M(e)&&(e=fe(e));var t=te(this),n=he(this,e,void 0);return n[Oe].C=!0,ee(t),n},t.finishDraft=function(e,t){var n=(e&&e[Oe]).A;return Q(n,t),re(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!we&&L(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=X("Patches").$;return M(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}(),Le=new Re,Me=Le.produce,Ie=Le.produceWithPatches.bind(Le),Ne=Le.setAutoFreeze.bind(Le),De=Le.setUseProxies.bind(Le),Fe=Le.applyPatches.bind(Le),ze=Le.createDraft.bind(Le),Be=Le.finishDraft.bind(Le),Ue=Object.freeze({__proto__:null,default:Me,Immer:Re,applyPatches:Fe,castDraft:function(e){return e},castImmutable:function(e){return e},createDraft:ze,current:fe,enableAllPlugins:function(){pe(),ge(),me()},enableES5:pe,enableMapSet:ge,enablePatches:me,finishDraft:Be,immerable:ke,isDraft:M,isDraftable:I,nothing:Ee,original:function(e){return M(e)||L(23,e),e[Oe].t},produce:Me,produceWithPatches:Ie,setAutoFreeze:Ne,setUseProxies:De});function He(){return this.list=[],this.lastItem=void 0,this.size=0,this}He.prototype.get=function(e){var t;return this.lastItem&&this.isEqual(this.lastItem.key,e)?this.lastItem.val:(t=this.indexOf(e))>=0?(this.lastItem=this.list[t],this.list[t].val):void 0},He.prototype.set=function(e,t){var n;return this.lastItem&&this.isEqual(this.lastItem.key,e)?(this.lastItem.val=t,this):(n=this.indexOf(e))>=0?(this.lastItem=this.list[n],this.list[n].val=t,this):(this.lastItem={key:e,val:t},this.list.push(this.lastItem),this.size++,this)},He.prototype.delete=function(e){var t;if(this.lastItem&&this.isEqual(this.lastItem.key,e)&&(this.lastItem=void 0),(t=this.indexOf(e))>=0)return this.size--,this.list.splice(t,1)[0]},He.prototype.has=function(e){var t;return!(!this.lastItem||!this.isEqual(this.lastItem.key,e))||(t=this.indexOf(e))>=0&&(this.lastItem=this.list[t],!0)},He.prototype.forEach=function(e,t){var n;for(n=0;n<this.size;n++)e.call(t||this,this.list[n].val,this.list[n].key,this)},He.prototype.indexOf=function(e){var t;for(t=0;t<this.size;t++)if(this.isEqual(this.list[t].key,e))return t;return-1},He.prototype.isEqual=function(e,t){return e===t||e!==e&&t!==t};var qe=He,We=function(e){return"function"!==typeof Map||e?new qe:new Map},Ge=function(e){var t=new We("true"===Object({NODE_ENV:"production",PUBLIC_URL:"/DnDTome-pwa",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).FORCE_SIMILAR_INSTEAD_OF_MAP),n=[];return function(r){var i=function i(){var a,o,s,c=t,u=arguments.length-1,l=Array(u+1),h=!0;if((i.numArgs||0===i.numArgs)&&i.numArgs!==u+1)throw new Error("Memoizerific functions should always be called with the same number of arguments");for(s=0;s<u;s++)l[s]={cacheItem:c,arg:arguments[s]},c.has(arguments[s])?c=c.get(arguments[s]):(h=!1,a=new We("true"===Object({NODE_ENV:"production",PUBLIC_URL:"/DnDTome-pwa",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).FORCE_SIMILAR_INSTEAD_OF_MAP),c.set(arguments[s],a),c=a);return h&&(c.has(arguments[u])?o=c.get(arguments[u]):h=!1),h||(o=r.apply(null,arguments),c.set(arguments[u],o)),e>0&&(l[u]={cacheItem:c,arg:arguments[u]},h?Ze(n,l):n.push(l),n.length>e&&Ve(n.shift())),i.wasMemoized=h,i.numArgs=u+1,o};return i.limit=e,i.wasMemoized=!1,i.cache=t,i.lru=n,i}};function Ze(e,t){var n,r,i,a,o,s=e.length,c=t.length;for(r=0;r<s;r++){for(n=!0,i=0;i<c;i++)if(a=e[r][i].arg,o=t[i].arg,a!==o&&(a===a||o===o)){n=!1;break}if(n)break}e.push(e.splice(r,1)[0])}function Ve(e){var t,n,r=e.length,i=e[r-1];for(i.cacheItem.delete(i.arg),n=r-2;n>=0&&(!(t=(i=e[n]).cacheItem.get(i.arg))||!t.size);n--)i.cacheItem.delete(i.arg)}function Ye(e){return"[object Object]"===Object.prototype.toString.call(e)}var Xe=function(e){var t,n;return!1!==Ye(e)&&(void 0===(t=e.constructor)||!1!==Ye(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))},Ke=Object.defineProperty({isPlainObject:Xe},"__esModule",{value:!0});function Je(e,t){var n=Object(c.useState)((function(){return{inputs:t,result:e()}}))[0],r=Object(c.useRef)(n),i=Boolean(t&&r.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,r.current.inputs))?r.current:{inputs:t,result:e()};return Object(c.useEffect)((function(){r.current=i}),[i]),i.result}function Qe(e,t){return Je((function(){return e}),t)}var $e=Je,et=Qe,tt=Object.freeze({__proto__:null,useCallback:et,useCallbackOne:Qe,useMemo:$e,useMemoOne:Je}),nt=v(j),rt=v(R),it=v(Ue),at=v(tt),ot=b((function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var r=u.a,i=n(r),a=nt,o=n(rt),s=n(Ge),c=r.createContext(),l="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function h(e){return function(t,n){var i=r.useContext(e),a=r.useRef(t),o=r.useRef(),s=r.useRef(!0),c=r.useRef(),u=r.useReducer((function(e){return e+1}),0)[1];if(c.current||a.current!==t||void 0===o.current)try{o.current=t(i.getState())}catch(e){throw c.current||e}return l((function(){a.current=t,c.current=void 0})),l((function(){var e=function(){try{var e=a.current(i.getState());if("function"==typeof n?n(o.current,e):o.current===e)return;o.current=e}catch(e){c.current=e}s.current&&u({})},t=i.subscribe(e);return e(),function(){s.current=!1,t()}}),[]),o.current}}var f=h(c);function d(e){return function(t){return t(r.useContext(e).getActions())}}var p=d(c);function m(e){return function(){return r.useContext(e).dispatch}}var g=m(c);function v(){return r.useContext(c)}function b(e){return function(){var t=r.useContext(e),n=r.useState(!1),i=n[0],a=n[1];return r.useEffect((function(){t.persist.resolveRehydration().then((function(){return a(!0)}))}),[]),i}}var y=b(c);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x=function(e){var t;return(t={}).$ep_a=!0,t.fn=e,t},w=[function(e){return e}],E=new it.Immer({useProxies:!0,autoFreeze:!1}),k=function(e){return function e(t){var n=Object.keys(t).reduce((function(e,n){return null==Object.getOwnPropertyDescriptor(t,n).get&&(e[n]=t[n]),e}),{});return Object.keys(n).forEach((function(t){Ke.isPlainObject(n[t])&&(n[t]=e(n[t]))})),n}(e)},O=function(e){return null!=e&&"object"==typeof e&&"function"==typeof e.then};function S(e,t){return e.reduce((function(e,t){return Ke.isPlainObject(e)?e[t]:void 0}),t)}var C=function(e,t,n){0!==e.length?e.reduce((function(t,r,i){return t[r]=i+1===e.length?n:t[r]||{},t[r]}),t):"object"==typeof n&&(Object.keys(t).forEach((function(e){delete t[e]})),Object.keys(n).forEach((function(e){t[e]=n[e]})))},A=function(e){try{var t=[];return Promise.resolve((n=e,new Promise((function(e,r){var i=n[Symbol.iterator]();!function n(a){try{var o=i.next();if(o.done)return e(a),Promise.resolve();var s=function(e,r){try{var i=Promise.resolve(Promise.all([a,o.value])).then((function(e){n(function(e,n){try{return Promise.resolve(n()).then((function(e){t.push(e)}))}catch(e){return Promise.reject(e)}}(0,e[1]))}))}catch(e){return r(e)}return i&&i.then?i.then(void 0,r):i}(0,(function(e){r(e)}));return Promise.resolve(s&&s.then?s.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}(void 0)})))).then((function(){return t}))}catch(e){return Promise.reject(e)}var n};function j(e,t,n,r){var i=function(e){return void 0===e&&(e=!1),function(t,n,r){if(e){var i=S(t,n),a=r(i);return i!==a?function e(t,n,r){if(0===t.length)return r;var i=_({},n),a=t[0];return i[a]=1===t.length?r:e(t.slice(1),i[a],r),i}(t,n,a):n}if(0===t.length){var o=E.createDraft(n),s=r(o);return s?it.isDraft(s)?E.finishDraft(s):s:E.finishDraft(o)}var c=t.slice(0,t.length-1),u=E.createDraft(n),l=S(c,n),h=r(S(t,u));return h&&(l[t[t.length-1]]=h),E.finishDraft(u)}}(e);return function(e,a){var o=function(e,n){var r=t[n.type];return r?function(e,t,n,r){return i(r,e,(function(e){return n(e,t.payload)}))}(e,n,r,r.definition.meta.parent):e}(e,a),s=n.length>0?function(e,t){return n.reduce((function(e,n){var r=n.key,a=n.reducer;return i(n.parentPath,e,(function(e){return e[r]=a(e[r],t),e}))}),e)}(o,a):o;return e!==s&&r.forEach((function(e){var t=e.bindComputedProperty,n=S(e.parentPath,s);null!=n&&t(n,s)})),s}}var P={getItem:function(){},setItem:function(){},removeItem:function(){}},T=function(e){var t;return function(){if(!t){try{"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e])}catch(e){}t||(t=P)}return t}},R=T("localStorage"),L=T("sessionStorage");function M(e,t){void 0===t&&(t=[]),null==e&&(e=L()),"string"==typeof e&&(e="localStorage"===e?R():"sessionStorage"===e?L():P);var n=[].concat(t).reverse(),r=function(t){var r=e===R()||e===L()?JSON.parse(t).data:t;return n.length>0&&null!=r&&"object"==typeof r&&Object.keys(r).forEach((function(e){r[e]=n.reduce((function(t,n){return n.out(t,e)}),r[e])})),r},i=O(e.getItem("_"));return{isAsync:i,getItem:function(t){if(i)return e.getItem(t).then((function(e){return null!=e?r(e):void 0}));var n=e.getItem(t);return null!=n?r(n):void 0},setItem:function(n,r){return e.setItem(n,function(n){return t.length>0&&null!=n&&"object"==typeof n&&Object.keys(n).forEach((function(e){n[e]=t.reduce((function(t,n){return n.in(t,e)}),n[e])})),e===R()||e===L()?JSON.stringify({data:n}):n}(r))},removeItem:function(t){return e.removeItem(t)}}}function I(e,t){return function(){return 0===t.internals.t.length?Promise.resolve():A(t.internals.t.map((function(t){var n=t.path,r=t.config;return function(){return Promise.resolve(r.storage.removeItem(e(n)))}})))}}function N(e,t,n,r){return 0===n.internals.t.length?Promise.resolve():A(n.internals.t.map((function(i){return function(){var a=i.path,o=i.config,s=o.mergeStrategy,c=o.storage;if(r&&(a.length<1||a[0]!==r))return Promise.resolve();var u=n.internals.o,l=function(e,t){return null!=e&&null!=t&&(typeof e!=typeof t||Array.isArray(e)&&!Array.isArray(t))},h=function(e){null!=e&&function(e,t){if("overwrite"===s)C(a,e,t);else if("mergeShallow"===s){var n=S(a,e);Object.keys(t).forEach((function(e){l(n[e],t[e])||(n[e]=t[e])}))}else"mergeDeep"===s&&function e(t,n){Object.keys(n).forEach((function(r){l(t[r],n[r])||(Ke.isPlainObject(n[r])?(t[r]=t[r]||{},e(t[r],n[r])):t[r]=n[r])}))}(S(a,e),t)}(u,e),t(u)},f=c.getItem(e(a));return O(f)?f.then(h):Promise.resolve(h(f))}})))}var D=function(e,t){console.log("An error occurred in a listener for "+e),console.log(t)},F=function(e,t){return function(){try{var n=t.apply(void 0,[].slice.call(arguments));O(n)&&n.catch((function(t){D(e,t)}))}catch(t){D(e,t)}}};function z(e){return function(){return function(t){return function(n){var r=t(n);if(n&&e.internals.u[n.type]&&e.internals.u[n.type].length>0){var i=e.internals.i[n.type];e.internals.u[n.type].forEach((function(e){e({type:i?i.definition.meta.type:n.type,payload:n.payload,error:n.error,result:n.result})}))}return r}}}}function B(e){return function(t){return function(n){return function(r){return e.internals.s.currentState=t.getState(),e.internals.s.isInReducer=!0,n(r)}}}}function U(e){return function(t){return function(n){return function(r){if(0===e.internals.v.length)return n(r);var i=t.getState(),a=n(r),o=t.getState();return e.internals.v.forEach((function(e){var t=S(e.meta.parent,i),n=S(e.meta.parent,o);if(t!==n){var a=e.dependencyResolvers.map((function(e){return e(t)})),s=e.dependencyResolvers.map((function(e){return e(n)}));a.some((function(e,t){return e!==s[t]}))&&e.actionCreator(a,s,r)}})),a}}}}var H=function(e){console.log(e)},q=function(e,t){console.log("An error occurred in a listener for "+e),console.log(t)},W=function(e,t){return function(){try{var n=t.apply(void 0,[].slice.call(arguments));O(n)&&n.catch((function(t){q(e,t)}))}catch(t){q(e,t)}}};function G(e,t){void 0===t&&(t={});var n=k(e),r=t.compose,i=t.devTools,c=void 0!==i&&i,u=t.disableImmer,l=void 0!==u&&u,h=t.enhancers,f=void 0===h?[]:h,d=t.initialState,p=void 0===d?{}:d,m=t.injections,g=void 0===m?{}:m,v=t.middleware,b=void 0===v?[]:v,y=t.mockActions,w=void 0!==y&&y,E=t.name,P=void 0===E?"EasyPeasyStore":E,T=t.version,R=void 0===T?0:T,L=t.reducerEnhancer,D=void 0===L?function(e){return e}:L;var q=function(e){return _({},e,{ePRS:x((function(e,t){return t}))})},G={},Z=q(n),V=[],Y=function(e){return"["+P+"]["+R+"]"+(e.length>0?"["+e.join(".")+"]":"")},X=function(e,t){var n,r=Promise.resolve(),i=!1,a="undefined"==typeof window?function(e){return e()}:null!=window.requestIdleCallback?window.requestIdleCallback:window.requestAnimationFrame;return{persist:function(o){if(0!==t.internals.t.length){var s=function(){i=!0,r=new Promise((function(r){a((function(){A(t.internals.t.map((function(t){var n=t.path,r=t.config;return function(){var t=r.storage,i=r.allow,a=r.deny,s=function(e,t,n){var r=Object.keys(e);return t.length>0&&(r=r.reduce((function(e,n){return-1!==t.findIndex((function(e){return e===n}))?[].concat(e,[n]):e}),[])),n.length>0&&(r=r.reduce((function(e,t){return-1!==n.findIndex((function(e){return e===t}))?e:[].concat(e,[t])}),[])),r}(k(S(n,o)),i,a),c={};return s.map((function(e){var t=S([].concat(n,[e]),o),r=Ke.isPlainObject(t)?k(t):t;c[e]=r})),Promise.resolve(t.setItem(e(n),c))}}))).finally((function(){if(i=!1,n){var e=n;n=null,e()}else r()}))}))}))};i?n=s:s()}},clear:I(e,t),flush:function(){try{return n&&n(),Promise.resolve(r).then((function(){}))}catch(e){return Promise.reject(e)}}}}(Y,G),K=function(e,t){return function(n){var r=n.getState;return function(n){return function(i){var a=n(i);return i&&"@action.ePRS"!==i.type&&t.internals.t.length>0&&e.persist(r()),a}}}}(X,G),J=function(e){return G.internals.i["@action.ePRS"](e)},Q=function(e){void 0===e&&(e={}),G.internals=function(e){var t=e.disableImmer,n=e.reducerEnhancer,r=function(e,t,n,r){var i=t,a={},o={},c={},u={},l=[],h=[],f=[],d={},p={},m=[],g=[],v={isInReducer:!1,currentState:i};return g=g.sort((function(e,t){var n=e.path.join("."),r=t.path.join(".");return n<r?-1:n>r?1:0})),function e(p,v){return Object.keys(p).forEach((function(b){var y=p[b],x=[].concat(v,[b]),w={parent:v,path:x,key:b},E=function(){var e=S(v,t);C(x,i,e&&b in e?e[b]:y)};if("$ep_p"!==b)if(null!=y&&"object"==typeof y)if(y.$ep_a||y.$ep_aO){var k=_({},y),A=k.$ep_a?"@action":"@actionOn";k.meta={actionName:w.key,category:A,type:A+"."+w.path.join("."),parent:w.parent,path:w.path},k.actionCreator=function(e,t){var n=function(n){var r={type:e.meta.type,payload:n};return e.$ep_aO&&e.meta.resolvedTargets&&(n.resolvedTargets=[].concat(e.meta.resolvedTargets)),t.dispatch(r)};return n.type=e.meta.type,n}(k,r),k.actionCreator.definition=k,k.fn.definition=k,a[k.meta.type]=k.actionCreator,c[k.meta.type]=k.fn,"ePRS"!==w.key&&(k.$ep_aO?(m.push(k),C(x,d,k.actionCreator)):C(x,o,k.actionCreator))}else if(y.$ep_t||y.$ep_tO){var j=_({},y),P=(j.$ep_t?"@thunk":"@thunkOn")+"."+w.path.join(".");j.meta={actionName:w.key,parent:w.parent,path:w.path,type:P,startType:P+"(start)",successType:P+"(success)",failType:P+"(fail)"},j.thunkHandler=function(e,t,n,r){return function(i,a){var o={dispatch:t.dispatch,fail:a,getState:function(){return S(e.meta.parent,t.getState())},getStoreActions:function(){return r},getStoreState:t.getState,injections:n,meta:{key:e.meta.actionName,parent:e.meta.parent,path:e.meta.path}};return e.$ep_tO&&e.meta.resolvedTargets&&(i.resolvedTargets=[].concat(e.meta.resolvedTargets)),e.fn(S(e.meta.parent,r),i,o)}}(j,r,n,o),C(x,u,j.thunkHandler),j.actionCreator=function(e,t){var n=function(n){var r=F(e.meta.startType,(function(){return t.dispatch({type:e.meta.startType,payload:n})})),i=F(e.meta.failType,(function(r){return t.dispatch({type:e.meta.failType,payload:n,error:r})})),a=F(e.meta.successType,(function(r){return t.dispatch({type:e.meta.successType,payload:n,result:r})}));r();var o=null,s=function(e){o=e},c=t.dispatch((function(){return e.thunkHandler(n,s)}));return O(c)?c.then((function(e){return o?i(o):a(e),e})):(o?i(o):a(c),c)};return n.type=e.meta.type,n.successType=e.meta.successType,n.failType=e.meta.failType,n.startType=e.meta.startType,n}(j,r),j.actionCreator.definition=j,a[j.meta.type]=j.actionCreator,j.$ep_tO?(m.push(j),C(x,d,j.actionCreator)):C(x,o,j.actionCreator)}else if(y.$ep_c){var T=S(v,i),R=function(e,t,n,r,i){var a=s(1)(n.fn);return function(r,i){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){var t=S(e,i),r=n.stateResolvers.map((function(e){return e(t,i)}));return a.apply(void 0,r)}})}}(v,b,y);R(T,i),l.push({key:b,parentPath:v,bindComputedProperty:R})}else if(y.$ep_r)h.push({key:b,parentPath:v,reducer:y.fn});else if(y.$ep_e){var L=_({},y),I="@effectOn."+w.path.join(".");L.meta={type:I,actionName:w.key,parent:w.parent,path:w.path,startType:I+"(start)",successType:I+"(success)",failType:I+"(fail)"};var N=function(e,t,n,r){var i,a=S(e.meta.parent,r);return function(o){var s={dispatch:t.dispatch,getState:function(){return S(e.meta.parent,t.getState())},getStoreActions:function(){return r},getStoreState:t.getState,injections:n,meta:{key:e.meta.actionName,parent:e.meta.parent,path:e.meta.path}};if(void 0!==i){var c=i();i=void 0,O(c)&&c.catch(H)}var u=e.fn(a,o,s);if(O(u))return u.then((function(e){}));"function"==typeof u&&(i=u)}}(L,r,n,o),D=function(e,t,n){var r=function(r,i,a){var o={prev:r,current:i,action:a},s=W(e.meta.startType,(function(){return t.dispatch({type:e.meta.startType,change:o})})),c=W(e.meta.successType,(function(){return t.dispatch({type:e.meta.successType,change:o})}));s();try{var u=t.dispatch((function(){return n(o)}));return O(u)?u.then((function(e){return c(e),e}),H):(c(u),u)}catch(e){H(e)}};return r.type=e.meta.type,r.startType=e.meta.startType,r.successType=e.meta.successType,r.failType=e.meta.failType,r}(L,r,N);L.actionCreator=D,f.push(L)}else Ke.isPlainObject(y)?(null==S(x,i)&&C(x,i,{}),e(y,x)):E();else E();else g.push(function(e,t){return void 0===t&&(t={}),{path:e,config:{allow:t.allow||[],deny:t.deny||[],mergeStrategy:t.mergeStrategy||"mergeDeep",storage:M(t.storage,t.transformers)}}}(v,y))}))}(e,[]),function(e,t,n,r){e.forEach((function(e){var i=e.targetResolver(S(e.meta.parent,t),t),a=(Array.isArray(i)?i:[i]).reduce((function(e,t){return"function"==typeof t&&t.definition.meta.type&&n[t.definition.meta.type]?e.push(t.definition.meta.successType?t.definition.meta.successType:t.definition.meta.type):"string"==typeof t&&e.push(t),e}),[]);e.meta.resolvedTargets=a,a.forEach((function(t){var i=r[t]||[];i.push(n[e.meta.type]),r[t]=i}))}))}(m,o,a,p),{i:a,l:o,p:c,m:l,h:h,s:v,o:i,v:f,S:d,u:p,t:g}}(e.model,e.initialState,e.injections,e.references),i=r.m;return{i:r.i,l:r.l,m:i,s:r.s,o:r.o,v:r.v,S:r.S,u:r.u,t:r.t,reducer:n(j(t,r.p,r.h,i))}}({disableImmer:l,initialState:e,injections:g,model:Z,reducerEnhancer:D,references:G})},$=r||(c&&"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:P}):a.compose);Q(p);var ee=[B(G)].concat(b,[o,z(G),U(G),K]);w&&ee.push((function(){return function(){return function(e){null!=e&&V.push(e)}}}));var te=a.createStore(G.internals.reducer,G.internals.o,$.apply(void 0,[a.applyMiddleware.apply(void 0,ee)].concat(f)));te.subscribe((function(){G.internals.s.isInReducer=!1})),G.dispatch=te.dispatch,G.getState=te.getState;var ne=function(){Object.keys(te.dispatch).forEach((function(e){delete te.dispatch[e]})),Object.keys(G.internals.l).forEach((function(e){te.dispatch[e]=G.internals.l[e]}))};ne();var re=function(e){var t=te.getState();e&&delete t[e],Q(t),te.replaceReducer(G.internals.reducer),J(G.internals.o),ne()},ie=N(Y,J,G);return Object.assign(te,{addModel:function(e,t){Z[e],Z[e]=t,re();var n=N(Y,J,G,e);return{resolveRehydration:function(){return n}}},clearMockedActions:function(){V=[]},getActions:function(){return G.internals.l},getListeners:function(){return G.internals.S},getMockedActions:function(){return[].concat(V)},persist:{clear:X.clear,flush:X.flush,resolveRehydration:function(){return ie}},reconfigure:function(e){Z=q(e),re()},removeModel:function(e){Z[e]&&(delete Z[e],re(e))}})}t.StoreProvider=function(e){return i.createElement(c.Provider,{value:e.store},e.children)},t.action=x,t.actionOn=function(e,t){var n;return(n={}).$ep_aO=!0,n.fn=t,n.targetResolver=e,n},t.computed=function(e,t){var n,r;return"function"==typeof t?((r={}).$ep_c=!0,r.fn=t,r.stateResolvers=e,r):((n={}).$ep_c=!0,n.fn=e,n.stateResolvers=w,n)},t.createContextStore=function(e,t){void 0===t&&(t={});var n=t.injections,a=void 0===n?{}:n,o=r.createContext();return{Provider:function(n){var r=n.children,s=n.runtimeModel,c=n.injections;if(null!=c){var u="function"==typeof c?c(a):c,l=Object.keys(u);Object.keys(a).filter((function(e){return!l.includes(e)})).forEach((function(e){delete a[e]})),Object.assign(a,u)}var h=at.useMemoOne((function(){return G("function"==typeof e?e(s):e,_({},t,{originalInjections:a}))}),[]);return i.createElement(o.Provider,{value:h},r)},useStore:function(){return r.useContext(o)},useStoreState:h(o),useStoreActions:d(o),useStoreDispatch:m(o),useStoreRehydrated:b(o)}},t.createStore=G,t.createTransform=function(e,t,n){void 0===n&&(n={});var r=n.whitelist||null,i=n.blacklist||null;function a(e){return!(!r||-1!==r.indexOf(e))||!(!i||-1===i.indexOf(e))}return{in:function(t,n,r){return!a(n)&&e?e(t,n,r):t},out:function(e,n,r){return!a(n)&&t?t(e,n,r):e}}},t.createTypedHooks=function(){return{useStoreActions:p,useStoreDispatch:g,useStoreState:f,useStoreRehydrated:y,useStore:v}},t.debug=function(e){return it.isDraft(e)?it.current(e):e},t.generic=function(e){return e},t.memo=function(e,t){return s(t)(e)},t.persist=function(e,t){var n;return"undefined"==typeof window?e:_({},e,((n={}).$ep_p=t,n))},t.reducer=function(e){var t;return(t={}).$ep_r=!0,t.fn=e,t},t.thunk=function(e){var t;return(t={}).$ep_t=!0,t.fn=e,t},t.thunkOn=function(e,t){var n;return(n={}).$ep_tO=!0,n.fn=t,n.targetResolver=e,n},t.unstable_effectOn=function(e,t){var n;return(n={}).$ep_e=!0,n.dependencyResolvers=e,n.fn=t,n},t.useLocalStore=function(e,t,n){void 0===t&&(t=[]);var i=r.useRef(),a=r.useRef(),o=at.useMemoOne((function(){var t=null!=i.current?i.current.getState():void 0,r=null!=n?n(t,a.current):void 0,o=G(e(t),r);return a.current=r,i.current=o,o}),t),s=r.useState((function(){return o.getState()})),c=s[0],u=s[1];return r.useEffect((function(){return o.subscribe((function(){var e=o.getState();c!==e&&u(e)}))}),[o]),[c,o.getActions(),o]},t.useStore=v,t.useStoreActions=p,t.useStoreDispatch=g,t.useStoreRehydrated=y,t.useStoreState=f})),st=ot.createTypedHooks(),ct=st.useStoreActions,ut=(st.useStoreDispatch,st.useStoreState),lt=st.useStore,ht=function(e){var t=null===e||void 0===e?void 0:e.target;return["INPUT","SELECT","TEXTAREA","BUTTON"].includes(null===t||void 0===t?void 0:t.nodeName)||(null===t||void 0===t?void 0:t.hasAttribute("contenteditable"))},ft=function(e){return{width:e.offsetWidth,height:e.offsetHeight}},dt=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),Math.min(Math.max(e,t),n)},pt=function(e){var t=Object(c.useState)(!1),n=t[0],r=t[1];return Object(c.useEffect)((function(){var t=function(t){ht(t)||t.key!==e&&t.keyCode!==e||(t.preventDefault(),r(!0))},n=function(t){ht(t)||t.key!==e&&t.keyCode!==e||r(!1)},i=function(){return r(!1)};return window.addEventListener("keydown",t),window.addEventListener("keyup",n),window.addEventListener("blur",i),function(){window.removeEventListener("keydown",t),window.removeEventListener("keyup",n),window.removeEventListener("blur",i)}}),[e,r]),n},mt=function(e){return"id"in e&&"source"in e&&"target"in e},gt=function(e){return"id"in e&&!("source"in e)&&!("target"in e)},vt=function(e,t){var n=e.map((function(e){return e.id}));return t.filter((function(e){var t=e;return!(n.includes(e.id)||n.includes(t.target)||n.includes(t.source))}))},bt=function(e){return"reactflow__edge-"+e.source+e.sourceHandle+"-"+e.target+e.targetHandle},yt=function(e,t){return e.source&&e.target?function(e,t){return t.some((function(t){return mt(t)&&t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)}))}(n=mt(e)?d({},e):d(d({},e),{id:bt(e)}),t)?t:t.concat(n):(console.warn("Can't create edge. An edge needs a source and a target."),t);var n},_t=function(e){return function(t){var n=e.getState();return function(e,t,n,r){var i=e.x,a=e.y,o=t[0],s=t[1],c=t[2],u=r[0],l=r[1],h={x:(i-o)/c,y:(a-s)/c};return n?{x:u*Math.round(h.x/u),y:l*Math.round(h.y/l)}:h}(t,n.transform,n.snapToGrid,n.snapGrid)}},xt=function(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}},wt=function(e){var t=e.x,n=e.y;return{x:t,y:n,x2:t+e.width,y2:n+e.height}},Et=function(e){var t=e.x,n=e.y;return{x:t,y:n,width:e.x2-t,height:e.y2-n}},kt=function(e){var t=e.reduce((function(e,t){var n=t.__rf,r=void 0===n?{}:n,i=r.position,a=r.width,o=r.height;return xt(e,wt(d(d({},i),{width:a,height:o})))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Et(t)},Ot=function(e,t,n,r){var i=void 0===n?[0,0,1]:n,a=i[0],o=i[1],s=i[2];void 0===r&&(r=!1);var c=wt({x:(t.x-a)/s,y:(t.y-o)/s,width:t.width/s,height:t.height/s});return e.filter((function(e){var t=e.__rf,n=t.position,i=t.width,a=t.height,o=t.isDragging,s=wt(d(d({},n),{width:i,height:a})),u=Math.max(0,Math.min(c.x2,s.x2)-Math.max(c.x,s.x)),l=Math.max(0,Math.min(c.y2,s.y2)-Math.max(c.y,s.y)),h=Math.ceil(u*l);return!(null!==i&&null!==a&&!o)||(r?h>0:h>=i*a)}))},St=function(e,t){var n=e.map((function(e){return e.id}));return t.filter((function(e){return n.includes(e.source)||n.includes(e.target)}))},Ct=function(e,t){return p(e.map((function(e){var t=d({},e);return t.position=t.__rf.position,delete t.__rf,t})),t.map((function(e){return d({},e)})))},At=function(e){return function(){var t=e.getState(),n=t.nodes,r=void 0===n?[]:n,i=t.edges;return Ct(r,void 0===i?[]:i)}},jt=function(e){return function(){var t=e.getState(),n=t.nodes,r=void 0===n?[]:n,i=t.edges,a=void 0===i?[]:i,o=t.transform;return{elements:Ct(r,a),position:[o[0],o[1]],zoom:o[2]}}},Pt={value:function(){}};function Tt(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Rt(r)}function Rt(e){this._=e}function Lt(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Mt(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function It(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Pt,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Rt.prototype=Tt.prototype={constructor:Rt,on:function(e,t){var n,r=this._,i=Lt(e+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=It(r[n],e.name,t);else if(null==t)for(n in r)r[n]=It(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=Mt(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Rt(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var Nt="http://www.w3.org/1999/xhtml",Dt={svg:"http://www.w3.org/2000/svg",xhtml:Nt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ft(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Dt.hasOwnProperty(t)?{space:Dt[t],local:e}:e}function zt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Nt&&t.documentElement.namespaceURI===Nt?t.createElement(e):t.createElementNS(n,e)}}function Bt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ut(e){var t=Ft(e);return(t.local?Bt:zt)(t)}function Ht(){}function qt(e){return null==e?Ht:function(){return this.querySelector(e)}}function Wt(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Gt(){return[]}function Zt(e){return null==e?Gt:function(){return this.querySelectorAll(e)}}function Vt(e){return function(){return this.matches(e)}}function Yt(e){return function(t){return t.matches(e)}}var Xt=Array.prototype.find;function Kt(){return this.firstElementChild}var Jt=Array.prototype.filter;function Qt(){return this.children}function $t(e){return new Array(e.length)}function en(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function tn(e){return function(){return e}}function nn(e,t,n,r,i,a){for(var o,s=0,c=t.length,u=a.length;s<u;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new en(e,a[s]);for(;s<c;++s)(o=t[s])&&(i[s]=o)}function rn(e,t,n,r,i,a,o){var s,c,u,l=new Map,h=t.length,f=a.length,d=new Array(h);for(s=0;s<h;++s)(c=t[s])&&(d[s]=u=o.call(c,c.__data__,s,t)+"",l.has(u)?i[s]=c:l.set(u,c));for(s=0;s<f;++s)u=o.call(e,a[s],s,a)+"",(c=l.get(u))?(r[s]=c,c.__data__=a[s],l.delete(u)):n[s]=new en(e,a[s]);for(s=0;s<h;++s)(c=t[s])&&l.get(d[s])===c&&(i[s]=c)}function an(e){return e.__data__}function on(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function sn(e){return function(){this.removeAttribute(e)}}function cn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function un(e,t){return function(){this.setAttribute(e,t)}}function ln(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function hn(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function fn(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function dn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function pn(e){return function(){this.style.removeProperty(e)}}function mn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function gn(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function vn(e,t){return e.style.getPropertyValue(t)||dn(e).getComputedStyle(e,null).getPropertyValue(t)}function bn(e){return function(){delete this[e]}}function yn(e,t){return function(){this[e]=t}}function _n(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function xn(e){return e.trim().split(/^|\s+/)}function wn(e){return e.classList||new En(e)}function En(e){this._node=e,this._names=xn(e.getAttribute("class")||"")}function kn(e,t){for(var n=wn(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function On(e,t){for(var n=wn(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Sn(e){return function(){kn(this,e)}}function Cn(e){return function(){On(this,e)}}function An(e,t){return function(){(t.apply(this,arguments)?kn:On)(this,e)}}function jn(){this.textContent=""}function Pn(e){return function(){this.textContent=e}}function Tn(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Rn(){this.innerHTML=""}function Ln(e){return function(){this.innerHTML=e}}function Mn(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function In(){this.nextSibling&&this.parentNode.appendChild(this)}function Nn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dn(){return null}function Fn(){var e=this.parentNode;e&&e.removeChild(this)}function zn(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Bn(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Un(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function Hn(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function qn(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Wn(e,t,n){var r=dn(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Gn(e,t){return function(){return Wn(this,e,t)}}function Zn(e,t){return function(){return Wn(this,e,t.apply(this,arguments))}}function Vn(){var e,t,n,r,i,a,s;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:e=this._groups,t=0,n=e.length;case 1:if(!(t<n)){o.next=13;break}r=e[t],i=0,a=r.length;case 3:if(!(i<a)){o.next=10;break}if(!(s=r[i])){o.next=7;break}return o.next=7,s;case 7:++i,o.next=3;break;case 10:++t,o.next=1;break;case 13:case"end":return o.stop()}}),f,this)}en.prototype={constructor:en,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},En.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Yn=[null];function Xn(e,t){this._groups=e,this._parents=t}function Kn(){return new Xn([[document.documentElement]],Yn)}function Jn(e){return"string"===typeof e?new Xn([[document.querySelector(e)]],[document.documentElement]):new Xn([[e]],Yn)}function Qn(e,t){if(e=function(e){for(var t;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function $n(e){e.preventDefault(),e.stopImmediatePropagation()}function er(e){var t=e.document.documentElement,n=Jn(e).on("dragstart.drag",$n,!0);"onselectstart"in t?n.on("selectstart.drag",$n,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function tr(e,t){var n=e.document.documentElement,r=Jn(e).on("dragstart.drag",null);t&&(r.on("click.drag",$n,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function nr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function rr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ir(){}Xn.prototype=Kn.prototype=Object(i.a)({constructor:Xn,select:function(e){"function"!==typeof e&&(e=qt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=t[i],c=s.length,u=r[i]=new Array(c),l=0;l<c;++l)(a=s[l])&&(o=e.call(a,a.__data__,l,s))&&("__data__"in a&&(o.__data__=a.__data__),u[l]=o);return new Xn(r,this._parents)},selectAll:function(e){e="function"===typeof e?function(e){return function(){var t=e.apply(this,arguments);return null==t?[]:Wt(t)}}(e):Zt(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,s=t[a],c=s.length,u=0;u<c;++u)(o=s[u])&&(r.push(e.call(o,o.__data__,u,s)),i.push(o));return new Xn(r,i)},selectChild:function(e){return this.select(null==e?Kt:function(e){return function(){return Xt.call(this.children,e)}}("function"===typeof e?e:Yt(e)))},selectChildren:function(e){return this.selectAll(null==e?Qt:function(e){return function(){return Jt.call(this.children,e)}}("function"===typeof e?e:Yt(e)))},filter:function(e){"function"!==typeof e&&(e=Vt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,c=r[i]=[],u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&c.push(a);return new Xn(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,an);var n=t?rn:nn,r=this._parents,i=this._groups;"function"!==typeof e&&(e=tn(e));for(var a=i.length,o=new Array(a),s=new Array(a),c=new Array(a),u=0;u<a;++u){var l=r[u],h=i[u],f=h.length,d=Wt(e.call(l,l&&l.__data__,u,r)),p=d.length,m=s[u]=new Array(p),g=o[u]=new Array(p),v=c[u]=new Array(f);n(l,h,m,g,v,d,t);for(var b,y,_=0,x=0;_<p;++_)if(b=m[_]){for(_>=x&&(x=_+1);!(y=g[x])&&++x<p;);b._next=y||null}}return(o=new Xn(o,r))._enter=s,o._exit=c,o},enter:function(){return new Xn(this._enter||this._groups.map($t),this._parents)},exit:function(){return new Xn(this._exit||this._groups.map($t),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return r="function"===typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){if(!(e instanceof Xn))throw new Error("invalid merge");for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var c,u=t[s],l=n[s],h=u.length,f=o[s]=new Array(h),d=0;d<h;++d)(c=u[d]||l[d])&&(f[d]=c);for(;s<r;++s)o[s]=t[s];return new Xn(o,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=on);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],c=s.length,u=i[a]=new Array(c),l=0;l<c;++l)(o=s[l])&&(u[l]=o);u.sort(t)}return new Xn(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var e,t=0,n=Object(s.a)(this);try{for(n.s();!(e=n.n()).done;){e.value;++t}}catch(r){n.e(r)}finally{n.f()}return t},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=Ft(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?cn:sn:"function"===typeof t?n.local?fn:hn:n.local?ln:un)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?pn:"function"===typeof t?gn:mn)(e,t,null==n?"":n)):vn(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?bn:"function"===typeof t?_n:yn)(e,t)):this.node()[e]},classed:function(e,t){var n=xn(e+"");if(arguments.length<2){for(var r=wn(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?An:t?Sn:Cn)(n,t))},text:function(e){return arguments.length?this.each(null==e?jn:("function"===typeof e?Tn:Pn)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Rn:("function"===typeof e?Mn:Ln)(e)):this.node().innerHTML},raise:function(){return this.each(In)},lower:function(){return this.each(Nn)},append:function(e){var t="function"===typeof e?e:Ut(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:Ut(e),r=null==t?Dn:"function"===typeof t?t:qt(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Fn)},clone:function(e){return this.select(e?Bn:zn)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=Un(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?qn:Hn,r=0;r<o;++r)this.each(s(a[r],t,n));return this}var s=this.node().__on;if(s)for(var c,u=0,l=s.length;u<l;++u)for(r=0,c=s[u];r<o;++r)if((i=a[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"===typeof t?Zn:Gn)(e,t))}},Symbol.iterator,Vn);var ar="\\s*([+-]?\\d+)\\s*",or="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",sr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cr=/^#([0-9a-f]{3,8})$/,ur=new RegExp("^rgb\\("+[ar,ar,ar]+"\\)$"),lr=new RegExp("^rgb\\("+[sr,sr,sr]+"\\)$"),hr=new RegExp("^rgba\\("+[ar,ar,ar,or]+"\\)$"),fr=new RegExp("^rgba\\("+[sr,sr,sr,or]+"\\)$"),dr=new RegExp("^hsl\\("+[or,sr,sr]+"\\)$"),pr=new RegExp("^hsla\\("+[or,sr,sr,or]+"\\)$"),mr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function gr(){return this.rgb().formatHex()}function vr(){return this.rgb().formatRgb()}function br(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?yr(t):3===n?new Er(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?_r(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?_r(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ur.exec(e))?new Er(t[1],t[2],t[3],1):(t=lr.exec(e))?new Er(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=hr.exec(e))?_r(t[1],t[2],t[3],t[4]):(t=fr.exec(e))?_r(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=dr.exec(e))?Cr(t[1],t[2]/100,t[3]/100,1):(t=pr.exec(e))?Cr(t[1],t[2]/100,t[3]/100,t[4]):mr.hasOwnProperty(e)?yr(mr[e]):"transparent"===e?new Er(NaN,NaN,NaN,0):null}function yr(e){return new Er(e>>16&255,e>>8&255,255&e,1)}function _r(e,t,n,r){return r<=0&&(e=t=n=NaN),new Er(e,t,n,r)}function xr(e){return e instanceof ir||(e=br(e)),e?new Er((e=e.rgb()).r,e.g,e.b,e.opacity):new Er}function wr(e,t,n,r){return 1===arguments.length?xr(e):new Er(e,t,n,null==r?1:r)}function Er(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function kr(){return"#"+Sr(this.r)+Sr(this.g)+Sr(this.b)}function Or(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Sr(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Cr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new jr(e,t,n,r)}function Ar(e){if(e instanceof jr)return new jr(e.h,e.s,e.l,e.opacity);if(e instanceof ir||(e=br(e)),!e)return new jr;if(e instanceof jr)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new jr(o,s,c,e.opacity)}function jr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Pr(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}nr(ir,br,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:gr,formatHex:gr,formatHsl:function(){return Ar(this).formatHsl()},formatRgb:vr,toString:vr}),nr(Er,wr,rr(ir,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kr,formatHex:kr,formatRgb:Or,toString:Or})),nr(jr,(function(e,t,n,r){return 1===arguments.length?Ar(e):new jr(e,t,n,null==r?1:r)}),rr(ir,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new jr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new jr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Er(Pr(e>=240?e-240:e+120,i,r),Pr(e,i,r),Pr(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Tr=function(e){return function(){return e}};function Rr(e){return 1===(e=+e)?Lr:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Tr(isNaN(t)?n:t)}}function Lr(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Tr(isNaN(e)?t:e)}var Mr=function e(t){var n=Rr(t);function r(e,t){var r=n((e=wr(e)).r,(t=wr(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=Lr(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Ir(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Nr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dr=new RegExp(Nr.source,"g");function Fr(e,t){var n,r,i,a=Nr.lastIndex=Dr.lastIndex=0,o=-1,s=[],c=[];for(e+="",t+="";(n=Nr.exec(e))&&(r=Dr.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,c.push({i:o,x:Ir(n,r)})),a=Dr.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})}var zr,Br=180/Math.PI,Ur={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hr(e,t,n,r,i,a){var o,s,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Br,skewX:Math.atan(c)*Br,scaleX:o,scaleY:s}}function qr(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],c=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var c=o.push("translate(",null,t,null,n);s.push({i:c-4,x:Ir(e,i)},{i:c-2,x:Ir(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,c),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Ir(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,s,c),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Ir(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,s,c),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Ir(e,n)},{i:s-2,x:Ir(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,c),a=o=null,function(e){for(var t,n=-1,r=c.length;++n<r;)s[(t=c[n]).i]=t.x(e);return s.join("")}}}var Wr=qr((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ur:Hr(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Gr=qr((function(e){return null==e?Ur:(zr||(zr=document.createElementNS("http://www.w3.org/2000/svg","g")),zr.setAttribute("transform",e),(e=zr.transform.baseVal.consolidate())?Hr((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Ur)}),", ",")",")");function Zr(e){return((e=Math.exp(e))+1/e)/2}var Vr,Yr,Xr=function e(t,n,r){function i(e,i){var a,o,s=e[0],c=e[1],u=e[2],l=i[0],h=i[1],f=i[2],d=l-s,p=h-c,m=d*d+p*p;if(m<1e-12)o=Math.log(f/u)/t,a=function(e){return[s+e*d,c+e*p,u*Math.exp(t*e*o)]};else{var g=Math.sqrt(m),v=(f*f-u*u+r*m)/(2*u*n*g),b=(f*f-u*u-r*m)/(2*f*n*g),y=Math.log(Math.sqrt(v*v+1)-v),_=Math.log(Math.sqrt(b*b+1)-b);o=(_-y)/t,a=function(e){var r=e*o,i=Zr(y),a=u/(n*g)*(i*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+y)-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[s+a*d,c+a*p,u*i/Zr(t*r+y)]}}return a.duration=1e3*o*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4),Kr=0,Jr=0,Qr=0,$r=0,ei=0,ti=0,ni="object"===typeof performance&&performance.now?performance:Date,ri="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ii(){return ei||(ri(ai),ei=ni.now()+ti)}function ai(){ei=0}function oi(){this._call=this._time=this._next=null}function si(e,t,n){var r=new oi;return r.restart(e,t,n),r}function ci(){ei=($r=ni.now())+ti,Kr=Jr=0;try{!function(){ii(),++Kr;for(var e,t=Vr;t;)(e=ei-t._time)>=0&&t._call.call(null,e),t=t._next;--Kr}()}finally{Kr=0,function(){var e,t,n=Vr,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Vr=t);Yr=e,li(r)}(),ei=0}}function ui(){var e=ni.now(),t=e-$r;t>1e3&&(ti-=t,$r=e)}function li(e){Kr||(Jr&&(Jr=clearTimeout(Jr)),e-ei>24?(e<1/0&&(Jr=setTimeout(ci,e-ni.now()-ti)),Qr&&(Qr=clearInterval(Qr))):(Qr||($r=ni.now(),Qr=setInterval(ui,1e3)),Kr=1,ri(ci)))}function hi(e,t,n){var r=new oi;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}oi.prototype=si.prototype={constructor:oi,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?ii():+n)+(null==t?0:+t),this._next||Yr===this||(Yr?Yr._next=this:Vr=this,Yr=this),this._call=e,this._time=n,li()},stop:function(){this._call&&(this._call=null,this._time=1/0,li())}};var fi=Tt("start","end","cancel","interrupt"),di=[];function pi(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(c){var u,l,h,f;if(1!==n.state)return s();for(u in i)if((f=i[u]).name===n.name){if(3===f.state)return hi(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[u])}if(hi((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(c))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),u=0,l=-1;u<h;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++l]=f);r.length=l+1}}function o(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=si((function(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:fi,tween:di,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function mi(e,t){var n=vi(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function gi(e,t){var n=vi(e,t);if(n.state>3)throw new Error("too late; already running");return n}function vi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function bi(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}function yi(e,t){var n,r;return function(){var i=gi(this,e),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function _i(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=gi(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=s;break}c===u&&i.push(s)}a.tween=i}}function xi(e,t,n){var r=e._id;return e.each((function(){var e=gi(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return vi(e,r).value[t]}}function wi(e,t){var n;return("number"===typeof t?Ir:t instanceof br?Mr:(n=br(t))?(t=n,Mr):Fr)(e,t)}function Ei(e){return function(){this.removeAttribute(e)}}function ki(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Oi(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function Si(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function Ci(e,t,n){var r,i,a;return function(){var o,s,c=n(this);if(null!=c)return(o=this.getAttribute(e))===(s=c+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,c));this.removeAttribute(e)}}function Ai(e,t,n){var r,i,a;return function(){var o,s,c=n(this);if(null!=c)return(o=this.getAttributeNS(e.space,e.local))===(s=c+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,c));this.removeAttributeNS(e.space,e.local)}}function ji(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Pi(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Ti(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Pi(e,i)),n}return i._value=t,i}function Ri(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&ji(e,i)),n}return i._value=t,i}function Li(e,t){return function(){mi(this,e).delay=+t.apply(this,arguments)}}function Mi(e,t){return t=+t,function(){mi(this,e).delay=t}}function Ii(e,t){return function(){gi(this,e).duration=+t.apply(this,arguments)}}function Ni(e,t){return t=+t,function(){gi(this,e).duration=t}}function Di(e,t){if("function"!==typeof t)throw new Error;return function(){gi(this,e).ease=t}}function Fi(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?mi:gi;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}var zi=Kn.prototype.constructor;function Bi(e){return function(){this.style.removeProperty(e)}}function Ui(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Hi(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Ui(e,a,n)),r}return a._value=t,a}function qi(e){return function(t){this.textContent=e.call(this,t)}}function Wi(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&qi(r)),t}return r._value=e,r}var Gi=0;function Zi(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Vi(){return++Gi}var Yi=Kn.prototype;Zi.prototype=function(e){return Kn().transition(e)}.prototype=Object(i.a)({constructor:Zi,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=qt(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,c,u=r[o],l=u.length,h=a[o]=new Array(l),f=0;f<l;++f)(s=u[f])&&(c=e.call(s,s.__data__,f,u))&&("__data__"in s&&(c.__data__=s.__data__),h[f]=c,pi(h[f],t,n,f,h,vi(s,n)));return new Zi(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Zt(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var c,u=r[s],l=u.length,h=0;h<l;++h)if(c=u[h]){for(var f,d=e.call(c,c.__data__,h,u),p=vi(c,n),m=0,g=d.length;m<g;++m)(f=d[m])&&pi(f,t,n,m,d,p);a.push(d),o.push(c)}return new Zi(a,o,t,n)},filter:function(e){"function"!==typeof e&&(e=Vt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,c=r[i]=[],u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&c.push(a);return new Zi(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var c,u=t[s],l=n[s],h=u.length,f=o[s]=new Array(h),d=0;d<h;++d)(c=u[d]||l[d])&&(f[d]=c);for(;s<r;++s)o[s]=t[s];return new Zi(o,this._parents,this._name,this._id)},selection:function(){return new zi(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Vi(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],c=s.length,u=0;u<c;++u)if(o=s[u]){var l=vi(o,t);pi(o,e,n,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Zi(r,this._parents,e,n)},call:Yi.call,nodes:Yi.nodes,node:Yi.node,size:Yi.size,empty:Yi.empty,each:Yi.each,on:function(e,t){var n=this._id;return arguments.length<2?vi(this.node(),n).on.on(e):this.each(Fi(n,e,t))},attr:function(e,t){var n=Ft(e),r="transform"===n?Gr:wi;return this.attrTween(e,"function"===typeof t?(n.local?Ai:Ci)(n,r,xi(this,"attr."+e,t)):null==t?(n.local?ki:Ei)(n):(n.local?Si:Oi)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=Ft(e);return this.tween(n,(r.local?Ti:Ri)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?Wr:wi;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=vn(this,e),o=(this.style.removeProperty(e),vn(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,Bi(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=vn(this,e),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(e),c=s=vn(this,e)),o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s))}}(e,r,xi(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,s="end."+o;return function(){var c=gi(this,e),u=c.on,l=null==c.value[o]?a||(a=Bi(t)):void 0;u===n&&i===l||(r=(n=u).copy()).on(s,i=l),c.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=vn(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,Hi(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(xi(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,Wi(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=vi(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?yi:_i)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Li:Mi)(t,e)):vi(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Ii:Ni)(t,e)):vi(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Di(t,e)):vi(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;gi(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},c={value:function(){0===--i&&a()}};n.each((function(){var n=gi(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),n.on=t})),0===i&&a()}))}},Symbol.iterator,Yi[Symbol.iterator]);var Xi={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Ki(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Kn.prototype.interrupt=function(e){return this.each((function(){bi(this,e)}))},Kn.prototype.transition=function(e){var t,n;e instanceof Zi?(t=e._id,e=e._name):(t=Vi(),(n=Xi).time=ii(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],c=s.length,u=0;u<c;++u)(o=s[u])&&pi(o,e,t,u,s,n||Ki(o,t));return new Zi(r,this._parents,e,t)};var Ji=function(e){return function(){return e}};function Qi(e,t){var n=t.sourceEvent,r=t.target,i=t.transform,a=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function $i(e,t,n){this.k=e,this.x=t,this.y=n}$i.prototype={constructor:$i,scale:function(e){return 1===e?this:new $i(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new $i(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ea=new $i(1,0,0);function ta(e){e.stopImmediatePropagation()}function na(e){e.preventDefault(),e.stopImmediatePropagation()}function ra(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function ia(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function aa(){return this.__zoom||ea}function oa(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function sa(){return navigator.maxTouchPoints||"ontouchstart"in this}function ca(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}var ua,la,ha,fa,da,pa;!function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(ua||(ua={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(la||(la={})),function(e){e.Lines="lines",e.Dots="dots"}(ha||(ha={})),function(e){e.Strict="strict",e.Loose="loose"}(fa||(fa={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep"}(da||(da={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(pa||(pa={}));var ma=function(e,t){return e.x!==t.x||e.y!==t.y||e.zoom!==t.k},ga=function(e){return{x:e.x,y:e.y,zoom:e.k}},va=function(e){var t=e.onMove,n=e.onMoveStart,r=e.onMoveEnd,i=e.zoomOnScroll,a=void 0===i||i,o=e.panOnScroll,s=void 0!==o&&o,l=e.panOnScrollSpeed,h=void 0===l?.5:l,f=e.panOnScrollMode,d=void 0===f?pa.Free:f,p=e.zoomOnDoubleClick,m=void 0===p||p,g=e.selectionKeyPressed,v=e.elementsSelectable,b=e.paneMoveable,y=void 0===b||b,_=e.defaultPosition,x=void 0===_?[0,0]:_,w=e.defaultZoom,E=void 0===w?1:w,k=e.translateExtent,O=e.children,S=Object(c.useRef)(null),C=Object(c.useRef)({x:0,y:0,zoom:0}),A=lt(),j=ut((function(e){return e.d3Zoom})),P=ut((function(e){return e.d3Selection})),T=ut((function(e){return e.d3ZoomHandler})),R=ct((function(e){return e.initD3Zoom})),L=ct((function(e){return e.updateTransform}));return function(e){var t=ct((function(e){return e.updateSize}));Object(c.useEffect)((function(){var n,r=function(){if(e.current){var n=ft(e.current);0!==n.height&&0!==n.width||console.warn("The React Flow parent container needs a width and a height to render the graph."),t(n)}};return r(),window.onresize=r,e.current&&(n=new ResizeObserver((function(){return r()}))).observe(e.current),function(){window.onresize=null,n&&e.current&&n.unobserve(e.current)}}),[])}(S),Object(c.useEffect)((function(){if(S.current){var e=A.getState(),t="undefined"!==typeof k?k:e.translateExtent,n=function(){var e,t,n,r=ra,i=ia,a=ca,o=oa,s=sa,c=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],l=250,h=Xr,f=Tt("start","zoom","end"),d=0,p=10;function m(e){e.property("__zoom",aa).on("wheel.zoom",w).on("mousedown.zoom",E).on("dblclick.zoom",k).filter(s).on("touchstart.zoom",O).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(c[0],Math.min(c[1],t)))===e.k?e:new $i(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new $i(e.k,r,i)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function y(e,t,n,r){e.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,a=arguments,o=_(e,a).event(r),s=i.apply(e,a),c=null==n?b(s):"function"===typeof n?n.apply(e,a):n,u=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),l=e.__zoom,f="function"===typeof t?t.apply(e,a):t,d=h(l.invert(c).concat(u/l.k),f.invert(c).concat(u/f.k));return function(e){if(1===e)e=f;else{var t=d(e),n=u/t[2];e=new $i(n,c[0]-t[0]*n,c[1]-t[1]*n)}o.zoom(null,e)}}))}function _(e,t,n){return!n&&e.__zooming||new x(e,t)}function x(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var s=_(this,n).event(e),l=this.__zoom,h=Math.max(c[0],Math.min(c[1],l.k*Math.pow(2,o.apply(this,arguments)))),f=Qn(e);if(s.wheel)s.mouse[0][0]===f[0]&&s.mouse[0][1]===f[1]||(s.mouse[1]=l.invert(s.mouse[0]=f)),clearTimeout(s.wheel);else{if(l.k===h)return;s.mouse=[f,l.invert(f)],bi(this),s.start()}na(e),s.wheel=setTimeout(d,150),s.zoom("mouse",a(v(g(l,h),s.mouse[0],s.mouse[1]),s.extent,u))}function d(){s.wheel=null,s.end()}}function E(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(!n&&r.apply(this,arguments)){var s=_(this,i,!0).event(e),c=Jn(e.view).on("mousemove.zoom",m,!0).on("mouseup.zoom",g,!0),l=Qn(e,h),h=e.currentTarget,f=e.clientX,p=e.clientY;er(e.view),ta(e),s.mouse=[l,this.__zoom.invert(l)],bi(this),s.start()}function m(e){if(na(e),!s.moved){var t=e.clientX-f,n=e.clientY-p;s.moved=t*t+n*n>d}s.event(e).zoom("mouse",a(v(s.that.__zoom,s.mouse[0]=Qn(e,h),s.mouse[1]),s.extent,u))}function g(e){c.on("mousemove.zoom mouseup.zoom",null),tr(e.view,s.moved),na(e),s.event(e).end()}}function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var s=this.__zoom,c=Qn(e.changedTouches?e.changedTouches[0]:e,this),h=s.invert(c),f=s.k*(e.shiftKey?.5:2),d=a(v(g(s,f),c,h),i.apply(this,n),u);na(e),l>0?Jn(this).transition().duration(l).call(y,d,c,e):Jn(this).call(m.transform,d,c,e)}}function O(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(r.apply(this,arguments)){var s,c,u,l,h=n.touches,f=h.length,d=_(this,a,n.changedTouches.length===f).event(n);for(ta(n),c=0;c<f;++c)l=[l=Qn(u=h[c],this),this.__zoom.invert(l),u.identifier],d.touch0?d.touch1||d.touch0[2]===l[2]||(d.touch1=l,d.taps=0):(d.touch0=l,s=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(d.taps<2&&(t=l[0],e=setTimeout((function(){e=null}),500)),bi(this),d.start())}}function S(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s,c,l=_(this,n).event(e),h=e.changedTouches,f=h.length;for(na(e),i=0;i<f;++i)s=Qn(o=h[i],this),l.touch0&&l.touch0[2]===o.identifier?l.touch0[0]=s:l.touch1&&l.touch1[2]===o.identifier&&(l.touch1[0]=s);if(o=l.that.__zoom,l.touch1){var d=l.touch0[0],p=l.touch0[1],m=l.touch1[0],b=l.touch1[1],y=(y=m[0]-d[0])*y+(y=m[1]-d[1])*y,x=(x=b[0]-p[0])*x+(x=b[1]-p[1])*x;o=g(o,Math.sqrt(y/x)),s=[(d[0]+m[0])/2,(d[1]+m[1])/2],c=[(p[0]+b[0])/2,(p[1]+b[1])/2]}else{if(!l.touch0)return;s=l.touch0[0],c=l.touch0[1]}l.zoom("touch",a(v(o,s,c),l.extent,u))}}function C(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(this.__zooming){var o,s,c=_(this,i).event(e),u=e.changedTouches,l=u.length;for(ta(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),o=0;o<l;++o)s=u[o],c.touch0&&c.touch0[2]===s.identifier?delete c.touch0:c.touch1&&c.touch1[2]===s.identifier&&delete c.touch1;if(c.touch1&&!c.touch0&&(c.touch0=c.touch1,delete c.touch1),c.touch0)c.touch0[1]=this.__zoom.invert(c.touch0[0]);else if(c.end(),2===c.taps&&(s=Qn(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<p)){var h=Jn(this).on("dblclick.zoom");h&&h.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",aa),e!==i?y(e,t,n,r):i.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,r){m.scaleTo(e,(function(){var e=this.__zoom.k,n="function"===typeof t?t.apply(this,arguments):t;return e*n}),n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,o=null==n?b(e):"function"===typeof n?n.apply(this,arguments):n,s=r.invert(o),c="function"===typeof t?t.apply(this,arguments):t;return a(v(g(r,c),o,s),e,u)}),n,r)},m.translateBy=function(e,t,n,r){m.transform(e,(function(){return a(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),u)}),null,r)},m.translateTo=function(e,t,n,r,o){m.transform(e,(function(){var e=i.apply(this,arguments),o=this.__zoom,s=null==r?b(e):"function"===typeof r?r.apply(this,arguments):r;return a(ea.translate(s[0],s[1]).scale(o.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,u)}),r,o)},x.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Jn(this.that).datum();f.call(e,this.that,new Qi(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:f}),t)}},m.wheelDelta=function(e){return arguments.length?(o="function"===typeof e?e:Ji(+e),m):o},m.filter=function(e){return arguments.length?(r="function"===typeof e?e:Ji(!!e),m):r},m.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Ji(!!e),m):s},m.extent=function(e){return arguments.length?(i="function"===typeof e?e:Ji([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):i},m.scaleExtent=function(e){return arguments.length?(c[0]=+e[0],c[1]=+e[1],m):[c[0],c[1]]},m.translateExtent=function(e){return arguments.length?(u[0][0]=+e[0][0],u[1][0]=+e[1][0],u[0][1]=+e[0][1],u[1][1]=+e[1][1],m):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},m.constrain=function(e){return arguments.length?(a=e,m):a},m.duration=function(e){return arguments.length?(l=+e,m):l},m.interpolate=function(e){return arguments.length?(h=e,m):h},m.on=function(){var e=f.on.apply(f,arguments);return e===f?m:e},m.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,m):Math.sqrt(d)},m.tapDistance=function(e){return arguments.length?(p=+e,m):p},m}().scaleExtent([e.minZoom,e.maxZoom]).translateExtent(t),r=Jn(S.current).call(n),i=dt(x[0],t[0][0],t[1][0]),a=dt(x[1],t[0][1],t[1][1]),o=dt(E,e.minZoom,e.maxZoom),s=ea.translate(i,a).scale(o);n.transform(r,s),R({d3Zoom:n,d3Selection:r,d3ZoomHandler:r.on("wheel.zoom"),transform:[i,a,o]})}}),[]),Object(c.useEffect)((function(){P&&j&&(s?P.on("wheel",(function(e){e.preventDefault(),e.stopImmediatePropagation();var t=P.property("__zoom").k||1,n=1===e.deltaMode?20:1,r=d===pa.Vertical?0:e.deltaX*n,i=d===pa.Horizontal?0:e.deltaY*n;j.translateBy(P,-r/t*h,-i/t*h)})).on("wheel.zoom",null):"undefined"!==typeof T&&P.on("wheel",null).on("wheel.zoom",T))}),[s,d,P,j,T]),Object(c.useEffect)((function(){j&&(g?j.on("zoom",null):j.on("zoom",(function(e){if(L([e.transform.x,e.transform.y,e.transform.k]),t){var n=ga(e.transform);t(n)}})))}),[g,j,L,t]),Object(c.useEffect)((function(){j&&(n?j.on("start",(function(e){if(ma(C.current,e.transform)){var t=ga(e.transform);C.current=t,n(t)}})):j.on("start",null))}),[j,n]),Object(c.useEffect)((function(){j&&(r?j.on("end",(function(e){if(ma(C.current,e.transform)){var t=ga(e.transform);C.current=t,r(t)}})):j.on("end",null))}),[j,r]),Object(c.useEffect)((function(){j&&j.filter((function(e){return!!(y||a||s||m)&&(!g&&(!(!m&&"dblclick"===e.type)&&((!e.target.closest(".nowheel")||"wheel"!==e.type)&&((!e.target.closest(".react-flow__node")&&!e.target.closest(".react-flow__edgeupdater")||"wheel"===e.type)&&((!e.target.closest(".react-flow__nodesselection")||"wheel"===e.type)&&(!(!a&&!s&&"wheel"===e.type)&&(!(!y&&"mousedown"===e.type)&&((!e.ctrlKey||"wheel"===e.type)&&!e.button))))))))}))}),[j,a,s,m,y,g,v]),u.a.createElement("div",{className:"react-flow__renderer react-flow__zoompane",ref:S},O)};function ba(e){var t=e.target.closest(".react-flow");if(t){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}}var ya=function(){var e=ut((function(e){return e.userSelectionRect}));return e.draw?u.a.createElement("div",{className:"react-flow__selection",style:{width:e.width,height:e.height,transform:"translate("+e.x+"px, "+e.y+"px)"}}):null},_a=Object(c.memo)((function(e){var t=e.selectionKeyPressed,n=ut((function(e){return e.selectionActive})),r=ut((function(e){return e.elementsSelectable})),i=ct((function(e){return e.setUserSelection})),a=ct((function(e){return e.updateUserSelection})),o=ct((function(e){return e.unsetUserSelection})),s=ct((function(e){return e.unsetNodesSelection}));if(!r||!(n||t))return null;return u.a.createElement("div",{className:"react-flow__selectionpane",onMouseDown:function(e){var t=ba(e);t&&i(t)},onMouseMove:function(e){if(t&&n){var r=ba(e);r&&a(r)}},onMouseUp:function(){return o()},onMouseLeave:function(){o(),s()}},u.a.createElement(ya,null))})),xa="function"===typeof Symbol&&Symbol.for,wa=xa?Symbol.for("react.element"):60103,Ea=xa?Symbol.for("react.portal"):60106,ka=xa?Symbol.for("react.fragment"):60107,Oa=xa?Symbol.for("react.strict_mode"):60108,Sa=xa?Symbol.for("react.profiler"):60114,Ca=xa?Symbol.for("react.provider"):60109,Aa=xa?Symbol.for("react.context"):60110,ja=xa?Symbol.for("react.async_mode"):60111,Pa=xa?Symbol.for("react.concurrent_mode"):60111,Ta=xa?Symbol.for("react.forward_ref"):60112,Ra=xa?Symbol.for("react.suspense"):60113,La=xa?Symbol.for("react.suspense_list"):60120,Ma=xa?Symbol.for("react.memo"):60115,Ia=xa?Symbol.for("react.lazy"):60116,Na=xa?Symbol.for("react.block"):60121,Da=xa?Symbol.for("react.fundamental"):60117,Fa=xa?Symbol.for("react.responder"):60118,za=xa?Symbol.for("react.scope"):60119;function Ba(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case wa:switch(e=e.type){case ja:case Pa:case ka:case Sa:case Oa:case Ra:return e;default:switch(e=e&&e.$$typeof){case Aa:case Ta:case Ia:case Ma:case Ca:return e;default:return t}}case Ea:return t}}}function Ua(e){return Ba(e)===Pa}var Ha={AsyncMode:ja,ConcurrentMode:Pa,ContextConsumer:Aa,ContextProvider:Ca,Element:wa,ForwardRef:Ta,Fragment:ka,Lazy:Ia,Memo:Ma,Portal:Ea,Profiler:Sa,StrictMode:Oa,Suspense:Ra,isAsyncMode:function(e){return Ua(e)||Ba(e)===ja},isConcurrentMode:Ua,isContextConsumer:function(e){return Ba(e)===Aa},isContextProvider:function(e){return Ba(e)===Ca},isElement:function(e){return"object"===typeof e&&null!==e&&e.$$typeof===wa},isForwardRef:function(e){return Ba(e)===Ta},isFragment:function(e){return Ba(e)===ka},isLazy:function(e){return Ba(e)===Ia},isMemo:function(e){return Ba(e)===Ma},isPortal:function(e){return Ba(e)===Ea},isProfiler:function(e){return Ba(e)===Sa},isStrictMode:function(e){return Ba(e)===Oa},isSuspense:function(e){return Ba(e)===Ra},isValidElementType:function(e){return"string"===typeof e||"function"===typeof e||e===ka||e===Pa||e===Sa||e===Oa||e===Ra||e===La||"object"===typeof e&&null!==e&&(e.$$typeof===Ia||e.$$typeof===Ma||e.$$typeof===Ca||e.$$typeof===Aa||e.$$typeof===Ta||e.$$typeof===Da||e.$$typeof===Fa||e.$$typeof===za||e.$$typeof===Na)},typeOf:Ba},qa=(b((function(e,t){0})),b((function(e){e.exports=Ha})),Object.getOwnPropertySymbols),Wa=Object.prototype.hasOwnProperty,Ga=Object.prototype.propertyIsEnumerable;function Za(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}})()&&Object.assign;var Va="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function Ya(e,t,n,r,i){}Ya.resetWarningCache=function(){0};Function.call.bind(Object.prototype.hasOwnProperty);function Xa(){}function Ka(){}Ka.resetWarningCache=Xa;var Ja=b((function(e){e.exports=function(){function e(e,t,n,r,i,a){if(a!==Va){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ka,resetWarningCache:Xa};return n.PropTypes=n,n}()})),Qa=b((function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var a=typeof i;if("string"===a||"number"===a)e.push(i);else if(Array.isArray(i)&&i.length){var o=n.apply(null,i);o&&e.push(o)}else if("object"===a)for(var s in i)t.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()})),$a=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},eo=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},to=function(e){return"number"===typeof e&&!isNaN(e)},no=function(e){return parseInt(e,10)},ro=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))};var io=Object.defineProperty({findInArray:$a,isFunction:eo,isNum:to,int:no,dontSetMe:ro},"__esModule",{value:!0});function ao(e){return(ao="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var oo=To,so=function(e,t,n){var r=e;do{if(To(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},co=function(e,t,n,r){if(!e)return;var i=Ao({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},uo=function(e,t,n,r){if(!e)return;var i=Ao({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},lo=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,io.int)(n.borderTopWidth),t+=(0,io.int)(n.borderBottomWidth)},ho=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,io.int)(n.borderLeftWidth),t+=(0,io.int)(n.borderRightWidth)},fo=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,io.int)(n.paddingTop),t-=(0,io.int)(n.paddingBottom)},po=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,io.int)(n.paddingLeft),t-=(0,io.int)(n.paddingRight)},mo=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-r.left)/n,a=(e.clientY+t.scrollTop-r.top)/n;return{x:i,y:a}},go=function(e,t){var n=Ro(e,t,"px");return jo({},(0,Oo.browserPrefixToKey)("transform",Oo.default),n)},vo=function(e,t){return Ro(e,t,"")},bo=Ro,yo=function(e,t){return e.targetTouches&&(0,io.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,io.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},_o=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},xo=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&Lo(e.body,"react-draggable-transparent-selection")},wo=function(e){if(!e)return;try{if(e.body&&Mo(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(n){}},Eo=Lo,ko=Mo,Oo=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==ao(e)&&"function"!==typeof e)return{default:e};var t=So();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=r,t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0;var n=["Moz","Webkit","O","ms"];function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window||"undefined"===typeof window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var r=0;r<n.length;r++)if(i(e,n[r])in t)return n[r];return""}function i(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var a=r();t.default=a})));function So(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return So=function(){return e},e}function Co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(n),!0).forEach((function(t){jo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Po="";function To(e,t){return Po||(Po=(0,io.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,io.isFunction)(e[t])}))),!!(0,io.isFunction)(e[Po])&&e[Po](t)}function Ro(e,t,n){var r=e.x,i=e.y,a="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var o="".concat("string"===typeof t.x?t.x:t.x+n),s="".concat("string"===typeof t.y?t.y:t.y+n);a="translate(".concat(o,", ").concat(s,")")+a}return a}function Lo(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function Mo(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var Io=Object.defineProperty({matchesSelector:oo,matchesSelectorAndParentsTo:so,addEvent:co,removeEvent:uo,outerHeight:lo,outerWidth:ho,innerHeight:fo,innerWidth:po,offsetXYFromParent:mo,createCSSTransform:go,createSVGTransform:vo,getTranslation:bo,getTouch:yo,getTouchIdentifier:_o,addUserSelectStyles:xo,removeUserSelectStyles:wo,addClassName:Eo,removeClassName:ko},"__esModule",{value:!0}),No=function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"===typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var i=qo(e);if("string"===typeof r){var a,o=i.ownerDocument,s=o.defaultView;if(!((a="parent"===r?i.parentNode:o.querySelector(r))instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var c=s.getComputedStyle(i),u=s.getComputedStyle(a);r={left:-i.offsetLeft+(0,io.int)(u.paddingLeft)+(0,io.int)(c.marginLeft),top:-i.offsetTop+(0,io.int)(u.paddingTop)+(0,io.int)(c.marginTop),right:(0,Io.innerWidth)(a)-(0,Io.outerWidth)(i)-i.offsetLeft+(0,io.int)(u.paddingRight)-(0,io.int)(c.marginRight),bottom:(0,Io.innerHeight)(a)-(0,Io.outerHeight)(i)-i.offsetTop+(0,io.int)(u.paddingBottom)-(0,io.int)(c.marginBottom)}}(0,io.isNum)(r.right)&&(t=Math.min(t,r.right));(0,io.isNum)(r.bottom)&&(n=Math.min(n,r.bottom));(0,io.isNum)(r.left)&&(t=Math.max(t,r.left));(0,io.isNum)(r.top)&&(n=Math.max(n,r.top));return[t,n]},Do=function(e,t,n){var r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]},Fo=function(e){return"both"===e.props.axis||"x"===e.props.axis},zo=function(e){return"both"===e.props.axis||"y"===e.props.axis},Bo=function(e,t,n){var r="number"===typeof t?(0,Io.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;var i=qo(n),a=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Io.offsetXYFromParent)(r||e,a,n.props.scale)},Uo=function(e,t,n){var r=e.state,i=!(0,io.isNum)(r.lastX),a=qo(e);return i?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}},Ho=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}};function qo(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Wo=Object.defineProperty({getBoundPosition:No,snapToGrid:Do,canDragX:Fo,canDragY:zo,getControlPosition:Bo,createCoreData:Uo,createDraggableData:Ho},"__esModule",{value:!0}),Go=function(){};var Zo=Object.defineProperty({default:Go},"__esModule",{value:!0}),Vo=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(u.a),r=o(Ja),i=o(h.a),a=o(Zo);function o(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={start:"touchstart",move:"touchmove",stop:"touchend"},w={start:"mousedown",move:"mousemove",stop:"mouseup"},E=w,k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,r,o,s=g(c);function c(){var e;d(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(b(e=s.call.apply(s,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),_(b(e),"mounted",!1),_(b(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"===typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,Io.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,Io.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var i=(0,Io.getTouchIdentifier)(t);e.setState({touchIdentifier:i});var o=(0,Wo.getControlPosition)(t,i,b(e));if(null!=o){var s=o.x,c=o.y,u=(0,Wo.createCoreData)(b(e),s,c);(0,a.default)("DraggableCore: handleDragStart: %j",u),(0,a.default)("calling",e.props.onStart),!1!==e.props.onStart(t,u)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,Io.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:s,lastY:c}),(0,Io.addEvent)(r,E.move,e.handleDrag),(0,Io.addEvent)(r,E.stop,e.handleDragStop))}}})),_(b(e),"handleDrag",(function(t){var n=(0,Wo.getControlPosition)(t,e.state.touchIdentifier,b(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var o=r-e.state.lastX,s=i-e.state.lastY,c=l((0,Wo.snapToGrid)(e.props.grid,o,s),2);if(o=c[0],s=c[1],!o&&!s)return;r=e.state.lastX+o,i=e.state.lastY+s}var u=(0,Wo.createCoreData)(b(e),r,i);if((0,a.default)("DraggableCore: handleDrag: %j",u),!1!==e.props.onDrag(t,u)&&!1!==e.mounted)e.setState({lastX:r,lastY:i});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(f){var h=document.createEvent("MouseEvents");h.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(h)}}})),_(b(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,Wo.getControlPosition)(t,e.state.touchIdentifier,b(e));if(null!=n){var r=n.x,i=n.y,o=(0,Wo.createCoreData)(b(e),r,i);if(!1===e.props.onStop(t,o)||!1===e.mounted)return!1;var s=e.findDOMNode();s&&e.props.enableUserSelectHack&&(0,Io.removeUserSelectStyles)(s.ownerDocument),(0,a.default)("DraggableCore: handleDragStop: %j",o),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),s&&((0,a.default)("DraggableCore: Removing handlers"),(0,Io.removeEvent)(s.ownerDocument,E.move,e.handleDrag),(0,Io.removeEvent)(s.ownerDocument,E.stop,e.handleDragStop))}}})),_(b(e),"onMouseDown",(function(t){return E=w,e.handleDragStart(t)})),_(b(e),"onMouseUp",(function(t){return E=w,e.handleDragStop(t)})),_(b(e),"onTouchStart",(function(t){return E=x,e.handleDragStart(t)})),_(b(e),"onTouchEnd",(function(t){return E=x,e.handleDragStop(t)})),e}return t=c,(r=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,Io.addEvent)(e,x.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,Io.removeEvent)(t,w.move,this.handleDrag),(0,Io.removeEvent)(t,x.move,this.handleDrag),(0,Io.removeEvent)(t,w.stop,this.handleDragStop),(0,Io.removeEvent)(t,x.stop,this.handleDragStop),(0,Io.removeEvent)(e,x.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Io.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:i.default.findDOMNode(this)}},{key:"render",value:function(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&p(t.prototype,r),o&&p(t,o),c}(n.Component);t.default=k,_(k,"displayName","DraggableCore"),_(k,"propTypes",{allowAnyClick:r.default.bool,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:r.default.arrayOf(r.default.number),handle:r.default.string,cancel:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number,className:io.dontSetMe,style:io.dontSetMe,transform:io.dontSetMe}),_(k,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})})),Yo=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return o.default}}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(u.a),r=c(Ja),i=c(h.a),a=c(Qa),o=c(Vo),s=c(Zo);function c(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var i=O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(r,e);var t=w(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),S(k(n=t.call(this,e)),"onDragStart",(function(e,t){if((0,s.default)("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,(0,Wo.createDraggableData)(k(n),t)))return!1;n.setState({dragging:!0,dragged:!0})})),S(k(n),"onDrag",(function(e,t){if(!n.state.dragging)return!1;(0,s.default)("Draggable: onDrag: %j",t);var r=(0,Wo.createDraggableData)(k(n),t),i={x:r.x,y:r.y};if(n.props.bounds){var a=i.x,o=i.y;i.x+=n.state.slackX,i.y+=n.state.slackY;var c=m((0,Wo.getBoundPosition)(k(n),i.x,i.y),2),u=c[0],l=c[1];i.x=u,i.y=l,i.slackX=n.state.slackX+(a-i.x),i.slackY=n.state.slackY+(o-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-n.state.x,r.deltaY=i.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(i)})),S(k(n),"onDragStop",(function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,(0,Wo.createDraggableData)(k(n),t)))return!1;(0,s.default)("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var i=n.props.position,a=i.x,o=i.y;r.x=a,r.y=o}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:b({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return _(r,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,s.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:b({},n)})}}]),_(r,[{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:i.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,r=(t.axis,t.bounds,t.children),i=t.defaultPosition,s=t.defaultClassName,c=t.defaultClassNameDragging,u=t.defaultClassNameDragged,l=t.position,h=t.positionOffset,f=(t.scale,p(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),m={},g=null,v=!Boolean(l)||this.state.dragging,y=l||i,_={x:(0,Wo.canDragX)(this)&&v?this.state.x:y.x,y:(0,Wo.canDragY)(this)&&v?this.state.y:y.y};this.state.isElementSVG?g=(0,Io.createSVGTransform)(_,h):m=(0,Io.createCSSTransform)(_,h);var x=(0,a.default)(r.props.className||"",s,(S(e={},c,this.state.dragging),S(e,u,this.state.dragged),e));return n.createElement(o.default,d({},f,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(r),{className:x,style:b(b({},r.props.style),m),transform:g}))}}]),r}(n.Component);t.default=C,S(C,"displayName","Draggable"),S(C,"propTypes",b(b({},o.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:io.dontSetMe,style:io.dontSetMe,transform:io.dontSetMe})),S(C,"defaultProps",b(b({},o.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))})),Xo=Yo.default,Ko=Yo.DraggableCore,Jo=Xo,Qo=Xo,$o=Ko;Jo.default=Qo,Jo.DraggableCore=$o;var es=function(e){var t=e.onSelectionDragStart,n=e.onSelectionDrag,r=e.onSelectionDragStop,i=e.onSelectionContextMenu,a=ut((function(e){return e.transform})),o=a[0],s=a[1],l=a[2],h=ut((function(e){return e.selectedNodesBbox})),f=ut((function(e){return e.selectionActive})),p=ut((function(e){return e.selectedElements})),m=ut((function(e){return e.snapToGrid})),g=ut((function(e){return e.snapGrid})),v=ut((function(e){return e.nodes})),b=ct((function(e){return e.updateNodePosDiff})),y=Object(c.useRef)(null),_=Object(c.useMemo)((function(){return m?g:[1,1]}),[m,g]),x=Object(c.useMemo)((function(){return p?p.filter(gt).map((function(e){var t=v.find((function(t){return t.id===e.id}));return d(d({},t),{position:null===t||void 0===t?void 0:t.__rf.position})})):[]}),[p,v]),w=Object(c.useMemo)((function(){return{transform:"translate("+o+"px,"+s+"px) scale("+l+")"}}),[o,s,l]),E=Object(c.useMemo)((function(){return{width:h.width,height:h.height,top:h.y,left:h.x}}),[h]),k=Object(c.useCallback)((function(e){null===t||void 0===t||t(e,x)}),[t,x]),O=Object(c.useCallback)((function(e,t){n&&n(e,x),b({diff:{x:t.deltaX,y:t.deltaY}})}),[n,x,b]),S=Object(c.useCallback)((function(e){b({isDragging:!1}),null===r||void 0===r||r(e,x)}),[x,r]),C=Object(c.useCallback)((function(e){var t=p?p.filter(gt).map((function(e){return v.find((function(t){return t.id===e.id}))})):[];null===i||void 0===i||i(e,t)}),[i]);return!p||f?null:u.a.createElement("div",{className:"react-flow__nodesselection",style:w},u.a.createElement(Jo,{scale:l,grid:_,onStart:function(e){return k(e)},onDrag:function(e,t){return O(e,t)},onStop:function(e){return S(e)},nodeRef:y},u.a.createElement("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:C,style:E})))},ts=function(e){var t=e.children,n=e.onPaneClick,r=e.onPaneContextMenu,i=e.onPaneScroll,a=e.onElementsRemove,o=e.deleteKeyCode,s=e.onMove,l=e.onMoveStart,h=e.onMoveEnd,f=e.selectionKeyCode,d=e.multiSelectionKeyCode,m=e.elementsSelectable,g=e.zoomOnScroll,v=e.panOnScroll,b=e.panOnScrollSpeed,y=e.panOnScrollMode,_=e.zoomOnDoubleClick,x=e.paneMoveable,w=e.defaultPosition,E=e.defaultZoom,k=e.translateExtent,O=e.onSelectionDragStart,S=e.onSelectionDrag,C=e.onSelectionDragStop,A=e.onSelectionContextMenu,j=ct((function(e){return e.unsetNodesSelection})),P=ct((function(e){return e.resetSelectedElements})),T=ut((function(e){return e.nodesSelectionActive})),R=pt(f);!function(e){var t=e.deleteKeyCode,n=e.multiSelectionKeyCode,r=e.onElementsRemove,i=lt(),a=ct((function(e){return e.unsetNodesSelection})),o=ct((function(e){return e.setMultiSelectionActive})),s=ct((function(e){return e.resetSelectedElements})),u=pt(t),l=pt(n);Object(c.useEffect)((function(){var e=i.getState(),t=e.edges,n=e.selectedElements;if(r&&u&&n){var o=n.filter(gt),c=p(n,St(o,t)).reduce((function(e,t){return e.set(t.id,t)}),new Map);r(Array.from(c.values())),a(),s()}}),[u]),Object(c.useEffect)((function(){o(l)}),[l])}({onElementsRemove:a,deleteKeyCode:o,multiSelectionKeyCode:d});var L=Object(c.useCallback)((function(e){null===n||void 0===n||n(e),j(),P()}),[n]),M=Object(c.useCallback)((function(e){null===r||void 0===r||r(e)}),[r]),I=Object(c.useCallback)((function(e){null===i||void 0===i||i(e)}),[i]);return u.a.createElement(va,{onMove:s,onMoveStart:l,onMoveEnd:h,selectionKeyPressed:R,elementsSelectable:m,zoomOnScroll:g,panOnScroll:v,panOnScrollSpeed:b,panOnScrollMode:y,zoomOnDoubleClick:_,paneMoveable:x,defaultPosition:w,defaultZoom:E,translateExtent:k},t,u.a.createElement(_a,{selectionKeyPressed:R}),T&&u.a.createElement(es,{onSelectionDragStart:O,onSelectionDrag:S,onSelectionDragStop:C,onSelectionContextMenu:A}),u.a.createElement("div",{className:"react-flow__pane",onClick:L,onContextMenu:M,onWheel:I}))};ts.displayName="FlowRenderer";var ns=Object(c.memo)(ts),rs=function(e){var t=ut((function(e){return e.transform})),n=ut((function(e){return e.selectedElements})),r=ut((function(e){return e.nodesDraggable})),i=ut((function(e){return e.nodesConnectable})),a=ut((function(e){return e.elementsSelectable})),o=ut((function(e){return e.viewportBox})),s=ut((function(e){return e.nodes})),l=ct((function(e){return e.batchUpdateNodeDimensions})),h=e.onlyRenderVisibleElements?Ot(s,o,t,!0):s,f=Object(c.useMemo)((function(){return{transform:"translate("+t[0]+"px,"+t[1]+"px) scale("+t[2]+")"}}),[t[0],t[1],t[2]]),d=Object(c.useMemo)((function(){return"undefined"===typeof ResizeObserver?null:new ResizeObserver((function(e){var t=e.map((function(e){return{id:e.target.getAttribute("data-id"),nodeElement:e.target}}));l({updates:t})}))}),[]);return u.a.createElement("div",{className:"react-flow__nodes",style:f},h.map((function(o){var s=o.type||"default",c=e.nodeTypes[s]||e.nodeTypes.default;e.nodeTypes[s]||console.warn('Node type "'+s+'" not found. Using fallback type "default".');var l=!!(o.draggable||r&&"undefined"===typeof o.draggable),h=!!(o.selectable||a&&"undefined"===typeof o.selectable),f=!!(o.connectable||i&&"undefined"===typeof o.connectable);return u.a.createElement(c,{key:o.id,id:o.id,className:o.className,style:o.style,type:s,data:o.data,sourcePosition:o.sourcePosition,targetPosition:o.targetPosition,isHidden:o.isHidden,xPos:o.__rf.position.x,yPos:o.__rf.position.y,isDragging:o.__rf.isDragging,isInitialized:null!==o.__rf.width&&null!==o.__rf.height,snapGrid:e.snapGrid,snapToGrid:e.snapToGrid,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onElementClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onNodeDragStart:e.onNodeDragStart,onNodeDragStop:e.onNodeDragStop,scale:t[2],selected:(null===n||void 0===n?void 0:n.some((function(e){return e.id===o.id})))||!1,isDraggable:l,isSelectable:h,isConnectable:f,resizeObserver:d})})))};rs.displayName="NodeRenderer";var is=Object(c.memo)(rs),as=Object(c.memo)((function(e){var t=e.x,n=e.y,r=e.label,i=e.labelStyle,a=void 0===i?{}:i,o=e.labelShowBg,s=void 0===o||o,l=e.labelBgStyle,h=void 0===l?{}:l,f=e.labelBgPadding,d=void 0===f?[2,4]:f,p=e.labelBgBorderRadius,m=void 0===p?2:p,g=Object(c.useRef)(null),v=Object(c.useState)({x:0,y:0,width:0,height:0}),b=v[0],y=v[1];return Object(c.useEffect)((function(){if(g.current){var e=g.current.getBBox();y({x:e.x,y:e.y,width:e.width,height:e.height})}}),[]),"undefined"!==typeof r&&r?u.a.createElement("g",{transform:"translate("+(t-b.width/2)+" "+(n-b.height/2)+")"},s&&u.a.createElement("rect",{width:b.width+2*d[0],x:-d[0],y:-d[1],height:b.height+2*d[1],className:"react-flow__edge-textbg",style:h,rx:m,ry:m}),u.a.createElement("text",{className:"react-flow__edge-text",y:b.height/2,dy:"0.3em",ref:g,style:a},r)):null})),os=function(e,t){return"undefined"!==typeof t&&t?"url(#"+t+")":"undefined"!==typeof e?"url(#react-flow__"+e+")":"none"},ss=function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,i=e.targetY,a=Math.abs(r-t)/2,o=r<t?r+a:r-a,s=Math.abs(i-n)/2;return[o,i<n?i+s:i-s,a,s]};function cs(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,i=void 0===r?ua.Bottom:r,a=e.targetX,o=e.targetY,s=e.targetPosition,c=void 0===s?ua.Top:s,u=e.centerX,l=e.centerY,h=ss({sourceX:t,sourceY:n,targetX:a,targetY:o}),f=h[0],d=h[1],p=[ua.Left,ua.Right],m="undefined"!==typeof u?u:f,g="undefined"!==typeof l?l:d,v="M"+t+","+n+" C"+t+","+g+" "+a+","+g+" "+a+","+o;return p.includes(i)&&p.includes(c)?v="M"+t+","+n+" C"+m+","+n+" "+m+","+o+" "+a+","+o:p.includes(c)?v="M"+t+","+n+" C"+t+","+o+" "+t+","+o+" "+a+","+o:p.includes(i)&&(v="M"+t+","+n+" C"+a+","+n+" "+a+","+n+" "+a+","+o),v}var us=Object(c.memo)((function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,i=e.targetY,a=e.sourcePosition,o=void 0===a?ua.Bottom:a,s=e.targetPosition,c=void 0===s?ua.Top:s,l=e.label,h=e.labelStyle,f=e.labelShowBg,d=e.labelBgStyle,p=e.labelBgPadding,m=e.labelBgBorderRadius,g=e.style,v=e.arrowHeadType,b=e.markerEndId,y=ss({sourceX:t,sourceY:n,targetX:r,targetY:i}),_=y[0],x=y[1],w=cs({sourceX:t,sourceY:n,sourcePosition:o,targetX:r,targetY:i,targetPosition:c}),E=l?u.a.createElement(as,{x:_,y:x,label:l,labelStyle:h,labelShowBg:f,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:m}):null,k=os(v,b);return u.a.createElement(u.a.Fragment,null,u.a.createElement("path",{style:g,d:w,className:"react-flow__edge-path",markerEnd:k}),E)})),ls=function(e,t,n){return"L "+e+","+(t-n)+"Q "+e+","+t+" "+(e+n)+","+t},hs=function(e,t,n){return"L "+e+","+(t-n)+"Q "+e+","+t+" "+(e-n)+","+t},fs=function(e,t,n){return"L "+(e-n)+","+t+"Q "+e+","+t+" "+e+","+(t-n)},ds=function(e,t,n){return"L "+e+","+(t+n)+"Q "+e+","+t+" "+(e+n)+","+t},ps=function(e,t,n){return"L "+e+","+(t+n)+"Q "+e+","+t+" "+(e-n)+","+t},ms=function(e,t,n){return"L "+(e-n)+","+t+"Q "+e+","+t+" "+e+","+(t+n)};function gs(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,i=void 0===r?ua.Bottom:r,a=e.targetX,o=e.targetY,s=e.targetPosition,c=void 0===s?ua.Top:s,u=e.borderRadius,l=void 0===u?5:u,h=e.centerX,f=e.centerY,d=ss({sourceX:t,sourceY:n,targetX:a,targetY:o}),p=d[0],m=d[1],g=d[2],v=d[3],b=Math.min(l,Math.abs(a-t)),y=Math.min(l,Math.abs(o-n)),_=Math.min(b,y,g,v),x=[ua.Left,ua.Right],w="undefined"!==typeof h?h:p,E="undefined"!==typeof f?f:m,k=null,O=null;return t<=a?(k=n<=o?ls(t,E,_):ds(t,E,_),O=n<=o?ms(a,E,_):fs(a,E,_)):(k=n<o?hs(t,E,_):ps(t,E,_),O=n<o?function(e,t,n){return"L "+(e+n)+","+t+"Q "+e+","+t+" "+e+","+(t+n)}(a,E,_):function(e,t,n){return"L "+(e+n)+","+t+"Q "+e+","+t+" "+e+","+(t-n)}(a,E,_)),x.includes(i)&&x.includes(c)?t<=a&&(k=n<=o?ms(w,n,_):fs(w,n,_),O=n<=o?ls(w,o,_):ds(w,o,_)):x.includes(i)&&!x.includes(c)?(k=t<=a?n<=o?ms(a,n,_):fs(a,n,_):n<=o?hs(t,o,_):ps(t,o,_),O=""):!x.includes(i)&&x.includes(c)&&(k=t<=a?n<=o?ls(t,o,_):ds(t,o,_):n<=o?hs(t,o,_):ps(t,o,_),O=""),"M "+t+","+n+k+O+"L "+a+","+o}var vs=Object(c.memo)((function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,i=e.targetY,a=e.label,o=e.labelStyle,s=e.labelShowBg,c=e.labelBgStyle,l=e.labelBgPadding,h=e.labelBgBorderRadius,f=e.style,d=e.sourcePosition,p=void 0===d?ua.Bottom:d,m=e.targetPosition,g=void 0===m?ua.Top:m,v=e.arrowHeadType,b=e.markerEndId,y=e.borderRadius,_=void 0===y?5:y,x=ss({sourceX:t,sourceY:n,targetX:r,targetY:i}),w=x[0],E=x[1],k=gs({sourceX:t,sourceY:n,sourcePosition:p,targetX:r,targetY:i,targetPosition:g,borderRadius:_}),O=os(v,b),S=a?u.a.createElement(as,{x:w,y:E,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:h}):null;return u.a.createElement(u.a.Fragment,null,u.a.createElement("path",{style:f,className:"react-flow__edge-path",d:k,markerEnd:O}),S)})),bs=function(e){var t=e.connectionNodeId,n=e.connectionHandleId,r=e.connectionHandleType,i=e.connectionLineStyle,a=e.connectionPositionX,o=e.connectionPositionY,s=e.connectionLineType,l=void 0===s?da.Bezier:s,h=e.nodes,f=void 0===h?[]:h,d=e.transform,p=e.isConnectable,m=e.CustomConnectionLineComponent,g=Object(c.useState)(null),v=g[0],b=g[1],y=t,_=n;if(Object(c.useEffect)((function(){var e=f.find((function(e){return e.id===y}))||null;b(e)}),[]),!v||!p)return null;var x=_?v.__rf.handleBounds[r].find((function(e){return e.id===_})):v.__rf.handleBounds[r][0],w=x?x.x+x.width/2:v.__rf.width/2,E=x?x.y+x.height/2:v.__rf.height,k=v.__rf.position.x+w,O=v.__rf.position.y+E,S=(a-d[0])/d[2],C=(o-d[1])/d[2],A=(null===x||void 0===x?void 0:x.position)===ua.Left||(null===x||void 0===x?void 0:x.position)===ua.Right?ua.Left:ua.Top;if(m)return u.a.createElement("g",{className:"react-flow__connection"},u.a.createElement(m,{sourceX:k,sourceY:O,sourcePosition:null===x||void 0===x?void 0:x.position,targetX:S,targetY:C,targetPosition:A,connectionLineType:l,connectionLineStyle:i}));var j="";return j=l===da.Bezier?cs({sourceX:k,sourceY:O,sourcePosition:null===x||void 0===x?void 0:x.position,targetX:S,targetY:C,targetPosition:A}):l===da.Step?gs({sourceX:k,sourceY:O,sourcePosition:null===x||void 0===x?void 0:x.position,targetX:S,targetY:C,targetPosition:A,borderRadius:0}):l===da.SmoothStep?gs({sourceX:k,sourceY:O,sourcePosition:null===x||void 0===x?void 0:x.position,targetX:S,targetY:C,targetPosition:A}):"M"+k+","+O+" "+S+","+C,u.a.createElement("g",{className:"react-flow__connection"},u.a.createElement("path",{d:j,className:"react-flow__connection-path",style:i}))},ys=function(e){var t=e.id,n=e.children;return u.a.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"12.5",markerHeight:"12.5",viewBox:"-10 -10 20 20",orient:"auto",refX:"0",refY:"0"},n)},_s=function(e){var t=e.color;return u.a.createElement("defs",null,u.a.createElement(ys,{id:"react-flow__arrowclosed"},u.a.createElement("polyline",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",fill:t,points:"-5,-4 0,0 -5,4 -5,-4"})),u.a.createElement(ys,{id:"react-flow__arrow"},u.a.createElement("polyline",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",fill:"none",points:"-5,-4 0,0 -5,4"})))};_s.displayName="MarkerDefinitions";var xs=Object(c.memo)((function(e){return u.a.createElement(vs,d({},e,{borderRadius:0}))})),ws=Object(c.memo)((function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,i=e.targetY,a=e.label,o=e.labelStyle,s=e.labelShowBg,c=e.labelBgStyle,l=e.labelBgPadding,h=e.labelBgBorderRadius,f=e.style,d=e.arrowHeadType,p=e.markerEndId,m=Math.abs(i-n)/2,g=i<n?i+m:i-m,v=Math.abs(r-t)/2,b=r<t?r+v:r-v,y=os(d,p),_=a?u.a.createElement(as,{x:b,y:g,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:h}):null;return u.a.createElement(u.a.Fragment,null,u.a.createElement("path",{style:f,className:"react-flow__edge-path",d:"M "+t+","+n+"L "+r+","+i,markerEnd:y}),_)}));function Es(e,t,n,r,i,a){var o=document.elementFromPoint(e.clientX,e.clientY),s=(null===o||void 0===o?void 0:o.classList.contains("target"))||!1,c=(null===o||void 0===o?void 0:o.classList.contains("source"))||!1,u={elementBelow:o,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(o&&(s||c)&&(u.isHoveringHandle=!0,t!==fa.Strict||(n&&c||!n&&s))){var l=o.getAttribute("data-nodeid"),h=o.getAttribute("data-handleid"),f=n?{source:l,sourceHandle:h,target:r,targetHandle:i}:{source:r,sourceHandle:i,target:l,targetHandle:h};u.connection=f,u.isValid=a(f)}return u}function ks(e){null===e||void 0===e||e.classList.remove("react-flow__handle-valid"),null===e||void 0===e||e.classList.remove("react-flow__handle-connecting")}function Os(e,t,n,r,i,a,o,s,c,u,l,h){var f=e.target.closest(".react-flow");if(f){var d,p=o?"target":"source",m=f.getBoundingClientRect();i({x:e.clientX-m.left,y:e.clientY-m.top}),r({connectionNodeId:n,connectionHandleId:t,connectionHandleType:p}),null===u||void 0===u||u(e,{nodeId:n,handleId:t,handleType:p}),document.addEventListener("mousemove",g),document.addEventListener("mouseup",(function e(i){var u=Es(i,c,o,n,t,s),f=u.connection,p=u.isValid;null===l||void 0===l||l(i),p&&(null===a||void 0===a||a(f)),null===h||void 0===h||h(i),ks(d),r({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",e)}))}function g(e){i({x:e.clientX-m.left,y:e.clientY-m.top});var r=Es(e,c,o,n,t,s),a=r.connection,u=r.elementBelow,l=r.isValid;if(!r.isHoveringHandle)return ks(d);!(a.source===a.target)&&u&&(d=u,u.classList.add("react-flow__handle-connecting"),u.classList.toggle("react-flow__handle-valid",l))}}var Ss=function(e){var t=function(t){var n=t.id,r=t.className,i=t.type,a=t.data,o=t.onClick,s=t.selected,l=t.animated,h=t.label,f=t.labelStyle,d=t.labelShowBg,p=t.labelBgStyle,m=t.labelBgPadding,v=t.labelBgBorderRadius,b=t.style,y=t.arrowHeadType,_=t.source,x=t.target,w=t.sourceX,E=t.sourceY,k=t.targetX,O=t.targetY,S=t.sourcePosition,C=t.targetPosition,A=t.elementsSelectable,j=t.markerEndId,P=t.isHidden,T=t.sourceHandleId,R=t.targetHandleId,L=t.handleEdgeUpdate,M=t.onConnectEdge,I=ct((function(e){return e.addSelectedElements})),N=ct((function(e){return e.setConnectionNodeId})),D=ct((function(e){return e.setConnectionPosition})),F=ut((function(e){return e.connectionMode})),z=Object(c.useState)(!1),B=z[0],U=z[1],H=g(["react-flow__edge","react-flow__edge-"+i,r,{selected:s,animated:l,inactive:!A&&!o,updating:B}]),q=Object(c.useCallback)((function(e){var t={id:n,source:_,target:x,type:i};T&&(t.sourceHandle=T),R&&(t.targetHandle=R),"undefined"!==typeof a&&(t.data=a),A&&I(t),null===o||void 0===o||o(e,t)}),[A,n,_,x,i,a,T,R,o]),W=Object(c.useCallback)((function(e,t){Os(e,t?R:T,t?x:_,N,D,M,t,(function(){return!0}),F)}),[n,_,x,i,T,R,N,D]),G=Object(c.useCallback)((function(e){W(e,!0)}),[n,_,T,W]),Z=Object(c.useCallback)((function(e){W(e,!1)}),[n,x,R,W]),V=Object(c.useCallback)((function(){return U(!0)}),[U]),Y=Object(c.useCallback)((function(){return U(!1)}),[U]);return P?null:u.a.createElement("g",{className:H,onClick:q},L&&u.a.createElement("g",{onMouseDown:G,onMouseEnter:V,onMouseOut:Y},u.a.createElement("circle",{className:"react-flow__edgeupdater",cx:w,cy:E,r:10,stroke:"transparent",fill:"transparent"})),u.a.createElement(e,{id:n,source:_,target:x,selected:s,animated:l,label:h,labelStyle:f,labelShowBg:d,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:v,data:a,style:b,arrowHeadType:y,sourceX:w,sourceY:E,targetX:k,targetY:O,sourcePosition:S,targetPosition:C,markerEndId:j}),L&&u.a.createElement("g",{onMouseDown:Z,onMouseEnter:V,onMouseOut:Y},u.a.createElement("circle",{className:"react-flow__edgeupdater",cx:k,cy:O,r:10,stroke:"transparent",fill:"transparent"})))};return t.displayName="EdgeWrapper",Object(c.memo)(t)};function Cs(e,t,n){void 0===n&&(n=null);var r=((null===n||void 0===n?void 0:n.x)||0)+t.__rf.position.x,i=((null===n||void 0===n?void 0:n.y)||0)+t.__rf.position.y,a=(null===n||void 0===n?void 0:n.width)||t.__rf.width,o=(null===n||void 0===n?void 0:n.height)||t.__rf.height;switch(e){case ua.Top:return{x:r+a/2,y:i};case ua.Right:return{x:r+a,y:i+o/2};case ua.Bottom:return{x:r+a/2,y:i+o};case ua.Left:return{x:r,y:i+o/2}}}function As(e,t){if(!e)return null;var n=null;return 1!==e.length&&t?t&&(n=e.find((function(e){return e.id===t}))):n=e[0],"undefined"===typeof n?null:n}var js=function(e){var t=e.edge,n=e.props,r=e.nodes,i=e.selectedElements,a=e.elementsSelectable,o=e.transform,s=e.width,l=e.height,h=e.onlyRenderVisibleElements,f=e.connectionMode,d=t.sourceHandle||null,p=t.targetHandle||null,m=function(e,t){return t.reduce((function(t,n){return n.id===e.source?t.sourceNode=n:n.id===e.target&&(t.targetNode=n),t}),{sourceNode:null,targetNode:null})}(t,r),g=m.sourceNode,v=m.targetNode,b=Object(c.useCallback)((function(e){var r;null===(r=n.onEdgeUpdate)||void 0===r||r.call(n,t,e)}),[t]);if(!g)return console.warn("couldn't create edge for source id: "+t.source+"; edge id: "+t.id),null;if(!v)return console.warn("couldn't create edge for target id: "+t.target+"; edge id: "+t.id),null;if(!g.__rf.width||!g.__rf.height)return null;var y=t.type||"default",_=n.edgeTypes[y]||n.edgeTypes.default,x=v.__rf.handleBounds,w=f===fa.Strict?x.target:x.target||x.source,E=As(g.__rf.handleBounds.source,d),k=As(w,p),O=E?E.position:ua.Bottom,S=k?k.position:ua.Top;if(!E)return console.warn("couldn't create edge for source handle id: "+d+"; edge id: "+t.id),null;if(!k)return console.warn("couldn't create edge for target handle id: "+p+"; edge id: "+t.id),null;var C=function(e,t,n,r,i,a){var o=Cs(n,e,t),s=Cs(a,r,i);return{sourceX:o.x,sourceY:o.y,targetX:s.x,targetY:s.y}}(g,E,O,v,k,S),A=C.sourceX,j=C.sourceY,P=C.targetX,T=C.targetY;if(!(!h||function(e){var t=e.sourcePos,n=e.targetPos,r=e.width,i=e.height,a=e.transform,o={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x,n.x),y2:Math.max(t.y,n.y)};o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);var s=wt({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:r/a[2],height:i/a[2]}),c=Math.max(0,Math.min(s.x2,o.x2)-Math.max(s.x,o.x)),u=Math.max(0,Math.min(s.y2,o.y2)-Math.max(s.y,o.y));return Math.ceil(c*u)>0}({sourcePos:{x:A,y:j},targetPos:{x:P,y:T},width:s,height:l,transform:o})))return null;var R=(null===i||void 0===i?void 0:i.some((function(e){return mt(e)&&e.id===t.id})))||!1;return u.a.createElement(_,{key:t.id,id:t.id,className:t.className,type:t.type,data:t.data,onClick:n.onElementClick,selected:R,animated:t.animated,label:t.label,labelStyle:t.labelStyle,labelShowBg:t.labelShowBg,labelBgStyle:t.labelBgStyle,labelBgPadding:t.labelBgPadding,labelBgBorderRadius:t.labelBgBorderRadius,style:t.style,arrowHeadType:t.arrowHeadType,source:t.source,target:t.target,sourceHandleId:d,targetHandleId:p,sourceX:A,sourceY:j,targetX:P,targetY:T,sourcePosition:O,targetPosition:S,elementsSelectable:a,markerEndId:n.markerEndId,isHidden:t.isHidden,onConnectEdge:b,handleEdgeUpdate:"undefined"!==typeof n.onEdgeUpdate})},Ps=function(e){var t=ut((function(e){return e.transform})),n=ut((function(e){return e.edges})),r=ut((function(e){return e.connectionNodeId})),i=ut((function(e){return e.connectionHandleId})),a=ut((function(e){return e.connectionHandleType})),o=ut((function(e){return e.connectionPosition})),s=ut((function(e){return e.selectedElements})),c=ut((function(e){return e.nodesConnectable})),l=ut((function(e){return e.elementsSelectable})),h=ut((function(e){return e.width})),f=ut((function(e){return e.height})),d=ut((function(e){return e.nodes}));if(!h)return null;var p=e.connectionLineType,m=e.arrowHeadColor,g=e.connectionLineStyle,v=e.connectionLineComponent,b=e.onlyRenderVisibleElements,y="translate("+t[0]+","+t[1]+") scale("+t[2]+")",_=r&&a;return u.a.createElement("svg",{width:h,height:f,className:"react-flow__edges"},u.a.createElement(_s,{color:m}),u.a.createElement("g",{transform:y},n.map((function(n){return u.a.createElement(js,{key:n.id,edge:n,props:e,nodes:d,selectedElements:s,elementsSelectable:l,transform:t,width:h,height:f,onlyRenderVisibleElements:b})})),_&&u.a.createElement(bs,{nodes:d,connectionNodeId:r,connectionHandleId:i,connectionHandleType:a,connectionPositionX:o.x,connectionPositionY:o.y,transform:t,connectionLineStyle:g,connectionLineType:p,isConnectable:c,CustomConnectionLineComponent:v})))};Ps.displayName="EdgeRenderer";var Ts=Object(c.memo)(Ps),Rs={zoomIn:function(){},zoomOut:function(){},zoomTo:function(e){},transform:function(e){},fitView:function(e){},setCenter:function(e,t){},fitBounds:function(e){},initialized:!1},Ls=function(e,t,n,r,i,a){void 0===a&&(a=.1);var o=t/(e.width*(1+a)),s=n/(e.height*(1+a)),c=Math.min(o,s),u=dt(c,r,i);return[t/2-(e.x+e.width/2)*u,n/2-(e.y+e.height/2)*u,c]},Ms=function(){var e=lt(),t=ut((function(e){return e.d3Zoom})),n=ut((function(e){return e.d3Selection}));return Object(c.useMemo)((function(){return n&&t?{zoomIn:function(){return t.scaleBy(n,1.2)},zoomOut:function(){return t.scaleBy(n,1/1.2)},zoomTo:function(e){return t.scaleTo(n,e)},transform:function(e){var r=ea.translate(e.x,e.y).scale(e.zoom);t.transform(n,r)},fitView:function(r){void 0===r&&(r={padding:.1});var i=e.getState(),a=i.nodes,o=i.width,s=i.height,c=i.minZoom,u=i.maxZoom;if(a.length){var l=kt(a),h=Ls(l,o,s,c,u,r.padding),f=h[0],d=h[1],p=h[2],m=ea.translate(f,d).scale(p);t.transform(n,m)}},setCenter:function(r,i,a){var o=e.getState(),s=o.width,c=o.height,u=o.maxZoom,l="undefined"!==typeof a?a:u,h=s/2-r*l,f=c/2-i*l,d=ea.translate(h,f).scale(l);t.transform(n,d)},fitBounds:function(r,i){void 0===i&&(i=.1);var a=e.getState(),o=a.width,s=a.height,c=a.minZoom,u=a.maxZoom,l=Ls(r,o,s,c,u,i),h=l[0],f=l[1],d=l[2],p=ea.translate(h,f).scale(d);t.transform(n,p)},initialized:!0}:Rs}),[t,n])},Is=function(e){var t=e.nodeTypes,n=e.edgeTypes,r=e.onMove,i=e.onMoveStart,a=e.onMoveEnd,o=e.onLoad,s=e.onElementClick,l=e.onNodeMouseEnter,h=e.onNodeMouseMove,f=e.onNodeMouseLeave,d=e.onNodeContextMenu,p=e.onNodeDragStart,m=e.onNodeDragStop,g=e.onSelectionDragStart,v=e.onSelectionDrag,b=e.onSelectionDragStop,y=e.onSelectionContextMenu,_=e.connectionMode,x=e.connectionLineType,w=e.connectionLineStyle,E=e.connectionLineComponent,k=e.selectionKeyCode,O=e.multiSelectionKeyCode,S=e.onElementsRemove,C=e.deleteKeyCode,A=e.onConnect,j=e.onConnectStart,P=e.onConnectStop,T=e.onConnectEnd,R=e.snapToGrid,L=e.snapGrid,M=e.onlyRenderVisibleElements,I=e.nodesDraggable,N=e.nodesConnectable,D=e.elementsSelectable,F=e.selectNodesOnDrag,z=e.minZoom,B=e.maxZoom,U=e.defaultZoom,H=e.defaultPosition,q=e.translateExtent,W=e.arrowHeadColor,G=e.markerEndId,Z=e.zoomOnScroll,V=e.panOnScroll,Y=e.panOnScrollSpeed,X=e.panOnScrollMode,K=e.zoomOnDoubleClick,J=e.paneMoveable,Q=e.onPaneClick,$=e.onPaneScroll,ee=e.onPaneContextMenu,te=e.onEdgeUpdate,ne=Object(c.useRef)(!1),re=ct((function(e){return e.setOnConnect})),ie=ct((function(e){return e.setOnConnectStart})),ae=ct((function(e){return e.setOnConnectStop})),oe=ct((function(e){return e.setOnConnectEnd})),se=ct((function(e){return e.setSnapGrid})),ce=ct((function(e){return e.setSnapToGrid})),ue=ct((function(e){return e.setNodesDraggable})),le=ct((function(e){return e.setNodesConnectable})),he=ct((function(e){return e.setElementsSelectable})),fe=ct((function(e){return e.setMinZoom})),de=ct((function(e){return e.setMaxZoom})),pe=ct((function(e){return e.setTranslateExtent})),me=ct((function(e){return e.setConnectionMode})),ge=lt(),ve=Ms(),be=ve.zoomIn,ye=ve.zoomOut,_e=ve.zoomTo,xe=ve.transform,we=ve.fitView,Ee=ve.initialized;return Object(c.useEffect)((function(){!ne.current&&Ee&&(o&&o({fitView:function(e){return void 0===e&&(e={padding:.1}),we(e)},zoomIn:be,zoomOut:ye,zoomTo:_e,setTransform:xe,project:_t(ge),getElements:At(ge),toObject:jt(ge)}),ne.current=!0)}),[o,be,ye,_e,xe,we,Ee]),Object(c.useEffect)((function(){A&&re(A)}),[A]),Object(c.useEffect)((function(){j&&ie(j)}),[j]),Object(c.useEffect)((function(){P&&ae(P)}),[P]),Object(c.useEffect)((function(){T&&oe(T)}),[T]),Object(c.useEffect)((function(){"undefined"!==typeof R&&ce(R)}),[R]),Object(c.useEffect)((function(){"undefined"!==typeof L&&se(L)}),[L]),Object(c.useEffect)((function(){"undefined"!==typeof I&&ue(I)}),[I]),Object(c.useEffect)((function(){"undefined"!==typeof N&&le(N)}),[N]),Object(c.useEffect)((function(){"undefined"!==typeof D&&he(D)}),[D]),Object(c.useEffect)((function(){"undefined"!==typeof z&&fe(z)}),[z]),Object(c.useEffect)((function(){"undefined"!==typeof B&&de(B)}),[B]),Object(c.useEffect)((function(){"undefined"!==typeof q&&pe(q)}),[q]),Object(c.useEffect)((function(){"undefined"!==typeof _&&me(_)}),[_]),u.a.createElement(ns,{onPaneClick:Q,onPaneContextMenu:ee,onPaneScroll:$,onElementsRemove:S,deleteKeyCode:C,selectionKeyCode:k,multiSelectionKeyCode:O,elementsSelectable:D,onMove:r,onMoveStart:i,onMoveEnd:a,zoomOnScroll:Z,zoomOnDoubleClick:K,panOnScroll:V,panOnScrollSpeed:Y,panOnScrollMode:X,paneMoveable:J,defaultPosition:H,defaultZoom:U,translateExtent:q,onSelectionDragStart:g,onSelectionDrag:v,onSelectionDragStop:b,onSelectionContextMenu:y},u.a.createElement(is,{nodeTypes:t,onElementClick:s,onNodeMouseEnter:l,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:d,onNodeDragStop:m,onNodeDragStart:p,selectNodesOnDrag:F,snapToGrid:R,snapGrid:L,onlyRenderVisibleElements:M}),u.a.createElement(Ts,{edgeTypes:n,onElementClick:s,connectionLineType:x,connectionLineStyle:w,connectionLineComponent:E,connectionMode:_,arrowHeadColor:W,markerEndId:G,onEdgeUpdate:te,onlyRenderVisibleElements:M}))};Is.displayName="GraphView";var Ns=Object(c.memo)(Is),Ds=function(e){var t=e.elements,n=ct((function(e){return e.setElements}));return Object(c.useEffect)((function(){n(t)}),[t]),null},Fs=Object(c.createContext)(null),zs=Fs.Provider,Bs=(Fs.Consumer,function(){return!0}),Us=function(e){var t=e.type,n=void 0===t?"source":t,r=e.position,i=void 0===r?ua.Top:r,a=e.isValidConnection,o=void 0===a?Bs:a,s=e.isConnectable,l=void 0===s||s,h=e.style,f=e.className,d=e.id,p=e.onConnect,m=Object(c.useContext)(Fs),v=ct((function(e){return e.setConnectionPosition})),b=ct((function(e){return e.setConnectionNodeId})),y=ut((function(e){return e.onConnect})),_=ut((function(e){return e.onConnectStart})),x=ut((function(e){return e.onConnectStop})),w=ut((function(e){return e.onConnectEnd})),E=ut((function(e){return e.connectionMode})),k=d||null,O="target"===n,S=Object(c.useCallback)((function(e){null===y||void 0===y||y(e),null===p||void 0===p||p(e)}),[y,p]),C=Object(c.useCallback)((function(e){Os(e,k,m,b,v,S,O,o,E,_,x,w)}),[k,m,b,v,S,O,o,E,_,x,w]),A=g(["react-flow__handle","react-flow__handle-"+i,"nodrag",f,{source:!O,target:O,connectable:l}]);return u.a.createElement("div",{"data-handleid":k,"data-nodeid":m,"data-handlepos":i,className:A,onMouseDown:C,style:h})};Us.displayName="Handle";var Hs=Object(c.memo)(Us),qs=function(e){var t=e.data,n=e.isConnectable,r=e.targetPosition,i=void 0===r?ua.Top:r,a=e.sourcePosition,o=void 0===a?ua.Bottom:a;return u.a.createElement(u.a.Fragment,null,u.a.createElement(Hs,{type:"target",position:i,isConnectable:n}),t.label,u.a.createElement(Hs,{type:"source",position:o,isConnectable:n}))};qs.displayName="DefaultNode";var Ws=Object(c.memo)(qs),Gs=function(e){var t=e.data,n=e.isConnectable,r=e.sourcePosition,i=void 0===r?ua.Bottom:r;return u.a.createElement(u.a.Fragment,null,t.label,u.a.createElement(Hs,{type:"source",position:i,isConnectable:n}))};Gs.displayName="InputNode";var Zs=Object(c.memo)(Gs),Vs=function(e){var t=e.data,n=e.isConnectable,r=e.targetPosition,i=void 0===r?ua.Top:r;return u.a.createElement(u.a.Fragment,null,u.a.createElement(Hs,{type:"target",position:i,isConnectable:n}),t.label)};Vs.displayName="OutputNode";var Ys=Object(c.memo)(Vs),Xs=function(e){var t=function(t){var n=t.id,r=t.type,i=t.data,a=t.scale,o=t.xPos,s=t.yPos,l=t.selected,h=t.onClick,f=t.onMouseEnter,p=t.onMouseMove,m=t.onMouseLeave,v=t.onContextMenu,b=t.onNodeDragStart,y=t.onNodeDragStop,_=t.style,x=t.className,w=t.isDraggable,E=t.isSelectable,k=t.isConnectable,O=t.selectNodesOnDrag,S=t.sourcePosition,C=t.targetPosition,A=t.isHidden,j=t.isInitialized,P=t.snapToGrid,T=t.snapGrid,R=t.isDragging,L=t.resizeObserver,M=ct((function(e){return e.updateNodeDimensions})),I=ct((function(e){return e.addSelectedElements})),N=ct((function(e){return e.updateNodePosDiff})),D=ct((function(e){return e.unsetNodesSelection})),F=Object(c.useRef)(null),z=Object(c.useMemo)((function(){return{id:n,type:r,position:{x:o,y:s},data:i}}),[n,r,o,s,i]),B=Object(c.useMemo)((function(){return P?T:[1,1]}),[P,T]),U=Object(c.useMemo)((function(){return d({zIndex:l?10:3,transform:"translate("+o+"px,"+s+"px)",pointerEvents:E||w||h?"all":"none",opacity:j?1:0},_)}),[l,o,s,E,w,h,j,_]),H=Object(c.useMemo)((function(){if(f&&!R)return function(e){return f(e,z)}}),[f,R,z]),q=Object(c.useMemo)((function(){if(p&&!R)return function(e){return p(e,z)}}),[p,R,z]),W=Object(c.useMemo)((function(){if(m&&!R)return function(e){return m(e,z)}}),[m,R,z]),G=Object(c.useMemo)((function(){if(v)return function(e){return v(e,z)}}),[v,z]),Z=Object(c.useCallback)((function(e){w||(E&&(D(),l||I({id:z.id,type:z.type})),null===h||void 0===h||h(e,z))}),[E,l,w,h,z]),V=Object(c.useCallback)((function(e){null===b||void 0===b||b(e,z),O&&E?(D(),l||I({id:z.id,type:z.type})):O||l||!E||(D(),I([]))}),[z,l,O,E,b]),Y=Object(c.useCallback)((function(e,t){N({id:n,diff:{x:t.deltaX,y:t.deltaY}})}),[n]),X=Object(c.useCallback)((function(e){if(!R)return!E||O||l||I({id:z.id,type:z.type}),void(null===h||void 0===h||h(e,z));N({id:z.id,isDragging:!1}),null===y||void 0===y||y(e,z)}),[z,E,O,h,y,R,l]);if(Object(c.useEffect)((function(){F.current&&!A&&M({id:n,nodeElement:F.current})}),[n,A,S,C]),Object(c.useEffect)((function(){if(F.current){var e=F.current;return null===L||void 0===L||L.observe(e),function(){return null===L||void 0===L?void 0:L.unobserve(e)}}}),[]),A)return null;var K=g(["react-flow__node","react-flow__node-"+r,x,{selected:l,selectable:E}]);return u.a.createElement($o,{onStart:V,onDrag:Y,onStop:X,scale:a,disabled:!w,cancel:".nodrag",nodeRef:F,grid:B},u.a.createElement("div",{className:K,ref:F,style:U,onMouseEnter:H,onMouseMove:q,onMouseLeave:W,onContextMenu:G,onClick:Z,"data-id":n},u.a.createElement(zs,{value:n},u.a.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:l,isConnectable:k,sourcePosition:S,targetPosition:C,isDragging:R}))))};return t.displayName="NodeWrapper",Object(c.memo)(t)};var Ks=function(e){var t=e.onSelectionChange,n=ut((function(e){return e.selectedElements}));return Object(c.useEffect)((function(){t(n)}),[n]),null},Js=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},Qs=function(e,t){var n=e.getBoundingClientRect();return{source:$s(".source",e,n,t),target:$s(".target",e,n,t)}},$s=function(e,t,n,r){var i=t.querySelectorAll(e);return i&&i.length?Array.from(i).map((function(e){var t=e.getBoundingClientRect(),i=ft(e),a=e.getAttribute("data-handleid"),o=e.getAttribute("data-handlepos");return d({id:a,position:o,x:(t.left-n.left)/r,y:(t.top-n.top)/r},i)})):null},ec={width:0,height:0,transform:[0,0,1],elements:[],nodes:ot.computed((function(e){return e.elements.filter(gt)})),edges:ot.computed((function(e){return e.elements.filter(mt)})),selectedElements:null,selectedNodesBbox:{x:0,y:0,width:0,height:0},viewportBox:ot.computed((function(e){return{x:0,y:0,width:e.width,height:e.height}})),d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodesSelectionActive:!1,selectionActive:!1,userSelectionRect:{startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:fa.Strict,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,multiSelectionActive:!1,reactFlowVersion:"8.3.1",setOnConnect:ot.action((function(e,t){e.onConnect=t})),setOnConnectStart:ot.action((function(e,t){e.onConnectStart=t})),setOnConnectStop:ot.action((function(e,t){e.onConnectStop=t})),setOnConnectEnd:ot.action((function(e,t){e.onConnectEnd=t})),setElements:ot.action((function(e,t){for(var n,r=function(r){var i=e.elements[r];t.find((function(e){return e.id===i.id}))||(e.elements.splice(r,1),r--),n=r},i=0;i<e.elements.length;i++)r(i),i=n;t.forEach((function(t){var n=e.elements.findIndex((function(e){return e.id===t.id}));if(-1!==n){var r=e.elements[n];if(gt(r)){var i=t,a=r.position.x!==i.position.x||r.position.y!==i.position.y,o="undefined"!==typeof i.type&&i.type!==r.type;e.elements[n]=d(d({},r),i),a&&(e.elements[n].__rf.position=i.position),o&&(e.elements[n].__rf.width=null)}else e.elements[n]=d(d({},r),t)}else e.elements.push(function(e){if(!e.id)throw new Error("All nodes and edges need to have an id.");return mt(e)?d(d({},e),{source:e.source.toString(),target:e.target.toString(),sourceHandle:e.sourceHandle?e.sourceHandle.toString():null,targetHandle:e.targetHandle?e.targetHandle.toString():null,id:e.id.toString(),type:e.type||"default"}):d(d({},e),{id:e.id.toString(),type:e.type||"default",__rf:{position:e.position,width:null,height:null,handleBounds:{},isDragging:!1}})}(t))}))})),batchUpdateNodeDimensions:ot.action((function(e,t){t.updates.forEach((function(t){var n=ft(t.nodeElement),r=e.elements.findIndex((function(e){return e.id===t.id})),i=e.elements[r];if(-1!==r&&n.width&&n.height&&(i.__rf.width!==n.width||i.__rf.height!==n.height)){var a=Qs(t.nodeElement,e.transform[2]);e.elements[r].__rf.width=n.width,e.elements[r].__rf.height=n.height,e.elements[r].__rf.handleBounds=a}}))})),updateNodeDimensions:ot.action((function(e,t){var n=t.id,r=t.nodeElement,i=ft(r),a=e.elements.findIndex((function(e){return e.id===n}));if(-1!==a&&i.width&&i.height){var o=Qs(r,e.transform[2]);e.elements[a].__rf.width=i.width,e.elements[a].__rf.height=i.height,e.elements[a].__rf.handleBounds=o}})),updateNodePos:ot.action((function(e,t){var n=t.id,r=t.pos,i=r;if(e.snapToGrid){var a=e.snapGrid,o=a[0],s=a[1];i={x:o*Math.round(r.x/o),y:s*Math.round(r.y/s)}}e.elements.forEach((function(e){e.id===n&&gt(e)&&(e.__rf.position=i)}))})),updateNodePosDiff:ot.action((function(e,t){var n=t.id,r=void 0===n?null:n,i=t.diff,a=void 0===i?null:i,o=t.isDragging,s=void 0===o||o;e.elements.forEach((function(t){var n;gt(t)&&(r===t.id||(null===(n=e.selectedElements)||void 0===n?void 0:n.find((function(e){return e.id===t.id}))))&&(a&&(t.__rf.position={x:t.__rf.position.x+a.x,y:t.__rf.position.y+a.y}),t.__rf.isDragging=s)}))})),setUserSelection:ot.action((function(e,t){e.userSelectionRect={width:0,height:0,startX:t.x,startY:t.y,x:t.x,y:t.y,draw:!0},e.selectionActive=!0})),updateUserSelection:ot.action((function(e,t){var n=e.userSelectionRect.startX||0,r=e.userSelectionRect.startY||0,i=t.x<n,a=t.y<r,o=d(d({},e.userSelectionRect),{x:i?t.x:e.userSelectionRect.x,y:a?t.y:e.userSelectionRect.y,width:Math.abs(t.x-n),height:Math.abs(t.y-r)}),s=Ot(e.nodes,o,e.transform),c=p(s,St(s,e.edges)),u=!Js(c,e.selectedElements);e.userSelectionRect=o,u&&(e.selectedElements=c.length>0?c:null)})),unsetUserSelection:ot.action((function(e){var t,n=null===(t=e.selectedElements)||void 0===t?void 0:t.filter((function(e){return gt(e)&&e.__rf}));if(!n||0===n.length)return e.selectionActive=!1,e.userSelectionRect.draw=!1,e.nodesSelectionActive=!1,void(e.selectedElements=null);var r=kt(n);e.nodesSelectionActive=!0,e.selectedNodesBbox=r,e.userSelectionRect.draw=!1,e.selectionActive=!1})),setSelection:ot.action((function(e,t){e.selectionActive=t})),unsetNodesSelection:ot.action((function(e){e.nodesSelectionActive=!1})),resetSelectedElements:ot.action((function(e){e.selectedElements=null})),setSelectedElements:ot.action((function(e,t){var n=Array.isArray(t)?t:[t],r=!Js(n,e.selectedElements)?n:e.selectedElements;e.selectedElements=r})),addSelectedElements:ot.thunk((function(e,t,n){var r=n.getState(),i=r.multiSelectionActive,a=r.selectedElements,o=Array.isArray(t)?t:[t];if(i){var s=a?p(a,o):o;e.setSelectedElements(s)}else e.setSelectedElements(t)})),updateTransform:ot.action((function(e,t){e.transform[0]=t[0],e.transform[1]=t[1],e.transform[2]=t[2]})),updateSize:ot.action((function(e,t){e.width=t.width||500,e.height=t.height||500})),initD3Zoom:ot.action((function(e,t){var n=t.d3Zoom,r=t.d3Selection,i=t.d3ZoomHandler,a=t.transform;e.d3Zoom=n,e.d3Selection=r,e.d3ZoomHandler=i,e.transform[0]=a[0],e.transform[1]=a[1],e.transform[2]=a[2]})),setMinZoom:ot.action((function(e,t){e.minZoom=t,e.d3Zoom&&e.d3Zoom.scaleExtent([t,e.maxZoom])})),setMaxZoom:ot.action((function(e,t){e.maxZoom=t,e.d3Zoom&&e.d3Zoom.scaleExtent([e.minZoom,t])})),setTranslateExtent:ot.action((function(e,t){e.translateExtent=t,e.d3Zoom&&e.d3Zoom.translateExtent(t)})),setConnectionPosition:ot.action((function(e,t){e.connectionPosition=t})),setConnectionNodeId:ot.action((function(e,t){var n=t.connectionNodeId,r=t.connectionHandleId,i=t.connectionHandleType;e.connectionNodeId=n,e.connectionHandleId=r,e.connectionHandleType=i})),setSnapToGrid:ot.action((function(e,t){e.snapToGrid=t})),setSnapGrid:ot.action((function(e,t){e.snapGrid[0]=t[0],e.snapGrid[1]=t[1]})),setInteractive:ot.action((function(e,t){e.nodesDraggable=t,e.nodesConnectable=t,e.elementsSelectable=t})),setNodesDraggable:ot.action((function(e,t){e.nodesDraggable=t})),setNodesConnectable:ot.action((function(e,t){e.nodesConnectable=t})),setElementsSelectable:ot.action((function(e,t){e.elementsSelectable=t})),setMultiSelectionActive:ot.action((function(e,t){e.multiSelectionActive=t})),setConnectionMode:ot.action((function(e,t){e.connectionMode=t}))},tc=ot.createStore(ec,{devTools:!1}),nc=function(e){var t,n=e.children,r=lt();return(null===(t=null===r||void 0===r?void 0:r.getState())||void 0===t?void 0:t.reactFlowVersion)?u.a.createElement(u.a.Fragment,null,n):u.a.createElement(ot.StoreProvider,{store:tc},n)};function rc(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}nc.displayName="ReactFlowWrapper";rc(".react-flow{width:100%;height:100%;position:relative;overflow:hidden}.react-flow__pane,.react-flow__renderer,.react-flow__selectionpane{width:100%;height:100%;position:absolute;top:0;left:0}.react-flow__pane{z-index:1}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow__selection{position:absolute;top:0;left:0;background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__edges{position:absolute;top:0;left:0;pointer-events:none;z-index:2}.react-flow__edge{pointer-events:all;}.react-flow__edge.inactive{pointer-events:none}.react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none;stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__edge-textbg{fill:#fff}.react-flow__connection{pointer-events:none;}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none;stroke:#b1b1b7;stroke-width:1}.react-flow__nodes{width:100%;height:100%;pointer-events:none;z-index:3}.react-flow__node,.react-flow__nodes{position:absolute;transform-origin:0 0}.react-flow__node{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:all;cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-input,.react-flow__node-output{padding:10px;border-radius:3px;width:150px;font-size:12px;color:#222;text-align:center;border-width:1px;border-style:solid}.react-flow__node-default.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-input{background:#fff;border-color:#0041d0;}.react-flow__node-input.selected,.react-flow__node-input.selected:hover{box-shadow:0 0 0 .5px #0041d0}.react-flow__node-input .react-flow__handle{background:#0041d0}.react-flow__node-default{background:#fff;border-color:#1a192b;}.react-flow__node-default.selected,.react-flow__node-default.selected:hover{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle{background:#1a192b}.react-flow__node-output{background:#fff;border-color:#ff0072;}.react-flow__node-output.selected,.react-flow__node-output.selected:hover{box-shadow:0 0 0 .5px #ff0072}.react-flow__node-output .react-flow__handle{background:#ff0072}.react-flow__nodesselection{z-index:3;position:absolute;width:100%;height:100%;top:0;left:0;transform-origin:left top;pointer-events:none;}.react-flow__nodesselection-rect{position:absolute;background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8);pointer-events:all;cursor:-webkit-grab;cursor:grab}.react-flow__handle{position:absolute;width:6px;height:6px;background:#555;border:1px solid #fff;pointer-events:none;border-radius:100%;}.react-flow__handle.connectable{pointer-events:all;cursor:crosshair}.react-flow__handle-bottom{top:auto;left:50%;bottom:-4px;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{top:50%;left:-4px;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move}");var ic={input:Zs,default:Ws,output:Ys},ac={default:us,straight:ws,step:xs,smoothstep:vs},oc=function(e){var t=e.elements,n=void 0===t?[]:t,r=e.className,i=e.nodeTypes,a=void 0===i?ic:i,o=e.edgeTypes,s=void 0===o?ac:o,l=e.onElementClick,h=e.onLoad,f=e.onMove,p=e.onMoveStart,m=e.onMoveEnd,v=e.onElementsRemove,b=e.onConnect,y=e.onConnectStart,_=e.onConnectStop,x=e.onConnectEnd,w=e.onNodeMouseEnter,E=e.onNodeMouseMove,k=e.onNodeMouseLeave,O=e.onNodeContextMenu,S=e.onNodeDragStart,C=e.onNodeDragStop,A=e.onSelectionChange,j=e.onSelectionDragStart,P=e.onSelectionDrag,T=e.onSelectionDragStop,R=e.onSelectionContextMenu,L=e.connectionMode,M=void 0===L?fa.Strict:L,I=e.connectionLineType,N=void 0===I?da.Bezier:I,D=e.connectionLineStyle,F=e.connectionLineComponent,z=e.deleteKeyCode,B=void 0===z?"Backspace":z,U=e.selectionKeyCode,H=void 0===U?"Shift":U,q=e.multiSelectionKeyCode,W=void 0===q?"Meta":q,G=e.snapToGrid,Z=void 0!==G&&G,V=e.snapGrid,Y=void 0===V?[15,15]:V,X=e.onlyRenderVisibleElements,K=void 0===X||X,J=e.selectNodesOnDrag,Q=void 0===J||J,$=e.nodesDraggable,ee=e.nodesConnectable,te=e.elementsSelectable,ne=e.minZoom,re=e.maxZoom,ie=e.defaultZoom,ae=void 0===ie?1:ie,oe=e.defaultPosition,se=void 0===oe?[0,0]:oe,ce=e.translateExtent,ue=e.arrowHeadColor,le=void 0===ue?"#b1b1b7":ue,he=e.markerEndId,fe=e.zoomOnScroll,de=void 0===fe||fe,pe=e.panOnScroll,me=void 0!==pe&&pe,ge=e.panOnScrollSpeed,ve=void 0===ge?.5:ge,be=e.panOnScrollMode,ye=void 0===be?pa.Free:be,_e=e.zoomOnDoubleClick,xe=void 0===_e||_e,we=e.paneMoveable,Ee=void 0===we||we,ke=e.onPaneClick,Oe=e.onPaneScroll,Se=e.onPaneContextMenu,Ce=e.children,Ae=e.onEdgeUpdate,je=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["elements","className","nodeTypes","edgeTypes","onElementClick","onLoad","onMove","onMoveStart","onMoveEnd","onElementsRemove","onConnect","onConnectStart","onConnectStop","onConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDragStart","onNodeDragStop","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","arrowHeadColor","markerEndId","zoomOnScroll","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","paneMoveable","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate"]),Pe=Object(c.useMemo)((function(){return function(e){var t={input:Xs(e.input||Zs),default:Xs(e.default||Ws),output:Xs(e.output||Ys)},n=Object.keys(e).filter((function(e){return!["input","default","output"].includes(e)})).reduce((function(t,n){return t[n]=Xs(e[n]||Ws),t}),{});return d(d({},t),n)}(a)}),[]),Te=Object(c.useMemo)((function(){return function(e){var t={default:Ss(e.default||us),straight:Ss(e.bezier||ws),step:Ss(e.step||xs),smoothstep:Ss(e.step||vs)},n=Object.keys(e).filter((function(e){return!["default","bezier"].includes(e)})).reduce((function(t,n){return t[n]=Ss(e[n]||us),t}),{});return d(d({},t),n)}(s)}),[]),Re=g(["react-flow",r]);return u.a.createElement("div",d({},je,{className:Re}),u.a.createElement(nc,null,u.a.createElement(Ns,{onLoad:h,onMove:f,onMoveStart:p,onMoveEnd:m,onElementClick:l,onNodeMouseEnter:w,onNodeMouseMove:E,onNodeMouseLeave:k,onNodeContextMenu:O,onNodeDragStart:S,onNodeDragStop:C,nodeTypes:Pe,edgeTypes:Te,connectionMode:M,connectionLineType:N,connectionLineStyle:D,connectionLineComponent:F,selectionKeyCode:H,onElementsRemove:v,deleteKeyCode:B,multiSelectionKeyCode:W,onConnect:b,onConnectStart:y,onConnectStop:_,onConnectEnd:x,snapToGrid:Z,snapGrid:Y,onlyRenderVisibleElements:K,nodesDraggable:$,nodesConnectable:ee,elementsSelectable:te,selectNodesOnDrag:Q,minZoom:ne,maxZoom:re,defaultZoom:ae,defaultPosition:se,translateExtent:ce,arrowHeadColor:le,markerEndId:he,zoomOnScroll:de,zoomOnDoubleClick:xe,panOnScroll:me,panOnScrollSpeed:ve,panOnScrollMode:ye,paneMoveable:Ee,onPaneClick:ke,onPaneScroll:Oe,onPaneContextMenu:Se,onSelectionDragStart:j,onSelectionDrag:P,onSelectionDragStop:T,onSelectionContextMenu:R,onEdgeUpdate:Ae}),u.a.createElement(Ds,{elements:n}),A&&u.a.createElement(Ks,{onSelectionChange:A}),Ce))};oc.displayName="ReactFlow";var sc=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a=e.style,o=e.color,s=e.strokeColor,c=e.className,l=e.borderRadius,h=a||{},f=h.background,d=h.backgroundColor,p=o||f||d;return u.a.createElement("rect",{className:g(["react-flow__minimap-node",c]),x:t,y:n,rx:l,ry:l,width:r,height:i,fill:p,stroke:s,strokeWidth:2})};sc.displayName="MiniMapNode";var cc=Object(c.memo)(sc);rc(".react-flow__minimap{position:absolute;z-index:5;bottom:10px;right:10px;background-color:#fff}");var uc=function(e){var t,n=e.style,r=e.className,i=e.nodeStrokeColor,a=void 0===i?"#555":i,o=e.nodeColor,s=void 0===o?"#fff":o,c=e.nodeClassName,l=void 0===c?"":c,h=e.nodeBorderRadius,f=void 0===h?5:h,d=e.maskColor,p=void 0===d?"rgb(240, 242, 243, 0.7)":d,m=ut((function(e){return e.width})),v=ut((function(e){return e.height})),b=ut((function(e){return e.transform})),y=b[0],_=b[1],x=b[2],w=ut((function(e){return e.nodes})),E=g(["react-flow__minimap",r]),k=(null===n||void 0===n?void 0:n.width)||200,O=(null===n||void 0===n?void 0:n.height)||150,S=s instanceof Function?s:function(){return s},C=a instanceof Function?a:function(){return a},A=l instanceof Function?l:function(){return l},j=w&&w.length,P=kt(w),T={x:-y/x,y:-_/x,width:m/x,height:v/x},R=j?(t=T,Et(xt(wt(P),wt(t)))):T,L=R.width/k,M=R.height/O,I=Math.max(L,M),N=I*k,D=I*O,F=5*I,z=R.x-(N-R.width)/2-F,B=R.y-(D-R.height)/2-F,U=N+2*F,H=D+2*F;return u.a.createElement("svg",{width:k,height:O,viewBox:z+" "+B+" "+U+" "+H,style:n,className:E},w.filter((function(e){return!e.isHidden})).map((function(e){return u.a.createElement(cc,{key:e.id,x:e.__rf.position.x,y:e.__rf.position.y,width:e.__rf.width,height:e.__rf.height,style:e.style,className:A(e),color:S(e),borderRadius:f,strokeColor:C(e)})})),u.a.createElement("path",{className:"react-flow__minimap-mask",d:"M"+(z-F)+","+(B-F)+"h"+(U+2*F)+"v"+(H+2*F)+"h"+(-U-2*F)+"z\n        M"+T.x+","+T.y+"h"+T.width+"v"+T.height+"h"+-T.width+"z",fill:p,fillRule:"evenodd"}))};uc.displayName="MiniMap";Object(c.memo)(uc);function lc(){return(lc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var hc=Object(c.createElement)("path",{d:"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"});function fc(e){return Object(c.createElement)("svg",lc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),hc)}function dc(){return(dc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pc=Object(c.createElement)("path",{d:"M96 235h320v42H96z"});function mc(e){return Object(c.createElement)("svg",dc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),pc)}function gc(){return(gc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var vc=Object(c.createElement)("path",{d:"M96 124.2c0-6.9 5.2-12.2 12.2-12.2H176V64h-66.8C75.7 64 48 90.7 48 124.2V192h48v-67.8zM403.6 64H336v48h67.2c6.9 0 12.8 5.2 12.8 12.2V192h48v-67.8c0-33.5-27-60.2-60.4-60.2zM416 386.8c0 6.9-5.2 12.2-12.2 12.2H336v49h67.8c33.5 0 60.2-27.7 60.2-61.2V320h-48v66.8zM108.2 399c-6.9 0-12.2-5.2-12.2-12.2V320H48v66.8c0 33.5 27.7 61.2 61.2 61.2H176v-49h-67.8z"});function bc(e){return Object(c.createElement)("svg",gc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),vc)}function yc(){return(yc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _c=Object(c.createElement)("path",{d:"M376 186h-20v-40c0-55-45-100-100-100S156 91 156 146v40h-20c-22.002 0-40 17.998-40 40v200c0 22.002 17.998 40 40 40h240c22.002 0 40-17.998 40-40V226c0-22.002-17.998-40-40-40zM256 368c-22.002 0-40-17.998-40-40s17.998-40 40-40 40 17.998 40 40-17.998 40-40 40zm62.002-182H193.998v-40c0-34.004 28.003-62.002 62.002-62.002 34.004 0 62.002 27.998 62.002 62.002v40z"});function xc(e){return Object(c.createElement)("svg",yc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),_c)}function wc(){return(wc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ec=Object(c.createElement)("path",{d:"M376 187h-20v-40c0-55-45-100-100-100-54.002 23.996-17.999 27.998 4 31.998s58.002 33.998 58.002 68.002H318v40H136c-22.002 0-40 17.998-40 40v200c0 22.002 17.998 40 40 40h240c22.002 0 40-17.998 40-40V227c0-22.002-17.998-40-40-40zM256 369c-22.002 0-40-17.998-40-40s17.998-40 40-40 40 17.998 40 40-17.998 40-40 40z"});function kc(e){return Object(c.createElement)("svg",wc({viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},e),Ec)}rc(".react-flow__controls{position:absolute;z-index:5;bottom:10px;left:10px;box-shadow:0 0 2px 1px rgba(0,0,0,.08);}.react-flow__controls-button{background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;display:flex;justify-content:center;align-items:center;width:16px;height:16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:5px;}.react-flow__controls-button svg{width:100%}.react-flow__controls-button:hover{background:#f4f4f4}");var Oc=function(e){var t=e.style,n=e.showZoom,r=void 0===n||n,i=e.showFitView,a=void 0===i||i,o=e.showInteractive,s=void 0===o||o,l=e.onZoomIn,h=e.onZoomOut,f=e.onFitView,d=e.onInteractiveChange,p=e.className,m=ct((function(e){return e.setInteractive})),v=Ms(),b=v.zoomIn,y=v.zoomOut,_=v.fitView,x=ut((function(e){return e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable})),w=g(["react-flow__controls",p]),E=Object(c.useCallback)((function(){null===b||void 0===b||b(),null===l||void 0===l||l()}),[b,l]),k=Object(c.useCallback)((function(){null===y||void 0===y||y(),null===h||void 0===h||h()}),[y,h]),O=Object(c.useCallback)((function(){null===_||void 0===_||_(),null===f||void 0===f||f()}),[_,f]),S=Object(c.useCallback)((function(){null===m||void 0===m||m(!x),null===d||void 0===d||d(!x)}),[x,m,d]);return u.a.createElement("div",{className:w,style:t},r&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"react-flow__controls-button react-flow__controls-zoomin",onClick:E},u.a.createElement(fc,null)),u.a.createElement("div",{className:"react-flow__controls-button react-flow__controls-zoomout",onClick:k},u.a.createElement(mc,null))),a&&u.a.createElement("div",{className:"react-flow__controls-button react-flow__controls-fitview",onClick:O},u.a.createElement(bc,null)),s&&u.a.createElement("div",{className:"react-flow__controls-button react-flow__controls-interactive",onClick:S},x?u.a.createElement(kc,null):u.a.createElement(xc,null)))};Oc.displayName="Controls";var Sc,Cc=Object(c.memo)(Oc);rc(".react-flow__background{position:absolute;top:0;left:0;width:100%;height:100%}");var Ac=((Sc={})[ha.Dots]="#81818a",Sc[ha.Lines]="#eee",Sc),jc=function(e){var t=e.variant,n=void 0===t?ha.Dots:t,r=e.gap,i=void 0===r?15:r,a=e.size,o=void 0===a?.5:a,s=e.color,l=e.style,h=e.className,f=ut((function(e){return e.transform})),p=f[0],m=f[1],v=f[2],b=g(["react-flow__background",h]),y=i*v,_=p%y,x=m%y,w=Object(c.useMemo)((function(){var e=n===ha.Lines,t=s||Ac[n],r=e?function(e,t,n){return'<path stroke="'+n+'" strokeWidth="'+t+'" d="M0 0 V'+e+" M0 0 H"+e+'" />'}(y,o,t):function(e,t){return'<circle cx="'+e+'" cy="'+e+'" r="'+e+'" fill="'+t+'" />'}(o,t);return encodeURIComponent('<svg width="'+y+'" height="'+y+"\" xmlns='http://www.w3.org/2000/svg'>"+r+"</svg>")}),[n,y,o,s]);return u.a.createElement("div",{className:b,style:d(d({},l),{backgroundImage:'url("data:image/svg+xml;utf8,'+w+'")',backgroundPosition:_+"px "+x+"px"})})};jc.displayName="Background";var Pc=Object(c.memo)(jc);t.g=oc}).call(this,n(17),n(489)(e))},function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3),s=n(9);function c(){var e=Object(r.a)(["\n  flex: 3 1 auto;\n  height: 38px;\n  line-height: 30px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n"]);return c=function(){return e},e}function u(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return l=function(){return e},e}function h(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 38px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return h=function(){return e},e}t.a=function(e){var t=e.label,n=e.accept,r=e.isMulti,i=e.icon,o=e.transform,s=e.onChange;return a.a.createElement(f,null,a.a.createElement(p,null,i?a.a.createElement(d,{icon:i,transform:o}):""," ",t),r&&a.a.createElement(m,{onChange:function(e){return s(e.target.files)},type:"file",accept:n,multiple:!0}),!r&&a.a.createElement(m,{onChange:function(e){return s(e.target.files)},accept:n,type:"file"}))};var f=o.b.label(h(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),d=Object(o.b)(s.a)(l(),(function(e){return e.theme.main.highlight})),p=o.b.div(u()),m=o.b.input(c(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}))},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(498),i=n(499),a=n(290),o=n(500);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()}},function(e,t,n){var r=n(460);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var r=n(110),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),a(i,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3),s=n(10),c=n(30);function u(){var e=Object(r.a)(["\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return l=function(){return e},e}function h(){var e=Object(r.a)(["\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n"]);return h=function(){return e},e}function f(){var e=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ",";\n  text-align: center;\n  border-radius: 5px;\n"]);return f=function(){return e},e}function d(){var e=Object(r.a)(["\n  flex: 1 1 15em;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n"]);return d=function(){return e},e}t.a=function(e){var t=e.text,n=e.buttonText,r=e.onButton;return a.a.createElement(p,null,a.a.createElement(g,null,a.a.createElement(m,null,a.a.createElement("b",null,"A problem occured!")),a.a.createElement(b,null,a.a.createElement(v,null,"Text: "),t),a.a.createElement(c.a,{text:n,onClick:function(){return r()},icon:s.S})))};var p=o.b.div(d(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.boxShadow})),m=o.b.div(f(),(function(e){return e.theme.tile.headerColor})),g=o.b.div(h()),v=o.b.span(l(),(function(e){return e.theme.tile.backgroundColorLink})),b=o.b.div(u(),(function(e){return e.theme.tile.backgroundColor}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(67),i=function e(t,n,i,a,o,s){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.cover=void 0,this.data=void 0,this.pages=void 0,this.tags=void 0,this.id=t,this.name=n||"",this.cover=i||"",this.data=a||new Blob,this.pages=o||0,this.tags=s||[]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(67),i=function e(t,n,i,a,o){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.header=void 0,this.rows=void 0,this.filename=void 0,this.id=t,this.filename=i||"",this.name=n||"",this.header=a||"",this.rows=o||[]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){function n(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,c,"next",e)}function c(e){n(o,i,a,s,c,"throw",e)}s(void 0)}))}}},function(e,t,n){"use strict";var r=n(292),i=n(291),a=n(289),o=n(73),s=n(461);Object.defineProperty(t,"__esModule",{value:!0}),t.isValidRotation=function(e){return Number.isInteger(e)&&e%90===0},t.isValidScrollMode=function(e){return Number.isInteger(e)&&Object.values(c).includes(e)&&e!==c.UNKNOWN},t.isValidSpreadMode=function(e){return Number.isInteger(e)&&Object.values(u).includes(e)&&e!==u.UNKNOWN},t.isPortraitOrientation=function(e){return e.width<=e.height},t.getGlobalEventBus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.error("getGlobalEventBus is deprecated, use a manually created EventBus instance instead."),y||(y=new b({dispatchToDOM:e}));return y},t.clamp=_,t.getPDFFileNameFromURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(p(e))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),t;var n=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(e),a=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(a&&(a=a[0]).includes("%"))try{a=r.exec(decodeURIComponent(a))[0]}catch(o){}return a||t},t.noContextMenuHandler=function(e){e.preventDefault()},t.parseQueryString=function(e){for(var t=e.split("&"),n=Object.create(null),r=0,i=t.length;r<i;++r){var a=t[r].split("="),o=a[0].toLowerCase(),s=a.length>1?a[1]:null;n[decodeURIComponent(o)]=decodeURIComponent(s)}return n},t.backtrackBeforeAllVisibleElements=d,t.getVisibleElements=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.scrollTop,a=i+e.clientHeight,o=e.scrollLeft,s=o+e.clientWidth;function c(e){var t=e.div;return t.offsetTop+t.clientTop+t.clientHeight>i}function u(e){var t=e.div;return t.offsetLeft+t.clientLeft+t.clientWidth>o}var l=[],h=t.length,p=0===h?0:f(t,r?u:c);p>0&&p<h&&!r&&(p=d(p,t,i));for(var m=r?s:-1,g=p;g<h;g++){var v=t[g],b=v.div,y=b.offsetLeft+b.clientLeft,_=b.offsetTop+b.clientTop,x=b.clientWidth,w=b.clientHeight,E=y+x,k=_+w;if(-1===m)k>=a&&(m=k);else if((r?y:_)>m)break;if(!(k<=i||_>=a||E<=o||y>=s)){var O=Math.max(0,i-_)+Math.max(0,k-a),S=Math.max(0,o-y)+Math.max(0,E-s),C=(w-O)*(x-S)*100/w/x|0;l.push({id:v.id,x:y,y:_,view:v,percent:C})}}var A=l[0],j=l[l.length-1];n&&l.sort((function(e,t){var n=e.percent-t.percent;return Math.abs(n)>.001?-n:e.id-t.id}));return{first:A,last:j,views:l}},t.roundToDivide=function(e,t){var n=e%t;return 0===n?e:Math.round(e-n+t)},t.getPageSizeInches=function(e){var t=e.view,n=e.userUnit,r=e.rotate,i=a(t,4),o=i[0],s=i[1],c=i[2],u=i[3],l=r%180!==0,h=(c-o)/72*n,f=(u-s)/72*n;return{width:l?f:h,height:l?h:f}},t.approximateFraction=function(e){if(Math.floor(e)===e)return[e,1];var t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];var n,r=e>1?t:e,i=0,a=1,o=1,s=1;for(;;){var c=i+o,u=a+s;if(u>8)break;r<=c/u?(o=c,s=u):(i=c,a=u)}n=r-i/a<o/s-r?r===e?[i,a]:[a,i]:r===e?[o,s]:[s,o];return n},t.getOutputScale=function(e){var t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,r=t/n;return{sx:r,sy:r,scaled:1!==r}},t.scrollIntoView=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.offsetParent;if(!r)return void console.error("offsetParent is not set -- cannot scroll");var i=e.offsetTop+e.clientTop,a=e.offsetLeft+e.clientLeft;for(;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||n&&"hidden"===getComputedStyle(r).overflow;)if(r.dataset._scaleY&&(i/=r.dataset._scaleY,a/=r.dataset._scaleX),i+=r.offsetTop,a+=r.offsetLeft,!(r=r.offsetParent))return;t&&(void 0!==t.top&&(i+=t.top),void 0!==t.left&&(a+=t.left,r.scrollLeft=a));r.scrollTop=i},t.watchScroll=function(e,t){var n=function(n){i||(i=window.requestAnimationFrame((function(){i=null;var n=e.scrollLeft,a=r.lastX;n!==a&&(r.right=n>a),r.lastX=n;var o=e.scrollTop,s=r.lastY;o!==s&&(r.down=o>s),r.lastY=o,t(r)})))},r={right:!0,down:!0,lastX:e.scrollLeft,lastY:e.scrollTop,_eventHandler:n},i=null;return e.addEventListener("scroll",n,!0),r},t.binarySearchFirstItem=f,t.normalizeWheelEventDelta=function(e){var t=Math.sqrt(e.deltaX*e.deltaX+e.deltaY*e.deltaY),n=Math.atan2(e.deltaY,e.deltaX);-.25*Math.PI<n&&n<.75*Math.PI&&(t=-t);0===e.deltaMode?t/=900:1===e.deltaMode&&(t/=30);return t},t.waitOnEventOrTimeout=function(e){var t=e.target,n=e.name,r=e.delay,i=void 0===r?0:r;return new Promise((function(e,r){if("object"!==typeof t||!n||"string"!==typeof n||!(Number.isInteger(i)&&i>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function a(r){t instanceof b?t._off(n,o):t.removeEventListener(n,o),c&&clearTimeout(c),e(r)}var o=a.bind(null,m.EVENT);t instanceof b?t._on(n,o):t.addEventListener(n,o);var s=a.bind(null,m.TIMEOUT),c=setTimeout(s,i)}))},t.moveToEndOfArray=function(e,t){for(var n=[],r=e.length,i=0,a=0;a<r;++a)t(e[a])?n.push(e[a]):(e[i]=e[a],++i);for(var o=0;i<r;++o,++i)e[i]=n[o]},t.WaitOnType=t.animationStarted=t.ProgressBar=t.EventBus=t.NullL10n=t.SpreadMode=t.ScrollMode=t.TextLayerMode=t.RendererType=t.PresentationModeState=t.VERTICAL_PADDING=t.SCROLLBAR_PADDING=t.MAX_AUTO_SCALE=t.UNKNOWN_SCALE=t.MAX_SCALE=t.MIN_SCALE=t.DEFAULT_SCALE=t.DEFAULT_SCALE_VALUE=t.CSS_UNITS=t.AutoPrintRegExp=void 0;t.CSS_UNITS=96/72;t.DEFAULT_SCALE_VALUE="auto";t.DEFAULT_SCALE=1;t.MIN_SCALE=.1;t.MAX_SCALE=10;t.UNKNOWN_SCALE=0;t.MAX_AUTO_SCALE=1.25;t.SCROLLBAR_PADDING=40;t.VERTICAL_PADDING=5;t.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};t.RendererType={CANVAS:"canvas",SVG:"svg"};t.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var c={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};t.ScrollMode=c;var u={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};t.SpreadMode=u;function l(e,t){return t?e.replace(/\{\{\s*(\w+)\s*\}\}/g,(function(e,n){return n in t?t[n]:"{{"+n+"}}"})):e}t.AutoPrintRegExp=/\bprint\s*\(/;var h={getLanguage:function(){return s(o.mark((function e(){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","en-us");case 1:case"end":return e.stop()}}),e)})))()},getDirection:function(){return s(o.mark((function e(){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","ltr");case 1:case"end":return e.stop()}}),e)})))()},get:function(e,t,n){return s(o.mark((function e(){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(n,t));case 1:case"end":return e.stop()}}),e)})))()},translate:function(e){return s(o.mark((function e(){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}};function f(e,t){var n=0,r=e.length-1;if(0===e.length||!t(e[r]))return e.length;if(t(e[n]))return n;for(;n<r;){var i=n+r>>1;t(e[i])?r=i:n=i+1}return n}function d(e,t,n){if(e<2)return e;var r=t[e].div,i=r.offsetTop+r.clientTop;i>=n&&(i=(r=t[e-1].div).offsetTop+r.clientTop);for(var a=e-2;a>=0&&!((r=t[a].div).offsetTop+r.clientTop+r.clientHeight<=i);--a)e=a;return e}function p(e){for(var t=0,n=e.length;t<n&&""===e[t].trim();)t++;return"data:"===e.substring(t,t+5).toLowerCase()}t.NullL10n=h;var m={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=m;var g=new Promise((function(e){window.requestAnimationFrame(e)}));function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.create(null);if(t&&t.length>0){var r=t[0];for(var i in r){var a=r[i];if("source"!==i)n[i]=a;else if(a===window||a===document)return}}var o=document.createEvent("CustomEvent");o.initCustomEvent(e,!0,!0,n),document.dispatchEvent(o)}t.animationStarted=g;var b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.dispatchToDOM,i=void 0!==n&&n;r(this,e),this._listeners=Object.create(null),this._dispatchToDOM=!0===i,i&&console.error("The `eventBusDispatchToDOM` option/preference is deprecated, add event listeners to the EventBus instance rather than the DOM.")}return i(e,[{key:"on",value:function(e,t){this._on(e,t,{external:!0})}},{key:"off",value:function(e,t){this._off(e,t,{external:!0})}},{key:"dispatch",value:function(e){var t=this._listeners[e];if(t&&0!==t.length){var n,r=Array.prototype.slice.call(arguments,1);t.slice(0).forEach((function(e){var t=e.listener;if(e.external)return n||(n=[]),void n.push(t);t.apply(null,r)})),n&&(n.forEach((function(e){e.apply(null,r)})),n=null),this._dispatchToDOM&&v(e,r)}else if(this._dispatchToDOM){var i=Array.prototype.slice.call(arguments,1);v(e,i)}}},{key:"_on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this._listeners[e];r||(this._listeners[e]=r=[]),r.push({listener:t,external:!0===(n&&n.external)})}},{key:"_off",value:function(e,t){var n=this._listeners[e];if(n)for(var r=0,i=n.length;r<i;r++)if(n[r].listener===t)return void n.splice(r,1)}}]),e}();t.EventBus=b;var y=null;function _(e,t,n){return Math.min(Math.max(e,t),n)}var x=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.height,a=n.width,o=n.units;r(this,e),this.visible=!0,this.div=document.querySelector(t+" .progress"),this.bar=this.div.parentNode,this.height=i||100,this.width=a||100,this.units=o||"%",this.div.style.height=this.height+this.units,this.percent=0}return i(e,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");var e=this.width*this._percent/100;this.div.style.width=e+this.units}},{key:"setWidth",value:function(e){if(e){var t=e.parentNode.offsetWidth-e.offsetWidth;t>0&&(this.bar.style.width="calc(100% - ".concat(t,"px)"))}}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(e){this._indeterminate=isNaN(e),this._percent=_(e,0,100),this._updateBar()}}]),e}();t.ProgressBar=x},function(e,t,n){"use strict";var r=n(519),i=n(520);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=y(e));return e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),h=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n(521);function y(e,t,n){if(e&&i.isObject(e)&&e instanceof a)return e;var r=new a;return r.parse(e,t,n),r}a.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var y=e=u.join(s);if(y=y.trim(),!n&&1===e.split("#").length){var _=c.exec(y);if(_)return this.path=y,this.href=y,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=o.exec(y);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,y=y.substr(x.length)}if(n||x||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===y.substr(0,2);!E||x&&g[x]||(y=y.substr(2),this.slashes=!0)}if(!g[x]&&(E||x&&!v[x])){for(var k,O,S=-1,C=0;C<f.length;C++){-1!==(A=y.indexOf(f[C]))&&(-1===S||A<S)&&(S=A)}-1!==(O=-1===S?y.lastIndexOf("@"):y.lastIndexOf("@",S))&&(k=y.slice(0,O),y=y.slice(O+1),this.auth=decodeURIComponent(k)),S=-1;for(C=0;C<h.length;C++){var A;-1!==(A=y.indexOf(h[C]))&&(-1===S||A<S)&&(S=A)}-1===S&&(S=y.length),this.host=y.slice(0,S),y=y.slice(S),this.parseHost(),this.hostname=this.hostname||"";var j="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!j)for(var P=this.hostname.split(/\./),T=(C=0,P.length);C<T;C++){var R=P[C];if(R&&!R.match(d)){for(var L="",M=0,I=R.length;M<I;M++)R.charCodeAt(M)>127?L+="x":L+=R[M];if(!L.match(d)){var N=P.slice(0,C),D=P.slice(C+1),F=R.match(p);F&&(N.push(F[1]),D.unshift(F[2])),D.length&&(y="/"+D.join(".")+y),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),j||(this.hostname=r.toASCII(this.hostname));var z=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+z,this.href+=this.host,j&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!m[w])for(C=0,T=l.length;C<T;C++){var U=l[C];if(-1!==y.indexOf(U)){var H=encodeURIComponent(U);H===U&&(H=escape(U)),y=y.split(U).join(H)}}var q=y.indexOf("#");-1!==q&&(this.hash=y.substr(q),y=y.slice(0,q));var W=y.indexOf("?");if(-1!==W?(this.search=y.substr(W),this.query=y.substr(W+1),t&&(this.query=b.parse(this.query)),y=y.slice(0,W)):t&&(this.search="",this.query={}),y&&(this.pathname=y),v[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var G=this.search||"";this.path=z+G}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=b.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},a.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var d=h[f];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",b=n.search||"";n.path=m+b}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=_||y||n.host&&e.pathname,w=x,E=n.pathname&&n.pathname.split("/")||[],k=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===E[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(k)n.hostname=n.host=E.shift(),(j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=j.shift(),n.host=n.hostname=j.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=E.slice(-1)[0],S=(n.host||e.host||E.length>1)&&("."===O||".."===O)||""===O,C=0,A=E.length;A>=0;A--)"."===(O=E[A])?E.splice(A,1):".."===O?(E.splice(A,1),C++):C&&(E.splice(A,1),C--);if(!x&&!w)for(;C--;C)E.unshift("..");!x||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),S&&"/"!==E.join("/").substr(-1)&&E.push("");var j,P=""===E[0]||E[0]&&"/"===E[0].charAt(0);k&&(n.hostname=n.host=P?"":E.length?E.shift():"",(j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=j.shift(),n.host=n.hostname=j.shift()));return(x=x||n.host&&E.length)&&!P&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e){t.fetch=s(e.fetch)&&s(e.ReadableStream),t.writableStream=s(e.WritableStream),t.abortController=s(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(c){}var n;function r(){if(void 0!==n)return n;if(e.XMLHttpRequest){n=new e.XMLHttpRequest;try{n.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(c){n=null}}else n=null;return n}function i(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(c){}return!1}var a="undefined"!==typeof e.ArrayBuffer,o=a&&s(e.ArrayBuffer.prototype.slice);function s(e){return"function"===typeof e}t.arraybuffer=t.fetch||a&&i("arraybuffer"),t.msstream=!t.fetch&&o&&i("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&a&&i("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!r()&&s(r().overrideMimeType),t.vbArray=s(e.VBArray),n=null}).call(this,n(17))},function(e,t,n){(function(e,r,i){var a=n(464),o=n(130),s=n(466),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(t,n,o,c){var u=this;if(s.Readable.call(u),u._mode=o,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",(function(){e.nextTick((function(){u.emit("close")}))})),"fetch"===o){if(u._fetchResponse=n,u.url=n.url,u.statusCode=n.status,u.statusMessage=n.statusText,n.headers.forEach((function(e,t){u.headers[t.toLowerCase()]=e,u.rawHeaders.push(t,e)})),a.writableStream){var l=new WritableStream({write:function(e){return new Promise((function(t,n){u._destroyed?n():u.push(new r(e))?t():u._resumeFetch=t}))},close:function(){i.clearTimeout(c),u._destroyed||u.push(null)},abort:function(e){u._destroyed||u.emit("error",e)}});try{return void n.body.pipeTo(l).catch((function(e){i.clearTimeout(c),u._destroyed||u.emit("error",e)}))}catch(p){}}var h=n.body.getReader();!function e(){h.read().then((function(t){if(!u._destroyed){if(t.done)return i.clearTimeout(c),void u.push(null);u.push(new r(t.value)),e()}})).catch((function(e){i.clearTimeout(c),u._destroyed||u.emit("error",e)}))}()}else{if(u._xhr=t,u._pos=0,u.url=t.responseURL,u.statusCode=t.status,u.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===u.headers[n]&&(u.headers[n]=[]),u.headers[n].push(t[2])):void 0!==u.headers[n]?u.headers[n]+=", "+t[2]:u.headers[n]=t[2],u.rawHeaders.push(t[1],t[2])}})),u._charset="x-user-defined",!a.overrideMimeType){var f=u.rawHeaders["mime-type"];if(f){var d=f.match(/;\s*charset=([^;])(;|$)/);d&&(u._charset=d[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};o(u,s.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==c.DONE)break;try{n=new i.VBArray(t.responseBody).toArray()}catch(l){}if(null!==n){e.push(new r(n));break}case"text":try{n=t.responseText}catch(l){e._mode="text:vbarray";break}if(n.length>e._pos){var a=n.substr(e._pos);if("x-user-defined"===e._charset){for(var o=new r(a.length),s=0;s<a.length;s++)o[s]=255&a.charCodeAt(s);e.push(o)}else e.push(a,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==c.DONE||!t.response)break;n=t.response,e.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==c.LOADING||!n)break;e.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==c.LOADING)break;var u=new i.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(n)}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,n(39),n(110).Buffer,n(17))},function(e,t,n){(t=e.exports=n(467)).Stream=t,t.Readable=t,t.Writable=n(470),t.Duplex=n(170),t.Transform=n(472),t.PassThrough=n(531)},function(e,t,n){"use strict";(function(t,r){var i=n(247);e.exports=y;var a,o=n(458);y.ReadableState=b;n(138).EventEmitter;var s=function(e,t){return e.listeners(t).length},c=n(468),u=n(293).Buffer,l=t.Uint8Array||function(){};var h=Object.create(n(187));h.inherits=n(130);var f=n(526),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,m=n(527),g=n(469);h.inherits(y,c);var v=["error","close","destroy","pause","resume"];function b(e,t){e=e||{};var r=t instanceof(a=a||n(170));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(471).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(a=a||n(170),!(this instanceof y))return new y(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function _(e,t,n,r,i){var a,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,E(e)}(e,o)):(i||(a=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof l||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"===typeof t||o.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):x(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?x(e,o,t,!1):O(e,o)):x(e,o,t,!1))):r||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&E(e)),O(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},y.prototype.unshift=function(e){return _(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(471).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(k,e):k(e))}function k(e){d("emit readable"),e.emit("readable"),j(e)}function O(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(S,e,t))}function S(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function C(e){d("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0===(e-=o)){o===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0===(e-=o)){o===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function T(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):E(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&T(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(r=e>0?P(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&T(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,d("pipe count=%d opts=%j",a.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:y;function u(t,r){d("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),e.removeListener("close",v),e.removeListener("finish",b),e.removeListener("drain",h),e.removeListener("error",g),e.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",m),f=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function l(){d("onend"),e.end()}a.endEmitted?i.nextTick(c):n.once("end",c),e.on("unpipe",u);var h=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,j(e))}}(n);e.on("drain",h);var f=!1;var p=!1;function m(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==L(a.pipes,e))&&!f&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(t){d("onerror",t),y(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",b),y()}function b(){d("onfinish"),e.removeListener("close",v),y()}function y(){d("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",v),e.once("finish",b),e.emit("pipe",n),a.flowing||(d("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var o=L(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},y.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):i.nextTick(C,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(A,e,t))}(this,e)),this},y.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=P}).call(this,n(17),n(39))},function(e,t,n){e.exports=n(138).EventEmitter},function(e,t,n){"use strict";var r=n(247);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";(function(t,r,i){var a=n(247);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var s,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:a.nextTick;b.WritableState=v;var u=Object.create(n(187));u.inherits=n(130);var l={deprecate:n(529)},h=n(468),f=n(293).Buffer,d=i.Uint8Array||function(){};var p,m=n(469);function g(){}function v(e,t){s=s||n(170),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(a.nextTick(i,r),a.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),k(e,t))}(e,n,r,t,i);else{var o=w(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),r?c(_,e,n,o,i):_(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(s=s||n(170),!p.call(b,this)&&!(this instanceof s))return new b(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),h.call(this)}function y(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function _(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),k(e,t)}function x(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)i[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;i.allBuffers=c,y(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,h=n.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,l,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),k(e,t)}))}function k(e,t){var n=w(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(b,h),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===b&&(e&&e._writableState instanceof v)}})):p=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,f.isBuffer(r)||r instanceof d);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=g),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,a){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=f.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,r,i,a);return c}(this,i,s,e,t,n)),o},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,n){var r=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,k(e,t),n&&(t.finished?a.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(39),n(53).setImmediate,n(17))},function(e,t,n){"use strict";var r=n(530).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=o;var r=n(170),i=Object.create(n(187));function a(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(130),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeHandlers=void 0;var r=n(538),i=n(539),a=n(540),o=n(541),s=n(542),c=n(475),u=n(543),l=n(544),h=n(545),f=n(546),d=n(547),p=n(548),m=n(549),g=n(550),v=n(551),b=n(552);t.typeHandlers={bmp:r.BMP,cur:i.CUR,dds:a.DDS,gif:o.GIF,icns:s.ICNS,ico:c.ICO,j2c:u.J2C,jp2:l.JP2,jpg:h.JPG,ktx:f.KTX,png:d.PNG,pnm:p.PNM,psd:m.PSD,svg:g.SVG,tiff:v.TIFF,webp:b.WEBP}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICO=void 0;function r(e,t){var n=e.readUInt8(t);return 0===n?256:n}function i(e,t){var n=6+16*t;return{height:r(e,n+1),width:r(e,n)}}t.ICO={validate:function(e){return 0===e.readUInt16LE(0)&&1===e.readUInt16LE(2)},calculate:function(e){var t=e.readUInt16LE(4),n=i(e,0);if(1===t)return n;for(var r=[n],a=1;a<t;a+=1)r.push(i(e,a));return{height:n.height,images:r,width:n.width}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readUInt=void 0,t.readUInt=function(e,t,n,r){return n=n||0,e["readUInt"+t+(r?"BE":"LE")].call(e,n)}},,,,,,,,,,,,,function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},,function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),o=r[0],s=r[1],c=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),l=0,h=s>0?o-4:o;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(l(e,o,o+16383>s?s:o+16383));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-l)-1,d>>=-l,l+=s;l>0;a=256*a+e[t+h],h+=f,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=r;l>0;o=256*o+e[t+h],h+=f,l-=8);if(0===a)a=1-u;else{if(a===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=u}return(d?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,c,u=8*a-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=l?(s=0,o=l):o+h>=1?(s=(t*c-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[n+d]=255&o,d+=p,o/=256,u-=8);e[n+d-p]|=128*m}},function(e,t,n){var r=n(497);function i(t,n,a){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}},i(t,n,a||t)}e.exports=i},function(e,t,n){var r=n(288);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(502),i=n(503),a=n(290),o=n(504);e.exports=function(e){return r(e)||i(e)||a(e)||o()}},function(e,t,n){var r=n(460);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(290);e.exports=function(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=r(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}},function(e,t,n){var r=n(507);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){var r=n(288),i=n(509),a=n(510);e.exports=function(e){return function(){var t,n=r(e);if(i()){var o=r(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return a(this,t)}}},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(511),i=n(459);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?i(e):t}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r=n(292),i=n(291);Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=void 0;var a=n(462),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventBus,i=t.externalLinkTarget,o=void 0===i?null:i,s=t.externalLinkRel,c=void 0===s?null:s,u=t.externalLinkEnabled,l=void 0===u||u,h=t.ignoreDestinationZoom,f=void 0!==h&&h;r(this,e),this.eventBus=n||(0,a.getGlobalEventBus)(),this.externalLinkTarget=o,this.externalLinkRel=c,this.externalLinkEnabled=l,this._ignoreDestinationZoom=f,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return i(e,[{key:"setDocument",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=t,this.pdfDocument=e,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setHistory",value:function(e){this.pdfHistory=e}},{key:"navigateTo",value:function(e){var t=this;new Promise((function(n,r){"string"!==typeof e?n({namedDest:"",explicitDest:e}):t.pdfDocument.getDestination(e).then((function(t){n({namedDest:e,explicitDest:t})}))})).then((function(n){Array.isArray(n.explicitDest)?function n(r){var i,a=r.namedDest,o=r.explicitDest,s=o[0];if(s instanceof Object){if(null===(i=t._cachedPageNumber(s)))return void t.pdfDocument.getPageIndex(s).then((function(e){t.cachePageRef(e+1,s),n({namedDest:a,explicitDest:o})})).catch((function(){console.error('PDFLinkService.navigateTo: "'.concat(s,'" is not ')+'a valid page reference, for dest="'.concat(e,'".'))}))}else{if(!Number.isInteger(s))return void console.error('PDFLinkService.navigateTo: "'.concat(s,'" is not ')+'a valid destination reference, for dest="'.concat(e,'".'));i=s+1}!i||i<1||i>t.pagesCount?console.error('PDFLinkService.navigateTo: "'.concat(i,'" is not ')+'a valid page number, for dest="'.concat(e,'".')):(t.pdfHistory&&(t.pdfHistory.pushCurrentPosition(),t.pdfHistory.push({namedDest:a,explicitDest:o,pageNumber:i})),t.pdfViewer.scrollPageIntoView({pageNumber:i,destArray:o,ignoreDestinationZoom:t._ignoreDestinationZoom}))}(n):console.error('PDFLinkService.navigateTo: "'.concat(n.explicitDest,'" is')+' not a valid destination array, for dest="'.concat(e,'".'))}))}},{key:"getDestinationHash",value:function(e){if("string"===typeof e)return this.getAnchorUrl("#"+escape(e));if(Array.isArray(e)){var t=JSON.stringify(e);return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(e){return(this.baseUrl||"")+e}},{key:"setHash",value:function(e){var t,n;if(e.includes("=")){var r=(0,a.parseQueryString)(e);if("search"in r&&this.eventBus.dispatch("findfromurlhash",{source:this,query:r.search.replace(/"/g,""),phraseSearch:"true"===r.phrase}),"nameddest"in r)return void this.navigateTo(r.nameddest);if("page"in r&&(t=0|r.page||1),"zoom"in r){var i=r.zoom.split(","),o=i[0],s=parseFloat(o);o.includes("Fit")?"Fit"===o||"FitB"===o?n=[null,{name:o}]:"FitH"===o||"FitBH"===o||"FitV"===o||"FitBV"===o?n=[null,{name:o},i.length>1?0|i[1]:null]:"FitR"===o?5!==i.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:o},0|i[1],0|i[2],0|i[3],0|i[4]]:console.error('PDFLinkService.setHash: "'.concat(o,'" is not ')+"a valid zoom value."):n=[null,{name:"XYZ"},i.length>1?0|i[1]:null,i.length>2?0|i[2]:null,s?s/100:o]}n?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:n,allowNegativeOffset:!0}):t&&(this.page=t),"pagemode"in r&&this.eventBus.dispatch("pagemode",{source:this,mode:r.pagemode})}else{n=unescape(e);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(c){}if("string"===typeof n||function(e){if(!Array.isArray(e))return!1;var t=e.length;if(t<2)return!1;var n=e[0];if(("object"!==typeof n||!Number.isInteger(n.num)||!Number.isInteger(n.gen))&&!(Number.isInteger(n)&&n>=0))return!1;var r=e[1];if("object"!==typeof r||"string"!==typeof r.name)return!1;var i=!0;switch(r.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;i=!1;break;default:return!1}for(var a=2;a<t;a++){var o=e[a];if(!("number"===typeof o||i&&null===o))return!1}return!0}(n))return void this.navigateTo(n);console.error('PDFLinkService.setHash: "'.concat(unescape(e),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(e){switch(e){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}},{key:"cachePageRef",value:function(e,t){if(t){var n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);this._pagesRefCache[n]=e}}},{key:"_cachedPageNumber",value:function(e){var t=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return this._pagesRefCache&&this._pagesRefCache[t]||null}},{key:"isPageVisible",value:function(e){return this.pdfViewer.isPageVisible(e)}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(e){this.pdfViewer.currentPageNumber=e}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(e){this.pdfViewer.pagesRotation=e}}]),e}();t.PDFLinkService=o;var s=function(){function e(){r(this,e),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}return i(e,[{key:"navigateTo",value:function(e){}},{key:"getDestinationHash",value:function(e){return"#"}},{key:"getAnchorUrl",value:function(e){return"#"}},{key:"setHash",value:function(e){}},{key:"executeNamedAction",value:function(e){}},{key:"cachePageRef",value:function(e,t){}},{key:"isPageVisible",value:function(e){return!0}},{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(e){}},{key:"rotation",get:function(){return 0},set:function(e){}}]),e}();t.SimpleLinkService=s},function(e,t,n){"use strict";(function(e){var r=n(4),i=n(29),a=n(1),o=n.n(a),s=n(3),c=n(32),u=n(257),l=n(10),h=n(83);function f(){var e=Object(r.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return f=function(){return e},e}function d(){var e=Object(r.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return d=function(){return e},e}t.a=function(t){var r=t.location,s=t.onEdit;return Object(a.useEffect)((function(){if(void 0!==r.map&&""!==r.map){var t=n(463),a=n(524),o=n(535),c=t.parse(r.map);a.get(c,(function(t){var n=[];t.on("data",(function(e){n.push(e)})).on("end",(function(){var t=e.concat(n),a=o(t);s(Object(i.a)(Object(i.a)({},r),{},{dimension:{height:a.height,width:a.width}}))}))}))}}),[r.map]),o.a.createElement(p,null,o.a.createElement(m,null,o.a.createElement(c.a,{value:r.name,label:"Name",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{name:e}))}}),o.a.createElement(c.a,{value:r.map,label:"Picture",icon:l.I,onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{map:e}))}}),o.a.createElement(h.a,{value:r.dimension.width,label:"Map width",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{dimension:Object(i.a)(Object(i.a)({},r.dimension),{},{width:e})}))}}),o.a.createElement(h.a,{value:r.dimension.height,label:"Map height",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{dimension:Object(i.a)(Object(i.a)({},r.dimension),{},{height:e})}))}}),o.a.createElement(c.a,{value:r.sources,label:"Sources",icon:l.J,onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{sources:e}))}})),o.a.createElement(u.a,{editable:!0,location:r,onEdit:s}))};var p=s.b.div(d()),m=s.b.div(f(),(function(e){return e.theme.tile.color}))}).call(this,n(110).Buffer)},function(e,t,n){(function(e,r){var i;!function(a){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r&&r;o.global!==o&&o.window!==o&&o.self;var s,c=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function m(e){throw new RangeError(f[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function v(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(h,".")).split("."),t).join(".")}function b(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function y(e){return g(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,n){var r=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;r+=36)e=d(e/35);return d(r+36*e/(e+38))}function w(e){var t,n,r,i,a,o,s,u,l,h,f,p=[],g=e.length,v=0,b=128,_=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),p.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(a=v,o=1,s=36;i>=g&&m("invalid-input"),((u=(f=e.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||u>d((c-v)/o))&&m("overflow"),v+=u*o,!(u<(l=s<=_?1:s>=_+26?26:s-_));s+=36)o>d(c/(h=36-l))&&m("overflow"),o*=h;_=x(v-a,t=p.length+1,0==a),d(v/t)>c-b&&m("overflow"),b+=d(v/t),v%=t,p.splice(v++,0,b)}return y(p)}function E(e){var t,n,r,i,a,o,s,u,l,h,f,g,v,y,w,E=[];for(g=(e=b(e)).length,t=128,n=0,a=72,o=0;o<g;++o)(f=e[o])<128&&E.push(p(f));for(r=i=E.length,i&&E.push("-");r<g;){for(s=c,o=0;o<g;++o)(f=e[o])>=t&&f<s&&(s=f);for(s-t>d((c-n)/(v=r+1))&&m("overflow"),n+=(s-t)*v,t=s,o=0;o<g;++o)if((f=e[o])<t&&++n>c&&m("overflow"),f==t){for(u=n,l=36;!(u<(h=l<=a?1:l>=a+26?26:l-a));l+=36)w=u-h,y=36-h,E.push(p(_(h+w%y,0))),u=d(w/y);E.push(p(_(u,0))),a=x(n,v,r==i),n=0,++r}++n,++t}return E.join("")}s={version:"1.4.1",ucs2:{decode:b,encode:y},decode:w,encode:E,toASCII:function(e){return v(e,(function(e){return l.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return v(e,(function(e){return u.test(e)?w(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(186)(e),n(17))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(522),t.encode=t.stringify=n(523)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){t=t||"&",n=n||"=";var o={};if("string"!==typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var c=1e3;a&&"number"===typeof a.maxKeys&&(c=a.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var h,f,d,p,m=e[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(h=m.substr(0,g),f=m.substr(g+1)):(h=m,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),r(o,d)?i(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?a(o(e),(function(o){var s=encodeURIComponent(r(o))+n;return i(e[o])?a(e[o],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[o]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){(function(e){var r=n(525),i=n(465),a=n(533),o=n(534),s=n(463),c=t;c.request=function(t,n){t="string"===typeof t?s.parse(t):a(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",o=t.protocol||i,c=t.hostname||t.host,u=t.port,l=t.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),t.url=(c?o+"//"+c:"")+(u?":"+u:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new r(t);return n&&h.on("response",n),h},c.get=function(e,t){var n=c.request(e,t);return n.end(),n},c.ClientRequest=r,c.IncomingMessage=i.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=o,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n(17))},function(e,t,n){(function(t,r,i){var a=n(464),o=n(130),s=n(465),c=n(466),u=n(532),l=s.IncomingMessage,h=s.readyStates;var f=e.exports=function(e){var n,r=this;c.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!a.abortController)i=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!a.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=function(e,t){return a.fetch&&t?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&e?"arraybuffer":a.vbArray&&e?"text:vbarray":"text"}(n,i),r._fetchTimer=null,r.on("finish",(function(){r._onFinish()}))};o(f,c.Writable),f.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===d.indexOf(n)&&(this._headers[n]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,o=e._headers,s=null;"GET"!==n.method&&"HEAD"!==n.method&&(s=a.arraybuffer?u(t.concat(e._body)):a.blobConstructor?new r.Blob(e._body.map((function(e){return u(e)})),{type:(o["content-type"]||{}).value||""}):t.concat(e._body).toString());var c=[];if(Object.keys(o).forEach((function(e){var t=o[e].name,n=o[e].value;Array.isArray(n)?n.forEach((function(e){c.push([t,e])})):c.push([t,n])})),"fetch"===e._mode){var l=null;if(a.abortController){var f=new AbortController;l=f.signal,e._fetchAbortController=f,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=r.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),n.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:c,body:s||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:l}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var d=e._xhr=new r.XMLHttpRequest;try{d.open(e._opts.method,e._opts.url,!0)}catch(p){return void i.nextTick((function(){e.emit("error",p)}))}"responseType"in d&&(d.responseType=e._mode.split(":")[0]),"withCredentials"in d&&(d.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(d.timeout=n.requestTimeout,d.ontimeout=function(){e.emit("requestTimeout")}),c.forEach((function(e){d.setRequestHeader(e[0],e[1])})),e._response=null,d.onreadystatechange=function(){switch(d.readyState){case h.LOADING:case h.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(d.onprogress=function(){e._onXHRProgress()}),d.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{d.send(s)}catch(p){return void i.nextTick((function(){e.emit("error",p)}))}}}},f.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(n){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},f.prototype._write=function(e,t,n){this._body.push(e),n()},f.prototype.abort=f.prototype.destroy=function(){this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},f.prototype.end=function(e,t,n){"function"===typeof e&&(n=e,e=void 0),c.Writable.prototype.end.call(this,e,t,n)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n(110).Buffer,n(17),n(39))},function(e,t){},function(e,t,n){"use strict";var r=n(293).Buffer,i=n(528);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,a=r.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=a,i=s,t.copy(n,i),s+=o.data.length,o=o.next;return a},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(17))},function(e,t,n){var r=n(110),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";e.exports=a;var r=n(472),i=Object.create(n(187));function a(e){if(!(this instanceof a))return new a(e);r.call(this,e)}i.inherits=n(130),i.inherits(a,r),a.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){var r=n(110).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"===typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,i=0;i<n;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,n){"use strict";(function(r,i){var a=n(73),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.types=t.setConcurrency=t.imageSize=void 0;var s=n(473),c=n(536),u=n(537),l=n(474),h=n(553),f=new u.default({concurrency:100,autostart:!0});function d(e,t){var n=h.detector(e);if(n&&n in l.typeHandlers){var r=l.typeHandlers[n].calculate(e,t);if(void 0!==r)return r.type=n,r}throw new TypeError("unsupported file type: "+n+" (file: "+t+")")}function p(e,t){if(r.isBuffer(e))return d(e);if("string"!==typeof e)throw new TypeError("invalid invocation");var n=c.resolve(e);if("function"!==typeof t)return d(function(e){var t=s.openSync(e,"r"),n=s.fstatSync(t).size;if(n<=0)throw s.closeSync(t),new Error("Empty file");var i=Math.min(n,524288),a=r.alloc(i);return s.readSync(t,a,0,i,0),s.closeSync(t),a}(n),n);f.push((function(){return function(e){return o(this,void 0,void 0,a.mark((function t(){var n,i,o,c,u;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.promises.open(e,"r");case 2:return n=t.sent,t.next=5,n.stat();case 5:if(i=t.sent,!((o=i.size)<=0)){t.next=11;break}return t.next=10,n.close();case 10:throw new Error("Empty file");case 11:return c=Math.min(o,524288),u=r.alloc(c),t.next=15,n.read(u,0,c,0);case 15:return t.next=17,n.close();case 17:return t.abrupt("return",u);case 18:case"end":return t.stop()}}),t)})))}(n).then((function(e){return i.nextTick(t,null,d(e,n))})).catch(t)}))}e.exports=t=p,t.default=p,t.imageSize=p,t.setConcurrency=function(e){f.concurrency=e},t.types=Object.keys(l.typeHandlers)}).call(this,n(110).Buffer,n(39))},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,i="/"===o.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var a=t.isAbsolute(e),o="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!a).join("/"))||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),a=r(n.split("/")),o=Math.min(i.length,a.length),s=o,c=0;c<o;c++)if(i[c]!==a[c]){s=c;break}var u=[];for(c=s;c<i.length;c++)u.push("..");return(u=u.concat(a.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!i){r=a;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(i=!1,r=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){n=o+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(39))},function(e,t,n){var r=n(130),i=n(138).EventEmitter;function a(e){if(!(this instanceof a))return new a(e);i.call(this),e=e||{},this.concurrency=e.concurrency||1/0,this.timeout=e.timeout||0,this.autostart=e.autostart||!1,this.results=e.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}}e.exports=a,e.exports.default=a,r(a,i);["pop","shift","indexOf","lastIndexOf"].forEach((function(e){a.prototype[e]=function(){return Array.prototype[e].apply(this.jobs,arguments)}})),a.prototype.slice=function(e,t){return this.jobs=this.jobs.slice(e,t),this},a.prototype.reverse=function(){return this.jobs.reverse(),this};function o(){for(var e in this.timers){var t=this.timers[e];delete this.timers[e],clearTimeout(t)}}function s(e){var t=this;function n(e){t.end(e)}this.on("error",n),this.on("end",(function r(i){t.removeListener("error",n),t.removeListener("end",r),e(i,this.results)}))}function c(e){this.session++,this.running=!1,this.emit("end",e)}["push","unshift","splice"].forEach((function(e){a.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this.autostart&&this.start(),t}})),Object.defineProperty(a.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),a.prototype.start=function(e){if(e&&s.call(this,e),this.running=!0,!(this.pending>=this.concurrency))if(0!==this.jobs.length){var t=this,n=this.jobs.shift(),r=!0,i=this.session,a=null,o=!1,u=null,l=n.timeout||this.timeout;l&&(a=setTimeout((function(){o=!0,t.listeners("timeout").length>0?t.emit("timeout",f,n):f()}),l),this.timers[a]=a),this.results&&(u=this.results.length,this.results[u]=null),this.pending++,t.emit("start",n);var h=n(f);h&&h.then&&"function"===typeof h.then&&h.then((function(e){return f(null,e)})).catch((function(e){return f(e||!0)})),this.running&&this.jobs.length>0&&this.start()}else 0===this.pending&&c.call(this);function f(e,s){r&&t.session===i&&(r=!1,t.pending--,null!==a&&(delete t.timers[a],clearTimeout(a)),e?t.emit("error",e,n):!1===o&&(null!==u&&(t.results[u]=Array.prototype.slice.call(arguments,1)),t.emit("success",s,n)),t.session===i&&(0===t.pending&&0===t.jobs.length?c.call(t):t.running&&t.start()))}},a.prototype.stop=function(){this.running=!1},a.prototype.end=function(e){o.call(this),this.jobs.length=0,this.pending=0,c.call(this,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BMP=void 0,t.BMP={validate:function(e){return"BM"===e.toString("ascii",0,2)},calculate:function(e){return{height:Math.abs(e.readInt32LE(22)),width:e.readUInt32LE(18)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CUR=void 0;var r=n(475);t.CUR={validate:function(e){return 0===e.readUInt16LE(0)&&2===e.readUInt16LE(2)},calculate:function(e){return r.ICO.calculate(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DDS=void 0,t.DDS={validate:function(e){return 542327876===e.readUInt32LE(0)},calculate:function(e){return{height:e.readUInt32LE(12),width:e.readUInt32LE(16)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GIF=void 0;var r=/^GIF8[79]a/;t.GIF={validate:function(e){var t=e.toString("ascii",0,6);return r.test(t)},calculate:function(e){return{height:e.readUInt16LE(8),width:e.readUInt16LE(6)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICNS=void 0;var r={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function i(e,t){var n=t+4;return[e.toString("ascii",t,n),e.readUInt32BE(n)]}function a(e){var t=r[e];return{width:t,height:t,type:e}}t.ICNS={validate:function(e){return"icns"===e.toString("ascii",0,4)},calculate:function(e){var t=e.length,n=e.readUInt32BE(4),r=8,o=i(e,r),s=a(o[0]);if((r+=o[1])===n)return s;for(var c={height:s.height,images:[s],width:s.width};r<n&&r<t;)s=a((o=i(e,r))[0]),r+=o[1],c.images.push(s);return c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.J2C=void 0,t.J2C={validate:function(e){return"ff4fff51"===e.toString("hex",0,4)},calculate:function(e){return{height:e.readUInt32BE(12),width:e.readUInt32BE(8)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JP2=void 0;var r="66747970",i="6a703268",a="6a502020",o="72726571",s=function(e){return{height:e.readUInt32BE(4),width:e.readUInt32BE(8)}};t.JP2={validate:function(e){var t=e.toString("hex",4,8),n=e.readUInt32BE(0);if(t!==a||n<1)return!1;var i=n+4,o=e.readUInt32BE(n);return e.slice(i,i+o).toString("hex",0,4)===r},calculate:function(e){var t=e.readUInt32BE(0),n=t+4+e.readUInt16BE(t+2);switch(e.toString("hex",n,n+4)){case o:return n=n+4+4+function(e){var t=e.readUInt8(0),n=1+2*t;return(n=n+2+e.readUInt16BE(n)*(2+t))+2+e.readUInt16BE(n)*(16+t)}(e.slice(n+4)),s(e.slice(n+8,n+24));case i:return s(e.slice(n+8,n+24));default:throw new TypeError("Unsupported header found: "+e.toString("ascii",n,n+4))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JPG=void 0;var r=n(476);function i(e){return"45786966"===e.toString("hex",2,6)}function a(e,t){return{height:e.readUInt16BE(t),width:e.readUInt16BE(t+2)}}function o(e,t){var n=e.slice(2,t),i=n.toString("hex",6,8),a="4d4d"===i;if(a||"4949"===i)return function(e,t){for(var n=r.readUInt(e,16,14,t),i=0;i<n;i++){var a=16+12*i,o=a+12;if(a>e.length)return;var s=e.slice(a,o);if(274===r.readUInt(s,16,0,t)){if(3!==r.readUInt(s,16,2,t))return;if(1!==r.readUInt(s,32,4,t))return;return r.readUInt(s,16,8,t)}}}(n,a)}function s(e,t){if(t>e.length)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(255!==e[t])throw new TypeError("Invalid JPG, marker table corrupted")}t.JPG={validate:function(e){return"ffd8"===e.toString("hex",0,2)},calculate:function(e){var t,n;for(e=e.slice(4);e.length;){var r=e.readUInt16BE(0);if(i(e)&&(t=o(e,r)),s(e,r),192===(n=e[r+1])||193===n||194===n){var c=a(e,r+5);return t?{height:c.height,orientation:t,width:c.width}:c}e=e.slice(r+2)}throw new TypeError("Invalid JPG, no size found")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KTX=void 0;t.KTX={validate:function(e){return"KTX 11"===e.toString("ascii",1,7)},calculate:function(e){return{height:e.readUInt32LE(40),width:e.readUInt32LE(36)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PNG=void 0;t.PNG={validate:function(e){if("PNG\r\n\x1a\n"===e.toString("ascii",1,8)){var t=e.toString("ascii",12,16);if("CgBI"===t&&(t=e.toString("ascii",28,32)),"IHDR"!==t)throw new TypeError("Invalid PNG");return!0}return!1},calculate:function(e){return"CgBI"===e.toString("ascii",12,16)?{height:e.readUInt32BE(36),width:e.readUInt32BE(32)}:{height:e.readUInt32BE(20),width:e.readUInt32BE(16)}}}},function(e,t,n){"use strict";var r=n(289);Object.defineProperty(t,"__esModule",{value:!0}),t.PNM=void 0;var i={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},a=Object.keys(i),o={default:function(e){for(var t=[];e.length>0;){var n=e.shift();if("#"!==n[0]){t=n.split(" ");break}}if(2===t.length)return{height:parseInt(t[1],10),width:parseInt(t[0],10)};throw new TypeError("Invalid PNM")},pam:function(e){for(var t={};e.length>0;){var n=e.shift();if(!(n.length>16||n.charCodeAt(0)>128)){var i=n.split(" "),a=r(i,2),o=a[0],s=a[1];if(o&&s&&(t[o.toLowerCase()]=parseInt(s,10)),t.height&&t.width)break}}if(t.height&&t.width)return{height:t.height,width:t.width};throw new TypeError("Invalid PAM")}};t.PNM={validate:function(e){var t=e.toString("ascii",0,2);return a.includes(t)},calculate:function(e){var t=e.toString("ascii",0,2),n=i[t],r=e.toString("ascii",3).split(/[\r\n]+/);return(o[n]||o.default)(r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PSD=void 0,t.PSD={validate:function(e){return"8BPS"===e.toString("ascii",0,4)},calculate:function(e){return{height:e.readUInt32BE(14),width:e.readUInt32BE(18)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVG=void 0;var r=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,i={height:/\sheight=(['"])([^%]+?)\1/,root:r,viewbox:/\sviewBox=(['"])(.+?)\1/,width:/\swidth=(['"])([^%]+?)\1/},a={cm:96/2.54,em:16,ex:8,m:96/2.54*100,mm:96/2.54/10,pc:96/72/12,pt:96/72};function o(e){var t=/([0-9.]+)([a-z]*)/.exec(e);if(t)return Math.round(parseFloat(t[1])*(a[t[2]]||1))}function s(e){var t=e.split(" ");return{height:o(t[3]),width:o(t[2])}}t.SVG={validate:function(e){var t=String(e);return r.test(t)},calculate:function(e){var t=e.toString("utf8").match(i.root);if(t){var n=function(e){var t=e.match(i.width),n=e.match(i.height),r=e.match(i.viewbox);return{height:n&&o(n[2]),viewbox:r&&s(r[2]),width:t&&o(t[2])}}(t[0]);if(n.width&&n.height)return function(e){return{height:e.height,width:e.width}}(n);if(n.viewbox)return function(e,t){var n=t.width/t.height;return e.width?{height:Math.floor(e.width/n),width:e.width}:e.height?{height:e.height,width:Math.floor(e.height*n)}:{height:t.height,width:t.width}}(n,n.viewbox)}throw new TypeError("Invalid SVG")}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.TIFF=void 0;var r=n(473),i=n(476);function a(e,t){var n=i.readUInt(e,16,8,t);return(i.readUInt(e,16,10,t)<<16)+n}function o(e){if(e.length>24)return e.slice(12)}var s=["49492a00","4d4d002a"];t.TIFF={validate:function(e){return s.includes(e.toString("hex",0,4))},calculate:function(t,n){if(!n)throw new TypeError("Tiff doesn't support buffer");var s="BE"===function(e){var t=e.toString("ascii",0,2);return"II"===t?"LE":"MM"===t?"BE":void 0}(t),c=function(e,t){for(var n={},r=e;r&&r.length;){var s=i.readUInt(r,16,0,t),c=i.readUInt(r,16,2,t),u=i.readUInt(r,32,4,t);if(0===s)break;1!==u||3!==c&&4!==c||(n[s]=a(r,t)),r=o(r)}return n}(function(t,n,a){var o=i.readUInt(t,32,4,a),s=1024,c=r.statSync(n).size;o+s>c&&(s=c-o-10);var u=e.alloc(s),l=r.openSync(n,"r");return r.readSync(l,u,0,s,o),r.closeSync(l),u.slice(2)}(t,n,s),s),u=c[256],l=c[257];if(!u||!l)throw new TypeError("Invalid Tiff. Missing tags");return{height:l,width:u}}}}).call(this,n(110).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEBP=void 0,t.WEBP={validate:function(e){var t="RIFF"===e.toString("ascii",0,4),n="WEBP"===e.toString("ascii",8,12),r="VP8"===e.toString("ascii",12,15);return t&&n&&r},calculate:function(e){var t=e.toString("ascii",12,16);if(e=e.slice(20,30),"VP8X"===t){var n=e[0];if(0===(192&n)&&0===(1&n))return function(e){return{height:1+e.readUIntLE(7,3),width:1+e.readUIntLE(4,3)}}(e);throw new TypeError("Invalid WebP")}if("VP8 "===t&&47!==e[0])return function(e){return{height:16383&e.readInt16LE(8),width:16383&e.readInt16LE(6)}}(e);var r=e.toString("hex",3,6);if("VP8L"===t&&"9d012a"!==r)return function(e){return{height:1+((15&e[4])<<10|e[3]<<2|(192&e[2])>>6),width:1+((63&e[2])<<8|e[1])}}(e);throw new TypeError("Invalid WebP")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detector=void 0;var r=n(474),i=Object.keys(r.typeHandlers),a={56:"psd",66:"bmp",68:"dds",71:"gif",73:"tiff",77:"tiff",82:"webp",105:"icns",137:"png",255:"jpg"};t.detector=function(e){var t=e[0];if(t in a){var n=a[t];if(r.typeHandlers[n].validate(e))return n}return i.find((function(t){return r.typeHandlers[t].validate(e)}))}},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(73),i=n.n(r),a=n(74),o=n(15),s=n(1),c=n.n(s),u=n(2),l=n(4),h=n(35),f=n(29),d=n(3),p=n(68),m=n(10),g=n(9),v=n(133),b=n(28),y=n(134),_=n(182),x=n(67),w=function e(t,n,r){Object(x.a)(this,e),this.title=void 0,this.content=void 0,this.tags=void 0,this.title=t||"",this.content=n||"",this.tags=r||""},E=n(244),k=n(86),O=n(32),S=n(95),C=n(96),A=n(30),j=n(286),P=n(79);function T(){var e=Object(l.a)(["\n  background-color: ",";\n  color: ",";\n  padding: 10px;\n  border-radius: 5px;\n"]);return T=function(){return e},e}var R=Object(s.memo)((function(e){var t=e.data;return c.a.createElement(L,null,c.a.createElement(j.d,{type:"source",position:j.e.Top,id:"a",style:{background:"#555"},onConnect:function(e){return console.log("handle onConnect",e)}}),c.a.createElement(j.d,{type:"source",position:j.e.Left,id:"b",style:{background:"#555"},onConnect:function(e){return console.log("handle onConnect",e)}}),c.a.createElement("div",null,c.a.createElement(P.a,{text:t.label})),c.a.createElement(j.d,{type:"source",position:j.e.Right,id:"c",style:{background:"#555"}}),c.a.createElement(j.d,{type:"source",position:j.e.Bottom,id:"d",style:{background:"#555"}}))})),L=d.b.div(T(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}));function M(){var e=Object(l.a)(["\n  position: absolute;\n  z-index: 1000;\n  top: 0px;\n\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  padding: 10px;\n  border-radius: 10px;\n  box-shadow: ",";\n"]);return M=function(){return e},e}var I=function(e){var t=e.activeElement,n=e.onSave,r=e.onClose,i=Object(s.useState)(""),a=Object(o.a)(i,2),u=a[0],l=a[1];Object(s.useEffect)((function(){Object(j.i)(t)&&l(t.data.label),Object(j.h)(t)&&void 0!==t.label&&l(t.label)}),[t,l]);return c.a.createElement(N,null,c.a.createElement(O.a,{value:u,label:"Label",onChange:l}),c.a.createElement(A.a,{text:"Cancel",icon:m.hb,onClick:r}),c.a.createElement(A.a,{text:"Save",icon:m.X,onClick:function(){return function(){var e=t;Object(j.i)(e)&&(e.data=Object(f.a)(Object(f.a)({},e.data),{},{label:u})),Object(j.h)(e)&&(void 0!==e.label?e=Object(f.a)(Object(f.a)({},e),{},{label:u}):e.label=u),n(e)}()}}))},N=d.b.div(M(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.main.backgroundColor}),(function(e){return e.theme.tile.boxShadow}));function D(){var e=Object(l.a)(["\n  background-color: ",";\n  font-size: 16px;\n  padding: 5px;\n  width: 100%;\n  height: calc(100vh - 260px);\n  min-height: 50vh;\n  border-radius: 5px;\n  position: relative;\n"]);return D=function(){return e},e}function F(){var e=Object(l.a)(["\n  position: absolute;\n  z-index: 1000;\n  bottom: 0px;\n  right: 0px;\n"]);return F=function(){return e},e}var z={customeNode:R},B=function(e){var t=e.initElements,n=e.isEditable,r=e.onEdit,i=Object(s.useState)(t),a=Object(o.a)(i,2),u=a[0],l=a[1],h=Object(s.useState)(),d=Object(o.a)(h,2),p=d[0],g=d[1],v=Object(s.useState)(),y=Object(o.a)(v,2),_=y[0],x=y[1];Object(s.useEffect)((function(){console.log("change"),void 0!==r&&t!==u&&r(u)}),[u,r,t]);return c.a.createElement(H,null,c.a.createElement(j.g,{elements:u,onNodeDragStop:function(e,t){l((function(e){return e.map((function(e){return t.id===e.id&&(e.position=t.position),e}))}))},onElementsRemove:function(e){return l((function(t){return Object(j.j)(e,t)}))},onConnect:function(e){e=Object(f.a)(Object(f.a)({},e),{},{type:"smoothstep",label:"Test",labelBgStyle:{fill:"#1F2340",fillOpacity:1},labelStyle:{fill:"white"}}),l((function(t){return Object(j.f)(e,t)}))},onLoad:function(e){console.log("flow loaded:",e),e.fitView()},nodeTypes:z,snapToGrid:!0,connectionMode:j.b.Loose,snapGrid:[15,15],elementsSelectable:n,nodesConnectable:n,nodesDraggable:n,onElementClick:n?function(e,t){Object(j.h)(t)&&u.forEach((function(e){e.id===t.id&&Object(j.h)(e)&&(t.label=e.label)})),g(t),x(!0)}:void 0,deleteKeyCode:46},c.a.createElement(j.c,null),c.a.createElement(j.a,{color:"#aaa",gap:15})),n&&c.a.createElement(U,null,c.a.createElement(b.a,{icon:m.R,onClick:function(){return function(){var e=0;u.forEach((function(t){+t.id>=e&&(e=+t.id+1)}));var t=[{id:e.toString(),type:"customeNode",data:{label:"New Node"},position:{x:250+15*u.length,y:0+15*u.length}}];l((function(e){return e.concat(t)}))}()}})),_&&p&&c.a.createElement(I,{activeElement:p,onSave:function(e){l((function(t){return t.map((function(t){return t.id===e.id?e:t}))})),x(!1)},onClose:function(){return x(!1)}}))},U=d.b.div(F()),H=d.b.div(D(),(function(e){return e.theme.tile.backgroundColor}));function q(){var e=Object(l.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  flex: 1 1 100%;\n"]);return q=function(){return e},e}function W(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return W=function(){return e},e}function G(){var e=Object(l.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return G=function(){return e},e}var Z=function(e){var t=e.campaign,n=e.onEdit,r=Object(s.useState)("General"),i=Object(o.a)(r,2),a=i[0],u=i[1],l=function(e,r,i){if(void 0!==t){var a=t.notes.map((function(t){return t===i?Object(f.a)(Object(f.a)({},t),{},Object(h.a)({},e,r)):t}));n(Object(f.a)(Object(f.a)({},t),{},{notes:a}))}},d=function(e,r,i){if(void 0!==t){var a=t.logs.map((function(t){return t===i?Object(f.a)(Object(f.a)({},t),{},Object(h.a)({},e,r)):t}));n(Object(f.a)(Object(f.a)({},t),{},{logs:a}))}};return c.a.createElement(V,null,c.a.createElement(k.a,{children:["General","Players","Npcs","Notes","Log","Graph","Map"],onChange:function(e){return u(e)},activeTab:a}),"General"===a&&c.a.createElement(Y,null,c.a.createElement(O.a,{value:t.name,label:"Campaign Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(O.a,{value:t.pic,label:"Picture",icon:E.b,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{pic:e}))}}),c.a.createElement(O.a,{value:t.sources,label:"Sources",icon:m.J,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sources:e}))}}),c.a.createElement(S.a,{value:t.description,label:"Description",icon:m.f,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{description:e}))}})),"Players"===a&&c.a.createElement(c.a.Fragment,null,t.players.map((function(e,r){return c.a.createElement(X,{key:r},c.a.createElement(C.a,{optionTable:"chars",value:e,label:"Player",onChange:function(r){return function(e,r){if(void 0!==t){var i=t.players.map((function(t){return t===r?e:t}));n(Object(f.a)(Object(f.a)({},t),{},{players:i}))}}(r,e)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){if(void 0!==t){var r=t.players.filter((function(t){return t!==e})).map((function(e){return e}));n(Object(f.a)(Object(f.a)({},t),{},{players:r}))}}(e)}}))})),c.a.createElement(A.a,{text:"Add new Player",icon:m.R,onClick:function(){return function(){if(void 0!==t){var e=t.players.map((function(e){return e}));e.push(""),n(Object(f.a)(Object(f.a)({},t),{},{players:e}))}}()}})),"Npcs"===a&&c.a.createElement(c.a.Fragment,null,t.npcs.map((function(e,r){return c.a.createElement(X,{key:r},c.a.createElement(C.a,{optionTable:"npcs",value:e,label:"Player",onChange:function(r){return function(e,r){if(void 0!==t){var i=t.npcs.map((function(t){return t===r?e:t}));n(Object(f.a)(Object(f.a)({},t),{},{npcs:i}))}}(r,e)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){if(void 0!==t){var r=t.npcs.filter((function(t){return t!==e})).map((function(e){return e}));n(Object(f.a)(Object(f.a)({},t),{},{npcs:r}))}}(e)}}))})),c.a.createElement(A.a,{text:"Add new Npc",icon:m.R,onClick:function(){return function(){if(void 0!==t){var e=t.npcs.map((function(e){return e}));e.push(""),n(Object(f.a)(Object(f.a)({},t),{},{npcs:e}))}}()}})),"Notes"===a&&c.a.createElement(c.a.Fragment,null,t.notes.map((function(e,r){return c.a.createElement(X,{key:r},c.a.createElement(O.a,{value:e.title,label:"Title",onChange:function(t){return l("title",t,e)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){if(void 0!==t){var r=t.notes.filter((function(t){return t!==e})).map((function(e){return e}));n(Object(f.a)(Object(f.a)({},t),{},{notes:r}))}}(e)}}),c.a.createElement(S.a,{value:e.content,label:"Feature Text",onChange:function(t){return l("content",t,e)}}),c.a.createElement(O.a,{value:e.tags,label:"Tags",onChange:function(t){return l("tags",t,e)}}))})),c.a.createElement(A.a,{text:"Add new Note",icon:m.R,onClick:function(){return function(){if(void 0!==t){var e=t.notes.map((function(e){return e}));e.push(new w),n(Object(f.a)(Object(f.a)({},t),{},{notes:e}))}}()}})),"Log"===a&&c.a.createElement(c.a.Fragment,null,t.logs.map((function(e,r){return c.a.createElement(X,{key:r},c.a.createElement(S.a,{height:"30px",value:e.content,label:"Log Entry",onChange:function(t){return d("content",t,e)}}),c.a.createElement(O.a,{value:e.tags,label:"Tags",onChange:function(t){return d("tags",t,e)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){if(void 0!==t){var r=t.logs.filter((function(t){return t!==e})).map((function(e){return e}));n(Object(f.a)(Object(f.a)({},t),{},{logs:r}))}}(e)}}))})),c.a.createElement(A.a,{text:"Add new Note",icon:m.R,onClick:function(){return function(){if(void 0!==t){var e=t.logs.map((function(e){return e}));e.push(new w((new Date).toString(),"","")),n(Object(f.a)(Object(f.a)({},t),{},{logs:e}))}}()}})),"Graph"===a&&c.a.createElement(X,null,c.a.createElement(B,{isEditable:!0,initElements:t.flow,onEdit:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{flow:e}))}})),"Map"===a&&c.a.createElement(X,null,c.a.createElement(C.a,{optionTable:"locations",value:t.map,label:"Map",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{map:e}))}})))},V=d.b.div(G()),Y=d.b.div(W(),(function(e){return e.theme.tile.color})),X=d.b.div(q()),K=n(126),J=n(135),Q=function e(t,n,r,i){Object(x.a)(this,e),this.campaign=void 0,this.characters=void 0,this.npcs=void 0,this.map=void 0,this.campaign=t||new J.a,this.characters=n||[],this.npcs=r||[],this.map=i||new K.a},$=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.time("t"),console.time("load"),o=[],s=[],t.players.forEach((function(e){o.push(Object(p.q)("chars","name",e))})),t.npcs.forEach((function(e){s.push(Object(p.q)("npcs","name",e))})),e.next=8,Promise.all(o);case 8:return n=e.sent,e.next=11,Promise.all(s);case 11:return r=e.sent,e.next=14,Object(p.q)("locations","name",t.map);case 14:return a=e.sent,console.timeEnd("load"),n=n.filter((function(e){return void 0!==e})),r=r.filter((function(e){return void 0!==e})),console.timeEnd("t"),e.abrupt("return",new Q(t,n,r,a));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=n(31),te=n(34),ne=n.n(te),re=n(87),ie=n(6),ae=function(e){var t=e.hasTitle,n=e.onSend,r=Object(s.useState)(!1),i=Object(o.a)(r,2),a=i[0],u=i[1],l=Object(s.useState)(""),h=Object(o.a)(l,2),f=h[0],d=h[1],p=Object(s.useState)(""),v=Object(o.a)(p,2),y=v[0],_=v[1],x=Object(s.useState)(""),w=Object(o.a)(x,2),E=w[0],k=w[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(ie.a,{open:a},t&&c.a.createElement(O.a,{value:f,label:"Title",onChange:function(e){return d(e)}}),c.a.createElement(O.a,{value:y,label:"Content",onChange:function(e){return _(e)}}),c.a.createElement(O.a,{value:E,label:"Tags",onChange:function(e){return k(e)}}),c.a.createElement(b.a,{onClick:function(){return function(){var e=[];""!==f&&(e=[].concat(Object(ee.a)(e),[new re.a("title",f)])),""!==y&&(e=[].concat(Object(ee.a)(e),[new re.a("content",y)])),""!==E&&(e=[].concat(Object(ee.a)(e),[new re.a("tags",E)])),u(!1),n(e)}()},icon:m.Y}),c.a.createElement(b.a,{onClick:function(){return ne.a.unstable_batchedUpdates((function(){d(""),_(""),k(""),u(!1)})),void n([])},icon:m.V}),c.a.createElement(ie.h,{onClick:function(){return u(!a)}},c.a.createElement(g.a,{icon:m.Y}))))},oe=n(257),se=n(166),ce=n(167),ue=n(33);function le(){var e=Object(l.a)([""]);return le=function(){return e},e}function he(){var e=Object(l.a)(["\n  margin: -10px 5px -10px -10px;\n  height: 47px;\n  width: 47px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  box-shadow: 0px 0px 10px 0px rgba(172, 172, 172, 0.2);\n  background-color: white;\n  overflow: hidden;\n"]);return he=function(){return e},e}function fe(){var e=Object(l.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return fe=function(){return e},e}function de(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return de=function(){return e},e}function pe(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return pe=function(){return e},e}function me(){var e=Object(l.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return me=function(){return e},e}function ge(){var e=Object(l.a)(["\n  flex: 1 1 100%;\n  max-width: 800px;\n  padding: 10px;\n"]);return ge=function(){return e},e}function ve(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return ve=function(){return e},e}function be(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return be=function(){return e},e}function ye(){var e=Object(l.a)(["\n  height: 30px;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 50px 5px 5px 50px;\n  background-color: ",";\n"]);return ye=function(){return e},e}function _e(){var e=Object(l.a)(["\n  position: relative;\n  z-index: 200;\n  width: 100%;\n  height: 70px;\n  margin-bottom: -5px;\n  background-color: ",";\n"]);return _e=function(){return e},e}function xe(){var e=Object(l.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n"]);return xe=function(){return e},e}function we(){var e=Object(l.a)(["\n  margin-top: 50px;\n"]);return we=function(){return e},e}function Ee(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  max-width: 800px;\n  padding: 5px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return Ee=function(){return e},e}function ke(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return ke=function(){return e},e}var Oe=function(e){var t=e.campaign,n=(e.onEdit,Object(s.useState)(!1)),r=Object(o.a)(n,2),i=r[0],a=r[1],u=Object(s.useState)(new Q),l=Object(o.a)(u,2),h=l[0],f=l[1],d=Object(s.useState)("General"),g=Object(o.a)(d,2),v=g[0],b=g[1],y=Object(s.useState)(["General"]),_=Object(o.a)(y,2),x=_[0],w=_[1],E=Object(s.useState)([]),O=Object(o.a)(E,2),S=O[0],C=O[1];Object(s.useEffect)((function(){$(t).then((function(e){var t=["General"];e.characters.length>0&&t.push("Players"),e.npcs.length>0&&t.push("Npcs"),w([].concat(t,["Notes","Log","Graph","Map"])),f(e),a(!1)}))}),[t,f]);var A=Object(s.useCallback)((function(){return void 0!==t?""===t.pic||null===t.pic?"":t.pic:""}),[t]);return c.a.createElement(c.a.Fragment,null,i&&c.a.createElement(ue.b,null),!i&&h&&c.a.createElement(Se,null,c.a.createElement(Pe,null,c.a.createElement(Ce,null,""!==A()?c.a.createElement(Te,null,c.a.createElement(ze,{pic:A()}),c.a.createElement("b",null,h.campaign.name)):c.a.createElement(Re,null,c.a.createElement("b",null,h.campaign.name)))),c.a.createElement(k.a,{children:x,onChange:function(e){return b(e)},activeTab:v}),"General"===v&&c.a.createElement(Ce,null,c.a.createElement(De,null,c.a.createElement(Ie,null,"Description"),c.a.createElement(P.a,{text:h.campaign.description})),c.a.createElement(Le,null,c.a.createElement(Ne,null,c.a.createElement(Fe,{icon:m.J}),h.campaign.sources))),"Players"===v&&h.characters&&c.a.createElement(Le,null,h.characters.map((function(e,t){return c.a.createElement(ce.a,{char:e,key:t})}))),"Npcs"===v&&h.npcs&&c.a.createElement(Le,null,h.npcs.map((function(e,t){return c.a.createElement(se.a,{npc:e,key:t})}))),"Notes"===v&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ae,{hasTitle:!0,onSend:C}),c.a.createElement(je,null,h.campaign.notes.filter((function(e){return Object(p.a)(e,S)})).map((function(e,t){return c.a.createElement(Me,{key:t},c.a.createElement(Ne,null,c.a.createElement(Ie,null,e.title),c.a.createElement(P.a,{text:e.content})),c.a.createElement(Ne,null,c.a.createElement(Fe,{icon:m.gb}),e.tags))})))),"Log"===v&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ae,{hasTitle:!1,onSend:C}),c.a.createElement(Ae,null,h.campaign.logs.filter((function(e){return Object(p.a)(e,S)})).sort((function(e,t){return+new Date(t.title)-+new Date(e.title)})).map((function(e,t){return c.a.createElement(Le,{key:t},c.a.createElement(Ne,null,c.a.createElement(Ie,null,(n=e.title,new Date(n).toLocaleString()),":"),c.a.createElement(P.a,{text:e.content})),c.a.createElement(Ne,null,c.a.createElement(Fe,{icon:m.gb}),e.tags));var n})))),"Graph"===v&&c.a.createElement(Le,null,c.a.createElement(B,{isEditable:!1,initElements:h.campaign.flow})),"Map"===v&&c.a.createElement(oe.a,{editable:!1,location:h.map})))},Se=d.b.div(ke()),Ce=d.b.div(Ee(),(function(e){return e.theme.tile.color})),Ae=d.b.div(we()),je=Object(d.b)(Ae)(xe()),Pe=d.b.div(_e(),(function(e){return e.theme.main.backgroundColor})),Te=d.b.div(ye(),(function(e){return e.theme.tile.backgroundColor})),Re=d.b.div(be(),(function(e){return e.theme.tile.backgroundColor})),Le=d.b.div(ve()),Me=Object(d.b)(Le)(ge()),Ie=d.b.span(me(),(function(e){return e.theme.tile.backgroundColorLink})),Ne=d.b.div(pe(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),De=d.b.div(de(),(function(e){return e.theme.tile.backgroundColor})),Fe=Object(d.b)(g.a)(fe(),(function(e){return e.theme.main.highlight})),ze=function(e){var t=e.pic,n={backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==t?c.a.createElement(Be,{style:n}):c.a.createElement(Ue,null)},Be=d.b.div(he(),(function(e){return e.theme.main.highlight})),Ue=d.b.div(le()),He=n(127),qe=n(99),We=n(128),Ge=n(83);function Ze(){var e=Object(l.a)(["\n  flex: 1 1 1rem;\n  max-width: 2em;\n  height: 34px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  margin: 2px;\n  -moz-appearance: textfield;\n"]);return Ze=function(){return e},e}function Ve(){var e=Object(l.a)(["\n  flex: 1 1;\n"]);return Ve=function(){return e},e}function Ye(){var e=Object(l.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return Ye=function(){return e},e}function Xe(){var e=Object(l.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  min-height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px 5px 5px 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center;\n"]);return Xe=function(){return e},e}var Ke=function(e){var t=e.values,n=e.label,r=e.icon,i=e.transform,a=e.max,u=e.onChange,l=Object(s.useState)(t),h=Object(o.a)(l,2),f=h[0],d=h[1],p=function(e,t){var n=f;n[e]=t,d(n),u(n)};return c.a.createElement(Je,null,c.a.createElement($e,null,r?c.a.createElement(Qe,{icon:r,transform:i}):""," ",n),t.map((function(e,t){return void 0!==a?c.a.createElement(et,{type:"number",key:t,max:a[t],value:e,onChange:function(e){return p(t,+e.target.value)}}):c.a.createElement(et,{type:"number",key:t,value:e,onChange:function(e){return p(t,+e.target.value)}})})))},Je=d.b.label(Xe(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),Qe=Object(d.b)(g.a)(Ye(),(function(e){return e.theme.main.highlight})),$e=d.b.div(Ve()),et=d.b.input(Ze(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}));function tt(){var e=Object(l.a)(["\n  flex: 1 1;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  min-height: 8vh;\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n"]);return tt=function(){return e},e}function nt(){var e=Object(l.a)(["\n  flex: 1 1;\n  min-width: 100%;\n  height: 30px;\n  line-height: 30px;\n"]);return nt=function(){return e},e}function rt(){var e=Object(l.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return rt=function(){return e},e}function it(){var e=Object(l.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  min-width: calc(100% - 20px);\n  flex: 3 3 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n"]);return it=function(){return e},e}var at=function(e){var t=e.value,n=e.label,r=e.icon,i=e.transform,a=e.onChange;return c.a.createElement(ot,null,c.a.createElement(ct,null,r?c.a.createElement(st,{icon:r,transform:i}):""," ",n),c.a.createElement(ut,{value:t,onChange:function(e){return a(e.target.value)}}))},ot=d.b.label(it(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),st=Object(d.b)(g.a)(rt(),(function(e){return e.theme.main.highlight})),ct=d.b.div(nt()),ut=d.b.textarea(tt(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}));function lt(){var e=Object(l.a)([""]);return lt=function(){return e},e}function ht(){var e=Object(l.a)([""]);return ht=function(){return e},e}function ft(){var e=Object(l.a)([""]);return ft=function(){return e},e}function dt(){var e=Object(l.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  flex: 1 1 600px;\n  border-top: none;\n  border-bottom: 2px solid ",";\n\n  &:last-child {\n    border-bottom: none;\n  }\n"]);return dt=function(){return e},e}function pt(){var e=Object(l.a)([""]);return pt=function(){return e},e}function mt(){var e=Object(l.a)([""]);return mt=function(){return e},e}function gt(){var e=Object(l.a)([""]);return gt=function(){return e},e}function vt(){var e=Object(l.a)([""]);return vt=function(){return e},e}function bt(){var e=Object(l.a)(["\n  flex: 1 1 600px;\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  margin-bottom: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n\n  label {\n    margin: 2px;\n  }\n"]);return bt=function(){return e},e}function yt(){var e=Object(l.a)([""]);return yt=function(){return e},e}function _t(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: stretch;\n"]);return _t=function(){return e},e}function xt(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return xt=function(){return e},e}var wt=function(e){var t=e.classe,n=e.onEdit,r=Object(s.useState)([]),i=Object(o.a)(r,2),a=i[0],u=i[1];Object(s.useEffect)((function(){Object(p.g)("selections",(function(e){var t=e.map((function(e){return{value:e.name,label:e.name}}));u(t)}))}),[]);var l=function(e,r,i){var a=t.featureSets.map((function(t){return t===e?Object(f.a)(Object(f.a)({},t),{},Object(h.a)({},r,i)):t}));n(Object(f.a)(Object(f.a)({},t),{},{featureSets:a}))},d=function(e,r,i,a){var o=t.featureSets.map((function(t){if(t===e&&void 0!==t.bonis){var n=t.bonis.map((function(e){return e===r?Object(f.a)(Object(f.a)({},e),{},Object(h.a)({},i,a)):e}));return Object(f.a)(Object(f.a)({},t),{},{bonis:n})}return t}));n(Object(f.a)(Object(f.a)({},t),{},{featureSets:o}))},g=function(e,r,i,a){var o=t.featureSets.map((function(t){if(t===e&&void 0!==t.features){var n=t.features.map((function(e){return e===r?Object(f.a)(Object(f.a)({},e),{},Object(h.a)({},i,a)):e}));return Object(f.a)(Object(f.a)({},t),{},{features:n})}return t}));n(Object(f.a)(Object(f.a)({},t),{},{featureSets:o}))};return c.a.createElement(Et,null,c.a.createElement(kt,null,c.a.createElement(O.a,{value:t.name,label:"Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(O.a,{value:t.hitDices,label:"Hit Dice",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{hitDices:e}))}}),c.a.createElement(O.a,{value:t.pic,label:"Picture",icon:m.I,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{pic:e}))}}),c.a.createElement(O.a,{value:t.sources,label:"Sources",icon:m.J,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sources:e}))}}),c.a.createElement(S.a,{value:t.proficiencies,label:"Proficiencies",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{proficiencies:e}))}}),c.a.createElement(S.a,{value:t.equipment,label:"Equipment",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{equipment:e}))}})),t.featureSets.map((function(e,r){return c.a.createElement(Ot,{key:r},c.a.createElement(St,null,c.a.createElement(At,{value:e.level,label:"Level",onChange:function(t){return l(e,"level",t)}}),c.a.createElement(At,{value:e.profBonus,label:"Prof. Bonus",onChange:function(t){return l(e,"profBonus",t)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){var r=t.featureSets,i=r.indexOf(e);-1!==i&&(r.splice(i,1),n(Object(f.a)(Object(f.a)({},t),{},{featureSets:r})))}(e)}}),c.a.createElement(Pt,{values:e.spellslots?e.spellslots:[],label:"Spellslots",onChange:function(r){return function(e,r){var i=t.featureSets.map((function(t){return t===e&&void 0!==t.spellslots?Object(f.a)(Object(f.a)({},t),{},{spellslots:r}):t}));n(Object(f.a)(Object(f.a)({},t),{},{featureSets:i}))}(e,r)}}),c.a.createElement(b.a,{icon:m.N,onClick:function(){return function(e){var r=t.featureSets.map((function(t){return void 0!==t.spellslots&&t===e?Object(f.a)(Object(f.a)({},t),{},{spellslots:Object(ee.a)(t.spellslots).slice(0,t.spellslots.length-1)}):t}));n(Object(f.a)(Object(f.a)({},t),{},{featureSets:r}))}(e)}}),c.a.createElement(b.a,{icon:m.R,onClick:function(){return function(e){var r=t.featureSets.map((function(t){return void 0!==t.spellslots&&t===e?Object(f.a)(Object(f.a)({},t),{},{spellslots:[].concat(Object(ee.a)(t.spellslots),[0])}):t}));n(Object(f.a)(Object(f.a)({},t),{},{featureSets:r}))}(e)}}),e.bonis&&e.bonis.map((function(r,i){return c.a.createElement(Lt,{key:i},c.a.createElement(Mt,{value:r.name,label:"Boni",onChange:function(t){return d(e,r,"name",t)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){var r=t.featureSets.map((function(t){var n=t.bonis;if(void 0!==n){var r=n.indexOf(e);return-1!==r&&n.splice(r,1),Object(f.a)(Object(f.a)({},t),{},{bonis:n})}return t}));n(Object(f.a)(Object(f.a)({},t),{},{featureSets:r}))}(r)}}),c.a.createElement(Ct,{value:r.value,label:"Boni Value",onChange:function(t){return d(e,r,"value",t)}}),c.a.createElement(qe.a,{value:r.isCurrency,label:"is Currency?",onChange:function(t){return d(e,r,"isCurrency",t)}}))}))),c.a.createElement(St,null,c.a.createElement(A.a,{text:"Add new Boni",icon:m.R,onClick:function(){return function(e){var r=t.featureSets.map((function(t){if(void 0!==t.bonis&&t===e){return Object(f.a)(Object(f.a)({},t),{},{bonis:[].concat(Object(ee.a)(t.bonis),[{name:"",value:"",isCurrency:!1}])})}return t}));n(Object(f.a)(Object(f.a)({},t),{},{featureSets:r}))}(e)}})),c.a.createElement(St,null,e.features&&e.features.map((function(r,i){return c.a.createElement(Tt,{key:i},c.a.createElement(Rt,{value:r.name,label:"Feature",onChange:function(t){return g(e,r,"name",t)}}),c.a.createElement(We.a,{options:He.c,value:Object(He.d)(r.type),label:"Types",onChange:function(t){return g(e,r,"type",t)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){var r=t.featureSets.map((function(t){var n=t.features,r=n.indexOf(e);return-1!==r&&n.splice(r,1),Object(f.a)(Object(f.a)({},t),{},{features:n})}));n(Object(f.a)(Object(f.a)({},t),{},{featureSets:r}))}(r)}}),c.a.createElement(jt,{value:r.text,label:"Feature Text",onChange:function(t){return g(e,r,"text",t)}}),r.selections&&r.selections.map((function(i,o){return c.a.createElement(Tt,{key:o},c.a.createElement(We.a,{options:a,value:{value:i,label:i},label:"Name",onChange:function(a){return function(e,r,i,a){var o=t.featureSets.map((function(t){if(t===e&&void 0!==t.features){var n=t.features.map((function(e){if(e===r){var t=e.selections.map((function(e){return e===i?a:e}));return Object(f.a)(Object(f.a)({},e),{},{selections:t})}return e}));return Object(f.a)(Object(f.a)({},t),{},{features:n})}return t}));n(Object(f.a)(Object(f.a)({},t),{},{featureSets:o}))}(e,r,i,a)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){var r=t.featureSets.map((function(t){var n=t.features.map((function(t){var n=t.selections;if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}return Object(f.a)(Object(f.a)({},t),{},{selections:n})}));return Object(f.a)(Object(f.a)({},t),{},{features:n})}));n(Object(f.a)(Object(f.a)({},t),{},{featureSets:r}))}(i)}}))})),c.a.createElement(A.a,{text:"Add Selection",icon:m.R,onClick:function(){return function(e,r){var i=t.featureSets.map((function(e){var t=e.features.map((function(e){var t=e.selections;return void 0===t&&(t=[]),e===r?(t.push(""),Object(f.a)(Object(f.a)({},e),{},{selections:t})):e}));return Object(f.a)(Object(f.a)({},e),{},{features:t})}));n(Object(f.a)(Object(f.a)({},t),{},{featureSets:i}))}(0,r)}}))}))),c.a.createElement(St,null,c.a.createElement(A.a,{text:"Add new Feature",icon:m.R,onClick:function(){return function(e){var r=t.featureSets.map((function(t){var n=t.features;return void 0!==n&&t===e?(n.push({name:"",text:"",type:He.a.normal,selections:[]}),Object(f.a)(Object(f.a)({},t),{},{features:n})):t}));n(Object(f.a)(Object(f.a)({},t),{},{featureSets:r}))}(e)}})))})),c.a.createElement(Ot,null,c.a.createElement(A.a,{text:"Add new Level",icon:m.R,onClick:function(){t.featureSets.length-1>=0?n(Object(f.a)(Object(f.a)({},t),{},{featureSets:[].concat(Object(ee.a)(t.featureSets),[{level:t.featureSets.length+1,profBonus:t.featureSets[t.featureSets.length-1].profBonus,features:[],bonis:t.featureSets[t.featureSets.length-1].bonis,spellslots:t.featureSets[t.featureSets.length-1].spellslots}])})):n(Object(f.a)(Object(f.a)({},t),{},{featureSets:[].concat(Object(ee.a)(t.featureSets),[{level:t.featureSets.length+1,profBonus:0,features:[],bonis:[],spellslots:[]}])}))}})))},Et=d.b.div(xt()),kt=d.b.div(_t(),(function(e){return e.theme.tile.color})),Ot=Object(d.b)(kt)(yt()),St=d.b.div(bt()),Ct=Object(d.b)(O.a)(vt()),At=Object(d.b)(Ge.a)(gt()),jt=Object(d.b)(at)(mt()),Pt=Object(d.b)(Ke)(pt()),Tt=d.b.div(dt(),(function(e){return e.theme.input.backgroundColor})),Rt=Object(d.b)(O.a)(ft()),Lt=Object(d.b)(Tt)(ht()),Mt=Object(d.b)(Ct)(lt()),It=n(168),Nt=n(13),Dt=n(80);function Ft(){var e=Object(l.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  color: ",";\n  font-size: 10px;\n  padding: 0px 5px 0px 5px;\n  margin: 5px;\n  border: none;\n  box-sizing: content-box;\n  height: 28px;\n  line-height: 28px;\n  float: right;\n  cursor: pointer;\n"]);return Ft=function(){return e},e}function zt(){var e=Object(l.a)([""]);return zt=function(){return e},e}function Bt(){var e=Object(l.a)(["\n  margin: 5px;\n  max-height: 60vh;\n"]);return Bt=function(){return e},e}function Ut(){var e=Object(l.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return Ut=function(){return e},e}function Ht(){var e=Object(l.a)(["\n  display: inline-block;\n  background-color: ",";\n  border-radius: 5px;\n  text-decoration: none;\n  color: ",";\n  font-size: 16px;\n  margin: 5px;\n  padding: 5px;\n  cursor: pointer;\n"]);return Ht=function(){return e},e}function qt(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 24px);\n  margin: 2px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return qt=function(){return e},e}function Wt(){var e=Object(l.a)([""]);return Wt=function(){return e},e}function Gt(){var e=Object(l.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: 5px;\n  text-align: center;\n"]);return Gt=function(){return e},e}function Zt(){var e=Object(l.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n"]);return Zt=function(){return e},e}function Vt(){var e=Object(l.a)([""]);return Vt=function(){return e},e}function Yt(){var e=Object(l.a)(["\n  width: 100%;\n  padding: 0px;\n  margin: 2px 0px 2px 0px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Yt=function(){return e},e}function Xt(){var e=Object(l.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return Xt=function(){return e},e}function Kt(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ",";\n  }\n"]);return Kt=function(){return e},e}function Jt(){var e=Object(l.a)(["\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Jt=function(){return e},e}function Qt(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Qt=function(){return e},e}function $t(){var e=Object(l.a)(["\n  justify-content: flex-end;\n  flex: 1 1 300px;\n"]);return $t=function(){return e},e}function en(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n  width: min-content;\n  min-width: 300px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return en=function(){return e},e}function tn(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return tn=function(){return e},e}var nn=function(e){var t,n=e.classe,r=Object(s.useState)(!1),i=Object(o.a)(r,2),a=i[0],l=i[1],h=Object(s.useState)([]),f=Object(o.a)(h,2),d=f[0],v=f[1],b=Object(s.useState)(!0),y=Object(o.a)(b,2),_=y[0],x=y[1],w=Object(u.f)();Object(s.useEffect)((function(){Object(p.h)("subclasses",_?[{fieldName:"type",value:n.name,sort:0},{fieldName:"sources",value:n.sources,sort:0}]:[{fieldName:"type",value:n.name,sort:0}],(function(e){v(e)}))}),[n,_]);var E=Object(s.useCallback)((function(){return void 0!==n?""===n.pic||null===n.pic?"":n.pic:""}),[n]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(rn,null,""!==E()?c.a.createElement(on,null,c.a.createElement(yn,{pic:E()})):"",c.a.createElement(an,null,c.a.createElement(sn,null,c.a.createElement("b",null,n.name)),c.a.createElement(cn,null,c.a.createElement(un,null,c.a.createElement(Nt.f,null),n.hitDices),c.a.createElement(un,null,c.a.createElement(bn,{icon:m.J}),n.sources),c.a.createElement(gn,null,c.a.createElement(ln,null,"Proficiencies:"),c.a.createElement(P.a,{text:n.proficiencies})),c.a.createElement(gn,null,c.a.createElement(ln,null,"Equipment:"),c.a.createElement(P.a,{text:n.equipment})),c.a.createElement(gn,null,c.a.createElement(qe.a,{value:_,label:"Hard Select",onChange:x}),c.a.createElement(ln,null,"Subclasses:"),0!==d.length&&d.map((function(e,t){var n="/subclasse-detail/id/"+e.id;return c.a.createElement(vn,{key:t,onClick:function(){return w.push(n)}},e.name)})),c.a.createElement(wn,{onClick:function(){return function(){var e=new It.a;delete e.id,e.type=n.name,Object(p.b)("subclasses",e,(function(e){w.push("/subclass-detail/id/".concat(e))}))}()}},c.a.createElement(g.a,{icon:m.S})))),c.a.createElement(cn,null,!a&&c.a.createElement(A.a,{text:"Send ".concat(n.name),icon:m.P,onClick:function(){return l(!0)}}),!!a&&c.a.createElement(Dt.a,{data:n,mode:"THIS"}))),0!==n.featureSets.length&&n.featureSets[0].spellslots&&n.featureSets[0].spellslots.length>0&&c.a.createElement(an,null,c.a.createElement(cn,null,c.a.createElement(hn,null,c.a.createElement("thead",null,c.a.createElement(fn,null,c.a.createElement(dn,{colSpan:n.featureSets[0].spellslots.length+1},"Spellslots"))),c.a.createElement("tbody",null,c.a.createElement(fn,null,c.a.createElement(mn,null,"Level"),c.a.createElement(mn,null,"1st"),n.featureSets[0].spellslots.length>=2&&c.a.createElement(mn,null,"2nd"),n.featureSets[0].spellslots.length>=3&&c.a.createElement(mn,null,"3rd"),n.featureSets[0].spellslots.length>=4&&c.a.createElement(c.a.Fragment,null,function(e){for(var t=e-3,n=[],r=0;r<t;r++)n.push(r+4);return n.map((function(e,t){return c.a.createElement(mn,{key:t},e,"th")}))}(n.featureSets[0].spellslots.length))),n.featureSets.map((function(e,t){return c.a.createElement(fn,{key:t},e.spellslots&&c.a.createElement(c.a.Fragment,null,c.a.createElement(mn,null,e.level),e.spellslots.map((function(e,t){return c.a.createElement(mn,{key:t},0===e?"-":e)}))))})))))),c.a.createElement(an,null,c.a.createElement(cn,null,0!==n.featureSets.length&&c.a.createElement(hn,null,c.a.createElement("thead",null,c.a.createElement(fn,null,c.a.createElement(dn,null,"Level"),c.a.createElement(dn,null,"Prof. Bonus"),c.a.createElement(dn,null,"Features"),n.featureSets[0].bonis&&n.featureSets[0].bonis.length>0&&(null===(t=n.featureSets[0].bonis)||void 0===t?void 0:t.map((function(e,t){return c.a.createElement(dn,{key:t},e.name)}))))),c.a.createElement("tbody",null,n.featureSets.map((function(e,t){var n;return c.a.createElement(fn,{key:t},c.a.createElement(pn,null,e.level),c.a.createElement(pn,null,e.profBonus),c.a.createElement(pn,null,e.features.map((function(e){return e.name+", "}))),null===(n=e.bonis)||void 0===n?void 0:n.map((function(e,t){return c.a.createElement(pn,{key:t},e.value)})))}))))))),c.a.createElement(rn,null,c.a.createElement(an,null,n.featureSets.map((function(e){return e.features.map((function(e,t){return c.a.createElement(gn,{key:t},c.a.createElement(ln,null,e.name,":"),c.a.createElement(P.a,{text:e.text}))}))})))))},rn=d.b.div(tn()),an=d.b.div(en(),(function(e){return e.theme.tile.color})),on=Object(d.b)(an)($t()),sn=d.b.div(Qt(),(function(e){return e.theme.tile.backgroundColor})),cn=d.b.div(Jt()),un=d.b.div(Kt(),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.main.highlight})),ln=d.b.span(Xt(),(function(e){return e.theme.tile.backgroundColorLink})),hn=d.b.table(Yt(),(function(e){return e.theme.tile.backgroundColor})),fn=d.b.tr(Vt()),dn=d.b.th(Zt(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color})),pn=d.b.td(Gt(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color})),mn=Object(d.b)(pn)(Wt()),gn=d.b.div(qt(),(function(e){return e.theme.tile.backgroundColor})),vn=d.b.span(Ht(),(function(e){return e.theme.tile.backgroundColorLink}),(function(e){return e.theme.tile.backgroundColor})),bn=Object(d.b)(g.a)(Ut(),(function(e){return e.theme.main.highlight})),yn=function(e){var t=e.pic;return""!==t?c.a.createElement(_n,{src:t}):c.a.createElement(xn,null)},_n=d.b.img(Bt()),xn=d.b.div(zt()),wn=d.b.button(Ft(),(function(e){return e.theme.tile.backgroundColorLink}),(function(e){return e.theme.tile.backgroundColor}));function En(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return En=function(){return e},e}function kn(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return kn=function(){return e},e}var On=function(e){var t=e.event,n=e.onEdit;return c.a.createElement(Sn,null,c.a.createElement(Cn,null,c.a.createElement(O.a,{value:t.name,label:"Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(O.a,{value:t.date,label:"Date",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{date:e}))}}),c.a.createElement(O.a,{value:t.sources,label:"Sources",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sources:e}))}}),c.a.createElement(S.a,{value:t.description,label:"Description",icon:m.f,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{description:e}))}})))},Sn=d.b.div(kn()),Cn=d.b.div(En(),(function(e){return e.theme.tile.color})),An=n(36),jn=n(37),Pn=n(38);function Tn(){var e=Object(l.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return Tn=function(){return e},e}function Rn(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Rn=function(){return e},e}function Ln(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Ln=function(){return e},e}function Mn(){var e=Object(l.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return Mn=function(){return e},e}function In(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return In=function(){return e},e}function Nn(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Nn=function(){return e},e}function Dn(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  max-width: 800px;\n  padding: 5px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return Dn=function(){return e},e}function Fn(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return Fn=function(){return e},e}var zn=function(e){var t=e.event,n=Object(jn.a)(),r=Object(s.useState)(""),i=Object(o.a)(r,2),a=i[0],u=i[1],l=Object(s.useState)(!1),h=Object(o.a)(l,2),f=h[0],d=h[1];return Object(s.useEffect)((function(){if(void 0!==n){var e={username:n.name+" (DnDTome)",embeds:[{author:{name:t.name},fields:[{name:"Date",value:t.date?t.date:"-",inline:!0},{name:"Text",value:t.description?Object(Pn.a)(t.description):"-"}]}]};u(JSON.stringify(e))}}),[t,n]),c.a.createElement(Bn,null,c.a.createElement(Un,null,c.a.createElement(Hn,null,c.a.createElement("b",null,t.name)),c.a.createElement(qn,null,c.a.createElement(Gn,null,c.a.createElement(Vn,{icon:E.a}),t.date),c.a.createElement(Gn,null,c.a.createElement(Vn,{icon:m.J}),t.sources)),c.a.createElement(Zn,null,c.a.createElement(Wn,null,"Description"),c.a.createElement(P.a,{text:t.description})),c.a.createElement(qn,null,void 0!==n&&c.a.createElement(A.a,{style:{backgroundColor:"#7289da"},text:"Show ".concat(t.name),icon:An.a,onClick:function(){return Object(Pn.b)(n,a)}}),!f&&c.a.createElement(A.a,{text:"Send ".concat(t.name),icon:m.P,onClick:function(){return d(!0)}}),!!f&&c.a.createElement(Dt.a,{data:t,mode:"THIS"}))))},Bn=d.b.div(Fn()),Un=d.b.div(Dn(),(function(e){return e.theme.tile.color})),Hn=d.b.div(Nn(),(function(e){return e.theme.tile.backgroundColor})),qn=d.b.div(In()),Wn=d.b.span(Mn(),(function(e){return e.theme.tile.backgroundColorLink})),Gn=d.b.div(Ln(),(function(e){return e.theme.tile.backgroundColor})),Zn=d.b.div(Rn(),(function(e){return e.theme.tile.backgroundColor})),Vn=Object(d.b)(g.a)(Tn(),(function(e){return e.theme.main.highlight}));function Yn(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Yn=function(){return e},e}function Xn(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return Xn=function(){return e},e}var Kn=function(e){var t=e.gear,n=e.onEdit;return c.a.createElement(Jn,null,c.a.createElement(Qn,null,c.a.createElement(O.a,{value:t.name,label:"Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(O.a,{value:t.cost,label:"Cost",icon:m.o,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{cost:e}))}}),c.a.createElement(O.a,{value:t.weight,label:"Weight",icon:m.lb,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{weight:e}))}}),c.a.createElement(O.a,{value:t.type,label:"Type",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{type:e}))}}),c.a.createElement(O.a,{value:t.damage,label:"Damage",icon:m.p,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{damage:e}))}}),c.a.createElement(O.a,{value:t.properties,label:"Properties",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{properties:e}))}}),c.a.createElement(O.a,{value:t.pic,label:"Picture",icon:m.I,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{pic:e}))}}),c.a.createElement(O.a,{value:t.sources,label:"Sources",icon:m.J,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sources:e}))}}),c.a.createElement(S.a,{value:t.description,label:"Text",icon:m.f,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{description:e}))}})))},Jn=d.b.div(Xn()),Qn=d.b.div(Yn(),(function(e){return e.theme.tile.color}));function $n(){var e=Object(l.a)([""]);return $n=function(){return e},e}function er(){var e=Object(l.a)(["\n  margin: -10px 5px -10px -10px;\n  height: 47px;\n  width: 47px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  background-color: white;\n  overflow: hidden;\n"]);return er=function(){return e},e}function tr(){var e=Object(l.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return tr=function(){return e},e}function nr(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return nr=function(){return e},e}function rr(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return rr=function(){return e},e}function ir(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return ir=function(){return e},e}function ar(){var e=Object(l.a)(["\n  height: 30px;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 50px 5px 5px 50px;\n  background-color: ",";\n"]);return ar=function(){return e},e}function or(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return or=function(){return e},e}function sr(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  max-width: 800px;\n  padding: 5px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return sr=function(){return e},e}function cr(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return cr=function(){return e},e}var ur=function(e){var t=e.gear,n=Object(jn.a)(),r=Object(s.useState)(""),i=Object(o.a)(r,2),a=i[0],u=i[1],l=Object(s.useState)(!1),h=Object(o.a)(l,2),f=h[0],d=h[1];Object(s.useEffect)((function(){if(void 0!==n){var e=Object(Pn.a)(t.description);e.length>=1024&&(e=e.substring(0,1021)+"...");var r={username:n.name+" (DnDTome)",embeds:[{author:{name:t.name,icon_url:t.pic},fields:[{name:"Weight",value:t.weight?t.weight:"-",inline:!0},{name:"Cost",value:t.cost?t.cost:"-",inline:!0},{name:"Properties",value:t.properties?t.properties:"-",inline:!0},{name:"Damgae",value:t.damage?t.damage:"-",inline:!0},{name:"Type",value:t.type?t.type:"-",inline:!0},{name:"Text",value:t.description?e:"-"}]}]};u(JSON.stringify(r))}}),[t,n]);var p=Object(s.useCallback)((function(){return void 0!==t?""===t.pic||null===t.pic?"":t.pic:""}),[t]);return c.a.createElement(lr,null,c.a.createElement(hr,null,""!==p()?c.a.createElement(dr,null,c.a.createElement(br,{pic:p()}),c.a.createElement("b",null,t.name)):c.a.createElement(fr,null,c.a.createElement("b",null,t.name)),c.a.createElement(pr,null,c.a.createElement(mr,null,c.a.createElement(vr,{icon:m.o}),t.cost),c.a.createElement(mr,null,c.a.createElement(vr,{icon:m.lb}),t.weight),c.a.createElement(mr,null,t.type),c.a.createElement(mr,null,c.a.createElement(vr,{icon:m.J}),t.sources),t.damage&&c.a.createElement(mr,null,c.a.createElement(vr,{icon:m.p}),t.damage),t.properties&&c.a.createElement(mr,null,t.properties),c.a.createElement(gr,null,c.a.createElement(P.a,{text:t.description}))),void 0!==n&&c.a.createElement(pr,null,c.a.createElement(A.a,{style:{backgroundColor:"#7289da"},text:"Show ".concat(t.name),icon:An.a,onClick:function(){return Object(Pn.b)(n,a)}})),c.a.createElement(pr,null,!f&&c.a.createElement(A.a,{text:"Send ".concat(t.name),icon:m.P,onClick:function(){return d(!0)}}),!!f&&c.a.createElement(Dt.a,{data:t,mode:"THIS"}))))},lr=d.b.div(cr()),hr=d.b.div(sr(),(function(e){return e.theme.tile.color})),fr=d.b.div(or(),(function(e){return e.theme.tile.backgroundColor})),dr=d.b.div(ar(),(function(e){return e.theme.tile.backgroundColor})),pr=d.b.div(ir()),mr=d.b.div(rr(),(function(e){return e.theme.tile.backgroundColor})),gr=d.b.div(nr(),(function(e){return e.theme.tile.backgroundColor})),vr=Object(d.b)(g.a)(tr(),(function(e){return e.theme.main.highlight})),br=function(e){var t=e.pic,n={backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==t?c.a.createElement(yr,{style:n}):c.a.createElement(_r,null)},yr=d.b.div(er(),(function(e){return e.theme.main.highlight})),_r=d.b.div($n());function xr(){var e=Object(l.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  flex: 1 1 100%;\n"]);return xr=function(){return e},e}function wr(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return wr=function(){return e},e}function Er(){var e=Object(l.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Er=function(){return e},e}var kr=function(e){var t=e.group,n=e.onEdit,r=Object(s.useState)("General"),i=Object(o.a)(r,2),a=i[0],u=i[1],l=function(e,r,i){if(void 0!==t){var a=t.notes.map((function(t){return t===i?Object(f.a)(Object(f.a)({},t),{},Object(h.a)({},e,r)):t}));n(Object(f.a)(Object(f.a)({},t),{},{notes:a}))}};return c.a.createElement(Or,null,c.a.createElement(k.a,{children:["General","Notes","Players","Npcs","Monsters","Relationships"],onChange:function(e){return u(e)},activeTab:a}),"General"===a&&c.a.createElement(Sr,null,c.a.createElement(O.a,{value:t.name,label:"Group Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(O.a,{value:t.pic,label:"Picture",icon:E.b,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{pic:e}))}}),c.a.createElement(O.a,{value:t.sources,label:"Sources",icon:m.J,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sources:e}))}}),c.a.createElement(S.a,{value:t.description,label:"Description",icon:m.f,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{description:e}))}})),"Notes"===a&&c.a.createElement(c.a.Fragment,null,void 0!==t.notes&&t.notes.map((function(e,r){return c.a.createElement(Cr,{key:r},c.a.createElement(O.a,{value:e.title,label:"Title",onChange:function(t){return l("title",t,e)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){if(void 0!==t){var r=t.notes.filter((function(t){return t!==e})).map((function(e){return e}));n(Object(f.a)(Object(f.a)({},t),{},{notes:r}))}}(e)}}),c.a.createElement(S.a,{value:e.content,label:"Feature Text",onChange:function(t){return l("content",t,e)}}),c.a.createElement(O.a,{value:e.tags,label:"Tags",onChange:function(t){return l("tags",t,e)}}))})),c.a.createElement(A.a,{text:"Add new Note",icon:m.R,onClick:function(){return function(){if(void 0!==t){var e=t.notes.map((function(e){return e}));e.push(new w),n(Object(f.a)(Object(f.a)({},t),{},{notes:e}))}}()}})),"Players"===a&&c.a.createElement(c.a.Fragment,null,t.players.map((function(e,r){return c.a.createElement(Cr,{key:r},c.a.createElement(C.a,{optionTable:"chars",value:e,label:"Player",onChange:function(r){return function(e,r){if(void 0!==t){var i=t.players.map((function(t){return t===r?e:t}));n(Object(f.a)(Object(f.a)({},t),{},{players:i}))}}(r,e)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){if(void 0!==t){var r=t.players.filter((function(t){return t!==e})).map((function(e){return e}));n(Object(f.a)(Object(f.a)({},t),{},{players:r}))}}(e)}}))})),c.a.createElement(A.a,{text:"Add new Player",icon:m.R,onClick:function(){return function(){if(void 0!==t){var e=t.players.map((function(e){return e}));e.push(""),n(Object(f.a)(Object(f.a)({},t),{},{players:e}))}}()}})),"Npcs"===a&&c.a.createElement(c.a.Fragment,null,t.npcs.map((function(e,r){return c.a.createElement(Cr,{key:r},c.a.createElement(C.a,{optionTable:"npcs",value:e,label:"Npc",onChange:function(r){return function(e,r){if(void 0!==t){var i=t.npcs.map((function(t){return t===r?e:t}));n(Object(f.a)(Object(f.a)({},t),{},{npcs:i}))}}(r,e)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){if(void 0!==t){var r=t.npcs.filter((function(t){return t!==e})).map((function(e){return e}));n(Object(f.a)(Object(f.a)({},t),{},{npcs:r}))}}(e)}}))})),c.a.createElement(A.a,{text:"Add new Npc",icon:m.R,onClick:function(){return function(){if(void 0!==t){var e=t.npcs.map((function(e){return e}));e.push(""),n(Object(f.a)(Object(f.a)({},t),{},{npcs:e}))}}()}})),"Monsters"===a&&c.a.createElement(c.a.Fragment,null,t.monsters.map((function(e,r){return c.a.createElement(Cr,{key:r},c.a.createElement(C.a,{optionTable:"monsters",value:e,label:"Monster",onChange:function(r){return function(e,r){if(void 0!==t){var i=t.monsters.map((function(t){return t===r?e:t}));n(Object(f.a)(Object(f.a)({},t),{},{monsters:i}))}}(r,e)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){if(void 0!==t){var r=t.monsters.filter((function(t){return t!==e})).map((function(e){return e}));n(Object(f.a)(Object(f.a)({},t),{},{monsters:r}))}}(e)}}))})),c.a.createElement(A.a,{text:"Add new Monster",icon:m.R,onClick:function(){return function(){if(void 0!==t){var e=t.monsters.map((function(e){return e}));e.push(""),n(Object(f.a)(Object(f.a)({},t),{},{monsters:e}))}}()}})),"Relationships"===a&&c.a.createElement(Cr,null,c.a.createElement(B,{isEditable:!0,initElements:t.flow,onEdit:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{flow:e}))}})))},Or=d.b.div(Er()),Sr=d.b.div(wr(),(function(e){return e.theme.tile.color})),Cr=d.b.div(xr()),Ar=n(169),jr=function e(t,n,r,i){Object(x.a)(this,e),this.group=void 0,this.characters=void 0,this.npcs=void 0,this.monsters=void 0,this.group=t||new Ar.a,this.characters=n||[],this.npcs=r||[],this.monsters=i||[]},Pr=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.time("t"),console.time("load"),o=[],s=[],c=[],t.players.forEach((function(e){o.push(Object(p.q)("chars","name",e))})),t.npcs.forEach((function(e){s.push(Object(p.q)("npcs","name",e))})),t.monsters.forEach((function(e){c.push(Object(p.q)("monsters","name",e))})),e.next=10,Promise.all(o);case 10:return n=e.sent,e.next=13,Promise.all(s);case 13:return r=e.sent,e.next=16,Promise.all(c);case 16:return a=e.sent,console.timeEnd("load"),n=n.filter((function(e){return void 0!==e})),r=r.filter((function(e){return void 0!==e})),a=a.filter((function(e){return void 0!==e})),console.timeEnd("t"),e.abrupt("return",new jr(t,n,r,a));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tr=n(115);function Rr(){var e=Object(l.a)([""]);return Rr=function(){return e},e}function Lr(){var e=Object(l.a)(["\n  margin: -10px 5px -10px -10px;\n  height: 47px;\n  width: 47px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  box-shadow: 0px 0px 10px 0px rgba(172, 172, 172, 0.2);\n  background-color: white;\n  overflow: hidden;\n"]);return Lr=function(){return e},e}function Mr(){var e=Object(l.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return Mr=function(){return e},e}function Ir(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Ir=function(){return e},e}function Nr(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Nr=function(){return e},e}function Dr(){var e=Object(l.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return Dr=function(){return e},e}function Fr(){var e=Object(l.a)(["\n  flex: 1 1 100%;\n  max-width: 800px;\n  padding: 10px;\n"]);return Fr=function(){return e},e}function zr(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return zr=function(){return e},e}function Br(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Br=function(){return e},e}function Ur(){var e=Object(l.a)(["\n  height: 30px;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 50px 5px 5px 50px;\n  background-color: ",";\n"]);return Ur=function(){return e},e}function Hr(){var e=Object(l.a)(["\n  position: relative;\n  z-index: 200;\n  width: 100%;\n  height: 70px;\n  margin-bottom: -5px;\n  background-color: ",";\n"]);return Hr=function(){return e},e}function qr(){var e=Object(l.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n"]);return qr=function(){return e},e}function Wr(){var e=Object(l.a)(["\n  margin-top: 50px;\n"]);return Wr=function(){return e},e}function Gr(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  max-width: 800px;\n  padding: 5px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return Gr=function(){return e},e}function Zr(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return Zr=function(){return e},e}var Vr=function(e){var t=e.group,n=(e.onEdit,Object(s.useState)(!1)),r=Object(o.a)(n,2),i=r[0],a=r[1],u=Object(s.useState)(new jr),l=Object(o.a)(u,2),h=l[0],f=l[1],d=Object(s.useState)("General"),g=Object(o.a)(d,2),v=g[0],b=g[1],y=Object(s.useState)(["General"]),_=Object(o.a)(y,2),x=_[0],w=_[1],E=Object(s.useState)([]),O=Object(o.a)(E,2),S=O[0],C=O[1];Object(s.useEffect)((function(){Pr(t).then((function(e){var t=["General"];e.group.notes.length>0&&t.push("Notes"),e.characters.length>0&&t.push("Players"),e.npcs.length>0&&t.push("Npcs"),e.monsters.length>0&&t.push("Monsters"),w([].concat(t,["Relationships"])),f(e),a(!1)}))}),[t,f]);var A=Object(s.useCallback)((function(){return void 0!==t?""===t.pic||null===t.pic?"":t.pic:""}),[t]);return c.a.createElement(c.a.Fragment,null,i&&c.a.createElement(ue.b,null),!i&&h&&c.a.createElement(Yr,null,c.a.createElement(Qr,null,c.a.createElement(Xr,null,""!==A()?c.a.createElement($r,null,c.a.createElement(si,{pic:A()}),c.a.createElement("b",null,h.group.name)):c.a.createElement(ei,null,c.a.createElement("b",null,h.group.name)))),c.a.createElement(k.a,{children:x,onChange:function(e){return b(e)},activeTab:v}),"General"===v&&c.a.createElement(Xr,null,c.a.createElement(ai,null,c.a.createElement(ri,null,"Description"),c.a.createElement(P.a,{text:h.group.description})),c.a.createElement(ti,null,c.a.createElement(ii,null,c.a.createElement(oi,{icon:m.J}),h.group.sources))),"Notes"===v&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ae,{hasTitle:!0,onSend:C}),c.a.createElement(Jr,null,h.group.notes.filter((function(e){return Object(p.a)(e,S)})).map((function(e,t){return c.a.createElement(ni,{key:t},c.a.createElement(ii,null,c.a.createElement(ri,null,e.title),c.a.createElement(P.a,{text:e.content})),c.a.createElement(ii,null,c.a.createElement(oi,{icon:m.gb}),e.tags))})))),"Players"===v&&c.a.createElement(ti,null,h.characters.map((function(e,t){return c.a.createElement(ce.a,{char:e,key:t})}))),"Npcs"===v&&c.a.createElement(ti,null,h.npcs.map((function(e,t){return c.a.createElement(se.a,{npc:e,key:t})}))),"Monsters"===v&&c.a.createElement(ti,null,h.monsters.map((function(e,t){return c.a.createElement(Tr.a,{monster:e,key:t})}))),"Relationships"===v&&c.a.createElement(ti,null,c.a.createElement(B,{isEditable:!1,initElements:h.group.flow}))))},Yr=d.b.div(Zr()),Xr=d.b.div(Gr(),(function(e){return e.theme.tile.color})),Kr=d.b.div(Wr()),Jr=Object(d.b)(Kr)(qr()),Qr=d.b.div(Hr(),(function(e){return e.theme.main.backgroundColor})),$r=d.b.div(Ur(),(function(e){return e.theme.tile.backgroundColor})),ei=d.b.div(Br(),(function(e){return e.theme.tile.backgroundColor})),ti=d.b.div(zr()),ni=Object(d.b)(ti)(Fr()),ri=d.b.span(Dr(),(function(e){return e.theme.tile.backgroundColorLink})),ii=d.b.div(Nr(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),ai=d.b.div(Ir(),(function(e){return e.theme.tile.backgroundColor})),oi=Object(d.b)(g.a)(Mr(),(function(e){return e.theme.main.highlight})),si=function(e){var t=e.pic,n={backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==t?c.a.createElement(ci,{style:n}):c.a.createElement(ui,null)},ci=d.b.div(Lr(),(function(e){return e.theme.main.highlight})),ui=d.b.div(Rr());function li(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return li=function(){return e},e}function hi(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return hi=function(){return e},e}var fi=function(e){var t=e.item,n=e.onEdit;return c.a.createElement(di,null,c.a.createElement(pi,null,c.a.createElement(O.a,{value:t.name,label:"Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(C.a,{optionTable:"gears",value:t.base,label:"Base Gear",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{base:e}))}}),c.a.createElement(qe.a,{value:!!t.attunment,label:"Attunment",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{attunment:e?1:0}))}}),c.a.createElement(O.a,{value:t.type,label:"Type",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{type:e}))}}),c.a.createElement(Ge.a,{value:t.magicBonus,label:"Magic Bonus",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{magicBonus:e}))}}),c.a.createElement(O.a,{value:t.rarity,label:"Rarity",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{rarity:e}))}}),c.a.createElement(O.a,{value:t.pic,label:"Picture",icon:m.I,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{pic:e}))}}),c.a.createElement(O.a,{value:t.sources,label:"Sources",icon:m.J,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sources:e}))}}),c.a.createElement(S.a,{value:t.description,label:"Text",icon:m.f,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{description:e}))}})))},di=d.b.div(hi()),pi=d.b.div(li(),(function(e){return e.theme.tile.color}));function mi(){var e=Object(l.a)([""]);return mi=function(){return e},e}function gi(){var e=Object(l.a)(["\n  margin: -10px 5px -10px -10px;\n  height: 47px;\n  width: 47px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  background-color: white;\n  overflow: hidden;\n"]);return gi=function(){return e},e}function vi(){var e=Object(l.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return vi=function(){return e},e}function bi(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 5px 10px 7px 10px;\n  margin-left: 5px;\n  font-size: 12px;\n  line-height: 30px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return bi=function(){return e},e}function yi(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return yi=function(){return e},e}function _i(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return _i=function(){return e},e}function xi(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return xi=function(){return e},e}function wi(){var e=Object(l.a)(["\n  height: 30px;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 50px 5px 5px 50px;\n  background-color: ",";\n"]);return wi=function(){return e},e}function Ei(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Ei=function(){return e},e}function ki(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 5px 10px 7px 10px;\n  line-height: 30px;\n  border-radius: 5px;\n  background-color: ",";\n  color: ",";\n"]);return ki=function(){return e},e}function Oi(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  max-width: 800px;\n  padding: 5px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return Oi=function(){return e},e}function Si(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return Si=function(){return e},e}var Ci=function(e){var t=e.item,n=Object(jn.a)(),r=Object(s.useState)(""),i=Object(o.a)(r,2),a=i[0],u=i[1],l=Object(s.useState)(!1),h=Object(o.a)(l,2),f=h[0],d=h[1],g=Object(s.useState)(),v=Object(o.a)(g,2),b=v[0],y=v[1];Object(s.useEffect)((function(){if(void 0!==n){var e=Object(Pn.a)(t.description);e.length>=1024&&(e=e.substring(0,1021)+"...");var r={username:n.name+" (DnDTome)",embeds:[{author:{name:t.name,icon_url:t.pic},fields:[{name:"Bonus",value:t.magicBonus?t.magicBonus:"-",inline:!0},{name:"Rarity",value:t.rarity?t.rarity:"-",inline:!0},{name:"Type",value:t.type?t.type:"-",inline:!0},{name:"Base",value:t.base?t.base:"-",inline:!0},{name:"Damage",value:b&&b.damage?b.damage:"-",inline:!0},{name:"Properties",value:b&&b.properties?b.properties:"-",inline:!0},{name:"Text",value:e}]}]};u(JSON.stringify(r))}}),[t,n,b]),Object(s.useEffect)((function(){Object(p.h)("gears",[{fieldName:"name",value:t.base,sort:0}],(function(e){y(e[0])}))}),[t]);var _=Object(s.useCallback)((function(){return void 0!==t&&t.attunment?c.a.createElement("div",{className:"icon"},"A"):""}),[t]),x=Object(s.useCallback)((function(){return void 0!==t?""===t.pic||null===t.pic?"":t.pic:""}),[t]);return c.a.createElement(Ai,null,c.a.createElement(ji,null,c.a.createElement(Pi,{rarity:t.rarity},t.rarity),c.a.createElement(Ni,null,c.a.createElement("b",null,_())),""!==x()?c.a.createElement(Ri,null,c.a.createElement(Fi,{pic:x()}),c.a.createElement("b",null,t.name)):c.a.createElement(Ti,null,c.a.createElement("b",null,t.name)),c.a.createElement(Li,null,c.a.createElement(Mi,null,t.type),c.a.createElement(Mi,null,"+",t.magicBonus),c.a.createElement(Mi,null,c.a.createElement(Di,{icon:m.J}),t.sources),t.base&&b&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Mi,null,t.base),c.a.createElement(Mi,null,b.damage),c.a.createElement(Mi,null,b.properties)),c.a.createElement(Ii,null,c.a.createElement(P.a,{text:t.description}))),void 0!==n&&c.a.createElement(Li,null,c.a.createElement(A.a,{style:{backgroundColor:"#7289da"},text:"Show ".concat(t.name),icon:An.a,onClick:function(){return Object(Pn.b)(n,a)}})),c.a.createElement(Li,null,!f&&c.a.createElement(A.a,{text:"Send ".concat(t.name),icon:m.P,onClick:function(){return d(!0)}}),!!f&&c.a.createElement(Dt.a,{data:t,mode:"THIS"}))))},Ai=d.b.div(Si()),ji=d.b.div(Oi(),(function(e){return e.theme.tile.color})),Pi=d.b.div(ki(),(function(e){return e.theme.tile.backgroundColor}),(function(e){var t,n=null===(t=e.rarity)||void 0===t?void 0:t.toLowerCase().trim();return"artifact"===n?"#f74646":"legendary"===n?"#f7ce46":"very rare"===n?"#8000ff":"rare"===n?"#4675f7":"uncommon"===n?"#4dbd56":"inherit"})),Ti=d.b.div(Ei(),(function(e){return e.theme.tile.backgroundColor})),Ri=d.b.div(wi(),(function(e){return e.theme.tile.backgroundColor})),Li=d.b.div(xi()),Mi=d.b.div(_i(),(function(e){return e.theme.tile.backgroundColor})),Ii=d.b.div(yi(),(function(e){return e.theme.tile.backgroundColor})),Ni=d.b.div(bi(),(function(e){return e.theme.tile.backgroundColor})),Di=Object(d.b)(g.a)(vi(),(function(e){return e.theme.main.highlight})),Fi=function(e){var t=e.pic,n={backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==t?c.a.createElement(zi,{style:n}):c.a.createElement(Bi,null)},zi=d.b.div(gi(),(function(e){return e.theme.main.highlight})),Bi=d.b.div(mi()),Ui=n(287);function Hi(){var e=Object(l.a)(["\n  flex: 1 1 600px;\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Hi=function(){return e},e}function qi(){var e=Object(l.a)([""]);return qi=function(){return e},e}function Wi(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return Wi=function(){return e},e}function Gi(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Gi=function(){return e},e}var Zi=function(e){var t=e.book,n=e.onEdit;return c.a.createElement(Vi,null,c.a.createElement(Yi,null,c.a.createElement(O.a,{value:t.name,label:"Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(Ui.a,{label:"",isMulti:!1,icon:m.z,accept:".pdf",onChange:function(e){return function(e){if(null!==e){var r=Array.from(e);1===r.length&&n(Object(f.a)(Object(f.a)({},t),{},{data:r[0]}))}}(e)}}),c.a.createElement(O.a,{value:t.cover,label:"Cover",icon:m.I,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{cover:e}))}}),c.a.createElement(Ge.a,{value:t.pages,label:"Pages",icon:m.J,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{pages:e}))}})),c.a.createElement(Xi,null,t.tags.map((function(e,r){return c.a.createElement(Ki,{key:r},c.a.createElement(O.a,{value:e,label:"Tag",onChange:function(r){return function(e,r){var i=t.tags.map((function(t){return t===e?r:t}));n(Object(f.a)(Object(f.a)({},t),{},{tags:i}))}(e,r)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){var r=t.tags,i=r.indexOf(e);-1!==i&&(r.splice(i,1),n(Object(f.a)(Object(f.a)({},t),{},{tags:r})))}(e)}}))})),c.a.createElement(Ki,null,c.a.createElement(b.a,{icon:m.R,onClick:function(){n(Object(f.a)(Object(f.a)({},t),{},{tags:[].concat(Object(ee.a)(t.tags),[""])}))}}))))},Vi=d.b.div(Gi()),Yi=d.b.div(Wi(),(function(e){return e.theme.tile.color})),Xi=Object(d.b)(Yi)(qi()),Ki=d.b.div(Hi()),Ji=n(184),Qi=n.n(Ji),$i=n(8),ea=n(16);function ta(e,t){if(null==e)return{};var n,r,i=Object(ea.a)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function na(e){return(na="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ra=n(137),ia=n.n(ra);function aa(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function oa(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){aa(a,r,i,o,s,"next",e)}function s(e){aa(a,r,i,o,s,"throw",e)}o(void 0)}))}}function sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e,t,n){return t&&ca(e.prototype,t),n&&ca(e,n),e}function la(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ha(e,t){return(ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fa(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ha(e,t)}function da(e,t){return!t||"object"!==na(t)&&"function"!==typeof t?la(e):t}function pa(e){return(pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ga=n(5),va=n.n(ga),ba=n(246),ya=n.n(ba),_a=n(185),xa=n.n(_a);function wa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return"string"===typeof t||t instanceof Array?e.concat(t):e}),[]).filter(Boolean).join(" ")}var Ea=Object(s.createContext)(null);function ka(e){var t=e.children,n=e.type;return c.a.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(n)},t)}ka.propTypes={children:va.a.node,type:va.a.oneOf(["error","loading","no-data"]).isRequired};var Oa=n(517).PDFLinkService,Sa={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Ca=new(n(462).EventBus),Aa="undefined"!==typeof window,ja=Aa&&"file:"===window.location.protocol,Pa=function(e){return"undefined"!==typeof e},Ta=function(e){return Pa(e)&&null!==e},Ra=function(e){return e instanceof ArrayBuffer},La=function(e){if(!Aa)throw new Error("Attempted to check if a variable is a Blob on a non-browser environment.");return e instanceof Blob},Ma=function(e){if(!Aa)throw new Error("Attempted to check if a variable is a File on a non-browser environment.");return e instanceof File},Ia=function(e){return"string"===typeof e&&/^data:/.test(e)},Na=function(e){if(!Ia(e))throw new Error("dataURItoUint8Array was provided with an argument which is not a valid data URI.");var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=new Uint8Array(t.length),r=0;r<t.length;r+=1)n[r]=t.charCodeAt(r);return n},Da=function(e){},Fa=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Da.apply(void 0,["warn"].concat(t))},za=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Da.apply(void 0,["error"].concat(t))},Ba=function(){ja&&Fa("Loading PDF as base64 strings/URLs might not work on protocols other than HTTP/HTTPS. On Google Chrome, you can use --allow-file-access-from-files flag for debugging purposes.")},Ua=function(e){e&&e.cancel&&e.cancel()},Ha=function(e,t){return Object.defineProperty(e,"width",{get:function(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get:function(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),e},qa=function(e){return"RenderingCancelledException"===e.name},Wa=function(e){return new Promise((function(t,n){var r=new FileReader;return r.onload=function(){return t(new Uint8Array(r.result))},r.onerror=function(e){switch(e.target.error.code){case e.target.error.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case e.target.error.NOT_READABLE_ERR:return n(new Error("Error while reading a file: File not readable."));case e.target.error.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case e.target.error.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(e),null}))};function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Za(e,t){if(e){if("string"===typeof e)return Ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ga(e,t):void 0}}function Va(e){return function(e){if(Array.isArray(e))return Ga(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Za(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ya=function(){var e={};return[].concat(Va(ba.mouseEvents),Va(ba.touchEvents),Va(ba.keyboardEvents)).forEach((function(t){e[t]=va.a.func})),e}(),Xa=[va.a.string,va.a.instanceOf(ArrayBuffer),va.a.shape({data:va.a.object,httpHeaders:va.a.object,range:va.a.object,url:va.a.string,withCredentials:va.a.bool})];"undefined"!==typeof File&&Xa.push(va.a.instanceOf(File)),"undefined"!==typeof Blob&&Xa.push(va.a.instanceOf(Blob));var Ka=va.a.oneOfType([va.a.string,va.a.arrayOf(va.a.string)]),Ja=(va.a.oneOfType(Xa),va.a.instanceOf(Oa)),Qa=(va.a.oneOf(["_self","_blank","_parent","_top"]),va.a.shape({_transport:va.a.shape({fontLoader:va.a.object.isRequired}).isRequired,commonObjs:va.a.shape({_objs:va.a.object.isRequired}).isRequired,getAnnotations:va.a.func.isRequired,getTextContent:va.a.func.isRequired,getViewport:va.a.func.isRequired,render:va.a.func.isRequired})),$a=va.a.oneOfType([va.a.shape({getDestination:va.a.func.isRequired,getOutline:va.a.func.isRequired,getPage:va.a.func.isRequired,numPages:va.a.number.isRequired}),va.a.bool]),eo=va.a.oneOf(["canvas","none","svg"]),to=va.a.oneOf([0,90,180,270]);function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(Object(n),!0).forEach((function(t){ma(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function io(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ao=Qi.a.PDFDataRangeTransport,oo=function(e){fa(r,e);var t,n=(t=r,function(){var e,n=pa(t);if(io()){var r=pa(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return da(this,e)});function r(){var e;sa(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return ma(la(e=n.call.apply(n,[this].concat(i))),"state",{pdf:null}),ma(la(e),"viewer",{scrollPageIntoView:function(t){var n=t.pageNumber,r=e.props.onItemClick;if(r)r({pageNumber:n});else{var i=e.pages[n-1];i?i.scrollIntoView():Fa("Warning: An internal link leading to page ".concat(n," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}}}),ma(la(e),"linkService",new Oa({eventBus:Ca})),ma(la(e),"loadDocument",oa(ia.a.mark((function t(){var n,r,i,a,o,s,c;return ia.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,t.prev=1,t.next=4,e.findDocumentSource();case 4:n=t.sent,e.onSourceSuccess(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.onSourceError(t.t0);case 11:if(n){t.next=13;break}return t.abrupt("return");case 13:return e.setState((function(e){return e.pdf?{pdf:null}:null})),r=e.props,i=r.options,a=r.onLoadProgress,o=r.onPassword,t.prev=15,Ua(e.runningTask),e.loadingTask=Qi.a.getDocument(ro({},n,{},i)),e.loadingTask.onPassword=o,a&&(e.loadingTask.onProgress=a),s=xa()(e.loadingTask.promise),e.runningTask=s,t.next=24,s.promise;case 24:c=t.sent,e.setState((function(e){return e.pdf&&e.pdf.fingerprint===c.fingerprint?null:{pdf:c}}),e.onLoadSuccess),t.next=31;break;case 28:t.prev=28,t.t1=t.catch(15),e.onLoadError(t.t1);case 31:case"end":return t.stop()}}),t,null,[[1,8],[15,28]])})))),ma(la(e),"setupLinkService",(function(){e.linkService.setViewer(e.viewer);var t=la(e);Object.defineProperty(e.linkService,"externalLinkTarget",{get:function(){switch(t.props.externalLinkTarget){case"_self":return 1;case"_blank":return 2;case"_parent":return 3;case"_top":return 4;default:return 0}}})})),ma(la(e),"onSourceSuccess",(function(){var t=e.props.onSourceSuccess;t&&t()})),ma(la(e),"onSourceError",(function(t){za(t);var n=e.props.onSourceError;n&&n(t)})),ma(la(e),"onLoadSuccess",(function(){var t=e.props.onLoadSuccess,n=e.state.pdf;t&&t(n),e.pages=new Array(n.numPages),e.linkService.setDocument(n)})),ma(la(e),"onLoadError",(function(t){e.setState({pdf:!1}),za(t);var n=e.props.onLoadError;n&&n(t)})),ma(la(e),"findDocumentSource",oa(ia.a.mark((function t(){var n,r,i,a,o;return ia.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.file){t.next=3;break}return t.abrupt("return",null);case 3:if("string"!==typeof n){t.next=9;break}if(!Ia(n)){t.next=7;break}return r=Na(n),t.abrupt("return",{data:r});case 7:return Ba(),t.abrupt("return",{url:n});case 9:if(!(n instanceof ao)){t.next=11;break}return t.abrupt("return",{range:n});case 11:if(!Ra(n)){t.next=13;break}return t.abrupt("return",{data:n});case 13:if(!Aa){t.next=19;break}if(!La(n)&&!Ma(n)){t.next=19;break}return t.next=17,Wa(n);case 17:return t.t0=t.sent,t.abrupt("return",{data:t.t0});case 19:if("object"===na(n)){t.next=21;break}throw new Error("Invalid parameter in file, need either Uint8Array, string or a parameter object");case 21:if(n.url||n.data||n.range){t.next=23;break}throw new Error("Invalid parameter object: need either .data, .range or .url");case 23:if("string"!==typeof n.url){t.next=29;break}if(!Ia(n.url)){t.next=28;break}return i=n.url,a=ta(n,["url"]),o=Na(i),t.abrupt("return",ro({data:o},a));case 28:Ba();case 29:return t.abrupt("return",n);case 30:case"end":return t.stop()}}),t)})))),ma(la(e),"registerPage",(function(t,n){e.pages[t]=n})),ma(la(e),"unregisterPage",(function(t){delete e.pages[t]})),e}return ua(r,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(e){this.props.file!==e.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){this.loadingTask&&this.loadingTask.destroy(),Ua(this.runningTask)}},{key:"renderChildren",value:function(){var e=this.props.children;return c.a.createElement(Ea.Provider,{value:this.childContext},e)}},{key:"renderContent",value:function(){var e=this.props.file,t=this.state.pdf;if(!e){var n=this.props.noData;return c.a.createElement(ka,{type:"no-data"},"function"===typeof n?n():n)}if(null===t){var r=this.props.loading;return c.a.createElement(ka,{type:"loading"},"function"===typeof r?r():r)}if(!1===t){var i=this.props.error;return c.a.createElement(ka,{type:"error"},"function"===typeof i?i():i)}return this.renderChildren()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.inputRef;return c.a.createElement("div",Object($i.a)({className:wa("react-pdf__Document",t),ref:n},this.eventProps),this.renderContent())}},{key:"childContext",get:function(){var e=this.linkService,t=this.registerPage,n=this.unregisterPage,r=this.props,i=r.renderMode,a=r.rotate;return{linkService:e,pdf:this.state.pdf,registerPage:t,renderMode:i,rotate:a,unregisterPage:n}}},{key:"eventProps",get:function(){var e=this;return ya()(this.props,(function(){return e.state.pdf}))}}]),r}(s.PureComponent);oo.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF\u2026",noData:"No PDF file specified.",onPassword:function(e,t){switch(t){case Sa.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case Sa.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."))}}};var so=va.a.oneOfType([va.a.func,va.a.node]);oo.propTypes=ro({},Ya,{children:va.a.node,className:Ka,error:so,file:Ma,inputRef:va.a.func,loading:so,noData:so,onItemClick:va.a.func,onLoadError:va.a.func,onLoadProgress:va.a.func,onLoadSuccess:va.a.func,onPassword:va.a.func,onSourceError:va.a.func,onSourceSuccess:va.a.func,rotate:va.a.number});var co=Object(s.createContext)(null);function uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Za(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lo=function(){function e(t){var n=t.num,r=t.gen;sa(this,e),this.num=n,this.gen=r}return ua(e,[{key:"toString",value:function(){var e="".concat(this.num,"R");return 0!==this.gen&&(e+=this.gen),e}}]),e}();function ho(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var fo=function(e){fa(r,e);var t,n=(t=r,function(){var e,n=pa(t);if(ho()){var r=pa(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return da(this,e)});function r(){var e;sa(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return ma(la(e=n.call.apply(n,[this].concat(i))),"getDestination",oa(ia.a.mark((function t(){var n,r,i;return ia.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.item,i=n.pdf,Pa(e.destination)){t.next=9;break}if("string"!==typeof r.dest){t.next=8;break}return t.next=5,i.getDestination(r.dest);case 5:e.destination=t.sent,t.next=9;break;case 8:e.destination=r.dest;case 9:return t.abrupt("return",e.destination);case 10:case"end":return t.stop()}}),t)})))),ma(la(e),"getPageIndex",oa(ia.a.mark((function t(){var n,r,i,a;return ia.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.pdf,Pa(e.pageIndex)){t.next=10;break}return t.next=4,e.getDestination();case 4:if(!(r=t.sent)){t.next=10;break}return i=uo(r,1),a=i[0],t.next=9,n.getPageIndex(new lo(a));case 9:e.pageIndex=t.sent;case 10:return t.abrupt("return",e.pageIndex);case 11:case"end":return t.stop()}}),t)})))),ma(la(e),"getPageNumber",oa(ia.a.mark((function t(){return ia.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Pa(e.pageNumber)){t.next=5;break}return t.next=3,e.getPageIndex();case 3:t.t0=t.sent,e.pageNumber=t.t0+1;case 5:return t.abrupt("return",e.pageNumber);case 6:case"end":return t.stop()}}),t)})))),ma(la(e),"onClick",function(){var t=oa(ia.a.mark((function t(n){var r,i,a;return ia.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.onClick,n.preventDefault(),t.next=4,e.getPageIndex();case 4:return i=t.sent,t.next=7,e.getPageNumber();case 7:a=t.sent,r&&r({pageIndex:i,pageNumber:a});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return ua(r,[{key:"renderSubitems",value:function(){var e=this.props,t=e.item,n=ta(e,["item"]);if(!t.items||!t.items.length)return null;var i=t.items;return c.a.createElement("ul",null,i.map((function(e,t){return c.a.createElement(r,Object($i.a)({key:"string"===typeof e.destination?e.destination:t,item:e},n))})))}},{key:"render",value:function(){var e=this.props.item;return c.a.createElement("li",null,c.a.createElement("a",{href:"#",onClick:this.onClick},e.title),this.renderSubitems())}}]),r}(s.PureComponent),po=va.a.oneOfType([va.a.string,va.a.arrayOf(va.a.any)]);fo.propTypes={item:va.a.shape({dest:po,items:va.a.arrayOf(va.a.shape({dest:po,title:va.a.string})),title:va.a.string}).isRequired,onClick:va.a.func,pdf:$a.isRequired};var mo=function(e){return c.a.createElement(Ea.Consumer,null,(function(t){return c.a.createElement(co.Consumer,null,(function(n){return c.a.createElement(fo,Object($i.a)({},t,n,e))}))}))};function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var bo=function(e){fa(r,e);var t,n=(t=r,function(){var e,n=pa(t);if(vo()){var r=pa(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return da(this,e)});function r(){var e;sa(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return ma(la(e=n.call.apply(n,[this].concat(i))),"state",{outline:null}),ma(la(e),"loadOutline",oa(ia.a.mark((function t(){var n,r,i;return ia.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.pdf,e.setState((function(e){return e.outline?{outline:null}:null})),t.prev=2,r=xa()(n.getOutline()),e.runningTask=r,t.next=7,r.promise;case 7:i=t.sent,e.setState({outline:i},e.onLoadSuccess),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),e.onLoadError(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))),ma(la(e),"onLoadSuccess",(function(){var t=e.props.onLoadSuccess,n=e.state.outline;t&&t(n)})),ma(la(e),"onLoadError",(function(t){e.setState({outline:!1}),za(t);var n=e.props.onLoadError;n&&n(t)})),ma(la(e),"onItemClick",(function(t){var n=t.pageIndex,r=t.pageNumber,i=e.props.onItemClick;i&&i({pageIndex:n,pageNumber:r})})),e}return ua(r,[{key:"componentDidMount",value:function(){if(!this.props.pdf)throw new Error("Attempted to load an outline, but no document was specified.");this.loadOutline()}},{key:"componentDidUpdate",value:function(e){var t=this.props.pdf;e.pdf&&t!==e.pdf&&this.loadOutline()}},{key:"componentWillUnmount",value:function(){Ua(this.runningTask)}},{key:"renderOutline",value:function(){var e=this.state.outline;return c.a.createElement("ul",null,e.map((function(e,t){return c.a.createElement(mo,{key:"string"===typeof e.destination?e.destination:t,item:e})})))}},{key:"render",value:function(){var e=this.props.pdf,t=this.state.outline;if(!e||!t)return null;var n=this.props,r=n.className,i=n.inputRef;return c.a.createElement("div",Object($i.a)({className:wa("react-pdf__Outline",r),ref:i},this.eventProps),c.a.createElement(co.Provider,{value:this.childContext},this.renderOutline()))}},{key:"childContext",get:function(){return{onClick:this.onItemClick}}},{key:"eventProps",get:function(){var e=this;return ya()(this.props,(function(){return e.state.outline}))}}]),r}(s.PureComponent);bo.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){ma(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:Ka,inputRef:va.a.func,onItemClick:va.a.func,onLoadError:va.a.func,onLoadSuccess:va.a.func,pdf:$a},Ya);c.a.forwardRef((function(e,t){return c.a.createElement(Ea.Consumer,null,(function(n){return c.a.createElement(bo,Object($i.a)({ref:t},n,e))}))}));var yo=Object(s.createContext)(null);function _o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var xo=function(e){fa(r,e);var t,n=(t=r,function(){var e,n=pa(t);if(_o()){var r=pa(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return da(this,e)});function r(){var e;sa(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return ma(la(e=n.call.apply(n,[this].concat(i))),"onRenderSuccess",(function(){e.renderer=null;var t=e.props,n=t.onRenderSuccess,r=t.page,i=t.scale;n&&n(Ha(r,i))})),ma(la(e),"onRenderError",(function(t){if(!qa(t)){za(t);var n=e.props.onRenderError;n&&n(t)}})),ma(la(e),"drawPageOnCanvas",(function(){var t=la(e).canvasLayer;if(!t)return null;var n=la(e),r=n.renderViewport,i=n.viewport,a=e.props,o=a.page,s=a.renderInteractiveForms;t.width=r.width,t.height=r.height,t.style.width="".concat(Math.floor(i.width),"px"),t.style.height="".concat(Math.floor(i.height),"px");var c={get canvasContext(){return t.getContext("2d")},viewport:r,renderInteractiveForms:s};return e.cancelRenderingTask(),e.renderer=o.render(c),e.renderer.promise.then(e.onRenderSuccess).catch(e.onRenderError)})),e}return ua(r,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.page;t.renderInteractiveForms!==e.renderInteractiveForms&&(n.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask(),this.canvasLayer&&(this.canvasLayer.width=0,this.canvasLayer.height=0,this.canvasLayer=null)}},{key:"cancelRenderingTask",value:function(){this.renderer&&this.renderer._internalRenderTask.running&&this.renderer._internalRenderTask.cancel()}},{key:"render",value:function(){var e=this;return c.a.createElement("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:function(t){e.canvasLayer=t},style:{display:"block",userSelect:"none"}})}},{key:"renderViewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale,i=Aa&&window.devicePixelRatio||1;return t.getViewport({scale:r*i,rotation:n})}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale;return t.getViewport({scale:r,rotation:n})}}]),r}(s.PureComponent);function wo(e){return c.a.createElement(yo.Consumer,null,(function(t){return c.a.createElement(xo,Object($i.a)({},t,e))}))}function Eo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}xo.propTypes={onRenderError:va.a.func,onRenderSuccess:va.a.func,page:Qa.isRequired,renderInteractiveForms:va.a.bool,rotate:to,scale:va.a.number};var ko=function(e){fa(r,e);var t,n=(t=r,function(){var e,n=pa(t);if(Eo()){var r=pa(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return da(this,e)});function r(){var e;sa(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return ma(la(e=n.call.apply(n,[this].concat(i))),"state",{svg:null}),ma(la(e),"onRenderSuccess",(function(){e.renderer=null;var t=e.props,n=t.onRenderSuccess,r=t.page,i=t.scale;n&&n(Ha(r,i))})),ma(la(e),"onRenderError",(function(t){if(!qa(t)){za(t);var n=e.props.onRenderError;n&&n(t)}})),ma(la(e),"renderSVG",(function(){var t=e.props.page;return e.renderer=t.getOperatorList(),e.renderer.then((function(n){var r=new Qi.a.SVGGraphics(t.commonObjs,t.objs);e.renderer=r.getSVG(n,e.viewport).then((function(t){e.setState({svg:t},e.onRenderSuccess)})).catch(e.onRenderError)})).catch(e.onRenderError)})),ma(la(e),"drawPageOnContainer",(function(t){var n=e.state.svg;if(t&&n){t.firstElementChild||t.appendChild(n);var r=e.viewport,i=r.width,a=r.height;n.setAttribute("width",i),n.setAttribute("height",a)}})),e}return ua(r,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"render",value:function(){var e=this,t=this.viewport,n=t.width,r=t.height;return c.a.createElement("div",{className:"react-pdf__Page__svg",ref:function(t){return e.drawPageOnContainer(t)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:n,height:r,userSelect:"none"}})}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale;return t.getViewport({scale:r,rotation:n})}}]),r}(s.PureComponent);function Oo(e){return c.a.createElement(yo.Consumer,null,(function(t){return c.a.createElement(ko,Object($i.a)({},t,e))}))}function So(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}ko.propTypes={onRenderError:va.a.func,onRenderSuccess:va.a.func,page:Qa.isRequired,rotate:to,scale:va.a.number};var Co=function(e){fa(r,e);var t,n=(t=r,function(){var e,n=pa(t);if(So()){var r=pa(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return da(this,e)});function r(){var e;sa(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return ma(la(e=n.call.apply(n,[this].concat(i))),"getElementWidth",(function(t){var n=la(e).sideways;return t.getBoundingClientRect()[n?"height":"width"]})),e}return ua(r,[{key:"componentDidMount",value:function(){this.alignTextItem()}},{key:"componentDidUpdate",value:function(){this.alignTextItem()}},{key:"getFontData",value:function(){var e=oa(ia.a.mark((function e(t){var n,r;return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.page,e.next=3,new Promise((function(e){n.commonObjs.get(t,e)}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"alignTextItem",value:function(){var e=oa(ia.a.mark((function e(){var t,n,r,i,a,o,s,c,u,l,h;return ia.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.item){e.next=3;break}return e.abrupt("return");case 3:return t.style.transform="",n=this.props,r=n.fontName,i=n.scale,a=n.width,t.style.fontFamily="".concat(r,", sans-serif"),e.next=8,this.getFontData(r);case 8:o=e.sent,s=o?o.fallbackName:"sans-serif",t.style.fontFamily="".concat(r,", ").concat(s),c=a*i,u=this.getElementWidth(t),l="scaleX(".concat(c/u,")"),(h=o?o.ascent:0)&&(l+=" translateY(".concat(100*(1-h),"%)")),t.style.transform=l,t.style.WebkitTransform=l;case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.fontSize,n=this.top,r=this.left,i=this.props,a=i.customTextRenderer,o=i.scale,s=i.str;return c.a.createElement("span",{ref:function(t){e.item=t},style:{height:"1em",fontFamily:"sans-serif",fontSize:"".concat(t*o,"px"),position:"absolute",top:"".concat(n*o,"px"),left:"".concat(r*o,"px"),transformOrigin:"left bottom",whiteSpace:"pre",pointerEvents:"all"}},a?a(this.props):s)}},{key:"unrotatedViewport",get:function(){var e=this.props,t=e.page,n=e.scale;return t.getViewport({scale:n})}},{key:"rotate",get:function(){var e=this.props,t=e.page;return e.rotate-t.rotate}},{key:"sideways",get:function(){return this.rotate%180!==0}},{key:"defaultSideways",get:function(){return this.unrotatedViewport.rotation%180!==0}},{key:"fontSize",get:function(){var e=this.props.transform,t=this.defaultSideways,n=uo(e,2),r=n[0],i=n[1];return t?i:r}},{key:"top",get:function(){var e=this.props.transform,t=this.unrotatedViewport,n=this.defaultSideways,r=uo(e,6),i=r[2],a=r[3],o=r[4],s=r[5],c=uo(t.viewBox,4),u=c[1],l=c[3];return n?o+i+u:l-(s+a)}},{key:"left",get:function(){var e=this.props.transform,t=this.unrotatedViewport,n=this.defaultSideways,r=uo(e,6),i=r[4],a=r[5],o=uo(t.viewBox,1)[0];return n?a-o:i-o}}]),r}(s.PureComponent);function Ao(e){return c.a.createElement(yo.Consumer,null,(function(t){return c.a.createElement(Co,Object($i.a)({},t,e))}))}function jo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}Co.propTypes={customTextRenderer:va.a.func,fontName:va.a.string.isRequired,itemIndex:va.a.number.isRequired,page:Qa.isRequired,rotate:to,scale:va.a.number,str:va.a.string.isRequired,transform:va.a.arrayOf(va.a.number).isRequired,width:va.a.number.isRequired};var Po=function(e){fa(r,e);var t,n=(t=r,function(){var e,n=pa(t);if(jo()){var r=pa(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return da(this,e)});function r(){var e;sa(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return ma(la(e=n.call.apply(n,[this].concat(i))),"state",{textItems:null}),ma(la(e),"loadTextItems",oa(ia.a.mark((function t(){var n,r,i,a;return ia.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.page,t.prev=1,r=xa()(n.getTextContent()),e.runningTask=r,t.next=6,r.promise;case 6:i=t.sent,a=i.items,e.setState({textItems:a},e.onLoadSuccess),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.onLoadError(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))),ma(la(e),"onLoadSuccess",(function(){var t=e.props.onGetTextSuccess,n=e.state.textItems;t&&t(n)})),ma(la(e),"onLoadError",(function(t){e.setState({textItems:!1}),za(t);var n=e.props.onGetTextError;n&&n(t)})),e}return ua(r,[{key:"componentDidMount",value:function(){if(!this.props.page)throw new Error("Attempted to load page text content, but no page was specified.");this.loadTextItems()}},{key:"componentDidUpdate",value:function(e){var t=this.props.page;e.page&&t!==e.page&&this.loadTextItems()}},{key:"componentWillUnmount",value:function(){Ua(this.runningTask)}},{key:"renderTextItems",value:function(){var e=this.state.textItems;return e?e.map((function(e,t){return c.a.createElement(Ao,Object($i.a)({key:t,itemIndex:t},e))})):null}},{key:"render",value:function(){var e=this.unrotatedViewport,t=this.rotate;return c.a.createElement("div",{className:"react-pdf__Page__textContent",style:{position:"absolute",top:"50%",left:"50%",width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),color:"transparent",transform:"translate(-50%, -50%) rotate(".concat(t,"deg)"),WebkitTransform:"translate(-50%, -50%) rotate(".concat(t,"deg)"),pointerEvents:"none"}},this.renderTextItems())}},{key:"unrotatedViewport",get:function(){var e=this.props,t=e.page,n=e.scale;return t.getViewport({scale:n})}},{key:"rotate",get:function(){var e=this.props,t=e.page;return e.rotate-t.rotate}}]),r}(s.PureComponent);function To(e){return c.a.createElement(yo.Consumer,null,(function(t){return c.a.createElement(Po,Object($i.a)({},t,e))}))}function Ro(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}Po.propTypes={onGetTextError:va.a.func,onGetTextSuccess:va.a.func,page:Qa.isRequired,rotate:to,scale:va.a.number};var Lo=function(e){fa(r,e);var t,n=(t=r,function(){var e,n=pa(t);if(Ro()){var r=pa(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return da(this,e)});function r(){var e;sa(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return ma(la(e=n.call.apply(n,[this].concat(i))),"state",{annotations:null}),ma(la(e),"loadAnnotations",oa(ia.a.mark((function t(){var n,r,i;return ia.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.page,t.prev=1,r=xa()(n.getAnnotations()),e.runningTask=r,t.next=6,r.promise;case 6:i=t.sent,e.setState({annotations:i},e.onLoadSuccess),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.onLoadError(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))),ma(la(e),"onLoadSuccess",(function(){var t=e.props.onGetAnnotationsSuccess,n=e.state.annotations;t&&t(n)})),ma(la(e),"onLoadError",(function(t){e.setState({annotations:!1}),za(t);var n=e.props.onGetAnnotationsError;n&&n(t)})),ma(la(e),"onRenderSuccess",(function(){var t=e.props.onRenderAnnotationLayerSuccess;t&&t()})),ma(la(e),"onRenderError",(function(t){za(t);var n=e.props.onRenderAnnotationLayerError;n&&n(t)})),e}return ua(r,[{key:"componentDidMount",value:function(){if(!this.props.page)throw new Error("Attempted to load page annotations, but no page was specified.");this.loadAnnotations()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.page,r=t.renderInteractiveForms;(e.page&&n!==e.page||r!==e.renderInteractiveForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){Ua(this.runningTask)}},{key:"renderAnnotationLayer",value:function(){var e=this.state.annotations;if(e){var t=this.props,n=t.linkService,r=t.page,i=t.renderInteractiveForms,a=this.viewport.clone({dontFlip:!0}),o={annotations:e,div:this.annotationLayer,linkService:n,page:r,renderInteractiveForms:i,viewport:a};this.annotationLayer.innerHTML="";try{Qi.a.AnnotationLayer.render(o),this.onRenderSuccess()}catch(s){this.onRenderError(s)}}}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"react-pdf__Page__annotations annotationLayer",ref:function(t){e.annotationLayer=t}},this.renderAnnotationLayer())}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale;return t.getViewport({scale:r,rotation:n})}}]),r}(s.PureComponent);Lo.propTypes={linkService:Ja.isRequired,onGetAnnotationsError:va.a.func,onGetAnnotationsSuccess:va.a.func,onRenderAnnotationLayerError:va.a.func,onRenderAnnotationLayerSuccess:va.a.func,page:Qa,renderInteractiveForms:va.a.bool,rotate:to,scale:va.a.number};var Mo=function(e){return c.a.createElement(Ea.Consumer,null,(function(t){return c.a.createElement(yo.Consumer,null,(function(n){return c.a.createElement(Lo,Object($i.a)({},t,n,e))}))}))};function Io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function No(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Do=function(e){fa(r,e);var t,n=(t=r,function(){var e,n=pa(t);if(No()){var r=pa(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return da(this,e)});function r(){var e;sa(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return ma(la(e=n.call.apply(n,[this].concat(i))),"state",{page:null}),ma(la(e),"onLoadSuccess",(function(){var t=e.props,n=t.onLoadSuccess,r=t.registerPage,i=e.state.page;n&&n(Ha(i,e.scale)),r&&r(e.pageIndex,e.ref)})),ma(la(e),"onLoadError",(function(t){za(t);var n=e.props.onLoadError;n&&n(t)})),ma(la(e),"loadPage",oa(ia.a.mark((function t(){var n,r,i,a;return ia.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.pdf,r=e.getPageNumber()){t.next=4;break}return t.abrupt("return");case 4:return e.setState((function(e){return e.page?{page:null}:null})),t.prev=5,i=xa()(n.getPage(r)),e.runningTask=i,t.next=10,i.promise;case 10:a=t.sent,e.setState({page:a},e.onLoadSuccess),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(5),e.setState({page:!1}),e.onLoadError(t.t0);case 18:case"end":return t.stop()}}),t,null,[[5,14]])})))),e}return ua(r,[{key:"componentDidMount",value:function(){if(!this.props.pdf)throw new Error("Attempted to load a page, but no document was specified.");this.loadPage()}},{key:"componentDidUpdate",value:function(e){var t=this.props.pdf;if(e.pdf&&t!==e.pdf||this.getPageNumber()!==this.getPageNumber(e)){var n=this.props.unregisterPage;n&&n(this.getPageIndex(e)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var e=this.props.unregisterPage;e&&e(this.pageIndex),Ua(this.runningTask)}},{key:"getPageIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return Ta(e.pageNumber)?e.pageNumber-1:Ta(e.pageIndex)?e.pageIndex:null}},{key:"getPageNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return Ta(e.pageNumber)?e.pageNumber:Ta(e.pageIndex)?e.pageIndex+1:null}},{key:"renderMainLayer",value:function(){switch(this.props.renderMode){case"none":return null;case"svg":return c.a.createElement(Oo,{key:"".concat(this.pageKeyNoScale,"_svg")});case"canvas":default:return c.a.createElement(wo,{key:"".concat(this.pageKey,"_canvas")})}}},{key:"renderTextLayer",value:function(){var e=this.props.renderTextLayer;return e?c.a.createElement(To,{key:"".concat(this.pageKey,"_text")}):null}},{key:"renderAnnotationLayer",value:function(){var e=this.props.renderAnnotationLayer;return e?c.a.createElement(Mo,{key:"".concat(this.pageKey,"_annotations")}):null}},{key:"renderChildren",value:function(){var e=this.props.children;return c.a.createElement(yo.Provider,{value:this.childContext},this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),e)}},{key:"renderContent",value:function(){var e=this.pageNumber,t=this.props.pdf,n=this.state.page;if(!e){var r=this.props.noData;return c.a.createElement(ka,{type:"no-data"},"function"===typeof r?r():r)}if(null===t||null===n){var i=this.props.loading;return c.a.createElement(ka,{type:"loading"},"function"===typeof i?i():i)}if(!1===t||!1===n){var a=this.props.error;return c.a.createElement(ka,{type:"error"},"function"===typeof a?a():a)}return this.renderChildren()}},{key:"render",value:function(){var e=this,t=this.pageNumber,n=this.props.className;return c.a.createElement("div",Object($i.a)({className:wa("react-pdf__Page",n),"data-page-number":t,ref:function(t){var n=e.props.inputRef;n&&n(t),e.ref=t},style:{position:"relative"}},this.eventProps),this.renderContent())}},{key:"childContext",get:function(){var e=this.state.page;if(!e)return{};var t=this.props;return{customTextRenderer:t.customTextRenderer,onGetAnnotationsError:t.onGetAnnotationsError,onGetAnnotationsSuccess:t.onGetAnnotationsSuccess,onGetTextError:t.onGetTextError,onGetTextSuccess:t.onGetTextSuccess,onRenderAnnotationLayerError:t.onRenderAnnotationLayerError,onRenderAnnotationLayerSuccess:t.onRenderAnnotationLayerSuccess,onRenderError:t.onRenderError,onRenderSuccess:t.onRenderSuccess,page:e,renderInteractiveForms:t.renderInteractiveForms,rotate:this.rotate,scale:this.scale}}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var e=this.props.rotate;if(Ta(e))return e;var t=this.state.page;return t?t.rotate:null}},{key:"scale",get:function(){var e=this.state.page;if(!e)return null;var t=this.props,n=t.scale,r=t.width,i=t.height,a=this.rotate,o=1,s=null===n?1:n;if(r||i){var c=e.getViewport({scale:1,rotation:a});o=r?r/c.width:i/c.height}return s*o}},{key:"eventProps",get:function(){var e=this;return ya()(this.props,(function(){var t=e.state.page;return t?Ha(t,e.scale):t}))}},{key:"pageKey",get:function(){var e=this.state.page;return"".concat(e.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){var e=this.state.page;return"".concat(e.pageIndex,"/").concat(this.rotate)}}]),r}(s.PureComponent);Do.defaultProps={error:"Failed to load the page.",loading:"Loading page\u2026",noData:"No page specified.",renderAnnotationLayer:!0,renderInteractiveForms:!1,renderMode:"canvas",renderTextLayer:!0,scale:1};var Fo=va.a.oneOfType([va.a.func,va.a.node]);Do.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(n),!0).forEach((function(t){ma(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Ya,{children:va.a.node,className:Ka,customTextRenderer:va.a.func,error:Fo,height:va.a.number,inputRef:va.a.func,loading:Fo,noData:Fo,onGetTextError:va.a.func,onGetTextSuccess:va.a.func,onLoadError:va.a.func,onLoadSuccess:va.a.func,onRenderError:va.a.func,onRenderSuccess:va.a.func,pageIndex:function(e,t,n){var r=e[t],i=e.pageNumber,a=e.pdf;if(!Pa(a))return null;if(Pa(r)){if("number"!==typeof r)return new Error("`".concat(t,"` of type `").concat(na(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<0)return new Error("Expected `".concat(t,"` to be greater or equal to 0."));var o=a.numPages;if(r+1>o)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(o-1,"."))}else if(!Pa(i))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pageNumber:function(e,t,n){var r=e[t],i=e.pageIndex,a=e.pdf;if(!Pa(a))return null;if(Pa(r)){if("number"!==typeof r)return new Error("`".concat(t,"` of type `").concat(na(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<1)return new Error("Expected `".concat(t,"` to be greater or equal to 1."));var o=a.numPages;if(r>o)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(o,"."))}else if(!Pa(i))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pdf:$a,registerPage:va.a.func,renderAnnotationLayer:va.a.bool,renderInteractiveForms:va.a.bool,renderMode:eo,renderTextLayer:va.a.bool,rotate:to,scale:va.a.number,unregisterPage:va.a.func,width:va.a.number});var zo=c.a.forwardRef((function(e,t){return c.a.createElement(Ea.Consumer,null,(function(n){return c.a.createElement(Do,Object($i.a)({ref:t},n,e))}))}));function Bo(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  max-width: 100%;\n\n  .react-pdf__Document {\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n  }\n  .react-pdf__Outline {\n    flex: 1 1 auto;\n    max-height: 600px;\n    overflow: hidden;\n  }\n  .react-pdf__Page {\n    flex: 1 1 auto;\n    width: 100%;\n    max-width: 600px;\n    overflow: hidden;\n    border-radius: 5px;\n\n    .react-pdf__Page__canvas {\n      width: 100% !important;\n      height: auto !important;\n    }\n    .react-pdf__Page__textContent {\n      width: 100% !important;\n      height: auto !important;\n      top: 0 !important;\n      left: 0 !important;\n      transform: none !important;\n    }\n  }\n"]);return Bo=function(){return e},e}function Uo(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  height: auto;\n  float: left;\n  padding: 3px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n"]);return Uo=function(){return e},e}function Ho(){var e=Object(l.a)(["\n  display: inline-block;\n  background-color: ",";\n  border-radius: 5px;\n  color: ",";\n  font-size: 10px;\n  padding: 10px;\n  margin-right: 5px;\n"]);return Ho=function(){return e},e}function qo(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return qo=function(){return e},e}function Wo(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n  max-width: calc(100% - 20px);\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return Wo=function(){return e},e}function Go(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return Go=function(){return e},e}ja&&Fa("You are running React-PDF from your local file system. PDF.js Worker may fail to load due to browser's security policies. If you're on Google Chrome, you can use --allow-file-access-from-files flag for debugging purposes."),Qi.a.GlobalWorkerOptions.workerSrc="pdf.worker.js",Qi.a.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Qi.a.version,"/pdf.worker.js");var Zo=function(e){var t=e.book,n=Object(s.useState)(""),r=Object(o.a)(n,2),i=r[0],a=r[1],u=Object(s.useState)(0),l=Object(o.a)(u,2),h=l[0],f=l[1],d=Object(s.useState)(1),p=Object(o.a)(d,2),v=p[0],b=p[1];Object(s.useEffect)((function(){var e=new FileReader;e.readAsDataURL(t.data),e.onloadend=function(){var t=e.result;null!==t&&a(t.toString())}}));var y=function(e){b((function(t){return t+e}))};return c.a.createElement(Vo,null,c.a.createElement(Yo,null,c.a.createElement(Qo,null,c.a.createElement("div",null,c.a.createElement(A.a,{onClick:function(){y(1)},text:"Next",disabled:v>=h,icon:m.d}),c.a.createElement(A.a,{onClick:function(){y(-1)},text:"Previous",disabled:v<=1,icon:m.c}),"Page ",v||(h?1:"--")," of ",h||"--"),c.a.createElement(oo,{file:i,onLoadSuccess:function(e){var t=e.numPages;f(t),b(1)},onItemClick:function(e){var t=e.pageNumber;b(+t)},loading:ue.c},c.a.createElement(zo,{pageNumber:v,loading:ue.c})))),c.a.createElement(Yo,null,c.a.createElement(Xo,null,c.a.createElement("b",null,t.name)),c.a.createElement(A.a,{onClick:function(){return function(){if(navigator.appVersion.toString().indexOf(".NET")>0)window.navigator.msSaveBlob(t.data,t.name+".pdf");else{var e=URL.createObjectURL(t.data);window.open(e,"_blank")}}()},text:"Show PDF",icon:m.w}),c.a.createElement(A.a,{onClick:function(){return function(e){if(window.navigator&&window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(t.data,e);else{var n=window.URL.createObjectURL(t.data),r=document.createElement("a");r.download=e,r.href=n,r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}(t.name+".pdf")},text:"Downlaod PDF",icon:m.x}),c.a.createElement(Jo,null,t.tags&&t.tags.map((function(e,t){return c.a.createElement(Ko,{key:t},c.a.createElement(g.a,{icon:m.fb})," ",e)})))))},Vo=d.b.div(Go()),Yo=d.b.div(Wo(),(function(e){return e.theme.tile.color})),Xo=d.b.div(qo(),(function(e){return e.theme.tile.backgroundColor})),Ko=d.b.span(Ho(),(function(e){return e.theme.tile.backgroundColorLink}),(function(e){return e.theme.tile.backgroundColor})),Jo=d.b.div(Uo()),Qo=d.b.div(Bo()),$o=n(518);n(554);function es(){var e=Object(l.a)([""]);return es=function(){return e},e}function ts(){var e=Object(l.a)(["\n  margin: -10px 5px -10px -10px;\n  height: 47px;\n  width: 47px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  background-color: white;\n  overflow: hidden;\n"]);return ts=function(){return e},e}function ns(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return ns=function(){return e},e}function rs(){var e=Object(l.a)(["\n  height: 30px;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 50px 5px 5px 50px;\n  background-color: ",";\n"]);return rs=function(){return e},e}function is(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return is=function(){return e},e}function as(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  max-width: 800px;\n  padding: 5px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return as=function(){return e},e}function os(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return os=function(){return e},e}var ss=function(e){var t=e.location,n=Object(s.useState)(!1),r=Object(o.a)(n,2),i=r[0],a=r[1],u=Object(s.useCallback)((function(){return void 0!==t?""===t.map||null===t.map?"":t.map:""}),[t]);return c.a.createElement(cs,null,c.a.createElement(us,null,""!==u()?c.a.createElement(hs,null,c.a.createElement(ds,{pic:u()}),c.a.createElement("b",null,t.name)):c.a.createElement(ls,null,c.a.createElement("b",null,t.name))),c.a.createElement(oe.a,{editable:!1,location:t}),c.a.createElement(us,null,c.a.createElement(fs,null,!i&&c.a.createElement(A.a,{text:"Send ".concat(t.name),icon:m.P,onClick:function(){return a(!0)}}),!!i&&c.a.createElement(Dt.a,{data:t,mode:"THIS"}))))},cs=d.b.div(os()),us=d.b.div(as(),(function(e){return e.theme.tile.color})),ls=d.b.div(is(),(function(e){return e.theme.tile.backgroundColor})),hs=d.b.div(rs(),(function(e){return e.theme.tile.backgroundColor})),fs=d.b.div(ns()),ds=function(e){var t=e.pic,n={backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==t?c.a.createElement(ps,{style:n}):c.a.createElement(ms,null)},ps=d.b.div(ts(),(function(e){return e.theme.main.highlight})),ms=d.b.div(es());function gs(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  max-width: 1000px;\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return gs=function(){return e},e}function vs(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n"]);return vs=function(){return e},e}function bs(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return bs=function(){return e},e}var ys=function(e){var t=e.monster,n=e.onEdit;return c.a.createElement(_s,null,c.a.createElement(ws,null,c.a.createElement(O.a,{value:t.name,label:"Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(O.a,{value:t.type,label:"Type",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{type:e}))}}),c.a.createElement(O.a,{value:t.subtype,label:"Subtype",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{subtype:e}))}}),c.a.createElement(O.a,{value:t.alignment,label:"Alignment",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{alignment:e}))}}),c.a.createElement(O.a,{value:t.size,label:"Size",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{size:e}))}}),c.a.createElement(Ge.a,{value:t.cr,label:"CR",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{cr:e}))}}),c.a.createElement(xs,null,c.a.createElement(Ge.a,{value:t.hp,label:"Hp",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{hp:e}))}}),c.a.createElement(Ge.a,{value:t.ac,label:"Ac",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{ac:e}))}})),c.a.createElement(xs,null,c.a.createElement(Ge.a,{value:t.str,label:"Strength",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{str:e}))}}),c.a.createElement(Ge.a,{value:t.dex,label:"Dexterity",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{dex:e}))}})),c.a.createElement(xs,null,c.a.createElement(Ge.a,{value:t.con,label:"Constitution",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{con:e}))}}),c.a.createElement(Ge.a,{value:t.int,label:"Intelligence",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{int:e}))}})),c.a.createElement(xs,null,c.a.createElement(Ge.a,{value:t.wis,label:"Wisdom",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{wis:e}))}}),c.a.createElement(Ge.a,{value:t.cha,label:"Charisma",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{cha:e}))}})),c.a.createElement(O.a,{value:t.speed,label:"Speed",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{speed:e}))}}),c.a.createElement(O.a,{value:t.senses,label:"Senses",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{senses:e}))}}),c.a.createElement(O.a,{value:t.lang,label:"Lang",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{lang:e}))}}),c.a.createElement(O.a,{value:t.savingThrows,label:"Saving Throws",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{savingThrows:e}))}}),c.a.createElement(O.a,{value:t.skills,label:"Skills",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{skills:e}))}}),c.a.createElement(O.a,{value:t.dmgVulnerabilitie,label:"Vulnerabilities",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{dmgVulnerabilitie:e}))}}),c.a.createElement(O.a,{value:t.dmgResistance,label:"Resistances",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{dmgResistance:e}))}}),c.a.createElement(O.a,{value:t.dmgImmunities,label:"Immunities",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{dmgImmunities:e}))}}),c.a.createElement(O.a,{value:t.conImmunities,label:"Condition Immunities",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{conImmunities:e}))}}),c.a.createElement(O.a,{value:t.sources,label:"Sources",icon:m.J,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sources:e}))}}),c.a.createElement(O.a,{value:t.pic,label:"Picture",icon:m.I,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{pic:e}))}}),c.a.createElement(S.a,{value:t.ablt,label:"Abilites",icon:m.f,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{ablt:e}))}}),c.a.createElement(S.a,{value:t.sAblt,label:"Spezial Abilities",icon:m.f,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sAblt:e}))}}),c.a.createElement(S.a,{value:t.lAblt,label:"Legendary Abilities",icon:m.f,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{lAblt:e}))}})))},_s=d.b.div(bs()),xs=d.b.div(vs()),ws=d.b.div(gs(),(function(e){return e.theme.tile.color})),Es=n(41),ks=n(139);function Os(){var e=Object(l.a)([""]);return Os=function(){return e},e}function Ss(){var e=Object(l.a)(["\n  margin: 5px;\n  max-height: 30vh;\n  margin-left: auto;\n  margin-right: auto;\n"]);return Ss=function(){return e},e}function Cs(){var e=Object(l.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return Cs=function(){return e},e}function As(){var e=Object(l.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return As=function(){return e},e}function js(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return js=function(){return e},e}function Ps(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ",";\n  }\n"]);return Ps=function(){return e},e}function Ts(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  width: calc(100% - 6px);\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Ts=function(){return e},e}function Rs(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 5px 10px 7px 10px;\n  margin-left: 5px;\n  line-height: 30px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Rs=function(){return e},e}function Ls(){var e=Object(l.a)(["\n  height: auto;\n  padding: 10px;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  float: left;\n  text-align: center;\n  border-top-right-radius: 3px;\n  border-radius: 30px;\n  margin: 0px 5px 5px 5px;\n  background-color: ",";\n"]);return Ls=function(){return e},e}function Ms(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 5px 10px 7px 10px;\n  margin-left: 5px;\n  font-size: 12px;\n  line-height: 30px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Ms=function(){return e},e}function Is(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Is=function(){return e},e}function Ns(){var e=Object(l.a)(["\n  justify-content: flex-end;\n  flex: 1 1 300px;\n"]);return Ns=function(){return e},e}function Ds(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 auto;\n  max-width: 600px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return Ds=function(){return e},e}function Fs(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return Fs=function(){return e},e}var zs=function(e){var t=e.monster,n=Object(jn.a)(),r=Object(s.useState)(""),i=Object(o.a)(r,2),a=i[0],u=i[1],l=Object(s.useState)(!1),h=Object(o.a)(l,2),f=h[0],d=h[1];Object(s.useEffect)((function(){if(void 0!==n){var e={username:n.name+" (DnDTome)",embeds:[{author:{name:t.name,icon_url:t.pic},image:{url:t.pic}}]};u(JSON.stringify(e))}}),[t,n]);var p=Object(s.useCallback)((function(){return void 0===t||""===t.lAblt.trim()&&!t.sAblt.includes("Legendary")?"":"L"}),[t]),g=Object(s.useCallback)((function(){return void 0!==t?""===t.pic||null===t.pic?"":t.pic:""}),[t]),v=Object(s.useCallback)((function(){return void 0!==t?.125===t.cr?"\u215b":.25===t.cr?"\xbc":.5===t.cr?"\xbd":t.cr:""}),[t]),b=Object(s.useCallback)((function(e){return Math.floor((e-10)/2)}),[]),y=function(e){var n=b(t[e]);return""!==t.savingThrows&&t.savingThrows.replaceAll(" ","").split(",").forEach((function(t){t.includes(e)&&(n=parseInt(t.replaceAll(e,"").replaceAll("+","").trim()))})),n};return c.a.createElement(Bs,null,""!==g()?c.a.createElement(Hs,null,c.a.createElement(Qs,{pic:g()})):"",c.a.createElement(Us,null,c.a.createElement(Zs,null,t.type," ",""!==t.subtype.trim()?"("+t.subtype+")":""),c.a.createElement(Ws,null,c.a.createElement("b",null,p())),c.a.createElement(Gs,null,c.a.createElement("b",null,v())),c.a.createElement(qs,null,c.a.createElement("b",null,t.name)),c.a.createElement(Vs,null,c.a.createElement(ks.a,{title:"Str",value:t.str,rolledValue:y("str")}),c.a.createElement(ks.a,{title:"Dex",value:t.dex,rolledValue:y("dex")}),c.a.createElement(ks.a,{title:"Con",value:t.con,rolledValue:y("con")}),c.a.createElement(ks.a,{title:"Int",value:t.int,rolledValue:y("int")}),c.a.createElement(ks.a,{title:"Wis",value:t.wis,rolledValue:y("wis")}),c.a.createElement(ks.a,{title:"Cha",value:t.cha,rolledValue:y("cha")}),c.a.createElement(Ys,null,c.a.createElement(Js,{icon:m.Z}),t.ac),c.a.createElement(Ys,null,c.a.createElement(Nt.i,null),t.hp),c.a.createElement(Ys,null,c.a.createElement(Nt.k,null),t.size),c.a.createElement(Ys,null,c.a.createElement(Nt.a,null),t.alignment),c.a.createElement(Ys,null,c.a.createElement(Js,{icon:m.W}),t.speed),c.a.createElement(Ys,null,c.a.createElement(Es.c,null),t.senses),c.a.createElement(Ys,null,c.a.createElement(Es.b,null),t.lang),t.savingThrows&&c.a.createElement(Ys,null,t.savingThrows),t.skills&&c.a.createElement(Ys,null,c.a.createElement(Ks,null,"Skills:"),t.skills),t.dmgVulnerabilitie&&c.a.createElement(Ys,null,t.dmgVulnerabilitie),t.dmgResistance&&c.a.createElement(Ys,null,c.a.createElement(Ks,null,"Resistance:"),t.dmgResistance),t.dmgImmunities&&c.a.createElement(Ys,null,c.a.createElement(Ks,null,"Immunities:"),t.dmgImmunities),t.conImmunities&&c.a.createElement(Ys,null,c.a.createElement(Ks,null,"Immunities:"),t.conImmunities),c.a.createElement(Ys,null,c.a.createElement(Js,{icon:m.J}),t.sources)),void 0!==n&&""!==t.pic&&c.a.createElement(Vs,null,c.a.createElement(A.a,{style:{backgroundColor:"#7289da"},text:"Show ".concat(t.name," image"),icon:An.a,onClick:function(){return Object(Pn.b)(n,a)}})),c.a.createElement(Vs,null,!f&&c.a.createElement(A.a,{text:"Send ".concat(t.name),icon:m.P,onClick:function(){return d(!0)}}),!!f&&c.a.createElement(Dt.a,{data:t,mode:"THIS"}))),t.ablt&&c.a.createElement(Us,null,c.a.createElement(Xs,null,c.a.createElement(Ks,null,"Abilities:"),c.a.createElement(P.a,{text:t.ablt}))),t.sAblt&&c.a.createElement(Us,null,c.a.createElement(Xs,null,c.a.createElement(Ks,null,"Spezial Abilities:"),c.a.createElement(P.a,{text:t.sAblt}))),t.lAblt&&c.a.createElement(Us,null,c.a.createElement(Xs,null,c.a.createElement(Ks,null,"Legendary Abilities:"),c.a.createElement(P.a,{text:t.lAblt}))))},Bs=d.b.div(Fs()),Us=d.b.div(Ds(),(function(e){return e.theme.tile.color})),Hs=Object(d.b)(Us)(Ns()),qs=d.b.div(Is(),(function(e){return e.theme.tile.backgroundColor})),Ws=d.b.div(Ms(),(function(e){return e.theme.tile.backgroundColor})),Gs=d.b.div(Ls(),(function(e){return e.theme.tile.backgroundColor})),Zs=d.b.div(Rs(),(function(e){return e.theme.tile.backgroundColor})),Vs=d.b.div(Ts()),Ys=d.b.div(Ps(),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.main.highlight})),Xs=d.b.div(js(),(function(e){return e.theme.tile.backgroundColor})),Ks=d.b.span(As(),(function(e){return e.theme.tile.backgroundColorLink})),Js=Object(d.b)(g.a)(Cs(),(function(e){return e.theme.main.highlight})),Qs=function(e){var t=e.pic;return""!==t?c.a.createElement($s,{src:t}):c.a.createElement(ec,null)},$s=d.b.img(Ss()),ec=d.b.div(Os());function tc(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return tc=function(){return e},e}function nc(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return nc=function(){return e},e}var rc=function(e){var t=e.npc,n=e.onEdit;return c.a.createElement(ic,null,c.a.createElement(ac,null,c.a.createElement(O.a,{value:t.name,label:"Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(O.a,{value:t.pic,label:"Picture",icon:m.I,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{pic:e}))}}),c.a.createElement(O.a,{value:t.sources,label:"Sources",icon:m.J,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sources:e}))}}),c.a.createElement(S.a,{value:t.description,label:"Text",icon:m.f,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{description:e}))}}),c.a.createElement(S.a,{value:t.traits,label:"Traits",icon:m.f,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{traits:e}))}})))},ic=d.b.div(nc()),ac=d.b.div(tc(),(function(e){return e.theme.tile.color}));function oc(){var e=Object(l.a)([""]);return oc=function(){return e},e}function sc(){var e=Object(l.a)(["\n  margin: -10px 5px -10px -10px;\n  height: 47px;\n  width: 47px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  background-color: white;\n  overflow: hidden;\n"]);return sc=function(){return e},e}function cc(){var e=Object(l.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return cc=function(){return e},e}function uc(){var e=Object(l.a)(["\n  height: auto;\n  width: 100%;\n  margin: 2px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return uc=function(){return e},e}function lc(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return lc=function(){return e},e}function hc(){var e=Object(l.a)(["\n  height: 30px;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 50px 5px 5px 50px;\n  background-color: ",";\n"]);return hc=function(){return e},e}function fc(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return fc=function(){return e},e}function dc(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  max-width: 800px;\n  padding: 5px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return dc=function(){return e},e}function pc(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return pc=function(){return e},e}var mc=function(e){var t=e.npc,n=Object(s.useState)(!1),r=Object(o.a)(n,2),i=r[0],a=r[1],u=Object(s.useCallback)((function(){return void 0!==t?""===t.pic||null===t.pic?"":t.pic:""}),[t]);return c.a.createElement(gc,null,c.a.createElement(vc,null,""!==u()?c.a.createElement(yc,null,c.a.createElement(Ec,{pic:u()}),c.a.createElement("b",null,t.name)):c.a.createElement(bc,null,c.a.createElement("b",null,t.name)),c.a.createElement(_c,null,c.a.createElement(xc,null,c.a.createElement(P.a,{text:t.description})),c.a.createElement(xc,null,c.a.createElement(wc,null,"Traits: "),c.a.createElement(P.a,{text:t.traits}))),c.a.createElement(_c,null,!i&&c.a.createElement(A.a,{text:"Send ".concat(t.name),icon:m.P,onClick:function(){return a(!0)}}),!!i&&c.a.createElement(Dt.a,{data:t,mode:"THIS"}))))},gc=d.b.div(pc()),vc=d.b.div(dc(),(function(e){return e.theme.tile.color})),bc=d.b.div(fc(),(function(e){return e.theme.tile.backgroundColor})),yc=d.b.div(hc(),(function(e){return e.theme.tile.backgroundColor})),_c=d.b.div(lc()),xc=d.b.div(uc(),(function(e){return e.theme.tile.backgroundColor})),wc=d.b.span(cc(),(function(e){return e.theme.tile.backgroundColorLink})),Ec=function(e){var t=e.pic,n={backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==t?c.a.createElement(kc,{style:n}):c.a.createElement(Oc,null)},kc=d.b.div(sc(),(function(e){return e.theme.main.highlight})),Oc=d.b.div(oc());function Sc(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Sc=function(){return e},e}function Cc(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return Cc=function(){return e},e}var Ac=function(e){var t=e.quest,n=e.onEdit;return c.a.createElement(jc,null,c.a.createElement(Pc,null,c.a.createElement(O.a,{value:t.name,label:"Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(O.a,{value:t.pic,label:"Picture",icon:m.I,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{pic:e}))}}),c.a.createElement(O.a,{value:t.sources,label:"Sources",icon:m.J,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sources:e}))}}),c.a.createElement(S.a,{value:t.description,label:"Text",icon:m.f,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{description:e}))}}),c.a.createElement(S.a,{value:t.rewards,label:"Rewards",height:"50px",icon:m.f,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{rewards:e}))}}),c.a.createElement(S.a,{value:t.followQuest,label:"Followup",height:"30px",icon:m.f,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{followQuest:e}))}})))},jc=d.b.div(Cc()),Pc=d.b.div(Sc(),(function(e){return e.theme.tile.color}));function Tc(){var e=Object(l.a)([""]);return Tc=function(){return e},e}function Rc(){var e=Object(l.a)(["\n  margin: -10px 5px -10px -10px;\n  height: 47px;\n  width: 47px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  background-color: white;\n  overflow: hidden;\n"]);return Rc=function(){return e},e}function Lc(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Lc=function(){return e},e}function Mc(){var e=Object(l.a)(["\n  height: auto;\n  width: 100%;\n  margin: 2px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Mc=function(){return e},e}function Ic(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Ic=function(){return e},e}function Nc(){var e=Object(l.a)(["\n  height: 30px;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 50px 5px 5px 50px;\n  background-color: ",";\n"]);return Nc=function(){return e},e}function Dc(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Dc=function(){return e},e}function Fc(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  max-width: 800px;\n  padding: 5px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return Fc=function(){return e},e}function zc(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return zc=function(){return e},e}var Bc=function(e){var t=e.quest,n=Object(jn.a)(),r=Object(s.useState)(""),i=Object(o.a)(r,2),a=i[0],u=i[1],l=Object(s.useState)(!1),h=Object(o.a)(l,2),f=h[0],d=h[1];Object(s.useEffect)((function(){if(void 0!==n){var e={username:n.name+" (DnDTome)",embeds:[{author:{name:t.name,icon_url:t.pic},fields:[{name:"Descritption",value:t.description?Object(Pn.a)(t.description):"-"},{name:"Reward",value:t.rewards?Object(Pn.a)(t.rewards):"-"}]}]};u(JSON.stringify(e))}}),[t,n]);var p=Object(s.useCallback)((function(){return void 0!==t?""===t.pic||null===t.pic?"":t.pic:""}),[t]);return c.a.createElement(Uc,null,c.a.createElement(Hc,null,""!==p()?c.a.createElement(Wc,null,c.a.createElement(Yc,{pic:p()}),c.a.createElement("b",null,t.name)):c.a.createElement(qc,null,c.a.createElement("b",null,t.name)),c.a.createElement(Gc,null,c.a.createElement(Zc,null,c.a.createElement(P.a,{text:t.description})),c.a.createElement(Zc,null,c.a.createElement(P.a,{text:t.rewards})),c.a.createElement(Vc,null,c.a.createElement(P.a,{text:t.followQuest}))),c.a.createElement(Gc,null,void 0!==n&&c.a.createElement(A.a,{style:{backgroundColor:"#7289da"},text:"Show ".concat(t.name),icon:An.a,onClick:function(){return Object(Pn.b)(n,a)}}),!f&&c.a.createElement(A.a,{text:"Send ".concat(t.name),icon:m.P,onClick:function(){return d(!0)}}),!!f&&c.a.createElement(Dt.a,{data:t,mode:"THIS"}))))},Uc=d.b.div(zc()),Hc=d.b.div(Fc(),(function(e){return e.theme.tile.color})),qc=d.b.div(Dc(),(function(e){return e.theme.tile.backgroundColor})),Wc=d.b.div(Nc(),(function(e){return e.theme.tile.backgroundColor})),Gc=d.b.div(Ic()),Zc=d.b.div(Mc(),(function(e){return e.theme.tile.backgroundColor})),Vc=d.b.div(Lc(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),Yc=function(e){var t=e.pic,n={backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==t?c.a.createElement(Xc,{style:n}):c.a.createElement(Kc,null)},Xc=d.b.div(Rc(),(function(e){return e.theme.main.highlight})),Kc=d.b.div(Tc());function Jc(){var e=Object(l.a)(["\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 4 4 auto;\n"]);return Jc=function(){return e},e}function Qc(){var e=Object(l.a)(["\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 1 1 auto;\n"]);return Qc=function(){return e},e}function $c(){var e=Object(l.a)(["\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 3 3 auto;\n"]);return $c=function(){return e},e}function eu(){var e=Object(l.a)(["\n  flex: 1 1 600px;\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return eu=function(){return e},e}function tu(){var e=Object(l.a)([""]);return tu=function(){return e},e}function nu(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return nu=function(){return e},e}function ru(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return ru=function(){return e},e}var iu=function(e){var t=e.race,n=e.onEdit,r=function(e,r,i){var a=t.traits.map((function(t){return t===e?Object(f.a)(Object(f.a)({},t),{},Object(h.a)({},r,i)):t}));n(Object(f.a)(Object(f.a)({},t),{},{traits:a}))};return c.a.createElement(au,null,c.a.createElement(ou,null,c.a.createElement(O.a,{value:t.name,label:"Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(O.a,{value:t.abilityScores,label:"Ability Scores",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{abilityScores:e}))}}),c.a.createElement(at,{value:t.age,label:"Age",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{age:e}))}}),c.a.createElement(at,{value:t.alignment,label:"Alignment",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{alignment:e}))}}),c.a.createElement(at,{value:t.size,label:"Size",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{size:e}))}}),c.a.createElement(at,{value:t.speed,label:"Speed",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{speed:e}))}}),c.a.createElement(at,{value:t.lang,label:"Language",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{lang:e}))}}),c.a.createElement(O.a,{value:t.pic,label:"Picture",icon:m.I,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{pic:e}))}}),c.a.createElement(O.a,{value:t.sources,label:"Sources",icon:m.J,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sources:e}))}})),c.a.createElement(su,null,t.traits.map((function(e,i){return c.a.createElement(cu,{key:i},c.a.createElement(uu,{value:e.name,label:"Name",onChange:function(t){return r(e,"name",t)}}),c.a.createElement(lu,{value:e.level,label:"Level",onChange:function(t){return r(e,"level",t)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){var r=t.traits,i=r.indexOf(e);-1!==i&&(r.splice(i,1),n(Object(f.a)(Object(f.a)({},t),{},{traits:r})))}(e)}}),c.a.createElement(hu,{value:e.text,label:"Text",onChange:function(t){return r(e,"text",t)}}))})),c.a.createElement(cu,null,c.a.createElement(b.a,{icon:m.R,onClick:function(){n(Object(f.a)(Object(f.a)({},t),{},{traits:[].concat(Object(ee.a)(t.traits),[{name:"New Trait",level:1,text:""}])}))}}))))},au=d.b.div(ru()),ou=d.b.div(nu(),(function(e){return e.theme.tile.color})),su=Object(d.b)(ou)(tu()),cu=d.b.div(eu()),uu=Object(d.b)(O.a)($c(),(function(e){return e.theme.tile.backgroundColor})),lu=Object(d.b)(Ge.a)(Qc(),(function(e){return e.theme.tile.backgroundColor})),hu=Object(d.b)(at)(Jc(),(function(e){return e.theme.tile.backgroundColor})),fu=n(111);function du(){var e=Object(l.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  color: ",";\n  font-size: 10px;\n  padding: 0px 5px 0px 5px;\n  margin: 5px;\n  border: none;\n  box-sizing: content-box;\n  height: 28px;\n  line-height: 28px;\n  float: right;\n  cursor: pointer;\n"]);return du=function(){return e},e}function pu(){var e=Object(l.a)([""]);return pu=function(){return e},e}function mu(){var e=Object(l.a)(["\n  margin: 5px;\n  max-height: 60vh;\n"]);return mu=function(){return e},e}function gu(){var e=Object(l.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return gu=function(){return e},e}function vu(){var e=Object(l.a)(["\n  font-size: 16px;\n  margin: 5px;\n  padding: 5px;\n  cursor: pointer;\n"]);return vu=function(){return e},e}function bu(){var e=Object(l.a)(["\n  display: inline-block;\n  background-color: ",";\n  border-radius: 5px;\n  text-decoration: none;\n  color: ",";\n  font-size: 10px;\n  padding: 0px 5px 0px 5px;\n  cursor: pointer;\n"]);return bu=function(){return e},e}function yu(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 24px);\n  margin: 2px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return yu=function(){return e},e}function _u(){var e=Object(l.a)(["\n  flex: 4 4 auto;\n"]);return _u=function(){return e},e}function xu(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n"]);return xu=function(){return e},e}function wu(){var e=Object(l.a)(["\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 3 3 auto;\n"]);return wu=function(){return e},e}function Eu(){var e=Object(l.a)([""]);return Eu=function(){return e},e}function ku(){var e=Object(l.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return ku=function(){return e},e}function Ou(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ",";\n  }\n"]);return Ou=function(){return e},e}function Su(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Su=function(){return e},e}function Cu(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Cu=function(){return e},e}function Au(){var e=Object(l.a)(["\n  justify-content: flex-end;\n  flex: 1 1 300px;\n"]);return Au=function(){return e},e}function ju(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 auto;\n  max-width: 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return ju=function(){return e},e}function Pu(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return Pu=function(){return e},e}var Tu=function(e){var t=e.race,n=Object(s.useState)(!1),r=Object(o.a)(n,2),i=r[0],a=r[1],l=Object(s.useState)([]),h=Object(o.a)(l,2),f=h[0],d=h[1],v=Object(u.f)();Object(s.useEffect)((function(){Object(p.h)("subraces",[{fieldName:"type",value:t.name,sort:0}],(function(e){d(e)}))}),[t]);var b=Object(s.useCallback)((function(){return void 0!==t?""===t.pic||null===t.pic?"":t.pic:""}),[t]);return c.a.createElement(Ru,null,""!==b()?c.a.createElement(Mu,null,c.a.createElement(Vu,{pic:b()})):"",c.a.createElement(Lu,null,c.a.createElement(Iu,null,c.a.createElement("b",null,t.name)),c.a.createElement(Nu,null,c.a.createElement(Du,null,c.a.createElement(Nt.p,null),t.abilityScores),c.a.createElement(qu,null,c.a.createElement(Fu,null,"Age:"),c.a.createElement(P.a,{text:t.age})),c.a.createElement(qu,null,c.a.createElement(Fu,null,"Alignment:"),c.a.createElement(P.a,{text:t.alignment})),c.a.createElement(qu,null,c.a.createElement(Fu,null,"Size:"),c.a.createElement(P.a,{text:t.size})),c.a.createElement(qu,null,c.a.createElement(Fu,null,"Speed:"),c.a.createElement(P.a,{text:t.speed})),c.a.createElement(qu,null,c.a.createElement(Fu,null,"Language:"),c.a.createElement(P.a,{text:t.lang})),c.a.createElement(qu,null,c.a.createElement(Fu,null,"Subraces:"),0!==f.length&&f.map((function(e,t){var n="/subrace-detail/id/"+e.id;return c.a.createElement(Gu,{key:t,onClick:function(){return v.push(n)}},e.name)})),c.a.createElement(Ku,{onClick:function(){return function(){var e=new fu.a;delete e.id,e.type=t.name,Object(p.b)("subraces",e,(function(e){v.push("/subrace-detail/id/".concat(e))}))}()}},c.a.createElement(g.a,{icon:m.S}))),c.a.createElement(Du,null,c.a.createElement(Zu,{icon:m.J}),t.sources)),c.a.createElement(Nu,null,!i&&c.a.createElement(A.a,{text:"Send ".concat(t.name),icon:m.P,onClick:function(){return a(!0)}}),!!i&&c.a.createElement(Dt.a,{data:t,mode:"THIS"}))),c.a.createElement(Lu,null,t.traits.map((function(e,t){return c.a.createElement(zu,null,c.a.createElement(Bu,null,e.name),c.a.createElement(Uu,null,e.level),c.a.createElement(Hu,null,c.a.createElement(P.a,{text:e.text})))}))))},Ru=d.b.div(Pu()),Lu=d.b.div(ju(),(function(e){return e.theme.tile.color})),Mu=Object(d.b)(Lu)(Au()),Iu=d.b.div(Cu(),(function(e){return e.theme.tile.backgroundColor})),Nu=d.b.div(Su()),Du=d.b.div(Ou(),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.main.highlight})),Fu=d.b.span(ku(),(function(e){return e.theme.tile.backgroundColorLink})),zu=Object(d.b)(Nu)(Eu()),Bu=d.b.div(wu(),(function(e){return e.theme.tile.backgroundColor})),Uu=Object(d.b)(Bu)(xu()),Hu=Object(d.b)(Bu)(_u()),qu=d.b.div(yu(),(function(e){return e.theme.tile.backgroundColor})),Wu=d.b.span(bu(),(function(e){return e.theme.tile.backgroundColorLink}),(function(e){return e.theme.tile.backgroundColor})),Gu=Object(d.b)(Wu)(vu()),Zu=Object(d.b)(g.a)(gu(),(function(e){return e.theme.main.highlight})),Vu=function(e){var t=e.pic;return""!==t?c.a.createElement(Yu,{src:t}):c.a.createElement(Xu,null)},Yu=d.b.img(mu()),Xu=d.b.div(pu()),Ku=d.b.button(du(),(function(e){return e.theme.tile.backgroundColorLink}),(function(e){return e.theme.tile.backgroundColor}));function Ju(){var e=Object(l.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 38px;\n  flex: 1 1 20px;\n  max-width: 20px;\n  text-algin: center;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n"]);return Ju=function(){return e},e}function Qu(){var e=Object(l.a)(["\n  flex: 1 1 600px;\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Qu=function(){return e},e}function $u(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return $u=function(){return e},e}function el(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return el=function(){return e},e}var tl=function(e){var t=e.randomTable,n=e.onEdit,r=function(e,r,i){var a=t.rows;a[i]=Object(f.a)(Object(f.a)({},a[i]),{},Object(h.a)({},e,r)),n(Object(f.a)(Object(f.a)({},t),{},{rows:a}))};return c.a.createElement(nl,null,c.a.createElement(rl,null,c.a.createElement(O.a,{value:t.name,label:"Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(O.a,{value:t.header,label:"Header",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{header:e}))},placeholder:"Items| Description|..."})),c.a.createElement(rl,null,t.rows.map((function(e,i){return c.a.createElement(il,{key:i},c.a.createElement(al,null,i),c.a.createElement(O.a,{value:e.value,label:"Row values "+i,onChange:function(e){return r("value",e,i)},placeholder:"".concat(i+1," or 0-5")}),c.a.createElement(O.a,{value:e.cells,label:"Row "+i,onChange:function(e){return r("cells",e,i)},placeholder:"Item ".concat(i,"| Description ").concat(i,"|...")}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){var r=t.rows;-1!==e&&(r.splice(e,1),n(Object(f.a)(Object(f.a)({},t),{},{rows:r})))}(i)}}))})),c.a.createElement(il,null,c.a.createElement(b.a,{icon:m.R,onClick:function(){n(Object(f.a)(Object(f.a)({},t),{},{rows:[].concat(Object(ee.a)(t.rows),[{value:"",cells:""}])}))}}))))},nl=d.b.div(el()),rl=d.b.div($u(),(function(e){return e.theme.tile.color})),il=d.b.div(Qu()),al=d.b.div(Ju(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}));function ol(){var e=Object(l.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ",";\n"]);return ol=function(){return e},e}function sl(){var e=Object(l.a)(["\n  background-color: ",";\n  color: ",";\n  padding: 10px;\n  margin: 5px;\n  border-radius: 5px;\n  box-sizing: content-box;\n  text-align: center;\n\n  height: ",";\n  line-height: ",";s\n"]);return sl=function(){return e},e}function cl(){var e=Object(l.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: 5px;\n  text-align: left;\n"]);return cl=function(){return e},e}function ul(){var e=Object(l.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: 10px;\n"]);return ul=function(){return e},e}function ll(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: ",";\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return ll=function(){return e},e}function hl(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n  max-width: calc(100% - 20px);\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return hl=function(){return e},e}function fl(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return fl=function(){return e},e}var dl=function(e){var t=e.randomTable,n=Object(s.useState)(-1),r=Object(o.a)(n,2),i=r[0],a=r[1];return c.a.createElement(pl,null,c.a.createElement(gl,null,c.a.createElement("b",null,t.name)),c.a.createElement(ml,null,c.a.createElement(A.a,{text:"Roll",icon:m.q,onClick:function(){return function(){var e=10,n=t.rows[t.rows.length-1].value;if(n.includes("-"))e=+n.trim().split("-")[1];else if(n.includes("\u2013")){e=+n.trim().split("\u2013")[1]}else e=+n;var r=Math.round(1+Math.random()*(e-1));a(r)}()}}),i>=0&&c.a.createElement(yl,null,i," ",c.a.createElement(_l,{icon:m.d}),t.rows.map((function(e){if(e.value.includes("-")){var t=e.value.trim().split("-"),n=+t[0],r=+t[1];if(n<=i&&i<=r)return c.a.createElement(P.a,{text:e.cells})}else if(e.value.includes("\u2013")){var a=e.value.trim().split("\u2013"),o=+a[0],s=+a[1];if(o<=i&&i<=s)return c.a.createElement(P.a,{text:e.cells})}else{if(+e.value===i)return c.a.createElement(P.a,{text:e.cells})}return c.a.createElement(c.a.Fragment,null)})))),c.a.createElement(ml,null,c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement(vl,null,"Number"),t.header&&t.header.split("|").map((function(e,t){return c.a.createElement(vl,{key:t},e)}))),t.rows&&t.rows.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement(bl,{key:t},e.value),e.cells.split("|").map((function(e,t){return c.a.createElement(bl,{key:t},c.a.createElement(P.a,{text:e}))})))}))))))},pl=d.b.div(fl()),ml=d.b.div(hl(),(function(e){return e.theme.tile.color})),gl=d.b.div(ll(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),vl=d.b.th(ul(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color})),bl=d.b.td(cl(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color})),yl=d.b.div(sl(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.height})),_l=Object(d.b)(g.a)(ol(),(function(e){return e.theme.main.highlight}));function xl(){var e=Object(l.a)(["\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 4 4 auto;\n"]);return xl=function(){return e},e}function wl(){var e=Object(l.a)(["\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 1 1 auto;\n"]);return wl=function(){return e},e}function El(){var e=Object(l.a)(["\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 3 3 auto;\n"]);return El=function(){return e},e}function kl(){var e=Object(l.a)(["\n  flex: 1 1 600px;\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return kl=function(){return e},e}function Ol(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Ol=function(){return e},e}function Sl(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return Sl=function(){return e},e}var Cl=function(e){var t=e.selection,n=e.onEdit,r=function(e,r,i){var a=t.selectionOptions.map((function(t){return t===e?Object(f.a)(Object(f.a)({},t),{},Object(h.a)({},r,i)):t}));n(Object(f.a)(Object(f.a)({},t),{},{selectionOptions:a}))},i=function(e){var r=t.selectionOptions,i=r.indexOf(e);-1!==i&&(r.splice(i,1),n(Object(f.a)(Object(f.a)({},t),{},{selectionOptions:r})))};return c.a.createElement(Al,null,c.a.createElement(jl,null,c.a.createElement(O.a,{value:t.name,label:"Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),t.selectionOptions.map((function(e,t){return c.a.createElement(Pl,{key:t},c.a.createElement(Tl,{value:e.entityName,label:"Name",onChange:function(t){return r(e,"entityName",t)}}),c.a.createElement(Rl,{value:e.level,label:"Level",onChange:function(t){return r(e,"level",t)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return i(e)}}),c.a.createElement(Ll,{value:e.entityPrerequsite,label:"Prerequsite",onChange:function(t){return r(e,"entityPrerequsite",t)}}),c.a.createElement(Ll,{value:e.entityText,label:"Text",onChange:function(t){return r(e,"entityText",t)}}))})),c.a.createElement(Pl,null,c.a.createElement(b.a,{icon:m.R,onClick:function(){n(Object(f.a)(Object(f.a)({},t),{},{selectionOptions:[].concat(Object(ee.a)(t.selectionOptions),[{entityName:"",entityPrerequsite:"",entityText:"",level:0}])}))}}))))},Al=d.b.div(Sl()),jl=d.b.div(Ol(),(function(e){return e.theme.tile.color})),Pl=d.b.div(kl()),Tl=Object(d.b)(O.a)(El(),(function(e){return e.theme.tile.backgroundColor})),Rl=Object(d.b)(Ge.a)(wl(),(function(e){return e.theme.tile.backgroundColor})),Ll=Object(d.b)(at)(xl(),(function(e){return e.theme.tile.backgroundColor}));function Ml(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 24px);\n  margin: 5px 2px 5px 2px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Ml=function(){return e},e}function Il(){var e=Object(l.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return Il=function(){return e},e}function Nl(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Nl=function(){return e},e}function Dl(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Dl=function(){return e},e}function Fl(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Fl=function(){return e},e}function zl(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  max-width: 800px;\n  padding: 5px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return zl=function(){return e},e}function Bl(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return Bl=function(){return e},e}var Ul=function(e){var t=e.selection,n=Object(s.useState)(!1),r=Object(o.a)(n,2),i=r[0],a=r[1];return c.a.createElement(Hl,null,c.a.createElement(ql,null,c.a.createElement(Wl,null,c.a.createElement("b",null,t.name)),c.a.createElement(Gl,null,!i&&c.a.createElement(A.a,{text:"Send ".concat(t.name),icon:m.P,onClick:function(){return a(!0)}}),!!i&&c.a.createElement(Dt.a,{data:t,mode:"THIS"}))),t.selectionOptions.map((function(e,t){return c.a.createElement(ql,{key:t},c.a.createElement(Gl,null,c.a.createElement(Zl,null,c.a.createElement(Vl,null,"Name:"),e.entityName),c.a.createElement(Zl,null,c.a.createElement(Vl,null,"Level:"),e.level),""!==e.entityPrerequsite&&c.a.createElement(Zl,null,c.a.createElement(Vl,null,"Prerequisite:"),e.entityPrerequsite),c.a.createElement(Yl,null,c.a.createElement(P.a,{text:e.entityText}))))})))},Hl=d.b.div(Bl()),ql=d.b.div(zl(),(function(e){return e.theme.tile.color})),Wl=d.b.div(Fl(),(function(e){return e.theme.tile.backgroundColor})),Gl=d.b.div(Dl()),Zl=d.b.div(Nl(),(function(e){return e.theme.tile.backgroundColor})),Vl=d.b.span(Il(),(function(e){return e.theme.tile.backgroundColorLink})),Yl=d.b.div(Ml(),(function(e){return e.theme.tile.backgroundColor}));function Xl(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Xl=function(){return e},e}function Kl(){var e=Object(l.a)(["\n  flex: 2 1 auto;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n"]);return Kl=function(){return e},e}function Jl(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return Jl=function(){return e},e}var Ql=function(e){var t=e.spell,n=e.onEdit;return c.a.createElement($l,null,c.a.createElement(th,null,c.a.createElement(O.a,{value:t.name,label:"Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(O.a,{value:t.school,label:"School",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{school:e}))}}),c.a.createElement(eh,null,c.a.createElement(Ge.a,{value:t.level,label:"Level",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{level:e}))}}),c.a.createElement(qe.a,{value:!!t.ritual,label:"Ritual",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{ritual:e?1:0}))}})),c.a.createElement(O.a,{value:t.time,label:"Time",icon:m.E,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{time:e}))}}),c.a.createElement(O.a,{value:t.range,label:"Range",icon:m.T,transform:{rotate:42},onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{range:e}))}}),c.a.createElement(O.a,{value:t.duration,label:"Duration",icon:m.G,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{duration:e}))}}),c.a.createElement(O.a,{value:t.components,label:"Comp.",icon:m.O,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{components:e}))}}),c.a.createElement(O.a,{value:t.classes,label:"Classes",icon:m.kb,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{classes:e}))}}),c.a.createElement(O.a,{value:t.sources,label:"Sources",icon:m.J,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sources:e}))}}),c.a.createElement(O.a,{value:t.pic,label:"Picture",icon:m.I,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{pic:e}))}}),c.a.createElement(S.a,{value:t.text,label:"Text",icon:m.f,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{text:e}))}})))},$l=d.b.div(Jl()),eh=d.b.div(Kl()),th=d.b.div(Xl(),(function(e){return e.theme.tile.color}));function nh(){var e=Object(l.a)([""]);return nh=function(){return e},e}function rh(){var e=Object(l.a)(["\n  margin: -10px 5px -10px -10px;\n  height: 47px;\n  width: 47px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  background-color: white;\n  overflow: hidden;\n"]);return rh=function(){return e},e}function ih(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 5px 10px 7px 10px;\n  margin-left: 5px;\n  font-size: 12px;\n  line-height: 30px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return ih=function(){return e},e}function ah(){var e=Object(l.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return ah=function(){return e},e}function oh(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return oh=function(){return e},e}function sh(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return sh=function(){return e},e}function ch(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return ch=function(){return e},e}function uh(){var e=Object(l.a)(["\n  height: 30px;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 50px 5px 5px 50px;\n  background-color: ",";\n"]);return uh=function(){return e},e}function lh(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return lh=function(){return e},e}function hh(){var e=Object(l.a)(["\n  height: auto;\n  padding: 10px;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  float: left;\n  text-align: center;\n  border-top-right-radius: 3px;\n  border-radius: 30px;\n  margin: 0px 5px 5px 5px;\n  background-color: ",";\n"]);return hh=function(){return e},e}function fh(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 5px 10px 7px 10px;\n  line-height: 30px;\n  border-radius: 5px;\n  background-color: ",";\n  color: ",";\n"]);return fh=function(){return e},e}function dh(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  max-width: 800px;\n  padding: 5px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return dh=function(){return e},e}function ph(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return ph=function(){return e},e}var mh=function(e){var t=e.spell,n=Object(jn.a)(),r=Object(s.useState)(""),i=Object(o.a)(r,2),a=i[0],u=i[1],l=Object(s.useState)(!1),h=Object(o.a)(l,2),f=h[0],d=h[1];Object(s.useEffect)((function(){if(void 0!==n){var e=Object(Pn.a)(t.text);e.length>=1024&&(e=e.substring(0,1021)+"...");var r={username:n.name+" (DnDTome)",embeds:[{author:{name:t.name,icon_url:t.pic},fields:[{name:"Level",value:t.level?t.level:"-",inline:!0},{name:"School",value:t.school?t.school:"-",inline:!0},{name:"Range",value:t.range?t.range:"-",inline:!0},{name:"Duration",value:t.duration?t.duration:"-",inline:!0},{name:"Time",value:t.time?t.time:"-",inline:!0},{name:"Text",value:e}]}]};u(JSON.stringify(r))}}),[t,n]);var p=Object(s.useCallback)((function(){return void 0!==t?0===t.level?"C":t.level:""}),[t]),g=Object(s.useCallback)((function(){return void 0!==t&&1===t.ritual?c.a.createElement("div",{className:"icon"},"R"):""}),[t]),v=Object(s.useCallback)((function(){if(void 0!==t&&t.duration.toLowerCase().includes("concentration"))return c.a.createElement("div",{className:"icon"},"C");return""}),[t]),b=Object(s.useCallback)((function(){return void 0!==t?""===t.pic||null===t.pic?"":t.pic:""}),[t]);return c.a.createElement(gh,null,c.a.createElement(vh,null,c.a.createElement(bh,{school:t.school},t.school),c.a.createElement(Sh,null,c.a.createElement("b",null,v())),c.a.createElement(Sh,null,c.a.createElement("b",null,g())),c.a.createElement(yh,null,c.a.createElement("b",null,p())),""!==b()?c.a.createElement(xh,null,c.a.createElement(Ch,{pic:b()}),c.a.createElement("b",null,t.name)):c.a.createElement(_h,null,c.a.createElement("b",null,t.name)),c.a.createElement(wh,null,c.a.createElement(Eh,null,c.a.createElement(Oh,{icon:m.E}),t.time),c.a.createElement(Eh,null,c.a.createElement(Oh,{icon:m.G}),t.duration),c.a.createElement(Eh,null,c.a.createElement(Oh,{icon:m.T,transform:{rotate:42}}),t.range),c.a.createElement(Eh,null,c.a.createElement(Oh,{icon:m.O}),t.components),c.a.createElement(Eh,null,c.a.createElement(Oh,{icon:m.kb}),t.classes),c.a.createElement(Eh,null,c.a.createElement(Oh,{icon:m.J}),t.sources)),c.a.createElement(kh,null,c.a.createElement(P.a,{text:t.text})),c.a.createElement(wh,null,void 0!==n&&c.a.createElement(A.a,{style:{backgroundColor:"#7289da"},text:"Cast ".concat(t.name),icon:An.a,onClick:function(){return Object(Pn.b)(n,a)}}),!f&&c.a.createElement(A.a,{text:"Send ".concat(t.name),icon:m.P,onClick:function(){return d(!0)}}),!!f&&c.a.createElement(Dt.a,{data:t,mode:"THIS"}))))},gh=d.b.div(ph()),vh=d.b.div(dh(),(function(e){return e.theme.tile.color})),bh=d.b.div(fh(),(function(e){return e.theme.tile.backgroundColor}),(function(e){return"Necromancy"===e.school?"#bef28e":"Conjuration"===e.school?"#fce97a":"Evocation"===e.school?"#db5740":"Divination"===e.school?"#9ebed2":"Enchantment"===e.school?"#ce90ca":"Transmutation"===e.school?"#e19c60":"Abjuration"===e.school?"#278ae4":"Illusion"===e.school?"#8b42f9":"white"})),yh=d.b.div(hh(),(function(e){return e.theme.tile.backgroundColor})),_h=d.b.div(lh(),(function(e){return e.theme.tile.backgroundColor})),xh=d.b.div(uh(),(function(e){return e.theme.tile.backgroundColor})),wh=d.b.div(ch()),Eh=d.b.div(sh(),(function(e){return e.theme.tile.backgroundColor})),kh=d.b.div(oh(),(function(e){return e.theme.tile.backgroundColor})),Oh=Object(d.b)(g.a)(ah(),(function(e){return e.theme.main.highlight})),Sh=d.b.div(ih(),(function(e){return e.theme.tile.backgroundColor})),Ch=function(e){var t=e.pic,n={backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==t?c.a.createElement(Ah,{style:n}):c.a.createElement(jh,null)},Ah=d.b.div(rh(),(function(e){return e.theme.main.highlight})),jh=d.b.div(nh());function Ph(){var e=Object(l.a)([""]);return Ph=function(){return e},e}function Th(){var e=Object(l.a)([""]);return Th=function(){return e},e}function Rh(){var e=Object(l.a)([""]);return Rh=function(){return e},e}function Lh(){var e=Object(l.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  flex: 1 1 600px;\n  border-top: none;\n  border-bottom: 2px solid ",";\n\n  &:last-child {\n    border-bottom: none;\n  }\n"]);return Lh=function(){return e},e}function Mh(){var e=Object(l.a)([""]);return Mh=function(){return e},e}function Ih(){var e=Object(l.a)([""]);return Ih=function(){return e},e}function Nh(){var e=Object(l.a)([""]);return Nh=function(){return e},e}function Dh(){var e=Object(l.a)([""]);return Dh=function(){return e},e}function Fh(){var e=Object(l.a)(["\n  flex: 1 1 600px;\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  margin-bottom: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n\n  label {\n    margin: 2px;\n  }\n"]);return Fh=function(){return e},e}function zh(){var e=Object(l.a)([""]);return zh=function(){return e},e}function Bh(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return Bh=function(){return e},e}function Uh(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Uh=function(){return e},e}var Hh=function(e){var t=e.subclasse,n=e.onEdit,r=Object(s.useState)([]),i=Object(o.a)(r,2),a=i[0],u=i[1];Object(s.useEffect)((function(){Object(p.g)("selections",(function(e){var t=e.map((function(e){return{value:e.name,label:e.name}}));u(t)}))}),[]);var l=function(e,r,i,a){var o=t.features.map((function(t){if(t===e&&void 0!==t.bonis){var n=t.bonis.map((function(e){return e===r?Object(f.a)(Object(f.a)({},e),{},Object(h.a)({},i,a)):e}));return Object(f.a)(Object(f.a)({},t),{},{bonis:n})}return t}));n(Object(f.a)(Object(f.a)({},t),{},{features:o}))},d=function(e,r,i,a){var o=t.features.map((function(t){if(t===e&&void 0!==t.features){var n=t.features.map((function(e){return e===r?Object(f.a)(Object(f.a)({},e),{},Object(h.a)({},i,a)):e}));return Object(f.a)(Object(f.a)({},t),{},{features:n})}return t}));n(Object(f.a)(Object(f.a)({},t),{},{features:o}))};return c.a.createElement(qh,null,c.a.createElement(Wh,null,c.a.createElement(O.a,{value:t.name,label:"Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(O.a,{value:t.type,label:"Class",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{type:e}))}}),c.a.createElement(O.a,{value:t.sources,label:"Sources",icon:m.J,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sources:e}))}})),t.features.map((function(e,r){return c.a.createElement(Gh,{key:r},c.a.createElement(Zh,null,c.a.createElement(Yh,{value:e.level,label:"Level",onChange:function(r){return function(e,r,i){var a=t.features.map((function(t){return t===e?Object(f.a)(Object(f.a)({},t),{},Object(h.a)({},r,i)):t}));n(Object(f.a)(Object(f.a)({},t),{},{features:a}))}(e,"level",r)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){var r=t.features,i=r.indexOf(e);-1!==i&&(r.splice(i,1),n(Object(f.a)(Object(f.a)({},t),{},{features:r})))}(e)}}),c.a.createElement(Kh,{values:e.spellslots?e.spellslots:[],label:"Spellslots",onChange:function(r){return function(e,r){var i=t.features.map((function(t){return t===e&&void 0!==t.spellslots?Object(f.a)(Object(f.a)({},t),{},{spellslots:r}):t}));n(Object(f.a)(Object(f.a)({},t),{},{features:i}))}(e,r)}}),c.a.createElement(b.a,{icon:m.N,onClick:function(){return function(e){var r=t.features.map((function(t){return void 0!==t.spellslots&&t===e?Object(f.a)(Object(f.a)({},t),{},{spellslots:Object(ee.a)(t.spellslots).slice(0,t.spellslots.length-1)}):t}));n(Object(f.a)(Object(f.a)({},t),{},{features:r}))}(e)}}),c.a.createElement(b.a,{icon:m.R,onClick:function(){return function(e){var r=t.features.map((function(t){return void 0!==t.spellslots&&t===e?Object(f.a)(Object(f.a)({},t),{},{spellslots:[].concat(Object(ee.a)(t.spellslots),[0])}):t}));n(Object(f.a)(Object(f.a)({},t),{},{features:r}))}(e)}}),e.bonis&&e.bonis.map((function(r,i){return c.a.createElement($h,{key:i},c.a.createElement(ef,{value:r.name,label:"Boni",onChange:function(t){return l(e,r,"name",t)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){var r=t.features.map((function(t){var n=t.bonis;if(void 0!==n){var r=n.indexOf(e);return-1!==r&&n.splice(r,1),Object(f.a)(Object(f.a)({},t),{},{bonis:n})}return t}));n(Object(f.a)(Object(f.a)({},t),{},{features:r}))}(r)}}),c.a.createElement(Vh,{value:r.value,label:"Boni Value",onChange:function(t){return l(e,r,"value",t)}}))}))),c.a.createElement(Zh,null,c.a.createElement(A.a,{text:"Add new Boni",icon:m.R,onClick:function(){return function(e){var r=t.features.map((function(t){if(void 0!==t.bonis&&t===e){return Object(f.a)(Object(f.a)({},t),{},{bonis:[].concat(Object(ee.a)(t.bonis),[{name:"",value:"",isCurrency:!1}])})}return t}));n(Object(f.a)(Object(f.a)({},t),{},{features:r}))}(e)}})),c.a.createElement(Zh,null,e.features&&e.features.map((function(r,i){return c.a.createElement(Jh,{key:i},c.a.createElement(Qh,{value:r.name,label:"Feature",onChange:function(t){return d(e,r,"name",t)}}),c.a.createElement(We.a,{options:He.c,value:Object(He.d)(r.type),label:"Types",onChange:function(t){return d(e,r,"type",t)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){var r=t.features.map((function(t){var n=t.features,r=n.indexOf(e);return-1!==r&&n.splice(r,1),Object(f.a)(Object(f.a)({},t),{},{features:n})}));n(Object(f.a)(Object(f.a)({},t),{},{features:r}))}(r)}}),c.a.createElement(Xh,{value:r.text,label:"Feature Text",onChange:function(t){return d(e,r,"text",t)}}),r.selections&&r.selections.map((function(i,o){return c.a.createElement(Jh,{key:o},c.a.createElement(We.a,{options:a,value:{value:i,label:i},label:"Name",onChange:function(a){return function(e,r,i,a){var o=t.features.map((function(t){if(t===e&&void 0!==t.features){var n=t.features.map((function(e){if(e===r){var t=e.selections.map((function(e){return e===i?a:e}));return Object(f.a)(Object(f.a)({},e),{},{selections:t})}return e}));return Object(f.a)(Object(f.a)({},t),{},{features:n})}return t}));n(Object(f.a)(Object(f.a)({},t),{},{features:o}))}(e,r,i,a)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){var r=t.features.map((function(t){var n=t.features.map((function(t){var n=t.selections;if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}return Object(f.a)(Object(f.a)({},t),{},{selections:n})}));return Object(f.a)(Object(f.a)({},t),{},{features:n})}));n(Object(f.a)(Object(f.a)({},t),{},{features:r}))}(i)}}))})),c.a.createElement(A.a,{text:"Add Selection",icon:m.R,onClick:function(){return function(e,r){var i=t.features.map((function(e){var t=e.features.map((function(e){var t=e.selections;return void 0===t&&(t=[]),e===r?(t.push(""),Object(f.a)(Object(f.a)({},e),{},{selections:t})):e}));return Object(f.a)(Object(f.a)({},e),{},{features:t})}));n(Object(f.a)(Object(f.a)({},t),{},{features:i}))}(0,r)}}))}))),c.a.createElement(Zh,null,c.a.createElement(A.a,{text:"Add new Feature",icon:m.R,onClick:function(){return function(e){var r=t.features.map((function(t){var n=t.features;return void 0!==n&&t===e?(n.push({name:"",text:"",selections:[],type:He.a.normal}),Object(f.a)(Object(f.a)({},t),{},{features:n})):t}));n(Object(f.a)(Object(f.a)({},t),{},{features:r}))}(e)}})))})),c.a.createElement(Gh,null,c.a.createElement(A.a,{text:"Add new Level",icon:m.R,onClick:function(){t.features.length-1>=0?n(Object(f.a)(Object(f.a)({},t),{},{features:[].concat(Object(ee.a)(t.features),[{level:t.features.length+1,profBonus:0,features:[],bonis:t.features[t.features.length-1].bonis,spellslots:t.features[t.features.length-1].spellslots}])})):n(Object(f.a)(Object(f.a)({},t),{},{features:[].concat(Object(ee.a)(t.features),[{level:t.features.length+1,profBonus:0,features:[],bonis:[],spellslots:[]}])}))}})))},qh=d.b.div(Uh()),Wh=d.b.div(Bh(),(function(e){return e.theme.tile.color})),Gh=Object(d.b)(Wh)(zh()),Zh=d.b.div(Fh()),Vh=Object(d.b)(O.a)(Dh()),Yh=Object(d.b)(Ge.a)(Nh()),Xh=Object(d.b)(at)(Ih()),Kh=Object(d.b)(Ke)(Mh()),Jh=d.b.div(Lh(),(function(e){return e.theme.input.backgroundColor})),Qh=Object(d.b)(O.a)(Rh()),$h=Object(d.b)(Jh)(Th()),ef=Object(d.b)(Vh)(Ph());function tf(){var e=Object(l.a)([""]);return tf=function(){return e},e}function nf(){var e=Object(l.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: 5px;\n  text-align: center;\n"]);return nf=function(){return e},e}function rf(){var e=Object(l.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n"]);return rf=function(){return e},e}function af(){var e=Object(l.a)([""]);return af=function(){return e},e}function of(){var e=Object(l.a)(["\n  width: 100%;\n  padding: 0px;\n  margin: 2px 0px 2px 0px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return of=function(){return e},e}function sf(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 24px);\n  margin: 2px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return sf=function(){return e},e}function cf(){var e=Object(l.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return cf=function(){return e},e}function uf(){var e=Object(l.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return uf=function(){return e},e}function lf(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ",";\n  }\n"]);return lf=function(){return e},e}function hf(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return hf=function(){return e},e}function ff(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return ff=function(){return e},e}function df(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 auto;\n  max-width: 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return df=function(){return e},e}function pf(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return pf=function(){return e},e}var mf=function(e){var t,n=e.subclasse,r=Object(s.useState)(!1),i=Object(o.a)(r,2),a=i[0],u=i[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(gf,null,c.a.createElement(vf,null,c.a.createElement(bf,null,c.a.createElement("b",null,n.name)),c.a.createElement(yf,null,c.a.createElement(_f,null,c.a.createElement(xf,null,"Class:"),n.type),c.a.createElement(_f,null,c.a.createElement(wf,{icon:m.J}),n.sources))),void 0!==n.features&&0!==n.features.length&&n.features[0].spellslots&&n.features[0].spellslots.length>0&&c.a.createElement(vf,null,c.a.createElement(yf,null,c.a.createElement(kf,null,c.a.createElement("thead",null,c.a.createElement(Of,null,c.a.createElement(Sf,{colSpan:n.features[0].spellslots.length+1},"Spellslots"))),c.a.createElement("tbody",null,c.a.createElement(Of,null,c.a.createElement(Af,null,"Level"),c.a.createElement(Af,null,"1st"),n.features[0].spellslots.length>=2&&c.a.createElement(Af,null,"2nd"),n.features[0].spellslots.length>=3&&c.a.createElement(Af,null,"3rd"),n.features[0].spellslots.length>=4&&c.a.createElement(c.a.Fragment,null,function(e){for(var t=e-3,n=[],r=0;r<t;r++)n.push(r+4);return n.map((function(e,t){return c.a.createElement(Af,{key:t},e,"th")}))}(n.features[0].spellslots.length))),n.features.map((function(e,t){return c.a.createElement(Of,{key:t},e.spellslots&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Af,null,e.level),e.spellslots.map((function(e,t){return c.a.createElement(Af,{key:t},0===e?"-":e)}))))})))))),c.a.createElement(vf,null,c.a.createElement(yf,null,void 0!==n.features&&0!==n.features.length&&c.a.createElement(kf,null,c.a.createElement("thead",null,c.a.createElement(Of,null,c.a.createElement(Sf,null,"Level"),c.a.createElement(Sf,null,"Features"),n.features[0].bonis&&n.features[0].bonis.length>0&&(null===(t=n.features[0].bonis)||void 0===t?void 0:t.map((function(e,t){return c.a.createElement(Sf,{key:t},e.name)}))))),c.a.createElement("tbody",null,n.features.map((function(e,t){var n;return c.a.createElement(Of,{key:t},c.a.createElement(Cf,null,e.level),c.a.createElement(Cf,null,e.features.map((function(e){return e.name+", "}))),null===(n=e.bonis)||void 0===n?void 0:n.map((function(e,t){return c.a.createElement(Cf,{key:t},e.value)})))}))))))),c.a.createElement(gf,null,c.a.createElement(vf,null,void 0!==n.features&&n.features.map((function(e){return e.features.map((function(e,t){return c.a.createElement(Ef,{key:t},c.a.createElement(xf,null,e.name,":"),c.a.createElement(P.a,{text:e.text}))}))})))),c.a.createElement(gf,null,c.a.createElement(vf,null,c.a.createElement(yf,null,!a&&c.a.createElement(A.a,{text:"Send ".concat(n.name),icon:m.P,onClick:function(){return u(!0)}}),!!a&&c.a.createElement(Dt.a,{data:n,mode:"THIS"})))))},gf=d.b.div(pf()),vf=d.b.div(df(),(function(e){return e.theme.tile.color})),bf=d.b.div(ff(),(function(e){return e.theme.tile.backgroundColor})),yf=d.b.div(hf()),_f=d.b.div(lf(),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.main.highlight})),xf=d.b.span(uf(),(function(e){return e.theme.tile.backgroundColorLink})),wf=Object(d.b)(g.a)(cf(),(function(e){return e.theme.main.highlight})),Ef=d.b.div(sf(),(function(e){return e.theme.tile.backgroundColor})),kf=d.b.table(of(),(function(e){return e.theme.tile.backgroundColor})),Of=d.b.tr(af()),Sf=d.b.th(rf(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color})),Cf=d.b.td(nf(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color})),Af=Object(d.b)(Cf)(tf());function jf(){var e=Object(l.a)(["\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 4 4 auto;\n"]);return jf=function(){return e},e}function Pf(){var e=Object(l.a)(["\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 1 1 auto;\n"]);return Pf=function(){return e},e}function Tf(){var e=Object(l.a)(["\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 3 3 auto;\n"]);return Tf=function(){return e},e}function Rf(){var e=Object(l.a)(["\n  flex: 1 1 600px;\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Rf=function(){return e},e}function Lf(){var e=Object(l.a)([""]);return Lf=function(){return e},e}function Mf(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return Mf=function(){return e},e}function If(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return If=function(){return e},e}var Nf=function(e){var t=e.subrace,n=e.onEdit,r=function(e,r,i){var a=t.traits.map((function(t){return t===e?Object(f.a)(Object(f.a)({},t),{},Object(h.a)({},r,i)):t}));n(Object(f.a)(Object(f.a)({},t),{},{traits:a}))};return c.a.createElement(Df,null,c.a.createElement(Ff,null,c.a.createElement(O.a,{value:t.name,label:"Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(O.a,{value:t.abilityScores,label:"Ability Scores",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{abilityScores:e}))}}),c.a.createElement(O.a,{value:t.type,label:"Race",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{type:e}))}}),c.a.createElement(O.a,{value:t.sources,label:"Sources",icon:m.J,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sources:e}))}})),c.a.createElement(zf,null,t.traits.map((function(e,i){return c.a.createElement(Bf,{key:i},c.a.createElement(Uf,{value:e.name,label:"Name",onChange:function(t){return r(e,"name",t)}}),c.a.createElement(Hf,{value:e.level,label:"Level",onChange:function(t){return r(e,"level",t)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){var r=t.traits,i=r.indexOf(e);-1!==i&&(r.splice(i,1),n(Object(f.a)(Object(f.a)({},t),{},{traits:r})))}(e)}}),c.a.createElement(qf,{value:e.text,label:"Text",onChange:function(t){return r(e,"text",t)}}))})),c.a.createElement(Bf,null,c.a.createElement(b.a,{icon:m.R,onClick:function(){n(Object(f.a)(Object(f.a)({},t),{},{traits:[].concat(Object(ee.a)(t.traits),[{name:"New Trait",level:1,text:""}])}))}}))))},Df=d.b.div(If()),Ff=d.b.div(Mf(),(function(e){return e.theme.tile.color})),zf=Object(d.b)(Ff)(Lf()),Bf=d.b.div(Rf()),Uf=Object(d.b)(O.a)(Tf(),(function(e){return e.theme.tile.backgroundColor})),Hf=Object(d.b)(Ge.a)(Pf(),(function(e){return e.theme.tile.backgroundColor})),qf=Object(d.b)(at)(jf(),(function(e){return e.theme.tile.backgroundColor}));function Wf(){var e=Object(l.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return Wf=function(){return e},e}function Gf(){var e=Object(l.a)(["\n  flex: 4 4 auto;\n"]);return Gf=function(){return e},e}function Zf(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n"]);return Zf=function(){return e},e}function Vf(){var e=Object(l.a)(["\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 3 3 auto;\n"]);return Vf=function(){return e},e}function Yf(){var e=Object(l.a)([""]);return Yf=function(){return e},e}function Xf(){var e=Object(l.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return Xf=function(){return e},e}function Kf(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ",";\n  }\n"]);return Kf=function(){return e},e}function Jf(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Jf=function(){return e},e}function Qf(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Qf=function(){return e},e}function $f(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  flex: 1 1 auto;\n  max-width: 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return $f=function(){return e},e}function ed(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return ed=function(){return e},e}var td=function(e){var t=e.subrace,n=Object(s.useState)(!1),r=Object(o.a)(n,2),i=r[0],a=r[1];return c.a.createElement(nd,null,c.a.createElement(rd,null,c.a.createElement(id,null,c.a.createElement("b",null,t.name)),c.a.createElement(ad,null,c.a.createElement(od,null,c.a.createElement(Nt.p,null),t.abilityScores),c.a.createElement(od,null,c.a.createElement(sd,null,"Race:"),t.type),c.a.createElement(od,null,c.a.createElement(fd,{icon:m.J}),t.sources))),c.a.createElement(rd,null,c.a.createElement(ad,null,t.traits.map((function(e,t){return c.a.createElement(cd,{key:t},c.a.createElement(ud,null,e.name),c.a.createElement(ld,null,e.level),c.a.createElement(hd,null,c.a.createElement(P.a,{text:e.text})))})))),c.a.createElement(rd,null,c.a.createElement(ad,null,!i&&c.a.createElement(A.a,{text:"Send ".concat(t.name),icon:m.P,onClick:function(){return a(!0)}}),!!i&&c.a.createElement(Dt.a,{data:t,mode:"THIS"}))))},nd=d.b.div(ed()),rd=d.b.div($f(),(function(e){return e.theme.tile.color})),id=d.b.div(Qf(),(function(e){return e.theme.tile.backgroundColor})),ad=d.b.div(Jf()),od=d.b.div(Kf(),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.main.highlight})),sd=d.b.span(Xf(),(function(e){return e.theme.tile.backgroundColorLink})),cd=Object(d.b)(ad)(Yf()),ud=d.b.div(Vf(),(function(e){return e.theme.tile.backgroundColor})),ld=Object(d.b)(ud)(Zf()),hd=Object(d.b)(ud)(Gf()),fd=Object(d.b)(g.a)(Wf(),(function(e){return e.theme.main.highlight}));function dd(){var e=Object(l.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  flex: 1 1 100%;\n"]);return dd=function(){return e},e}function pd(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return pd=function(){return e},e}function md(){var e=Object(l.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return md=function(){return e},e}var gd=function(e){var t=e.world,n=e.onEdit,r=Object(s.useState)("General"),i=Object(o.a)(r,2),a=i[0],u=i[1];return c.a.createElement(vd,null,c.a.createElement(k.a,{children:["General","Locations","Events","World Map"],onChange:function(e){return u(e)},activeTab:a}),"General"===a&&c.a.createElement(bd,null,c.a.createElement(O.a,{value:t.name,label:"World Name",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{name:e}))}}),c.a.createElement(O.a,{value:t.sources,label:"Sources",icon:m.J,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sources:e}))}}),c.a.createElement(S.a,{value:t.description,label:"Description",icon:m.f,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{description:e}))}})),"Locations"===a&&c.a.createElement(c.a.Fragment,null,t.locations.map((function(e,r){return c.a.createElement(yd,{key:r},c.a.createElement(C.a,{optionTable:"locations",value:e,label:"Location",onChange:function(r){return function(e,r){if(void 0!==t){var i=t.locations.map((function(t){return t===r?e:t}));n(Object(f.a)(Object(f.a)({},t),{},{locations:i}))}}(r,e)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){if(void 0!==t){var r=t.locations.filter((function(t){return t!==e})).map((function(e){return e}));n(Object(f.a)(Object(f.a)({},t),{},{locations:r}))}}(e)}}))})),c.a.createElement(A.a,{text:"Add new Location",icon:m.R,onClick:function(){return function(){if(void 0!==t){var e=t.locations.map((function(e){return e}));e.push(""),n(Object(f.a)(Object(f.a)({},t),{},{locations:e}))}}()}})),"Events"===a&&c.a.createElement(c.a.Fragment,null,t.events.map((function(e,r){return c.a.createElement(yd,{key:r},c.a.createElement(C.a,{optionTable:"events",value:e,label:"Event",onChange:function(r){return function(e,r){if(void 0!==t){var i=t.events.map((function(t){return t===r?e:t}));n(Object(f.a)(Object(f.a)({},t),{},{events:i}))}}(r,e)}}),c.a.createElement(b.a,{icon:m.ib,onClick:function(){return function(e){if(void 0!==t){var r=t.events.filter((function(t){return t!==e})).map((function(e){return e}));n(Object(f.a)(Object(f.a)({},t),{},{events:r}))}}(e)}}))})),c.a.createElement(A.a,{text:"Add new Event",icon:m.R,onClick:function(){return function(){if(void 0!==t){var e=t.events.map((function(e){return e}));e.push(""),n(Object(f.a)(Object(f.a)({},t),{},{events:e}))}}()}})),"World Map"===a&&c.a.createElement(yd,null,c.a.createElement(C.a,{optionTable:"locations",value:t.map,label:"Map",onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{map:e}))}})))},vd=d.b.div(md()),bd=d.b.div(pd(),(function(e){return e.theme.tile.color})),yd=d.b.div(dd()),_d=n(140),xd=function e(t,n,r,i){Object(x.a)(this,e),this.world=void 0,this.locations=void 0,this.events=void 0,this.map=void 0,this.world=t||new _d.a,this.locations=n||[],this.events=r||[],this.map=i||new K.a},wd=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.time("t"),console.time("load"),o=[],s=[],t.events.forEach((function(e){o.push(Object(p.q)("events","name",e))})),t.locations.forEach((function(e){s.push(Object(p.q)("locations","name",e))})),e.next=8,Promise.all(o);case 8:return n=e.sent,e.next=11,Promise.all(s);case 11:return r=e.sent,e.next=14,Object(p.q)("locations","name",t.map);case 14:return a=e.sent,console.timeEnd("load"),console.timeEnd("t"),e.abrupt("return",new xd(t,r,n,a));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ed=n(188),kd=n(189);function Od(){var e=Object(l.a)([""]);return Od=function(){return e},e}function Sd(){var e=Object(l.a)(["\n  margin: -10px 5px -10px -10px;\n  height: 47px;\n  width: 47px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  box-shadow: 0px 0px 10px 0px rgba(172, 172, 172, 0.2);\n  background-color: white;\n  overflow: hidden;\n"]);return Sd=function(){return e},e}function Cd(){var e=Object(l.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return Cd=function(){return e},e}function Ad(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Ad=function(){return e},e}function jd(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return jd=function(){return e},e}function Pd(){var e=Object(l.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return Pd=function(){return e},e}function Td(){var e=Object(l.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return Td=function(){return e},e}function Rd(){var e=Object(l.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return Rd=function(){return e},e}function Ld(){var e=Object(l.a)(["\n  height: 30px;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 50px 5px 5px 50px;\n  background-color: ",";\n"]);return Ld=function(){return e},e}function Md(){var e=Object(l.a)(["\n  position: relative;\n  z-index: 200;\n  width: 100%;\n  height: 70px;\n  margin-bottom: -5px;\n  background-color: ",";\n"]);return Md=function(){return e},e}function Id(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  max-width: 800px;\n  padding: 5px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return Id=function(){return e},e}function Nd(){var e=Object(l.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return Nd=function(){return e},e}var Dd=function(e){var t=e.world,n=(e.onEdit,Object(s.useState)(!1)),r=Object(o.a)(n,2),i=r[0],a=r[1],u=Object(s.useState)(new xd),l=Object(o.a)(u,2),h=l[0],f=l[1],d=Object(s.useState)("General"),p=Object(o.a)(d,2),g=p[0],v=p[1];Object(s.useEffect)((function(){wd(t).then((function(e){f(e),a(!1)}))}),[t,f]);var b=Object(s.useCallback)((function(){return void 0!==h?""===h.map.map||null===h.map.map?"":h.map.map:""}),[h]);return c.a.createElement(c.a.Fragment,null,i&&c.a.createElement(ue.b,null),!i&&h&&c.a.createElement(Fd,null,c.a.createElement(Bd,null,c.a.createElement(zd,null,""!==b()?c.a.createElement(Ud,null,c.a.createElement(Yd,{pic:b()}),c.a.createElement("b",null,h.world.name)):c.a.createElement(Hd,null,c.a.createElement("b",null,h.world.name)))),c.a.createElement(k.a,{children:["General","Locations","Events","World Map"],onChange:function(e){return v(e)},activeTab:g}),"General"===g&&c.a.createElement(zd,null,c.a.createElement(Zd,null,c.a.createElement(Wd,null,"Description"),c.a.createElement(P.a,{text:h.world.description})),c.a.createElement(qd,null,c.a.createElement(Gd,null,c.a.createElement(Vd,{icon:m.J}),h.world.sources))),"Locations"===g&&c.a.createElement(qd,null,h.locations.map((function(e,t){return c.a.createElement(Ed.a,{location:e,key:t})}))),"Events"===g&&c.a.createElement(qd,null,h.events.sort((function(e,t){return e.date.localeCompare(t.date)})).map((function(e,t){return c.a.createElement(kd.a,{event:e,key:t})}))),"World Map"===g&&c.a.createElement(oe.a,{editable:!1,location:h.map})))},Fd=d.b.div(Nd()),zd=d.b.div(Id(),(function(e){return e.theme.tile.color})),Bd=d.b.div(Md(),(function(e){return e.theme.main.backgroundColor})),Ud=d.b.div(Ld(),(function(e){return e.theme.tile.backgroundColor})),Hd=d.b.div(Rd(),(function(e){return e.theme.tile.backgroundColor})),qd=d.b.div(Td()),Wd=d.b.span(Pd(),(function(e){return e.theme.tile.backgroundColorLink})),Gd=d.b.div(jd(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),Zd=d.b.div(Ad(),(function(e){return e.theme.tile.backgroundColor})),Vd=Object(d.b)(g.a)(Cd(),(function(e){return e.theme.main.highlight})),Yd=function(e){var t=e.pic,n={backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==t?c.a.createElement(Xd,{style:n}):c.a.createElement(Kd,null)},Xd=d.b.div(Sd(),(function(e){return e.theme.main.highlight})),Kd=d.b.div(Od());function Jd(){var e=Object(l.a)(["\n  float: right;\n  line-height: 30px;\n  display: block;\n  height: 30px;\n  padding: 10px;\n  color: ",";\n"]);return Jd=function(){return e},e}function Qd(){var e=Object(l.a)(["\n  padding: 5px;\n  width: 150px;\n  height: 30px;\n  line-height: 30px;\n  border-radius: 5px;\n  float: right;\n"]);return Qd=function(){return e},e}function $d(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  flex: 1 1;\n  width: 100%;\n  max-width: calc(100% - 20px);\n  height: 45px;\n  padding: 10px;\n\n  @media (max-width: 576px) {\n    max-width: calc(100% - 20px);\n  }\n"]);return $d=function(){return e},e}var ep=function(e){var t,n,r=e.entity,i=e.tableName,a=e.isNew,l=e.view,d=Object(s.useState)(a),g=Object(o.a)(d,2),x=g[0],w=g[1],E=Object(s.useState)(r),k=Object(o.a)(E,2),O=k[0],S=k[1],C=Object(s.useState)(!1),A=Object(o.a)(C,2),j=A[0],P=A[1],T=Object(s.useState)(!1),R=Object(o.a)(T,2),L=R[0],M=R[1],I=Object(s.useState)(""),N=Object(o.a)(I,2),D=N[0],F=N[1],z=Object(s.useState)(!1),B=Object(o.a)(z,2),U=B[0],H=B[1],q=Object(u.f)();Object(s.useEffect)((function(){O!==r&&H(!0)}),[O,r]);var W=function(e,t){Object(p.x)(i,e,(function(e){e>0?(H(!1),F(t),M(!0)):(F("Something went wrong!"),M(!0)),setTimeout((function(){M(!1)}),3e3)}))},G=function(e,t){console.log("save"),S(e),W(e,t)},V={CampaignView:Oe,CampaignEditView:Z,ClasseView:nn,ClasseEditView:wt,EventView:zn,EventEditView:On,GearView:ur,GearEditView:Kn,GroupView:Vr,GroupEditView:kr,ItemView:Ci,ItemEditView:fi,BookView:Zo,BookEditView:Zi,LocationView:ss,LocationEditView:$o.a,MonsterView:zs,MonsterEditView:ys,NpcView:mc,NpcEditView:rc,QuestView:Bc,QuestEditView:Ac,RaceView:Tu,RaceEditView:iu,RandomTableView:dl,RandomTableEditView:tl,SelectionView:Ul,SelectionEditView:Cl,SpellView:mh,SpellEditView:Ql,SubclasseView:mf,SubclasseEditView:Hh,SubraceView:td,SubraceEditView:Nf,WorldView:Dd,WorldEditView:gd};return c.a.createElement(c.a.Fragment,null,j&&c.a.createElement(_.a,{message:"Delete ".concat(r.name,"?"),icon:m.v,confirmeText:"Delete",confirmeClick:function(){Object(p.s)(i,r.id),q.goBack()},abortText:"Back",abortClick:function(){P(!1)}}),c.a.createElement(tp,null,c.a.createElement(v.a,{icon:m.c,action:function(){return q.goBack()}}),c.a.createElement(y.a,{mode:x.toString()},c.a.createElement(y.b,{onClick:function(){return w(!1)}},"View"),c.a.createElement(y.c,{onClick:function(){return w(!0)}},"Edit")),x&&U&&c.a.createElement(rp,{icon:m.v}),x&&c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{onClick:function(){return W(O,"Saved successful!")},icon:m.X}),c.a.createElement(b.a,{onClick:function(){return function(e){var t=Object(f.a)({},e);delete t.id,Object(p.b)(i,t,(function(e){G(Object(f.a)(Object(f.a)({},r),{},{name:r.name+" [Clone]"}),"Cloning successful!")}))}(O)},icon:m.m}),c.a.createElement(b.a,{onClick:function(){return e=O.id,Object(p.s)(i,e),void q.goBack();var e},icon:m.ib}),D&&L&&c.a.createElement(np,null,D))),x?c.a.createElement(V[l+"EditView"],(t={},Object(h.a)(t,l.toLocaleLowerCase(),O),Object(h.a)(t,"onEdit",(function(e){return S(e)})),t)):c.a.createElement(V[l+"View"],(n={},Object(h.a)(n,l.toLocaleLowerCase(),O),Object(h.a)(n,"onEdit",(function(e){return G(e,"Saved successful!")})),n)))},tp=d.b.div($d(),(function(e){return e.theme.tile.color})),np=d.b.div(Qd()),rp=Object(d.b)(g.a)(Jd(),(function(e){return e.theme.main.highlight})),ip=n(294),ap=n(295),op=n(171),sp=n(172),cp=n(131),up=n(132),lp=n(112),hp=n(102),fp=n(296),dp=n(141),pp=n(142),mp=n(173),gp=n(242);t.default=function(e){var t=e.match,n=Object(u.f)(),r=Object(s.useState)(""),l=Object(o.a)(r,2),h=l[0],f=l[1],d=Object(s.useState)(),m=Object(o.a)(d,2),g=m[0],v=m[1],b=Object(s.useState)(!0),y=Object(o.a)(b,2),_=y[0],x=y[1],w=Object(s.useState)(!1),E=Object(o.a)(w,2),k=E[0],O=E[1];Object(s.useEffect)((function(){(void 0!==g||k)&&(x(!0),O(!1),f(""),v(void 0))}),[t]);var S=Object(s.useCallback)(function(){var e=Object(a.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=void 0,void 0===t.params.name){e.next=5;break}return e.next=4,Object(p.q)(n+"s","name",t.params.name);case 4:r=e.sent;case 5:if(void 0===t.params.id){e.next=9;break}return e.next=8,Object(p.p)(n+"s",+t.params.id);case 8:r=e.sent;case 9:x(!1),void 0===r?(f(n),O(!0)):(f(n),v(r));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);Object(s.useEffect)((function(){if(void 0!==t&&void 0===g){var e=t.path.split("/").filter((function(e){return e.includes("-detail")}))[0].replaceAll("-detail","");void 0!==e&&S(e)}}),[t,S,g]);var C,A={campaign:new J.a(0,t.params.name),classe:new pp.a(0,t.params.name),event:new mp.a(0,t.params.name),gear:new cp.a(0,t.params.name),group:new Ar.a(0,t.params.name),item:new up.a(0,t.params.name),book:new ap.a(0,t.params.name),location:new K.a(0,t.params.name),monster:new lp.a(0,t.params.name),npc:new op.a(0,t.params.name),quest:new sp.a(0,t.params.name),race:new hp.a(t.params.name),randomTable:new fp.a(0,t.params.name),selection:new gp.a(0,t.params.name),spell:new dp.a(t.params.name),subclasse:new It.a(0,t.params.name),subrace:new fu.a(t.params.name),world:new _d.a(0,t.params.name)};return c.a.createElement(c.a.Fragment,null,_&&c.a.createElement(ue.b,null),!_&&k&&c.a.createElement(ip.a,{text:"No such campaign exists. Want to creat such campaign?",buttonText:"Add",onButton:function(){return function(){var e=A[h];delete e.id,Object(p.b)(h+"s",e,(function(e){n.push("/".concat(h,"-detail/id/").concat(e))}))}()}}),k||_||void 0===g?c.a.createElement(c.a.Fragment,null):c.a.createElement(ep,{entity:g,tableName:h+"s",isNew:""===g.name,view:(C=h,C.charAt(0).toUpperCase()+C.slice(1))}))}}])]);
//# sourceMappingURL=11.77bc892a.chunk.js.map