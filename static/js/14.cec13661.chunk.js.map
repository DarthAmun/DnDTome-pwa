{"version":3,"sources":["components/form_elements/ImageField.tsx","data/chars/ClassSet.tsx","data/chars/Skills.tsx","data/chars/Saves.tsx","data/chars/Money.tsx","data/chars/RaceSet.tsx","data/chars/Char.tsx","services/PeerIdService.tsx","components/form_elements/FileField.tsx","data/Monster.tsx","components/general_elements/Dialog.tsx","components/form_elements/AutoStringField.tsx","data/campaign/Npc.tsx","components/form_elements/BackButton.tsx","components/general_elements/ToggleStyle.tsx","../node_modules/peerjs/dist sync","hooks/DexieHooks.tsx","data/encounter/Encounter.tsx","components/p2p/P2PEncounter.tsx","components/form_elements/TinyNumberField.tsx","components/general_elements/board/Board.tsx","components/general_elements/ErrorTile.tsx","data/encounter/Player.tsx","services/EncounterService.tsx","components/form_elements/SingleSelectField.tsx","components/entities/encounters/details/EncounterEditView.tsx","components/entities/encounters/details/EncounterView.tsx","components/entities/encounters/details/EncounterDetail.tsx","components/entities/encounters/details/link_wrapper/NameToEncounter.tsx","components/form_elements/NumberField.tsx"],"names":["ImageImportField","label","onFinished","Files","isMulti","accept","icon","faFileImport","onChange","file","fileList","console","log","files","Array","from","reader","FileReader","onload","event","target","result","readAsDataURL","changeFile","styled","div","ClassSet","classe","level","subclasse","this","isClassSet","arg","classeCheck","undefined","levelCheck","subclasseCheck","Skills","acrobaticsProf","animalHandlingProf","arcanaProf","athleticsProf","deceptionProf","historyProf","insightProf","intimidationProf","investigationProf","medicineProf","natureProf","perceptionProf","performanceProf","persuasionProf","religionProf","sleightOfHandProf","stealthProf","survivalProf","Saves","strSaveProf","dexSaveProf","conSaveProf","intSaveProf","wisSaveProf","chaSaveProf","Money","copper","silver","electrum","gold","platinum","RaceSet","race","subrace","Char","id","name","player","campaign","pic","picBase64","classes","background","spells","spellSlots","activeSelections","currencyBonis","items","monsters","ac","hp","currentHp","init","speed","str","dex","con","int","wis","cha","saves","actions","profsLangs","senses","money","skills","spellNotes","alignment","inspiration","castingHit","castingDC","isChar","nameCheck","playerCheck","campaignCheck","picCheck","picBase64Check","raceCheck","subraceCheck","isRaceSet","backgroundCheck","acCheck","hpCheck","currentHpCheck","initCheck","classesCheck","isArray","generateBrokerId","min","max","password","characters","i","length","Math","floor","random","FileField","transform","Field","LabelText","Icon","Input","e","type","multiple","theme","tile","color","backgroundColor","FontAwesomeIcon","main","highlight","input","Monster","sources","size","subtype","cr","savingThrows","lang","dmgVulnerabilitie","dmgResistance","dmgImmunities","conImmunities","sAblt","ablt","lAblt","filename","isMonster","sourcesCheck","sizeCheck","typeCheck","subtypeCheck","alignmentCheck","speedCheck","crCheck","strCheck","dexCheck","conCheck","intCheck","wisCheck","chaCheck","savingThrowsCheck","skillsCheck","sensesCheck","langCheck","dmgVulnerabilitieCheck","dmgResistanceCheck","dmgImmunitiesCheck","conImmunitiesCheck","sAbltCheck","abltCheck","lAbltCheck","Dialog","message","confirmeText","confirmeClick","abortText","abortClick","DialogWrapper","Message","ButtonBar","text","onClick","DamageDialog","damageText","damageClick","healText","healClick","useState","dmg","setDmg","value","style","float","AutoStringField","optionTable","filters","optionsTable","options","setOptions","filteredOptions","setFilteredOptions","findAllItems","useCallback","a","itemList","forEach","table","push","reciveAllFilteredPromise","Promise","all","o","concat","useEffect","reciveAllFiltered","data","onSearch","searchTerm","newOptions","filter","option","includes","slice","Options","map","opt","index","Option","key","Npc","char","monster","traits","description","isNpc","traitsCheck","descriptionCheck","BackButton","action","Back","buttons","height","ToggleLeft","hoverColor","ToggleRight","EditToggle","props","mode","webpackEmptyContext","req","Error","code","keys","resolve","module","exports","useItem","effect","setEffect","reducer","state","error","useReducer","dispatch","get","then","catch","useItemByAttr","attr","attrValue","where","equalsIgnoreCase","first","Encounter","enemies","players","isPlaying","currentInit","roundCounter","mapBase64","dimension","width","zoom","isEncounter","enemiesCheck","playersCheck","isPlayingCheck","mapCheck","mapBase64Check","currentInitCheck","roundCounterCheck","P2PEncounter","encounter","isHost","onEdit","peerId","setId","peer","setPeer","setError","connections","setConn","isChanged","setChanged","brokerId","newPeer","Peer","host","secure","on","conn","send","JSON","stringify","errorData","parse","connect","minWidth","faExclamationCircle","TinyNumberField","showMax","Max","span","Board","img","showName","currentPlayerNumber","onChangePlayers","onChangeDimension","board","setBoard","dragItem","setDragItem","makeDrag","makeDrop","makeRow","row","list","j","PlayerSlot","cord","updatePlayers","makeBoard","BoardRow","BoardWrapper","BoardBar","step","BoardContainer","BoardLayer","MapLayer","src","drag","dragOver","preventDefault","defineSize","Slot","onDrop","changedPlayer","newPlayers","drop","onDragOver","isVisible","playerIcon","Image","isDead","isCurrent","Empty","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","opacity","border","ImageElm","onDragStart","draggable","faEyeSlash","padding","fontSize","ErrorTile","buttonText","onButton","Tile","PropWrapper","Name","Text","PropTitle","faPlusCircle","boxShadow","headerColor","backgroundColorLink","Player","tempHp","initBonus","tag","isEnemy","crExpTable","exp","expTable","easy","medium","hard","deadly","calcDifficulty","calcExp","enemyExp","enemy","crExp","difficulty","SingleSelectField","handleChange","StyledSelect","classNamePrefix","Select","EncounterEditView","setDifficulty","expArray","setExpArray","onChangeEnemyField","field","newEnemy","oldEnemy","onChangeEnemy","found","recivePromiseByAttribute","results","classSet","onChangePlayerField","newPlayer","oldPlayer","onChangePlayer","CenterWrapper","View","StringField","newMap","FieldGroup","base64","IconButton","faTrash","Prop","CharView","Container","newMonster","NumberField","newEnemyList","splice","removeEnemy","TextButton","faPlus","addNewEnemy","newPlayerList","removePlayer","addNewPlayer","EncounterView","dmView","history","useHistory","damageDialog","setDamageDialog","damageDialogIndex","setDamageDialogIndex","setPlayers","newField","finishEncounter","newEnemies","getMap","toggleVisibility","PropElm","faPlayCircle","roll","rollDie","startEncounter","faStepForward","nextInit","counter","nextPlayer","faStopCircle","Loading","Table","sort","b","localeCompare","Row","current","PropField","MainLink","PropRight","DamageButton","faSkullCrossbones","faHandHoldingHeart","faEye","button","disabled","PlayerImage","tr","td","EncounterDetail","isNew","editMode","setMode","dmMode","setDmMode","encounterObj","editEncounter","showAlert","setAlert","setMessage","unsavedChanges","setUnsavedChanges","updateEncounter","tableName","msg","updateWithCallback","setTimeout","editAndSaveEncounter","TopBar","faArrowLeft","goBack","toString","faExclamationTriangle","faSave","obj","newObj","createNewWithId","duplicateEncounter","faClone","encounterId","remove","NameToEncounter","match","db","MyAppDatabase","encounters","params","loading","newEncounter","createNewEncounter"],"mappings":"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","file":"static/js/14.cec13661.chunk.js","sourcesContent":["import { faFileImport } from \"@fortawesome/free-solid-svg-icons\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport FileField from \"./FileField\";\n\ninterface $Props {\n  label?: string;\n  onFinished: (base64: string) => void;\n}\n\nconst ImageImportField = ({ label, onFinished }: $Props) => {\n  const changeFile = (fileList: FileList | null) => {\n    console.log(\"Start File Upload\");\n    if (fileList !== null) {\n      const files = Array.from(fileList);\n      const reader = new FileReader();\n      reader.onload = (event: any) => {\n        onFinished(event.target.result);\n      };\n      reader.readAsDataURL(files[0]);\n      console.log(files);\n    }\n  };\n\n  return (\n    <>\n      <Files>\n        <FileField\n          label={label || \"\"}\n          isMulti={false}\n          accept={\"image/png, image/jpeg\"}\n          icon={faFileImport}\n          onChange={(file) => changeFile(file)}\n        />\n      </Files>\n    </>\n  );\n};\n\nexport default ImageImportField;\n\nconst Files = styled.div`\n  flex: 1 1 auto;\n`;\n","export default class ClassSet {\n    classe: string;\n    level: number;\n    subclasse: string;\n  \n    constructor(\n        classe: string,\n        level: number,\n        subclasse: string,\n    ) {\n        this.level = level;\n        this.classe = classe;\n        this.subclasse = subclasse;\n    }\n  }\n  \n  export function isClassSet(arg: any): arg is ClassSet {\n    const classeCheck = arg.classe !== undefined && typeof arg.classe == \"string\";\n    const levelCheck = arg.level !== undefined && typeof arg.level == \"number\";\n    const subclasseCheck = arg.subclasse !== undefined && typeof arg.subclasse == \"string\";\n    return (\n      arg &&\n      levelCheck &&\n      classeCheck &&\n      subclasseCheck\n    );\n  }\n  ","export default class Skills {\n  acrobaticsProf: number;\n  animalHandlingProf: number;\n  arcanaProf: number;\n  athleticsProf: number;\n  deceptionProf: number;\n  historyProf: number;\n  insightProf: number;\n  intimidationProf: number;\n  investigationProf: number;\n  medicineProf: number;\n  natureProf: number;\n  perceptionProf: number;\n  performanceProf: number;\n  persuasionProf: number;\n  religionProf: number;\n  sleightOfHandProf: number;\n  stealthProf: number;\n  survivalProf: number;\n\n  constructor(\n    acrobaticsProf?: number,\n    animalHandlingProf?: number,\n    arcanaProf?: number,\n    athleticsProf?: number,\n    deceptionProf?: number,\n    historyProf?: number,\n    insightProf?: number,\n    intimidationProf?: number,\n    investigationProf?: number,\n    medicineProf?: number,\n    natureProf?: number,\n    perceptionProf?: number,\n    performanceProf?: number,\n    persuasionProf?: number,\n    religionProf?: number,\n    sleightOfHandProf?: number,\n    stealthProf?: number,\n    survivalProf?: number\n  ) {\n    this.acrobaticsProf = acrobaticsProf || 0;\n    this.animalHandlingProf = animalHandlingProf || 0;\n    this.arcanaProf = arcanaProf || 0;\n    this.athleticsProf = athleticsProf || 0;\n    this.deceptionProf = deceptionProf || 0;\n    this.historyProf = historyProf || 0;\n    this.insightProf = insightProf || 0;\n    this.intimidationProf = intimidationProf || 0;\n    this.investigationProf = investigationProf || 0;\n    this.medicineProf = medicineProf || 0;\n    this.natureProf = natureProf || 0;\n    this.perceptionProf = perceptionProf || 0;\n    this.performanceProf = performanceProf || 0;\n    this.persuasionProf = persuasionProf || 0;\n    this.religionProf = religionProf || 0;\n    this.sleightOfHandProf = sleightOfHandProf || 0;\n    this.stealthProf = stealthProf || 0;\n    this.survivalProf = survivalProf || 0;\n  }\n}\n\nexport function isSkills(arg: any): arg is Skills {\n  const acrobaticsProfCheck =\n    arg.acrobaticsProf !== undefined && typeof arg.acrobaticsProf == \"number\";\n  const arcanaProfCheck =\n    arg.arcanaProf !== undefined && typeof arg.arcanaProf == \"number\";\n  const animalHandlingProfCheck =\n    arg.animalHandlingProf !== undefined &&\n    typeof arg.animalHandlingProf == \"number\";\n  const athleticsProfCheck =\n    arg.athleticsProf !== undefined && typeof arg.athleticsProf == \"number\";\n  const deceptionProfCheck =\n    arg.deceptionProf !== undefined && typeof arg.deceptionProf == \"number\";\n  const historyProfCheck =\n    arg.historyProf !== undefined && typeof arg.historyProf == \"number\";\n  const insightProfCheck =\n    arg.insightProf !== undefined && typeof arg.insightProf == \"number\";\n  const intimidationProfCheck =\n    arg.intimidationProf !== undefined &&\n    typeof arg.intimidationProf == \"number\";\n  const investigationProfCheck =\n    arg.investigationProf !== undefined &&\n    typeof arg.investigationProf == \"number\";\n  const medicineProfCheck =\n    arg.medicineProf !== undefined && typeof arg.medicineProf == \"number\";\n  const natureProfCheck =\n    arg.natureProf !== undefined && typeof arg.natureProf == \"number\";\n  const perceptionProfCheck =\n    arg.perceptionProf !== undefined && typeof arg.perceptionProf == \"number\";\n  const performanceProfCheck =\n    arg.performanceProf !== undefined && typeof arg.performanceProf == \"number\";\n  const persuasionProfCheck =\n    arg.persuasionProf !== undefined && typeof arg.persuasionProf == \"number\";\n  const religionProfCheck =\n    arg.religionProf !== undefined && typeof arg.religionProf == \"number\";\n  const sleightOfHandProfCheck =\n    arg.sleightOfHand !== undefined && typeof arg.sleightOfHand == \"number\";\n  const stealthProfCheck =\n    arg.stealthProf !== undefined && typeof arg.stealthProf == \"number\";\n  const survivalProfCheck =\n    arg.survivalProf !== undefined && typeof arg.survivalProf == \"number\";\n  return (\n    arg &&\n    acrobaticsProfCheck &&\n    arcanaProfCheck &&\n    animalHandlingProfCheck &&\n    athleticsProfCheck &&\n    deceptionProfCheck &&\n    historyProfCheck &&\n    insightProfCheck &&\n    intimidationProfCheck &&\n    investigationProfCheck &&\n    medicineProfCheck &&\n    natureProfCheck &&\n    perceptionProfCheck &&\n    performanceProfCheck &&\n    persuasionProfCheck &&\n    religionProfCheck &&\n    sleightOfHandProfCheck &&\n    stealthProfCheck &&\n    survivalProfCheck\n  );\n}\n","export default class Saves {\n  strSaveProf: number;\n  dexSaveProf: number;\n  conSaveProf: number;\n  intSaveProf: number;\n  wisSaveProf: number;\n  chaSaveProf: number;\n\n  constructor(\n    strSaveProf?: number,\n    dexSaveProf?: number,\n    conSaveProf?: number,\n    intSaveProf?: number,\n    wisSaveProf?: number,\n    chaSaveProf?: number\n  ) {\n    this.strSaveProf = strSaveProf || 0;\n    this.dexSaveProf = dexSaveProf || 0;\n    this.conSaveProf = conSaveProf || 0;\n    this.intSaveProf = intSaveProf || 0;\n    this.wisSaveProf = wisSaveProf || 0;\n    this.chaSaveProf = chaSaveProf || 0;\n  }\n}\n\nexport function isSaves(arg: any): arg is Saves {\n  const strSaveProfCheck =\n    arg.strSaveProf !== undefined && typeof arg.strSaveProf == \"number\";\n  const dexSaveProfCheck =\n    arg.dexSaveProf !== undefined && typeof arg.dexSaveProf == \"number\";\n  const conSaveProfCheck =\n    arg.conSaveProf !== undefined && typeof arg.conSaveProf == \"number\";\n  const intSaveProfCheck =\n    arg.intSaveProf !== undefined && typeof arg.intSaveProf == \"number\";\n  const wisSaveProfCheck =\n    arg.wisSaveProf !== undefined && typeof arg.wisSaveProf == \"number\";\n  const chaSaveProfCheck =\n    arg.chaSaveProf !== undefined && typeof arg.chaSaveProf == \"number\";\n\n  return (\n    arg &&\n    strSaveProfCheck &&\n    dexSaveProfCheck &&\n    conSaveProfCheck &&\n    intSaveProfCheck &&\n    wisSaveProfCheck &&\n    chaSaveProfCheck\n  );\n}\n","export default class Money {\n  copper: number;\n  silver: number;\n  electrum: number;\n  gold: number;\n  platinum: number;\n\n  constructor(\n    copper?: number,\n    silver?: number,\n    electrum?: number,\n    gold?: number,\n    platinum?: number\n  ) {\n    this.copper = copper || 0;\n    this.silver = silver || 0;\n    this.electrum = electrum || 0;\n    this.gold = gold || 0;\n    this.platinum = platinum || 0;\n  }\n}\n\nexport function isMoney(arg: any): arg is Money {\n  const copperCheck = arg.copper !== undefined && typeof arg.copper == \"number\";\n  const silverCheck = arg.silver !== undefined && typeof arg.silver == \"number\";\n  const electrumCheck =\n    arg.electrum !== undefined && typeof arg.electrum == \"number\";\n  const goldCheck = arg.gold !== undefined && typeof arg.gold == \"number\";\n  const platinumCheck =\n    arg.platinum !== undefined && typeof arg.platinum == \"number\";\n  return (\n    arg &&\n    copperCheck &&\n    silverCheck &&\n    electrumCheck &&\n    goldCheck &&\n    platinumCheck\n  );\n}\n","export default class RaceSet {\n  race: string;\n  subrace: string;\n\n  constructor(race?: string, subrace?: string) {\n    this.race = race || \"\";\n    this.subrace = subrace || \"\";\n  }\n}\n\nexport function isRaceSet(arg: any): arg is RaceSet {\n  const raceCheck = arg.race !== undefined && typeof arg.race == \"string\";\n  const subraceCheck =\n    arg.subrace !== undefined && typeof arg.subrace == \"string\";\n  return arg && raceCheck && subraceCheck;\n}\n","import Skills from \"./Skills\";\nimport Saves from \"./Saves\";\nimport Money from \"./Money\";\nimport IEntity from \"../IEntity\";\nimport ClassSet, { isClassSet } from \"./ClassSet\";\nimport RaceSet, { isRaceSet } from \"./RaceSet\";\n\nexport default class Char implements IEntity {\n  id?: number;\n  name: string;\n  player: string;\n  campaign: string;\n  pic: string;\n  picBase64: string;\n  classes: ClassSet[];\n  race: RaceSet;\n  background: string;\n  spells: string[];\n  spellSlots: { origin: string; slots: number[]; max: number[] }[];\n  activeSelections: {\n    selectionName: string;\n    activeOption: {\n      entityName: string;\n      entityText: string;\n      level: number;\n    };\n    featureName: string;\n    featureCount: number;\n    className: string;\n  }[];\n  currencyBonis: { origin: string; value: number; max: number }[];\n  items: {\n    origin: string;\n    attuned: boolean;\n    prof: boolean;\n    attribute: string;\n  }[];\n  monsters: string[];\n  ac: number;\n  hp: number;\n  currentHp: number;\n  init: number;\n  speed: string;\n  str: number;\n  dex: number;\n  con: number;\n  int: number;\n  wis: number;\n  cha: number;\n  saves: Saves;\n  actions: string;\n  profsLangs: string;\n  senses: string;\n  money: Money;\n  skills: Skills;\n  spellNotes: string;\n  alignment: string;\n  inspiration: number;\n  castingHit: number;\n  castingDC: number;\n\n  constructor(\n    id?: number,\n    name?: string,\n    player?: string,\n    campaign?: string,\n    pic?: string,\n    picBase64?: string,\n    classes?: ClassSet[],\n    race?: RaceSet,\n    background?: string,\n    spells?: string[],\n    spellSlots?: { origin: string; slots: number[]; max: number[] }[],\n    activeSelections?: {\n      selectionName: string;\n      activeOption: {\n        entityName: string;\n        entityText: string;\n        level: number;\n      };\n      featureName: string;\n      featureCount: number;\n      className: string;\n    }[],\n    currencyBonis?: { origin: string; value: number; max: number }[],\n    items?: {\n      origin: string;\n      attuned: boolean;\n      prof: boolean;\n      attribute: string;\n    }[],\n    monsters?: string[],\n    ac?: number,\n    hp?: number,\n    currentHp?: number,\n    init?: number,\n    speed?: string,\n    str?: number,\n    dex?: number,\n    con?: number,\n    int?: number,\n    wis?: number,\n    cha?: number,\n    saves?: Saves,\n    actions?: string,\n    profsLangs?: string,\n    senses?: string,\n    money?: Money,\n    skills?: Skills,\n    spellNotes?: string,\n    alignment?: string,\n    inspiration?: number,\n    castingHit?: number,\n    castingDC?: number\n  ) {\n    this.id = id || -1;\n    this.name = name || \"\";\n    this.player = player || \"\";\n    this.campaign = campaign || \"\";\n    this.pic = pic || \"\";\n    this.picBase64 = picBase64 || \"\";\n    this.classes = classes || [];\n    this.race = race || new RaceSet();\n    this.background = background || \"\";\n    this.spells = spells || [];\n    this.spellSlots = spellSlots || [];\n    this.activeSelections = activeSelections || [];\n    this.currencyBonis = currencyBonis || [];\n    this.items = items || [];\n    this.monsters = monsters || [];\n    this.ac = ac || 0;\n    this.hp = hp || 0;\n    this.currentHp = currentHp || 0;\n    this.init = init || 0;\n    this.speed = speed || \"\";\n    this.str = str || 0;\n    this.dex = dex || 0;\n    this.con = con || 0;\n    this.int = int || 0;\n    this.wis = wis || 0;\n    this.cha = cha || 0;\n    this.saves = saves || new Saves();\n    this.actions = actions || \"\";\n    this.profsLangs = profsLangs || \"\";\n    this.senses = senses || \"\";\n    this.money = money || new Money();\n    this.skills = skills || new Skills();\n    this.spellNotes = spellNotes || \"\";\n    this.alignment = alignment || \"\";\n    this.inspiration = inspiration || 0;\n    this.castingHit = castingHit || 0;\n    this.castingDC = castingDC || 0;\n  }\n}\n\nexport function isChar(arg: any): arg is Char {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const playerCheck = arg.player !== undefined && typeof arg.player == \"string\";\n  const campaignCheck = arg.campaign !== undefined && typeof arg.campaign == \"string\";\n  const picCheck = arg.pic !== undefined && typeof arg.pic == \"string\";\n  const picBase64Check = arg.picBase64 !== undefined && typeof arg.picBase64 == \"string\";\n  const raceCheck = arg.race !== undefined && isRaceSet(arg.race);\n  const backgroundCheck = arg.background !== undefined && typeof arg.background == \"string\";\n  const acCheck = arg.ac !== undefined && typeof arg.ac == \"number\";\n  const hpCheck = arg.hp !== undefined && typeof arg.hp == \"number\";\n  const currentHpCheck = arg.currentHp !== undefined && typeof arg.currentHp == \"number\";\n  const initCheck = arg.init !== undefined && typeof arg.init == \"number\";\n  const classesCheck =\n    arg.classes !== undefined && Array.isArray(arg.classes) && isClassSet(arg.classes[0]);\n  return (\n    arg &&\n    nameCheck &&\n    playerCheck &&\n    campaignCheck &&\n    picCheck &&\n    picBase64Check &&\n    raceCheck &&\n    backgroundCheck &&\n    acCheck &&\n    hpCheck &&\n    currentHpCheck &&\n    initCheck &&\n    classesCheck\n  );\n}\n","const getRandomInteger = (min: number, max: number) => {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nexport const generateBrokerId = () => {\n  let password = \"\";\n  const characters =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  for (let i = 0; i < 13; i++) {\n    password += characters[getRandomInteger(0, characters.length - 1)];\n  }\n  return password;\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  label: string;\n  accept: string;\n  isMulti: boolean;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: FileList | null) => void;\n}\n\nconst FileField = ({ label, accept, isMulti, icon, transform, onChange }: $Props) => {\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      {isMulti && (\n        <Input\n          onChange={(e) => onChange(e.target.files)}\n          type=\"file\"\n          accept={accept}\n          multiple\n        ></Input>\n      )}\n      {!isMulti && (\n        <Input onChange={(e) => onChange(e.target.files)} accept={accept} type=\"file\"></Input>\n      )}\n    </Field>\n  );\n};\n\nexport default FileField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 38px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1 auto;\n`;\n\nconst Input = styled.input`\n  flex: 3 1 auto;\n  height: 38px;\n  line-height: 30px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  border-radius: 5px;\n`;\n","import IEntity from \"./IEntity\";\n\nexport default class Monster implements IEntity {\n  id?: number;\n  filename: string;\n  name: string;\n  pic: string;\n  picBase64: string;\n  sources: string;\n  size: string;\n  type: string;\n  subtype: string;\n  alignment: string;\n  ac: number;\n  hp: number;\n  speed: string;\n  cr: number;\n  str: number;\n  dex: number;\n  con: number;\n  int: number;\n  wis: number;\n  cha: number;\n  savingThrows: string;\n  skills: string;\n  senses: string;\n  lang: string;\n  dmgVulnerabilitie: string;\n  dmgResistance: string;\n  dmgImmunities: string;\n  conImmunities: string;\n  sAblt: string;\n  ablt: string;\n  lAblt: string;\n\n  constructor(\n    id?: number,\n    name?: string,\n    sources?: string,\n    pic?: string,\n    picBase64?: string,\n    size?: string,\n    type?: string,\n    subtype?: string,\n    alignment?: string,\n    ac?: number,\n    hp?: number,\n    speed?: string,\n    cr?: number,\n    str?: number,\n    dex?: number,\n    con?: number,\n    int?: number,\n    wis?: number,\n    cha?: number,\n    savingThrows?: string,\n    skills?: string,\n    senses?: string,\n    lang?: string,\n    dmgVulnerabilitie?: string,\n    dmgResistance?: string,\n    dmgImmunities?: string,\n    conImmunities?: string,\n    sAblt?: string,\n    ablt?: string,\n    lAblt?: string,\n    filename?: string\n  ) {\n    this.name = name || \"\";\n    this.sources = sources || \"\";\n    this.id = id;\n    this.pic = pic || \"\";\n    this.picBase64 = picBase64 || \"\";\n    this.size = size || \"\";\n    this.type = type || \"\";\n    this.subtype = subtype || \"\";\n    this.alignment = alignment || \"\";\n    this.ac = ac || 0;\n    this.hp = hp || 0;\n    this.speed = speed || \"\";\n    this.cr = cr || 0;\n    this.str = str || 0;\n    this.dex = dex || 0;\n    this.con = con || 0;\n    this.int = int || 0;\n    this.wis = wis || 0;\n    this.cha = cha || 0;\n    this.savingThrows = savingThrows || \"\";\n    this.skills = skills || \"\";\n    this.senses = senses || \"\";\n    this.lang = lang || \"\";\n    this.dmgVulnerabilitie = dmgVulnerabilitie || \"\";\n    this.dmgResistance = dmgResistance || \"\";\n    this.dmgImmunities = dmgImmunities || \"\";\n    this.conImmunities = conImmunities || \"\";\n    this.sAblt = sAblt || \"\";\n    this.ablt = ablt || \"\";\n    this.lAblt = lAblt || \"\";\n    this.filename = filename || \"\";\n  }\n}\n\nexport function isMonster(arg: any): arg is Monster {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const picBase64Check = arg.picBase64 !== undefined && typeof arg.picBase64 == \"string\";\n  const picCheck = arg.pic !== undefined && typeof arg.pic == \"string\";\n  const sourcesCheck = arg.sources !== undefined && typeof arg.sources == \"string\";\n  const sizeCheck = arg.size !== undefined && typeof arg.size == \"string\";\n  const typeCheck = arg.type !== undefined && typeof arg.type == \"string\";\n  const subtypeCheck = arg.subtype !== undefined && typeof arg.subtype == \"string\";\n  const alignmentCheck = arg.alignment !== undefined && typeof arg.alignment == \"string\";\n  const acCheck = arg.ac !== undefined && typeof arg.ac == \"number\";\n  const hpCheck = arg.hp !== undefined && typeof arg.hp == \"number\";\n  const speedCheck = arg.speed !== undefined && typeof arg.speed == \"string\";\n  const crCheck = arg.cr !== undefined && typeof arg.cr == \"number\";\n  const strCheck = arg.str !== undefined && typeof arg.str == \"number\";\n  const dexCheck = arg.dex !== undefined && typeof arg.dex == \"number\";\n  const conCheck = arg.con !== undefined && typeof arg.con == \"number\";\n  const intCheck = arg.int !== undefined && typeof arg.int == \"number\";\n  const wisCheck = arg.wis !== undefined && typeof arg.wis == \"number\";\n  const chaCheck = arg.cha !== undefined && typeof arg.cha == \"number\";\n  const savingThrowsCheck = arg.savingThrows !== undefined && typeof arg.savingThrows == \"string\";\n  const skillsCheck = arg.skills !== undefined && typeof arg.skills == \"string\";\n  const sensesCheck = arg.senses !== undefined && typeof arg.senses == \"string\";\n  const langCheck = arg.lang !== undefined && typeof arg.lang == \"string\";\n  const dmgVulnerabilitieCheck =\n    arg.dmgVulnerabilitie !== undefined && typeof arg.dmgVulnerabilitie == \"string\";\n  const dmgResistanceCheck =\n    arg.dmgResistance !== undefined && typeof arg.dmgResistance == \"string\";\n  const dmgImmunitiesCheck =\n    arg.dmgImmunities !== undefined && typeof arg.dmgImmunities == \"string\";\n  const conImmunitiesCheck =\n    arg.conImmunities !== undefined && typeof arg.conImmunities == \"string\";\n  const sAbltCheck = arg.sAblt !== undefined && typeof arg.sAblt == \"string\";\n  const abltCheck = arg.ablt !== undefined && typeof arg.ablt == \"string\";\n  const lAbltCheck = arg.lAblt !== undefined && typeof arg.lAblt == \"string\";\n\n  return (\n    arg &&\n    nameCheck &&\n    picCheck &&\n    picBase64Check &&\n    sourcesCheck &&\n    sizeCheck &&\n    typeCheck &&\n    subtypeCheck &&\n    alignmentCheck &&\n    acCheck &&\n    hpCheck &&\n    speedCheck &&\n    crCheck &&\n    strCheck &&\n    dexCheck &&\n    conCheck &&\n    intCheck &&\n    wisCheck &&\n    chaCheck &&\n    savingThrowsCheck &&\n    skillsCheck &&\n    sensesCheck &&\n    langCheck &&\n    dmgVulnerabilitieCheck &&\n    dmgResistanceCheck &&\n    dmgImmunitiesCheck &&\n    conImmunitiesCheck &&\n    sAbltCheck &&\n    abltCheck &&\n    lAbltCheck\n  );\n}\n\nexport function findMonsterFormattError(\n  arg: any\n): {\n  nameCheck: boolean;\n  picCheck: boolean;\n  sourcesCheck: boolean;\n  sizeCheck: boolean;\n  typeCheck: boolean;\n  subtypeCheck: boolean;\n  alignmentCheck: boolean;\n  acCheck: boolean;\n  hpCheck: boolean;\n  speedCheck: boolean;\n  crCheck: boolean;\n  strCheck: boolean;\n  dexCheck: boolean;\n  conCheck: boolean;\n  intCheck: boolean;\n  wisCheck: boolean;\n  chaCheck: boolean;\n  savingThrowsCheck: boolean;\n  skillsCheck: boolean;\n  sensesCheck: boolean;\n  langCheck: boolean;\n  dmgVulnerabilitieCheck: boolean;\n  dmgResistanceCheck: boolean;\n  dmgImmunitiesCheck: boolean;\n  conImmunitiesCheck: boolean;\n  sAbltCheck: boolean;\n  abltCheck: boolean;\n  lAbltCheck: boolean;\n} {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const picCheck = arg.pic !== undefined && typeof arg.pic == \"string\";\n  const sourcesCheck = arg.sources !== undefined && typeof arg.sources == \"string\";\n  const sizeCheck = arg.size !== undefined && typeof arg.size == \"string\";\n  const typeCheck = arg.type !== undefined && typeof arg.type == \"string\";\n  const subtypeCheck = arg.subtype !== undefined && typeof arg.subtype == \"string\";\n  const alignmentCheck = arg.alignment !== undefined && typeof arg.alignment == \"string\";\n  const acCheck = arg.ac !== undefined && typeof arg.ac == \"number\";\n  const hpCheck = arg.hp !== undefined && typeof arg.hp == \"number\";\n  const speedCheck = arg.speed !== undefined && typeof arg.speed == \"string\";\n  const crCheck = arg.cr !== undefined && typeof arg.cr == \"number\";\n  const strCheck = arg.str !== undefined && typeof arg.str == \"number\";\n  const dexCheck = arg.dex !== undefined && typeof arg.dex == \"number\";\n  const conCheck = arg.con !== undefined && typeof arg.con == \"number\";\n  const intCheck = arg.int !== undefined && typeof arg.int == \"number\";\n  const wisCheck = arg.wis !== undefined && typeof arg.wis == \"number\";\n  const chaCheck = arg.cha !== undefined && typeof arg.cha == \"number\";\n  const savingThrowsCheck = arg.savingThrows !== undefined && typeof arg.savingThrows == \"string\";\n  const skillsCheck = arg.skills !== undefined && typeof arg.skills == \"string\";\n  const sensesCheck = arg.senses !== undefined && typeof arg.senses == \"string\";\n  const langCheck = arg.lang !== undefined && typeof arg.lang == \"string\";\n  const dmgVulnerabilitieCheck =\n    arg.dmgVulnerabilitie !== undefined && typeof arg.dmgVulnerabilitie == \"string\";\n  const dmgResistanceCheck =\n    arg.dmgResistance !== undefined && typeof arg.dmgResistance == \"string\";\n  const dmgImmunitiesCheck =\n    arg.dmgImmunities !== undefined && typeof arg.dmgImmunities == \"string\";\n  const conImmunitiesCheck =\n    arg.conImmunities !== undefined && typeof arg.conImmunities == \"string\";\n  const sAbltCheck = arg.sAblt !== undefined && typeof arg.sAblt == \"string\";\n  const abltCheck = arg.ablt !== undefined && typeof arg.ablt == \"string\";\n  const lAbltCheck = arg.lAblt !== undefined && typeof arg.lAblt == \"string\";\n\n  return {\n    nameCheck: nameCheck,\n    picCheck: picCheck,\n    sourcesCheck: sourcesCheck,\n    sizeCheck: sizeCheck,\n    typeCheck: typeCheck,\n    subtypeCheck: subtypeCheck,\n    alignmentCheck: alignmentCheck,\n    acCheck: acCheck,\n    hpCheck: hpCheck,\n    speedCheck: speedCheck,\n    crCheck: crCheck,\n    strCheck: strCheck,\n    dexCheck: dexCheck,\n    conCheck: conCheck,\n    intCheck: intCheck,\n    wisCheck: wisCheck,\n    chaCheck: chaCheck,\n    savingThrowsCheck: savingThrowsCheck,\n    skillsCheck: skillsCheck,\n    sensesCheck: sensesCheck,\n    langCheck: langCheck,\n    dmgVulnerabilitieCheck: dmgVulnerabilitieCheck,\n    dmgResistanceCheck: dmgResistanceCheck,\n    dmgImmunitiesCheck: dmgImmunitiesCheck,\n    conImmunitiesCheck: conImmunitiesCheck,\n    sAbltCheck: sAbltCheck,\n    abltCheck: abltCheck,\n    lAbltCheck: lAbltCheck,\n  };\n}\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport TextButton from \"../form_elements/TextButton\";\nimport NumberField from \"../form_elements/NumberField\";\n\ninterface $Props {\n  message: string;\n  icon?: IconDefinition;\n  confirmeText: string;\n  confirmeClick: () => void;\n  abortText: string;\n  abortClick: () => void;\n}\n\nexport const Dialog = ({\n  message,\n  icon,\n  confirmeText,\n  confirmeClick,\n  abortText,\n  abortClick,\n}: $Props) => {\n  return (\n    <DialogWrapper>\n      <Message>\n        {icon ? <Icon icon={icon} /> : \"\"} {message}\n      </Message>\n      <ButtonBar>\n        <TextButton text={abortText} onClick={abortClick} />\n        <TextButton text={confirmeText} onClick={confirmeClick} />\n      </ButtonBar>\n    </DialogWrapper>\n  );\n};\n\ninterface $DamageProps {\n  name: string;\n  damageText: string;\n  damageClick: (value: number) => void;\n  healText: string;\n  healClick: (value: number) => void;\n  abortText: string;\n  abortClick: () => void;\n}\n\nexport const DamageDialog = ({\n  name,\n  damageText,\n  damageClick,\n  healText,\n  healClick,\n  abortText,\n  abortClick,\n}: $DamageProps) => {\n  const [dmg, setDmg] = useState<number>(0);\n  return (\n    <DialogWrapper>\n      <NumberField value={dmg} label={name} onChange={setDmg} />\n      <ButtonBar>\n        <TextButton text={abortText} onClick={abortClick} />\n        <TextButton text={damageText} onClick={() => damageClick(dmg)} style={{ float: \"left\" }} />\n        <TextButton\n          text={healText}\n          onClick={() => healClick(dmg)}\n          style={{ backgroundColor: \"lightgreen\", float: \"left\" }}\n        />\n      </ButtonBar>\n    </DialogWrapper>\n  );\n};\n\nconst DialogWrapper = styled.div`\n  width: 280px;\n  position: fixed;\n  z-index: 1010;\n  top: 100px;\n  left: calc(50% - 150px);\n  padding: 10px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  color: ${({ theme }) => theme.tile.color};\n`;\n\nconst Message = styled.div`\n  width: 100%;\n  text-align: center;\n`;\n\nconst ButtonBar = styled.div`\n  width: 100%;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  flex: 1 1 auto;\n  margin-right: 5px;\n`;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport styled from \"styled-components\";\nimport IEntity from \"../../data/IEntity\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\nimport { reciveAllFiltered, reciveAllFilteredPromise } from \"../../services/DatabaseService\";\nimport Filter from \"../../data/Filter\";\n\ninterface $Props {\n  optionTable: string | string[];\n  filters?: Filter[];\n  value: string;\n  label: string;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: string) => void;\n}\n\nconst AutoStringField = ({\n  optionTable,\n  filters,\n  value,\n  label,\n  icon,\n  transform,\n  onChange,\n}: $Props) => {\n  const [optionsTable] = useState<string | string[]>(optionTable);\n  const [options, setOptions] = useState<IEntity[]>([]);\n  const [filteredOptions, setFilteredOptions] = useState<IEntity[]>([]);\n\n  const findAllItems = useCallback(\n    async (optionsTable: string[]) => {\n      let itemList: Promise<IEntity[]>[] = [];\n      optionsTable.forEach((table) => {\n        itemList.push(reciveAllFilteredPromise(table, filters !== undefined ? filters : []));\n      });\n      const results = await Promise.all(itemList);\n      results.forEach((items: IEntity[]) => {\n        setOptions((o) => o.concat(items));\n      });\n    },\n    [filters]\n  );\n\n  useEffect(() => {\n    if (typeof optionsTable === \"string\") {\n      reciveAllFiltered(optionsTable, filters !== undefined ? filters : [], (data: any[]) => {\n        setOptions(data);\n      });\n    }\n    if (optionsTable instanceof Array && optionsTable.length > 0) {\n      findAllItems(optionsTable);\n    }\n  }, [optionsTable, findAllItems, filters]);\n\n  const onSearch = useCallback(\n    (searchTerm: string) => {\n      onChange(searchTerm);\n      if (searchTerm.length > 2) {\n        let newOptions = options\n          .filter((option) => {\n            return option.name.includes(searchTerm);\n          })\n          .slice(0, 5);\n        setFilteredOptions(newOptions);\n      } else {\n        setFilteredOptions([]);\n      }\n    },\n    [options, onChange]\n  );\n\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      <Input type=\"text\" value={value} onChange={(e) => onSearch(e.target.value)}></Input>\n      <Options>\n        {filteredOptions.length > 0 &&\n          filteredOptions.map((opt, index: number) => {\n            return (\n              <Option key={index} onClick={(e) => onSearch(opt.name)}>\n                {opt.name}\n              </Option>\n            );\n          })}\n      </Options>\n    </Field>\n  );\n};\n\nexport default AutoStringField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n  position: relative;\n  overflow: visible;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1 auto;\n`;\n\nconst Options = styled.div`\n  display: none;\n  position: absolute;\n  border-bottom: none;\n  border-top: none;\n  z-index: 99;\n  top: 100%;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n\n  &:hover {\n    display: block;\n  }\n`;\n\nconst Option = styled.div`\n  padding: 5px;\n  cursor: pointer;\n  color: ${({ theme }) => theme.input.color};\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  margin-bottom: 1px;\n  border-radius: 5px;\n`;\n\nconst Input = styled.input`\n  flex: 3 1 auto;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  border-radius: 5px;\n\n  &:focus ~ ${Options} {\n    display: block;\n  }\n`;\n","import Char from \"../chars/Char\";\nimport IEntity from \"../IEntity\";\nimport Monster from \"../Monster\";\n\n//npcs: \"++id, name, pic, char, traits, description, sources, filename\",\nexport default class Npc implements IEntity {\n  id?: number;\n  name: string;\n  pic: string;\n  picBase64: string;\n  char: Char | undefined;\n  monster: Monster | undefined;\n  traits: string;\n  description: string;\n  sources: string;\n  filename?: string;\n\n  constructor(\n    id?: number,\n    name?: string,\n    pic?: string,\n    picBase64?: string,\n    char?: Char | undefined,\n    monster?: Monster | undefined,\n    traits?: string,\n    description?: string,\n    sources?: string,\n    filename?: string\n  ) {\n    this.id = id;\n    this.name = name || \"\";\n    this.pic = pic || \"\";\n    this.picBase64 = picBase64 || \"\";\n    this.char = char || undefined;\n    this.monster = monster || undefined;\n    this.traits = traits || \"\";\n    this.description = description || \"\";\n    this.sources = sources || \"\";\n    this.filename = filename || \"\";\n  }\n}\n\nexport function isNpc(arg: any): arg is Npc {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const picCheck = arg.pic !== undefined && typeof arg.pic == \"string\";\n  const picBase64Check = arg.picBase64 !== undefined && typeof arg.picBase64 == \"string\";\n  const traitsCheck = arg.traits !== undefined && typeof arg.traits == \"string\";\n  const descriptionCheck = arg.description !== undefined && typeof arg.description == \"string\";\n  const sourcesCheck = arg.sources !== undefined && typeof arg.sources == \"string\";\n\n  return (\n    arg &&\n    nameCheck &&\n    picCheck &&\n    picBase64Check &&\n    descriptionCheck &&\n    traitsCheck &&\n    sourcesCheck\n  );\n}\n\nexport function findNpcFormattError(\n  arg: any\n): {\n  nameCheck: boolean;\n} {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n\n  return {\n    nameCheck: nameCheck,\n  };\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  icon: IconDefinition;\n  transform?: string | Transform;\n  action: () => void;\n}\n\nconst BackButton = ({ icon, transform, action }: $Props) => {\n  return (\n    <Back onClick={action}>\n      <Icon icon={icon} transform={transform} />\n    </Back>\n  );\n};\n\nexport default BackButton;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n  &:hover {\n    color: ${({ theme }) => theme.buttons.color};\n  }\n`;\n\nconst Back = styled.div`\n  float: left;\n  font-size: calc(${({ theme }) => theme.buttons.height} + 10px);\n  margin: 10px 0px 0px 10px;\n  cursor: pointer;\n`;\n","import styled from \"styled-components\";\n\nexport const ToggleLeft = styled.div`\n  width: auto;\n  padding: 10px;\n  margin: 5px 0px 5px 5px;\n  height: ${({ theme }) => theme.buttons.height};\n  line-height: ${({ theme }) => theme.buttons.height};\n  float: left;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  border-radius: 5px 0px 0px 5px;\n\n  transition: color 0.2s, background-color 0.2s;\n\n  &:hover {\n    color: ${({ theme }) => theme.buttons.hoverColor};\n  }\n`;\n\nexport const ToggleRight = styled(ToggleLeft)`\n  margin: 5px 5px 5px 0px;\n\n  border-radius: 0px 5px 5px 0px;\n`;\n\ntype EditMode = {\n  mode: string;\n};\n\nexport const EditToggle = styled.div<EditMode>`\n  width: auto;\n  height: ${({ theme }) => theme.buttons.height};\n  float: right;\n  color: ${({ theme }) => theme.buttons.color};\n\n  ${ToggleLeft} {\n    background-color: ${(props) => {\n      if (props.mode !== \"true\") {\n        return ({ theme }) => theme.buttons.backgroundColor;\n      } else {\n        return ({ theme }) => theme.tile.backgroundColor;\n      }\n    }};\n  }\n\n  ${ToggleRight} {\n    background-color: ${(props) => {\n      if (props.mode === \"true\") {\n        return ({ theme }) => theme.buttons.backgroundColor;\n      } else {\n        return ({ theme }) => theme.tile.backgroundColor;\n      }\n    }};\n  }\n`;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 254;","import Dexie from \"dexie\";\nimport { useReducer, useEffect, useCallback, useState } from \"react\";\nimport Filter from \"../data/Filter\";\nimport ReactDOM from \"react-dom\";\n\ntype TableState<T> = [T[] | undefined, boolean, Dexie.DexieError | undefined];\ntype TableAction<T> =\n  | { type: \"resolved\"; data: T[] }\n  | { type: \"empty\" }\n  | { type: \"reset\" }\n  | { type: \"error\"; error: Dexie.DexieError };\n\ntype ItemState<T> = [T | undefined, boolean, Dexie.DexieError | undefined];\ntype ItemAction<T> =\n  | { type: \"resolved\"; data: T }\n  | { type: \"empty\" }\n  | { type: \"reset\" }\n  | { type: \"error\"; error: Dexie.DexieError };\n\nexport const useTable = <T, U>(table: Dexie.Table<T, U>): TableState<T> => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const reducer = useCallback((state: TableState<T>, action: TableAction<T>): TableState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (effect) {\n      const getAndDispatch = () =>\n        table\n          .toArray()\n          .then((data) => {\n            dispatch({\n              type: \"resolved\",\n              data,\n            });\n          })\n          .catch((error) => {\n            dispatch({\n              type: \"error\",\n              error,\n            });\n          });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, effect]);\n\n  return state;\n};\n\nexport const useTableByFilter = <T, U>(\n  table: Dexie.Table<T, U>,\n  filters: Filter[]\n): TableState<T> => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const [filter, setFilter] = useState<Filter[]>(filters);\n  const reducer = useCallback((state: TableState<T>, action: TableAction<T>): TableState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      case \"reset\":\n        return [undefined, true, undefined];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (filter !== filters) {\n      ReactDOM.unstable_batchedUpdates(() => {\n        dispatch({ type: \"reset\" });\n        setFilter(filters);\n        setEffect(true);\n      });\n    }\n  }, [filter, filters, setEffect]);\n\n  useEffect(() => {\n    if (effect) {\n      const getAndDispatch = () => console.time(\"filtered get all\");\n      table\n        .filter((obj: T) => {\n          let test: boolean[] = [];\n          filters.forEach((filter) => {\n            if (typeof filter.value === \"string\") {\n              test.push(\n                // @ts-ignore\n                obj[filter.fieldName].toLowerCase().includes(filter.value.toLowerCase())\n              );\n            } else if (typeof filter.value === \"number\") {\n              // @ts-ignore\n              test.push(obj[filter.fieldName] === filter.value);\n            } else if (typeof filter.value === \"boolean\") {\n              // @ts-ignore\n              test.push(obj[filter.fieldName] === filter.value);\n            } else if (filter.value instanceof Array) {\n              let arrayTest: boolean = false;\n              filter.value.forEach((filterPart: string | boolean | number) => {\n                if (typeof filterPart === \"string\") {\n                  if (\n                    // @ts-ignore\n                    obj[filter.fieldName].toLowerCase().includes(filterPart.toLowerCase())\n                  )\n                    arrayTest = true;\n                } else if (typeof filterPart === \"number\") {\n                  // @ts-ignore\n                  if (obj[filter.fieldName] === filterPart) arrayTest = true;\n                } else if (typeof filterPart === \"boolean\") {\n                  // @ts-ignore\n                  if (obj[filter.fieldName] === filterPart) arrayTest = true;\n                }\n              });\n              test.push(arrayTest);\n            }\n          });\n\n          let result = true;\n          test.forEach((val) => {\n            if (!val) result = false;\n          });\n          return result;\n        })\n        .sortBy(\"name\")\n        .then((data) => {\n          console.timeEnd(\"filtered get all\");\n          dispatch({\n            type: \"resolved\",\n            data,\n          });\n        })\n        .catch((error) => {\n          dispatch({\n            type: \"error\",\n            error,\n          });\n        });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, effect, filters]);\n\n  return state;\n};\n\nexport const useItem = <T, U>(table: Dexie.Table<T, U>, id: U) => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const reducer = useCallback((state: ItemState<T>, action: ItemAction<T>): ItemState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"empty\":\n        return [undefined, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (effect && table !== undefined) {\n      const getAndDispatch = () =>\n        table\n          .get(id)\n          .then((data) => {\n            if (data !== undefined) {\n              dispatch({\n                type: \"resolved\",\n                data,\n              });\n            } else {\n              dispatch({\n                type: \"empty\",\n              });\n            }\n          })\n          .catch((error) => {\n            dispatch({\n              type: \"error\",\n              error,\n            });\n          });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, id, effect]);\n\n  return state;\n};\n\nexport const useItemByAttr = <T, U>(table: Dexie.Table<T, U>, attr: string, attrValue: string) => {\n  const [effect, setEffect] = useState<boolean>(true);\n  const reducer = useCallback((state: ItemState<T>, action: ItemAction<T>): ItemState<T> => {\n    switch (action.type) {\n      case \"resolved\":\n        return [action.data, false, undefined];\n      case \"empty\":\n        return [undefined, false, undefined];\n      case \"error\":\n        return [undefined, false, action.error];\n      default:\n        return [undefined, true, undefined];\n    }\n  }, []);\n\n  const [state, dispatch] = useReducer(reducer, [undefined, true, undefined]);\n\n  useEffect(() => {\n    if (effect && table !== undefined) {\n      const getAndDispatch = () =>\n        table\n          .where(attr)\n          .equalsIgnoreCase(attrValue)\n          .first()\n          .then((data) => {\n            if (data !== undefined) {\n              dispatch({\n                type: \"resolved\",\n                data,\n              });\n            } else {\n              dispatch({\n                type: \"empty\",\n              });\n            }\n          })\n          .catch((error) => {\n            dispatch({\n              type: \"error\",\n              error,\n            });\n          });\n\n      getAndDispatch();\n      setEffect(false);\n    }\n  }, [table, attr, attrValue, effect]);\n\n  return state;\n};\n","import IEntity from \"../IEntity\";\nimport Player from \"./Player\";\n\nexport default class Encounter implements IEntity {\n  id?: number;\n  name: string;\n  enemies: Player[];\n  players: Player[];\n  isPlaying: boolean;\n  currentInit: number;\n  roundCounter: number;\n  map: string;\n  mapBase64: string;\n  dimension: { width: number; height: number; size: number; zoom: number };\n\n  constructor(\n    id?: number,\n    name?: string,\n    enemies?: Player[],\n    players?: Player[],\n    isPlaying?: boolean,\n    currentInit?: number,\n    roundCounter?: number,\n    map?: string,\n    mapBase64?: string,\n    dimension?: { width: number; height: number; size: number; zoom: number }\n  ) {\n    this.id = id;\n    this.name = name || \"\";\n    this.enemies = enemies || [];\n    this.players = players || [];\n    this.isPlaying = isPlaying || false;\n    this.currentInit = currentInit || 0;\n    this.roundCounter = roundCounter || 0;\n    this.map = map || \"\";\n    this.mapBase64 = mapBase64 || \"\";\n    this.dimension = dimension || { width: 20, height: 20, size: 20, zoom: 100 };\n  }\n}\n\nexport function isEncounter(arg: any): arg is Encounter {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const enemiesCheck = arg.enemies !== undefined && Array.isArray(arg.enemies);\n  const playersCheck = arg.players !== undefined && Array.isArray(arg.players);\n  const isPlayingCheck = arg.isPlaying !== undefined && typeof arg.isPlaying == \"boolean\";\n  const mapCheck = arg.map !== undefined && typeof arg.map == \"string\";\n  const mapBase64Check = arg.mapBase64 !== undefined && typeof arg.mapBase64 == \"string\";\n  const currentInitCheck = arg.currentInit !== undefined && typeof arg.currentInit == \"number\";\n  const roundCounterCheck = arg.roundCounter !== undefined && typeof arg.roundCounter == \"number\";\n  return (\n    arg &&\n    nameCheck &&\n    enemiesCheck &&\n    playersCheck &&\n    isPlayingCheck &&\n    mapCheck &&\n    mapBase64Check &&\n    currentInitCheck &&\n    roundCounterCheck\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Peer from \"peerjs\";\nimport { generateBrokerId } from \"../../services/PeerIdService\";\nimport { faExclamationCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport StringField from \"../form_elements/StringField\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Encounter from \"../../data/encounter/Encounter\";\n\ninterface $Props {\n  encounter?: Encounter;\n  isHost: boolean;\n  onEdit: (value: Encounter) => void;\n}\n\nconst P2PEncounter = ({ encounter, isHost, onEdit }: $Props) => {\n  const [peerId, setId] = useState<string>(\"\");\n  const [peer, setPeer] = useState<Peer>();\n  const [error, setError] = useState<any>();\n  const [connections, setConn] = useState<any[]>([]);\n  const [isChanged, setChanged] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (peer === undefined) {\n      const brokerId = generateBrokerId();\n      const newPeer = new Peer(brokerId, {\n        host: \"peerjs.thorbenkuck.de\",\n        secure: true,\n      });\n      newPeer.on(\"connection\", function (conn) {\n        setConn((con) => [...con, conn]);\n        conn.on(\"open\", function () {\n          conn.send(JSON.stringify(encounter));\n        });\n        conn.on(\"error\", function (errorData) {\n          setError(errorData);\n        });\n        conn.on(\"data\", function (data) {\n          if (encounter !== data) {\n            onEdit(JSON.parse(data));\n          }\n        });\n        conn.on(\"close\", function () {\n          setConn((con) => con.filter((con) => con !== conn));\n        });\n      });\n      setPeer(newPeer);\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (peer !== undefined && peerId !== \"\") {\n      let conn = peer.connect(peerId);\n      conn.on(\"open\", function () {\n        setConn((con) => [...con, conn]);\n      });\n      conn.on(\"data\", function (data) {\n        if (encounter !== data) {\n          setChanged(true);\n          onEdit(JSON.parse(data));\n        }\n      });\n      conn.on(\"close\", function () {\n        setConn((con) => con.filter((con) => con !== conn));\n      });\n    }\n\n    // eslint-disable-next-line\n  }, [peer, peerId, onEdit]);\n\n  useEffect(() => {\n    if (encounter && isHost) {\n      connections.forEach((conn) => {\n        conn.send(JSON.stringify(encounter));\n      });\n    }\n  }, [encounter, connections, isHost]);\n\n  useEffect(() => {\n    if (encounter && !isHost && !isChanged) {\n      connections.forEach((conn) => {\n        conn.send(JSON.stringify(encounter));\n      });\n    } else if (!isHost && isChanged) {\n      setChanged(false);\n    }\n\n    // eslint-disable-next-line\n  }, [encounter, connections, isHost]);\n\n  return (\n    <>\n      {peer !== undefined && isHost && (\n        <StringField\n          value={peer.id}\n          label={`Your ID:`}\n          onChange={() => {}}\n          style={{ minWidth: \"250px\", float: \"right\" }}\n        />\n      )}\n      {peer !== undefined && !isHost && (\n        <StringField\n          value={peerId}\n          label={\"ID to recive from\"}\n          onChange={setId}\n          style={{ minWidth: \"250px\", float: \"right\" }}\n        />\n      )}\n      {error && <Icon icon={faExclamationCircle} />}\n    </>\n  );\n};\n\nexport default P2PEncounter;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\ninterface $Props {\n  value: number;\n  max?: number;\n  showMax?: boolean;\n  onChange: (value: number) => void;\n}\n\nconst TinyNumberField = ({\n  value,\n  max,\n  showMax,\n  onChange,\n}: $Props) => {\n  return (\n    <Field>\n      {max !== undefined && (\n        <>\n          <Input\n            type=\"number\"\n            max={max}\n            value={value}\n            onChange={(e) => onChange(+e.target.value)}\n          />\n          {showMax && (\n            <Max>\n              {\"/ \"}\n              {max}\n            </Max>\n          )}\n        </>\n      )}\n      {max === undefined && (\n        <Input\n          type=\"number\"\n          value={value}\n          onChange={(e) => onChange(+e.target.value)}\n        />\n      )}\n    </Field>\n  );\n};\n\nexport default TinyNumberField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: 30px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 2px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Input = styled.input`\n  flex: 1 1 auto;\n  max-width: 4em;\n  height: 30px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  border-radius: 5px;\n`;\n\nconst Max = styled.span`\n  margin-left: 5px;\n`;\n","import { faEyeSlash } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Player from \"../../../data/encounter/Player\";\nimport NumberField from \"../../form_elements/NumberField\";\n\ninterface $Props {\n  isHost: boolean;\n  img: string;\n  players: Player[];\n  showName: boolean;\n  dimension: { width: number; height: number; size: number; zoom: number };\n  currentPlayerNumber: number;\n  onChangePlayers: (value: Player[]) => void;\n  onChangeDimension: (value: { width: number; height: number; size: number; zoom: number }) => void;\n}\n\nconst Board = ({\n  isHost,\n  img,\n  players,\n  showName,\n  dimension,\n  currentPlayerNumber,\n  onChangePlayers,\n  onChangeDimension,\n}: $Props) => {\n  const [board, setBoard] = useState<JSX.Element>();\n  const [dragItem, setDragItem] = useState<Player>();\n\n  const makeDrag = useCallback((player: Player) => {\n    setDragItem(player);\n  }, []);\n\n  const makeDrop = useCallback((): Player | undefined => {\n    return dragItem;\n  }, [dragItem]);\n\n  const makeRow = useCallback(\n    (row: number) => {\n      let list: any = [];\n      for (let j = 0; j < dimension.width; j++) {\n        list.push(\n          <PlayerSlot\n            isHost={isHost}\n            key={\"slot\" + row + \"\" + j}\n            cord={[row, j]}\n            showName={showName}\n            players={players}\n            size={dimension.size}\n            zoom={dimension.zoom / 100}\n            makeDrop={makeDrop}\n            makeDrag={makeDrag}\n            updatePlayers={onChangePlayers}\n            currentPlayerNumber={currentPlayerNumber}\n          ></PlayerSlot>\n        );\n      }\n      return list;\n    },\n    [dimension, players, showName, onChangePlayers, currentPlayerNumber, makeDrop, makeDrag, isHost]\n  );\n\n  const makeBoard = useCallback(() => {\n    let list: any = [];\n    for (let i = 0; i < dimension.height; i++) {\n      list.push(<BoardRow key={i}>{makeRow(i)}</BoardRow>);\n    }\n    setBoard(list);\n  }, [dimension, makeRow]);\n\n  useEffect(() => {\n    console.log(\"Redo Board\");\n    makeBoard();\n    // eslint-disable-next-line\n  }, [img, dimension, players, makeDrop, isHost]);\n\n  return (\n    <BoardWrapper>\n      <BoardBar>\n        <NumberField\n          value={dimension.zoom}\n          label=\"Zoom\"\n          step={10}\n          onChange={(zoom) => onChangeDimension({ ...dimension, zoom: zoom })}\n        />\n        <NumberField\n          value={dimension.width}\n          label=\"Horizontal\"\n          onChange={(width) => onChangeDimension({ ...dimension, width: width })}\n        />\n        <NumberField\n          value={dimension.height}\n          label=\"Vertical\"\n          onChange={(height) => onChangeDimension({ ...dimension, height: height })}\n        />\n        <NumberField\n          value={dimension.size}\n          label=\"Size\"\n          onChange={(size) => onChangeDimension({ ...dimension, size: size })}\n        />\n      </BoardBar>\n      <BoardContainer>\n        <BoardLayer>{board}</BoardLayer>\n        <MapLayer zoom={dimension.zoom / 100} src={img} />\n      </BoardContainer>\n    </BoardWrapper>\n  );\n};\n\nexport default Board;\n\ninterface $PlayerSlotProps {\n  isHost: boolean;\n  size: number;\n  zoom: number;\n  cord: number[];\n  showName: boolean;\n  currentPlayerNumber: number;\n  players: Player[];\n  makeDrop: () => Player | undefined;\n  makeDrag: (player: Player) => void;\n  updatePlayers: (players: Player[]) => void;\n}\nconst PlayerSlot = ({\n  isHost,\n  size,\n  zoom,\n  cord,\n  showName,\n  players,\n  currentPlayerNumber,\n  makeDrop,\n  makeDrag,\n  updatePlayers,\n}: $PlayerSlotProps) => {\n  const drop = (e: any, cord: number[]) => {\n    e.preventDefault();\n    let changedPlayer = makeDrop();\n    let newPlayers: Player[] = players.map((player: Player) => {\n      if (player === changedPlayer) {\n        return { ...player, cord: cord };\n      } else {\n        return player;\n      }\n    });\n    updatePlayers(newPlayers);\n  };\n\n  const drag = (e: any, player: Player) => {\n    console.log(\"drag\", player.name, player.cord);\n    makeDrag(player);\n  };\n\n  const dragOver = (e: any) => {\n    e.preventDefault();\n  };\n\n  const defineSize = useCallback(\n    (size: number, player: Player): number => {\n      if (player.isMonster) {\n        switch (player.size) {\n          case \"gargantuan\":\n            return size * 4 * zoom;\n          case \"huge\":\n            return size * 3 * zoom;\n          case \"large\":\n            return size * 2 * zoom;\n        }\n      }\n      return size * zoom;\n    },\n    [zoom]\n  );\n\n  return (\n    <Slot size={size * zoom} onDrop={(e) => drop(e, cord)} onDragOver={dragOver}>\n      {players\n        .filter((a) => !a.isVisible || isHost)\n        .map((playerIcon: Player, index: number) => {\n          if (\n            (playerIcon.cord === undefined && cord[0] === 0 && cord[1] === 0) ||\n            (playerIcon.cord !== undefined &&\n              playerIcon.cord[0] === cord[0] &&\n              playerIcon.cord[1] === cord[1])\n          )\n            return (\n              <Image\n                key={\"icon\" + index}\n                drag={drag}\n                player={playerIcon}\n                showName={showName}\n                dragOver={dragOver}\n                pic={playerIcon.pic}\n                size={defineSize(size, playerIcon)}\n                isDead={playerIcon.currentHp <= 0}\n                isCurrent={currentPlayerNumber === index}\n              />\n            );\n          return <Empty key={\"icon\" + index} />;\n        })}\n    </Slot>\n  );\n};\n\nconst BoardWrapper = styled.div`\n  flex: 1 1 min-content;\n  padding: 5px;\n  margin: 5px;\n  // position: relative;\n  max-width: calc(100vw - 120px);\n\n  @media (max-width: 576px) {\n    max-width: 100vw;\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n`;\nconst BoardContainer = styled.div`\n  flex: 1 1 100%;\n  position: relative;\n\n  max-width: calc(100% - 10px);\n\n  overflow: scroll;\n\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst BoardLayer = styled.div`\n  position: absolute;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n`;\n\ntype ZoomProp = {\n  zoom: number;\n};\n\nconst MapLayer = styled.img<ZoomProp>`\n  width: calc(800px * ${({ zoom }) => zoom});\n`;\n\nconst BoardBar = styled.div`\n  flex: 1 1 100%;\n\n  height: 50px;\n  width: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n`;\n\nconst BoardRow = styled.div`\n  flex: 1 1 auto;\n  min-width: max-content;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\ntype SizeProp = {\n  size: number;\n};\n\nconst Slot = styled.div<SizeProp>`\n  flex: 1;\n  min-height: ${({ size }) => size}px;\n  min-width: ${({ size }) => size}px;\n  max-height: ${({ size }) => size}px;\n  max-width: ${({ size }) => size}px;\n\n  box-sizing: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  position: releativ;\n`;\n\ninterface $ImageProps {\n  pic: string;\n  size: number;\n  showName: boolean;\n  isDead: boolean;\n  isCurrent: boolean;\n  player: Player;\n  drag: (e: any, player: Player) => void;\n  dragOver: any;\n}\n\nconst Image = ({ dragOver, drag, pic, size, showName, player, isDead, isCurrent }: $ImageProps) => {\n  if (pic !== \"\") {\n    const style = {\n      backgroundImage: `url(${pic})`,\n      backgroundPosition: \"center\",\n      backgroundSize: \"cover\",\n      backgroundRepeat: \"no-repeat\",\n      height: size - 6 + \"px\",\n      width: size - 6 + \"px\",\n      opacity: isDead ? \"0.5\" : \"1\",\n      border: isCurrent ? \"\" : \"none\",\n    };\n\n    return (\n      <ImageElm onDragStart={(e) => drag(e, player)} onDragOver={dragOver} draggable style={style}>\n        {player.isVisible && <FontAwesomeIcon icon={faEyeSlash} style={{ color: \"white\" }} />}\n      </ImageElm>\n    );\n  } else {\n    const style = {\n      height: size - 6 + \"px\",\n      width: size - 6 + \"px\",\n      opacity: isDead ? \"0.5\" : \"1\",\n      border: isCurrent ? \"\" : \"none\",\n      padding: size / 5 + \"px\",\n      fontSize: size / 6 + \"px\",\n    };\n\n    return (\n      <ImageElm onDragStart={(e) => drag(e, player)} onDragOver={dragOver} draggable style={style}>\n        {player.isVisible && <FontAwesomeIcon icon={faEyeSlash} />}\n        {showName ? player.name : \"???\"}\n      </ImageElm>\n    );\n  }\n};\n\nconst ImageElm = styled.div`\n  margin: 3px;\n  float: left;\n  border-radius: 500px;\n  border: 3px solid ${({ theme }) => theme.main.highlight};\n  box-shadow: 0px 0px 10px 0px rgba(172, 172, 172, 0.2);\n  background-color: white;\n  overflow: hidden;\n  box-sizing: border-box;\n  cursor: move;\n  position: absolute;\n  text-align: center;\n`;\n\nconst Empty = styled.div``;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport TextButton from \"../form_elements/TextButton\";\n\ninterface $Props {\n  text: string;\n  buttonText: string;\n  onButton: () => void;\n}\n\nconst ErrorTile = ({ text, buttonText, onButton }: $Props) => {\n  return (\n    <Tile>\n      <PropWrapper>\n        <Name>\n          <b>A problem occured!</b>\n        </Name>\n        <Text>\n          <PropTitle>Text: </PropTitle>\n          {text}\n        </Text>\n        <TextButton text={buttonText} onClick={() => onButton()} icon={faPlusCircle} />\n      </PropWrapper>\n    </Tile>\n  );\n};\n\nexport default ErrorTile;\n\nconst Tile = styled.div`\n  flex: 1 1 15em;\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ${({ theme }) => theme.tile.boxShadow};\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ${({ theme }) => theme.tile.headerColor};\n  text-align: center;\n  border-radius: 5px;\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst Text = styled.div`\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n","export default class Player {\n  name: string;\n  hp: number;\n  currentHp: number;\n  initBonus: number;\n  init: number;\n  ac: number;\n  tag: string;\n  isEnemy: boolean;\n  isMonster: boolean;\n  isNpc: boolean;\n  isVisible: boolean;\n  level: number;\n  cord: number[];\n  pic: string;\n  size: string;\n\n  constructor(\n    name?: string,\n    hp?: number,\n    tempHp?: number,\n    init?: number,\n    initBonus?: number,\n    ac?: number,\n    tag?: string,\n    isEnemy?: boolean,\n    isMonster?: boolean,\n    isNpc?: boolean,\n    isVisible?: boolean,\n    level?: number,\n    cord?: number[],\n    pic?: string,\n    size?: string\n  ) {\n    this.name = name || \"\";\n    this.hp = hp || 0;\n    this.currentHp = tempHp || 0;\n    this.initBonus = initBonus || 0;\n    this.init = init || -1;\n    this.ac = ac || 0;\n    this.tag = tag || \"\";\n    this.isEnemy = isEnemy || false;\n    this.isMonster = isMonster || false;\n    this.isNpc = isNpc || false;\n    this.isVisible = isVisible || true;\n    this.level = level || 0;\n    this.cord = cord || [0, 0];\n    this.pic = pic || \"\";\n    this.size = size || \"\";\n  }\n}\n\nexport function isPlayer(arg: any): arg is Player {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const hpCheck = arg.hp !== undefined && typeof arg.hp == \"number\";\n  const tempHpCheck = arg.tempHp !== undefined && typeof arg.tempHp == \"number\";\n  const initCheck = arg.init !== undefined && typeof arg.init == \"number\";\n  const initBonusCheck = arg.initBonus !== undefined && typeof arg.initBonus == \"number\";\n  const acCheck = arg.ac !== undefined && typeof arg.ac == \"number\";\n  const tagCheck = arg.tag !== undefined && typeof arg.tag == \"string\";\n  const levelCheck = arg.level !== undefined && typeof arg.level == \"number\";\n  const picCheck = arg.pic !== undefined && typeof arg.pic == \"string\";\n  const sizeCheck = arg.size !== undefined && typeof arg.size == \"string\";\n  return (\n    arg &&\n    nameCheck &&\n    hpCheck &&\n    tempHpCheck &&\n    initCheck &&\n    initBonusCheck &&\n    acCheck &&\n    tagCheck &&\n    levelCheck &&\n    picCheck &&\n    sizeCheck\n  );\n}\n","import Encounter from \"../data/encounter/Encounter\";\nimport Player from \"../data/encounter/Player\";\n\nconst crExpTable: { cr: number; exp: number }[] = [\n  { cr: 0, exp: 0 },\n  { cr: 0.125, exp: 25 },\n  { cr: 0.25, exp: 50 },\n  { cr: 0.5, exp: 100 },\n  { cr: 1, exp: 200 },\n  { cr: 2, exp: 450 },\n  { cr: 3, exp: 700 },\n  { cr: 4, exp: 1100 },\n  { cr: 5, exp: 1800 },\n  { cr: 6, exp: 2300 },\n  { cr: 7, exp: 2900 },\n  { cr: 8, exp: 3900 },\n  { cr: 9, exp: 5000 },\n  { cr: 10, exp: 5900 },\n  { cr: 11, exp: 7200 },\n  { cr: 12, exp: 8400 },\n  { cr: 13, exp: 10000 },\n  { cr: 14, exp: 11500 },\n  { cr: 15, exp: 13000 },\n  { cr: 16, exp: 15000 },\n  { cr: 17, exp: 18000 },\n  { cr: 18, exp: 20000 },\n  { cr: 19, exp: 22000 },\n  { cr: 20, exp: 25000 },\n  { cr: 21, exp: 33000 },\n  { cr: 22, exp: 41000 },\n  { cr: 23, exp: 50000 },\n  { cr: 24, exp: 62000 },\n  { cr: 25, exp: 75000 },\n  { cr: 26, exp: 90000 },\n  { cr: 27, exp: 105000 },\n  { cr: 28, exp: 120000 },\n  { cr: 29, exp: 135000 },\n  { cr: 30, exp: 155000 },\n];\n\nconst expTable: {\n  level: number;\n  easy: number;\n  medium: number;\n  hard: number;\n  deadly: number;\n}[] = [\n  { level: 1, easy: 25, medium: 50, hard: 75, deadly: 100 },\n  { level: 2, easy: 50, medium: 100, hard: 150, deadly: 200 },\n  { level: 3, easy: 75, medium: 150, hard: 225, deadly: 400 },\n  { level: 4, easy: 125, medium: 250, hard: 375, deadly: 500 },\n  { level: 5, easy: 250, medium: 500, hard: 750, deadly: 1100 },\n  { level: 6, easy: 300, medium: 600, hard: 900, deadly: 1400 },\n  { level: 7, easy: 350, medium: 750, hard: 1100, deadly: 1700 },\n  { level: 8, easy: 450, medium: 900, hard: 1400, deadly: 2100 },\n  { level: 9, easy: 550, medium: 1100, hard: 1600, deadly: 2400 },\n  { level: 10, easy: 600, medium: 1200, hard: 1900, deadly: 2800 },\n  { level: 11, easy: 800, medium: 1600, hard: 2400, deadly: 3600 },\n  { level: 12, easy: 1000, medium: 2000, hard: 3000, deadly: 4500 },\n  { level: 13, easy: 1100, medium: 2200, hard: 3400, deadly: 5100 },\n  { level: 14, easy: 1250, medium: 2500, hard: 3800, deadly: 5700 },\n  { level: 15, easy: 1400, medium: 2800, hard: 4300, deadly: 6400 },\n  { level: 16, easy: 1600, medium: 3200, hard: 4800, deadly: 7200 },\n  { level: 17, easy: 2000, medium: 3900, hard: 5900, deadly: 8800 },\n  { level: 18, easy: 2100, medium: 4200, hard: 6300, deadly: 9500 },\n  { level: 19, easy: 2400, medium: 4900, hard: 7300, deadly: 10900 },\n  { level: 20, easy: 2800, medium: 5700, hard: 8500, deadly: 12700 },\n];\n\nexport const calcDifficulty = (encounter: Encounter) => {\n  let calcExp: {\n    easy: number;\n    medium: number;\n    hard: number;\n    deadly: number;\n  } = { easy: 0, medium: 0, hard: 0, deadly: 0 };\n  encounter.players.forEach((player: Player) => {\n    if (expTable.length >= player.level) {\n      calcExp.easy += expTable[player.level].easy;\n      calcExp.medium += expTable[player.level].medium;\n      calcExp.hard += expTable[player.level].hard;\n      calcExp.deadly += expTable[player.level].deadly;\n    }\n  });\n\n  let enemyExp: number = 0;\n  encounter.enemies.forEach((enemy: Player) => {\n    crExpTable.forEach((crExp: { cr: number; exp: number }) => {\n      if (enemy.level === crExp.cr) {\n        enemyExp += crExp.exp;\n      }\n    });\n  });\n\n  if (encounter.enemies.length === 1) {\n    enemyExp = enemyExp * 1;\n  } else if (encounter.enemies.length <= 3) {\n    enemyExp = enemyExp * 1.5;\n  } else if (encounter.enemies.length <= 6) {\n    enemyExp = enemyExp * 2;\n  } else if (encounter.enemies.length <= 10) {\n    enemyExp = enemyExp * 2.5;\n  } else if (encounter.enemies.length <= 14) {\n    enemyExp = enemyExp * 3;\n  } else if (encounter.enemies.length > 14) {\n    enemyExp = enemyExp * 4;\n  }\n\n  let difficulty = \"\";\n  if (calcExp.easy + (calcExp.medium - calcExp.easy) / 2 > enemyExp) {\n    difficulty = \"Easy (\" + enemyExp + \" Exp)\";\n  } else if (calcExp.medium + (calcExp.hard - calcExp.medium) / 2 > enemyExp) {\n    difficulty = \"Medium (\" + enemyExp + \" Exp)\";\n  } else if (calcExp.hard + (calcExp.deadly - calcExp.hard) / 2 > enemyExp) {\n    difficulty = \"Hard (\" + enemyExp + \" Exp)\";\n  } else {\n    difficulty = \"Deadly (\" + enemyExp + \" Exp)\";\n  }\n\n  return { difficulty: difficulty, calcExp: calcExp };\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\nimport Select from \"react-select\";\n\ninterface $Props {\n  options: {\n    value: string;\n    label: string;\n  }[];\n  value: string;\n  label: string;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: string) => void;\n}\n\nconst SingleSelectField = ({ options, value, label, icon, transform, onChange }: $Props) => {\n  const handleChange = (option: { value: string; label: string }) => {\n    if (option !== null && option !== undefined) {\n      onChange(option.value);\n    }\n  };\n\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      <StyledSelect\n        isMulti={false}\n        classNamePrefix=\"react-select\"\n        value={{\n          value: value,\n          label: value,\n        }}\n        options={options}\n        onChange={(option: { value: string; label: string }) => handleChange(option)}\n      />\n    </Field>\n  );\n};\n\nexport default SingleSelectField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1 auto;\n`;\n\nconst StyledSelect = styled(Select)`\n  flex: 3 2 auto;\n  box-sizing: border-box;\n  border: none;\n  min-width: 120px;\n\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n\n  .react-select__single-value {\n    color: ${({ theme }) => theme.input.color};\n  }\n  .react-select__control {\n    background-color: ${({ theme }) => theme.input.backgroundColor};\n    border: none;\n    border-radius: 5px;\n  }\n  .react-select__menu {\n    background-color: ${({ theme }) => theme.input.backgroundColor};\n\n    .react-select__option:hover {\n      background-color: ${({ theme }) => theme.buttons.backgroundColor};\n      color: ${({ theme }) => theme.buttons.color};\n    }\n    .react-select__option--is-focused {\n      background-color: ${({ theme }) => theme.buttons.backgroundColor};\n      color: ${({ theme }) => theme.buttons.color};\n    }\n  }\n`;\n","import { faPlus, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { isNpc } from \"../../../../data/campaign/Npc\";\nimport { isChar } from \"../../../../data/chars/Char\";\nimport ClassSet from \"../../../../data/chars/ClassSet\";\nimport Encounter from \"../../../../data/encounter/Encounter\";\nimport Player from \"../../../../data/encounter/Player\";\nimport { isMonster } from \"../../../../data/Monster\";\nimport { recivePromiseByAttribute } from \"../../../../services/DatabaseService\";\nimport { calcDifficulty } from \"../../../../services/EncounterService\";\nimport AutoStringField from \"../../../form_elements/AutoStringField\";\nimport IconButton from \"../../../form_elements/IconButton\";\nimport ImageImportField from \"../../../form_elements/ImageField\";\nimport NumberField from \"../../../form_elements/NumberField\";\nimport SingleSelectField from \"../../../form_elements/SingleSelectField\";\nimport StringField from \"../../../form_elements/StringField\";\nimport TextButton from \"../../../form_elements/TextButton\";\n\ninterface $Props {\n  encounter: Encounter;\n  onEdit: (value: Encounter) => void;\n}\n\nconst EncounterEditView = ({ encounter, onEdit }: $Props) => {\n  const [difficulty, setDifficulty] = useState<string>(\"\");\n  const [expArray, setExpArray] = useState<string>(\"\");\n\n  useEffect(() => {\n    const { difficulty, calcExp } = calcDifficulty(encounter);\n    setDifficulty(difficulty);\n    setExpArray(\n      \"Easy: \" +\n        calcExp.easy +\n        \" | Medium: \" +\n        calcExp.medium +\n        \" | Hard: \" +\n        calcExp.hard +\n        \" | Deadly: \" +\n        calcExp.deadly\n    );\n  }, [encounter]);\n\n  const removeEnemy = (i: number) => {\n    let newEnemyList = [...encounter.enemies];\n    newEnemyList.splice(i, 1);\n    onEdit({ ...encounter, enemies: newEnemyList });\n  };\n  const addNewEnemy = () => {\n    let newEnemyList = [...encounter.enemies];\n    newEnemyList.push(new Player());\n    onEdit({ ...encounter, enemies: newEnemyList });\n  };\n  const onChangeEnemyField = (\n    field: string,\n    newEnemy: string | number,\n    oldEnemy: Player,\n    i: number\n  ) => {\n    let enemies = [...encounter.enemies];\n    enemies[i] = { ...oldEnemy, [field]: newEnemy };\n    onEdit({ ...encounter, enemies: enemies });\n  };\n  const onChangeEnemy = async (newEnemy: string, oldEnemy: Player, i: number) => {\n    let enemies = [...encounter.enemies];\n\n    let found: any[] = [];\n    found.push(recivePromiseByAttribute(\"monsters\", \"name\", newEnemy));\n    found.push(recivePromiseByAttribute(\"npcs\", \"name\", newEnemy));\n    found.push(recivePromiseByAttribute(\"chars\", \"name\", newEnemy));\n    let results = await Promise.all(found);\n    results = results.filter((e) => e !== undefined);\n\n    if (results[0] && isMonster(results[0])) {\n      enemies[i] = {\n        ...oldEnemy,\n        name: newEnemy,\n        hp: results[0].hp,\n        currentHp: results[0].hp,\n        ac: results[0].ac,\n        isEnemy: true,\n        isMonster: true,\n        isNpc: false,\n        isVisible: true,\n        level: results[0].cr,\n        pic: results[0].pic,\n        size: results[0].size,\n      };\n      onEdit({ ...encounter, enemies: enemies });\n    } else if (results[0] && isChar(results[0])) {\n      let level = 0;\n      results[0].classes.forEach((classSet: ClassSet) => {\n        level += classSet.level;\n      });\n      enemies[i] = {\n        ...oldEnemy,\n        name: newEnemy,\n        hp: results[0].hp,\n        currentHp: results[0].hp,\n        ac: results[0].ac,\n        isEnemy: true,\n        isMonster: true,\n        isNpc: false,\n        isVisible: true,\n        level: level,\n        pic: results[0].pic,\n        size: \"medium\",\n      };\n      onEdit({ ...encounter, enemies: enemies });\n    } else if (results[0] && isNpc(results[0])) {\n      if (results[0].monster !== undefined) {\n        enemies[i] = {\n          ...oldEnemy,\n          name: newEnemy,\n          hp: results[0].monster.hp,\n          currentHp: results[0].monster.hp,\n          ac: results[0].monster.ac,\n          isEnemy: true,\n          isMonster: true,\n          isNpc: true,\n          isVisible: true,\n          level: results[0].monster.cr,\n          pic: results[0].monster.pic,\n          size: results[0].monster.size,\n        };\n      } else if (results[0].char !== undefined) {\n        let level = 0;\n        results[0].char.classes.forEach((classSet: ClassSet) => {\n          level += classSet.level;\n        });\n        enemies[i] = {\n          ...oldEnemy,\n          name: newEnemy,\n          hp: results[0].char.hp,\n          currentHp: results[0].char.hp,\n          ac: results[0].char.ac,\n          isEnemy: true,\n          isMonster: false,\n          isNpc: true,\n          isVisible: true,\n          level: level,\n          pic: results[0].char.pic,\n          size: \"medium\",\n        };\n      } else {\n        enemies[i] = { ...oldEnemy, name: newEnemy, isNpc: true };\n      }\n      onEdit({ ...encounter, enemies: enemies });\n    } else {\n      enemies[i] = { ...oldEnemy, name: newEnemy };\n      onEdit({ ...encounter, enemies: enemies });\n    }\n  };\n\n  const removePlayer = (i: number) => {\n    let newPlayerList = [...encounter.players];\n    newPlayerList.splice(i, 1);\n    onEdit({ ...encounter, players: newPlayerList });\n  };\n  const addNewPlayer = () => {\n    let newPlayerList = [...encounter.players];\n    newPlayerList.push(new Player());\n    onEdit({ ...encounter, players: newPlayerList });\n  };\n  const onChangePlayerField = (\n    field: string,\n    newPlayer: string | number,\n    oldPlayer: Player,\n    i: number\n  ) => {\n    let players = [...encounter.players];\n    players[i] = { ...oldPlayer, [field]: newPlayer };\n    onEdit({ ...encounter, players: players });\n  };\n  const onChangePlayer = async (newPlayer: string, oldPlayer: Player, i: number) => {\n    let players = [...encounter.players];\n\n    let found: any[] = [];\n    found.push(recivePromiseByAttribute(\"monsters\", \"name\", newPlayer));\n    found.push(recivePromiseByAttribute(\"npcs\", \"name\", newPlayer));\n    found.push(recivePromiseByAttribute(\"chars\", \"name\", newPlayer));\n    let results = await Promise.all(found);\n    results = results.filter((e) => e !== undefined);\n\n    console.log(results[0] && isChar(results[0]));\n    if (results[0] && isMonster(results[0])) {\n      players[i] = {\n        ...oldPlayer,\n        name: newPlayer,\n        hp: results[0].hp,\n        currentHp: results[0].hp,\n        ac: results[0].ac,\n        isEnemy: false,\n        isMonster: true,\n        isNpc: false,\n        isVisible: true,\n        level: results[0].cr,\n        pic: results[0].pic,\n        size: results[0].size,\n      };\n      onEdit({ ...encounter, players: players });\n    } else if (results[0] && isChar(results[0])) {\n      let level = 0;\n      results[0].classes.forEach((classSet: ClassSet) => {\n        level += classSet.level;\n      });\n      console.log(results[0]);\n      players[i] = {\n        ...oldPlayer,\n        name: newPlayer,\n        hp: results[0].hp,\n        currentHp: results[0].hp,\n        ac: results[0].ac,\n        isEnemy: false,\n        isMonster: false,\n        isNpc: false,\n        isVisible: true,\n        level: level,\n        pic: results[0].pic,\n        size: \"medium\",\n      };\n      onEdit({ ...encounter, players: players });\n    } else if (results[0] && isNpc(results[0])) {\n      if (results[0].monster !== undefined) {\n        players[i] = {\n          ...oldPlayer,\n          name: newPlayer,\n          hp: results[0].monster.hp,\n          currentHp: results[0].monster.hp,\n          ac: results[0].monster.ac,\n          isEnemy: false,\n          isMonster: true,\n          isNpc: true,\n          isVisible: true,\n          level: results[0].monster.cr,\n          pic: results[0].monster.pic,\n          size: results[0].monster.size,\n        };\n      } else if (results[0].char !== undefined) {\n        let level = 0;\n        results[0].char.classes.forEach((classSet: ClassSet) => {\n          level += classSet.level;\n        });\n        players[i] = {\n          ...oldPlayer,\n          name: newPlayer,\n          hp: results[0].char.hp,\n          currentHp: results[0].char.hp,\n          ac: results[0].char.ac,\n          isMonster: false,\n          isEnemy: false,\n          isNpc: true,\n          isVisible: true,\n          level: level,\n          pic: results[0].char.pic,\n          size: \"medium\",\n        };\n      } else {\n        players[i] = { ...oldPlayer, name: newPlayer, isNpc: true };\n      }\n      onEdit({ ...encounter, players: players });\n    } else {\n      players[i] = { ...oldPlayer, name: newPlayer };\n      onEdit({ ...encounter, players: players });\n    }\n  };\n\n  return (\n    <CenterWrapper>\n      <View>\n        <StringField\n          value={encounter.name}\n          label=\"Encounter Name\"\n          onChange={(name) => onEdit({ ...encounter, name: name })}\n        />\n        <StringField\n          value={encounter.map}\n          label=\"Map\"\n          onChange={(newMap) => onEdit({ ...encounter, map: newMap })}\n        />\n        <FieldGroup>\n          <ImageImportField\n            label=\"Map\"\n            onFinished={(base64) => onEdit({ ...encounter, mapBase64: base64 })}\n          />\n          <IconButton icon={faTrash} onClick={() => onEdit({ ...encounter, mapBase64: \"\" })} />\n        </FieldGroup>\n      </View>\n      <View>\n        <PropWrapper>\n          <Prop>\n            <PropTitle>Difficulty: </PropTitle>\n            {difficulty}\n          </Prop>\n          <Prop>\n            <PropTitle>Exp: </PropTitle>\n            {expArray}\n          </Prop>\n        </PropWrapper>\n      </View>\n      <CharView>\n        {encounter.enemies.map((enemy: Player, index: number) => {\n          return (\n            <Container key={index}>\n              <AutoStringField\n                optionTable={[\"monsters\", \"chars\", \"npcs\"]}\n                value={enemy.name}\n                label=\"Monster\"\n                onChange={(newMonster) => onChangeEnemy(newMonster, enemy, index)}\n              />\n              <NumberField\n                value={enemy.currentHp}\n                label=\"Current Hp\"\n                onChange={(currentHp) => onChangeEnemyField(\"currentHp\", currentHp, enemy, index)}\n              />\n              <NumberField\n                value={enemy.hp}\n                label=\"Hp\"\n                onChange={(hp) => onChangeEnemyField(\"hp\", hp, enemy, index)}\n              />\n              <NumberField\n                value={enemy.ac}\n                label=\"AC\"\n                onChange={(ac) => onChangeEnemyField(\"ac\", ac, enemy, index)}\n              />\n              <NumberField\n                value={enemy.initBonus}\n                label=\"Init Bonus\"\n                onChange={(initBonus) => onChangeEnemyField(\"initBonus\", initBonus, enemy, index)}\n              />\n              <NumberField\n                value={enemy.level}\n                label=\"Cr\"\n                onChange={(level) => onChangeEnemyField(\"level\", level, enemy, index)}\n              />\n              <StringField\n                value={enemy.pic}\n                label=\"Pic\"\n                onChange={(pic) => onChangeEnemyField(\"pic\", pic, enemy, index)}\n              />\n              <SingleSelectField\n                options={[\n                  { value: \"tiny\", label: \"tiny\" },\n                  { value: \"small\", label: \"small\" },\n                  { value: \"medium\", label: \"medium\" },\n                  { value: \"large\", label: \"large\" },\n                  { value: \"huge\", label: \"huge\" },\n                  { value: \"gargantuan\", label: \"gargantuan\" },\n                ]}\n                value={enemy.size}\n                label={\"Size\"}\n                onChange={(size) => onChangePlayerField(\"size\", size, enemy, index)}\n              />\n              <IconButton icon={faTrash} onClick={() => removeEnemy(index)} />\n            </Container>\n          );\n        })}\n        <Container>\n          <TextButton text={\"Add new Monster\"} icon={faPlus} onClick={() => addNewEnemy()} />\n        </Container>\n      </CharView>\n      <CharView>\n        {encounter.players.map((player: Player, index: number) => {\n          return (\n            <Container key={index}>\n              <AutoStringField\n                optionTable={[\"monsters\", \"chars\", \"npcs\"]}\n                value={player.name}\n                label=\"Character\"\n                onChange={(newPlayer) => onChangePlayer(newPlayer, player, index)}\n              />\n              <NumberField\n                value={player.currentHp}\n                label=\"Current Hp\"\n                onChange={(currentHp) => onChangePlayerField(\"currentHp\", currentHp, player, index)}\n              />\n              <NumberField\n                value={player.hp}\n                label=\"Hp\"\n                onChange={(hp) => onChangePlayerField(\"hp\", hp, player, index)}\n              />\n              <NumberField\n                value={player.ac}\n                label=\"AC\"\n                onChange={(ac) => onChangePlayerField(\"ac\", ac, player, index)}\n              />\n              <NumberField\n                value={player.initBonus}\n                label=\"Init Bonus\"\n                onChange={(initBonus) => onChangePlayerField(\"initBonus\", initBonus, player, index)}\n              />\n              <NumberField\n                value={player.level}\n                label=\"Level\"\n                onChange={(level) => onChangePlayerField(\"level\", level, player, index)}\n              />\n              <StringField\n                value={player.pic}\n                label=\"Pic\"\n                onChange={(pic) => onChangePlayerField(\"pic\", pic, player, index)}\n              />\n              <SingleSelectField\n                options={[\n                  { value: \"tiny\", label: \"tiny\" },\n                  { value: \"small\", label: \"small\" },\n                  { value: \"medium\", label: \"medium\" },\n                  { value: \"large\", label: \"large\" },\n                  { value: \"huge\", label: \"huge\" },\n                  { value: \"gargantuan\", label: \"gargantuan\" },\n                ]}\n                value={player.size}\n                label={\"Size\"}\n                onChange={(size) => onChangePlayerField(\"size\", size, player, index)}\n              />\n              <IconButton icon={faTrash} onClick={() => removePlayer(index)} />\n            </Container>\n          );\n        })}\n        <Container>\n          <TextButton text={\"Add new Character\"} icon={faPlus} onClick={() => addNewPlayer()} />\n        </Container>\n      </CharView>\n    </CenterWrapper>\n  );\n};\n\nexport default EncounterEditView;\n\nconst CenterWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst View = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  padding: 5px;\n  flex: 1 1;\n  min-width: calc(100% - 40px);\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst CharView = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: stretch;\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  flex: 1 1 600px;\n`;\n\nconst Prop = styled.div`\n  flex: 1 1 auto;\n  height: auto;\n  margin: 2px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ${({ theme }) => theme.main.highlight};\n  }\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst FieldGroup = styled.div`\n  flex: 2 2 auto;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n\n  @media (max-width: 576px) {\n    flex-wrap: wrap;\n  }\n`;\n","import {\n  faEye,\n  faEyeSlash,\n  faHandHoldingHeart,\n  faPlayCircle,\n  faSkullCrossbones,\n  faStepForward,\n  faStopCircle,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { GiBroadsword, GiHeartBottle } from \"react-icons/gi\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\nimport Encounter from \"../../../../data/encounter/Encounter\";\nimport Player from \"../../../../data/encounter/Player\";\nimport { rollDie } from \"../../../../services/DiceService\";\nimport IconButton from \"../../../form_elements/IconButton\";\nimport TextButton from \"../../../form_elements/TextButton\";\nimport TinyNumberField from \"../../../form_elements/TinyNumberField\";\nimport Board from \"../../../general_elements/board/Board\";\nimport { DamageDialog } from \"../../../general_elements/Dialog\";\nimport { calcDifficulty } from \"../../../../services/EncounterService\";\nimport { LoadingSpinner } from \"../../../Loading\";\n\ninterface $Props {\n  encounter: Encounter;\n  dmView: boolean;\n  onEdit: (value: Encounter) => void;\n}\n\nconst EncounterView = ({ encounter, dmView, onEdit }: $Props) => {\n  let history = useHistory();\n  const [damageDialog, setDamageDialog] = useState<boolean>(false);\n  const [damageDialogIndex, setDamageDialogIndex] = useState<number>(0);\n  const [difficulty, setDifficulty] = useState<string>(\"\");\n  const [players, setPlayers] = useState<Player[]>([]);\n\n  useEffect(() => {\n    if (encounter !== undefined) {\n      const { difficulty } = calcDifficulty(encounter);\n      setDifficulty(difficulty);\n    }\n  }, [encounter]);\n\n  useEffect(() => {\n    if (encounter !== undefined) {\n      console.log([...encounter.players, ...encounter.enemies]);\n      setPlayers([...encounter.players, ...encounter.enemies]);\n    }\n  }, [encounter]);\n\n  const onChangePlayerField = (\n    field: string,\n    newField: string | number | boolean,\n    oldPlayer: Player\n  ) => {\n    if (encounter !== undefined) {\n      if (oldPlayer.isEnemy) {\n        let newPlayers = encounter.enemies.map((newPlayer: Player) => {\n          if (oldPlayer === newPlayer) {\n            return { ...newPlayer, [field]: newField };\n          } else {\n            return newPlayer;\n          }\n        });\n        onEdit({ ...encounter, enemies: newPlayers });\n      } else {\n        let newPlayers = encounter.players.map((newPlayer: Player) => {\n          if (oldPlayer === newPlayer) {\n            return { ...newPlayer, [field]: newField };\n          } else {\n            return newPlayer;\n          }\n        });\n        onEdit({ ...encounter, players: newPlayers });\n      }\n    }\n  };\n\n  const killPlayer = (enemy: Player) => {\n    onChangePlayerField(\"currentHp\", 0, enemy);\n  };\n\n  const revicePlayer = (enemy: Player) => {\n    onChangePlayerField(\"currentHp\", 1, enemy);\n  };\n\n  const startEncounter = () => {\n    if (encounter !== undefined) {\n      let newPlayers = encounter.players.map((player: Player) => {\n        if (player.init < 0) {\n          let roll = rollDie(20);\n          roll += player.initBonus || 0;\n          return { ...player, init: roll };\n        } else {\n          return player;\n        }\n      });\n      let newEnemies = encounter.enemies.map((enemy: Player) => {\n        if (enemy.init < 0) {\n          let roll = rollDie(20);\n          roll += enemy.initBonus || 0;\n          return { ...enemy, init: roll };\n        } else {\n          return enemy;\n        }\n      });\n      onEdit({\n        ...encounter,\n        enemies: newEnemies,\n        players: newPlayers,\n        isPlaying: true,\n        currentInit: 0,\n        roundCounter: 0,\n      });\n    }\n  };\n\n  const finishEncounter = () => {\n    if (encounter !== undefined) {\n      let newPlayers = encounter.players.map((player: Player) => {\n        return { ...player, init: -1 };\n      });\n      let newEnemies = encounter.enemies.map((enemy: Player) => {\n        return { ...enemy, init: -1 };\n      });\n      onEdit({\n        ...encounter,\n        enemies: newEnemies,\n        players: newPlayers,\n        isPlaying: false,\n        currentInit: 0,\n        roundCounter: 0,\n      });\n    }\n  };\n\n  const nextPlayer = () => {\n    if (encounter !== undefined) {\n      let nextInit = (encounter.currentInit + 1) % players.length;\n      let roundCounter = encounter.roundCounter;\n      if ((encounter.currentInit + 1) % players.length === 0) {\n        roundCounter++;\n      }\n\n      let counter = 0;\n      while (players[nextInit].currentHp <= 0 || players[nextInit].isVisible) {\n        if ((nextInit + 1) % players.length === 0) {\n          roundCounter++;\n        }\n        nextInit = (nextInit + 1) % players.length;\n        counter++;\n        if (counter > players.length) {\n          break;\n        }\n      }\n      if (counter > players.length) {\n        finishEncounter();\n      } else {\n        onEdit({\n          ...encounter,\n          currentInit: nextInit,\n          roundCounter: roundCounter,\n        });\n      }\n    }\n  };\n\n  const onChangePlayers = useCallback(\n    (players: Player[]) => {\n      if (encounter !== undefined) {\n        if (players !== encounter.players) {\n          let newPlayers: Player[] = [];\n          players.forEach((player: Player) => {\n            if (!player.isEnemy) {\n              newPlayers.push(player);\n            }\n          });\n          let newEnemies: Player[] = [];\n          players.forEach((player: Player) => {\n            if (player.isEnemy) {\n              newEnemies.push(player);\n            }\n          });\n          onEdit({ ...encounter, players: newPlayers, enemies: newEnemies });\n        }\n      }\n    },\n    [encounter, onEdit]\n  );\n\n  const showDamageDialog = (i: number) => {\n    setDamageDialogIndex(i);\n    setDamageDialog(true);\n  };\n\n  const getMap = useCallback(() => {\n    if (encounter !== undefined) {\n      if (\n        encounter.mapBase64 !== \"\" &&\n        encounter.mapBase64 !== null &&\n        encounter.mapBase64 !== undefined\n      ) {\n        return encounter.mapBase64;\n      } else if (encounter.map !== \"\" && encounter.map !== null && encounter.map !== undefined) {\n        return encounter.map;\n      }\n    }\n    return \"\";\n  }, [encounter]);\n\n  const toggleVisibility = (player: Player) => {\n    onChangePlayerField(\"isVisible\", !player.isVisible, player);\n  };\n\n  return (\n    <>\n      <CenterWrapper>\n        {encounter && damageDialog && (\n          <DamageDialog\n            name={players[damageDialogIndex].name}\n            damageText={\"Damage\"}\n            damageClick={(currentHp) => {\n              onChangePlayerField(\n                \"currentHp\",\n                players[damageDialogIndex].currentHp - currentHp,\n                players[damageDialogIndex]\n              );\n              setDamageDialog(false);\n            }}\n            healText={\"Heal\"}\n            healClick={(currentHp) => {\n              onChangePlayerField(\n                \"currentHp\",\n                players[damageDialogIndex].currentHp + currentHp > players[damageDialogIndex].hp\n                  ? players[damageDialogIndex].hp\n                  : players[damageDialogIndex].currentHp + currentHp,\n                players[damageDialogIndex]\n              );\n              setDamageDialog(false);\n            }}\n            abortText={\"Back\"}\n            abortClick={() => {\n              setDamageDialog(false);\n            }}\n          />\n        )}\n        <View mode={dmView ? 1 : 0}>\n          <Name>\n            <b>{encounter?.name}</b>\n          </Name>\n          <PropWrapper>\n            {dmView && (\n              <PropElm>\n                <PropTitle>Difficulty: </PropTitle>\n                {difficulty}\n              </PropElm>\n            )}\n            <PropElm>\n              <PropTitle>Round: </PropTitle>\n              {encounter?.roundCounter}\n            </PropElm>\n            {encounter && !encounter.isPlaying && (\n              <TextButton\n                text={\"Start Encounter\"}\n                icon={faPlayCircle}\n                onClick={() => startEncounter()}\n              />\n            )}\n            {encounter && encounter.isPlaying && (\n              <>\n                <TextButton text={\"Next\"} icon={faStepForward} onClick={() => nextPlayer()} />\n                <TextButton\n                  text={\"End Encounter\"}\n                  icon={faStopCircle}\n                  onClick={() => finishEncounter()}\n                />\n              </>\n            )}\n          </PropWrapper>\n          {!encounter && <LoadingSpinner />}\n          {encounter && (\n            <Table>\n              <thead>\n                <tr>\n                  <th>Init</th>\n                  <th>Name</th>\n                  {dmView && <th>Current Hp</th>}\n                  {dmView && <th>AC</th>}\n                  <th></th>\n                </tr>\n              </thead>\n              <tbody>\n                {encounter &&\n                  players\n                    .sort((a: Player, b: Player) => {\n                      if (b.init === a.init || !encounter.isPlaying) {\n                        return a.name.localeCompare(b.name);\n                      }\n                      return b.init - a.init;\n                    })\n                    .filter((a) => !a.isVisible || dmView)\n                    .map((player: Player, index: number) => {\n                      return (\n                        <Row\n                          current={encounter.currentInit === index && encounter.isPlaying}\n                          isDead={player.currentHp <= 0}\n                          key={index}\n                        >\n                          <PropField>\n                            <TinyNumberField\n                              value={player.init}\n                              onChange={(init) => onChangePlayerField(\"init\", init, player)}\n                            />\n                          </PropField>\n                          <Prop>\n                            {player.pic !== \"\" && player.pic !== undefined ? (\n                              <PlayerImage player={player}></PlayerImage>\n                            ) : (\n                              <></>\n                            )}\n                            {player.isMonster && (\n                              <MainLink\n                                onClick={() => history.push(`/monster-detail/name/${player.name}`)}\n                              >\n                                {dmView ? player.name : \"???\"}\n                              </MainLink>\n                            )}\n                            {!player.isMonster && (\n                              <MainLink\n                                onClick={() => history.push(`/char-detail/name/${player.name}`)}\n                              >\n                                {player.name}\n                              </MainLink>\n                            )}\n                          </Prop>\n                          <PropRight>\n                            <DamageButton onClick={() => showDamageDialog(index)}>\n                              <GiBroadsword />\n                              <GiHeartBottle />\n                            </DamageButton>\n                            {dmView && `${player.currentHp} / ${player.hp}`}\n                          </PropRight>\n                          {dmView && <Prop>{player.ac}</Prop>}\n                          {/* <Prop>{player.tag}</Prop> */}\n                          <td>\n                            {player.currentHp > 0 && (\n                              <IconButton\n                                icon={faSkullCrossbones}\n                                onClick={() => killPlayer(player)}\n                              />\n                            )}\n                            {player.currentHp <= 0 && (\n                              <IconButton\n                                icon={faHandHoldingHeart}\n                                onClick={() => revicePlayer(player)}\n                              />\n                            )}\n                            {player.isVisible && (\n                              <IconButton\n                                icon={faEyeSlash}\n                                onClick={() => toggleVisibility(player)}\n                              />\n                            )}\n                            {!player.isVisible && (\n                              <IconButton icon={faEye} onClick={() => toggleVisibility(player)} />\n                            )}\n                          </td>\n                        </Row>\n                      );\n                    })}\n              </tbody>\n            </Table>\n          )}\n        </View>\n        {encounter && getMap() !== \"\" && (\n          <Board\n            isHost={dmView}\n            onChangePlayers={onChangePlayers}\n            players={players}\n            showName={dmView}\n            dimension={\n              encounter.dimension !== undefined\n                ? encounter.dimension\n                : { width: 20, height: 20, size: 20, zoom: 100 }\n            }\n            currentPlayerNumber={encounter.currentInit}\n            onChangeDimension={(dimension) => onEdit({ ...encounter, dimension: dimension })}\n            img={getMap()}\n          ></Board>\n        )}\n      </CenterWrapper>\n    </>\n  );\n};\n\nexport default EncounterView;\n\nconst DamageButton = styled.button`\n  svg {\n    color: ${({ theme }) => theme.buttons.color};\n  }\n  font-size: 16px;\n  float: left;\n  padding: 5px;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  box-sizing: content-box;\n  border-radius: 10px;\n  border: none;\n\n  transition: color 0.2s;\n  background: ${({ theme }) => theme.buttons.backgroundColor};\n  &:hover {\n    color: ${({ theme }) => theme.buttons.hoverColor};\n  }\n\n  &:disabled {\n    background-color: ${({ theme }) => theme.buttons.disabled};\n  }\n`;\n\ninterface $PlayerImageProps {\n  player: Player;\n}\n\nconst PlayerImage = ({ player }: $PlayerImageProps) => {\n  return <Image pic={player.pic} />;\n};\n\nconst Table = styled.table`\n  width: 100%;\n`;\n\nconst CenterWrapper = styled.div`\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\ntype viewType = {\n  mode?: number;\n};\n\nconst View = styled.div<viewType>`\n  flex: 1 1;\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  max-width: 800px;\n  ${(props) => {\n    if (!props.mode) {\n      return \"min-width: 400px;\";\n    } else {\n      return \"min-width: 500px;\";\n    }\n  }}\n  padding: 5px;\n\n  @media (max-width: 576px) {\n    min-width: 100%;\n  }\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\ntype Type = {\n  current?: boolean;\n  isDead?: boolean;\n};\n\nconst Row = styled.tr<Type>`\n  ${(props) => {\n    if (props.isDead) {\n      return \"opacity: 0.5;\";\n    }\n    if (props.current) {\n      return `td:nth-child(1) {background-color: ${props.theme.main.highlight};}`;\n    }\n    return \"\";\n  }}\n  margin: 2px;\n`;\n\nconst Prop = styled.td`\n  margin: 2px;\n  padding: 5px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  line-height: 34px;\n`;\n\nconst PropRight = styled(Prop)`\n  text-align: right;\n`;\n\nconst PropElm = styled.div`\n  margin: 5px;\n  padding: 10px;\n  height: 20px;\n  flex: 1 1 auto;\n  line-height: 20px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ${({ theme }) => theme.main.highlight};\n  }\n`;\n\nconst PropField = styled(Prop)`\n  padding: 0px;\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst MainLink = styled.span`\n  display: inline-block;\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  text-decoration: none;\n  color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  padding: 0px 5px 0px 5px;\n  cursor: pointer;\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\ninterface $ImageProps {\n  pic: string;\n}\n\nconst Image = ({ pic }: $ImageProps) => {\n  const style = {\n    backgroundImage: `url(${pic})`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n  };\n\n  if (pic !== \"\") {\n    return <ImageElm style={style}></ImageElm>;\n  } else {\n    return <Empty />;\n  }\n};\n\nconst ImageElm = styled.div`\n  margin-right: 5px;\n  margin-top: -7px;\n  margin-bottom: -7px;\n  height: 43px;\n  width: 43px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ${({ theme }) => theme.main.highlight};\n  box-shadow: 0px 0px 10px 0px rgba(172, 172, 172, 0.2);\n  background-color: white;\n  overflow: hidden;\n\n  @media (max-width: 576px) {\n    display: none;\n  }\n`;\nconst Empty = styled.div``;\n","import {\n  faArrowLeft,\n  faClone,\n  faExclamationTriangle,\n  faSave,\n  faTrash,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\nimport Encounter from \"../../../../data/encounter/Encounter\";\nimport { createNewWithId, remove, updateWithCallback } from \"../../../../services/DatabaseService\";\nimport BackButton from \"../../../form_elements/BackButton\";\nimport IconButton from \"../../../form_elements/IconButton\";\nimport { EditToggle, ToggleLeft, ToggleRight } from \"../../../general_elements/ToggleStyle\";\nimport P2PEncounter from \"../../../p2p/P2PEncounter\";\nimport EncounterEditView from \"./EncounterEditView\";\nimport EncounterView from \"./EncounterView\";\n\ninterface $Props {\n  encounter: Encounter;\n  isNew: boolean;\n}\n\nconst EncounterDetail = ({ encounter, isNew }: $Props) => {\n  const [editMode, setMode] = useState<boolean>(isNew);\n  const [dmMode, setDmMode] = useState<boolean>(true);\n  const [encounterObj, editEncounter] = useState<Encounter>(encounter);\n  const [showAlert, setAlert] = useState<boolean>(false);\n  const [message, setMessage] = useState<string>(\"\");\n  const [unsavedChanges, setUnsavedChanges] = useState<boolean>(false);\n  let history = useHistory();\n\n  const deleteEncounter = (encounterId: number | undefined) => {\n    remove(\"encounters\", encounterId);\n    history.goBack();\n  };\n\n  useEffect(() => {\n    if (encounterObj !== encounter) {\n      setUnsavedChanges(true);\n    }\n  }, [encounterObj, encounter]);\n\n  const updateEncounter = (tableName: string, encounterObj: Encounter, msg: string) => {\n    updateWithCallback(tableName, encounterObj, (result) => {\n      if (result > 0) {\n        setUnsavedChanges(false);\n        setMessage(msg);\n        setAlert(true);\n      } else {\n        setMessage(\"Something went wrong!\");\n        setAlert(true);\n      }\n      setTimeout(() => {\n        setAlert(false);\n      }, 3000);\n    });\n  };\n\n  const duplicateEncounter = (tableName: string, obj: Encounter) => {\n    let newObj = { ...obj };\n    delete newObj.id;\n    createNewWithId(tableName, newObj, (id) => {\n      editAndSaveEncounter(\n        { ...encounter, name: encounter.name + \" [Clone]\" },\n        \"Cloning successful!\"\n      );\n    });\n  };\n\n  const editAndSaveEncounter = (encounter: Encounter, msg: string) => {\n    editEncounter(encounter);\n    updateEncounter(\"encounters\", encounter, msg);\n  };\n\n  return (\n    <>\n      <TopBar>\n        <BackButton icon={faArrowLeft} action={() => history.goBack()} />\n        <EditToggle mode={editMode.toString()}>\n          <ToggleLeft onClick={() => setMode(false)}>View</ToggleLeft>\n          <ToggleRight onClick={() => setMode(true)}>Edit</ToggleRight>\n        </EditToggle>\n        {!editMode && (\n          <EditToggle mode={(!dmMode).toString()}>\n            <ToggleLeft onClick={() => setDmMode(true)}>DM View</ToggleLeft>\n            <ToggleRight onClick={() => setDmMode(false)}>Player View</ToggleRight>\n          </EditToggle>\n        )}\n        {editMode && unsavedChanges && <Icon icon={faExclamationTriangle} />}\n        {editMode && (\n          <>\n            <IconButton\n              onClick={() => updateEncounter(\"encounters\", encounterObj, \"Saved successful!\")}\n              icon={faSave}\n            />\n            <IconButton\n              onClick={() => duplicateEncounter(\"encounters\", encounterObj)}\n              icon={faClone}\n            />\n            <IconButton onClick={() => deleteEncounter(encounterObj.id)} icon={faTrash} />\n            {message && showAlert && <Message>{message}</Message>}\n          </>\n        )}\n      </TopBar>\n      <P2PEncounter\n        encounter={encounterObj}\n        onEdit={(value) => editEncounter(value)}\n        isHost={true}\n      />\n      {editMode ? (\n        <EncounterEditView encounter={encounterObj} onEdit={(value) => editEncounter(value)} />\n      ) : (\n        <EncounterView\n          encounter={encounterObj}\n          dmView={dmMode}\n          onEdit={(value) => editAndSaveEncounter(value, \"Saved successful!\")}\n        />\n      )}\n    </>\n  );\n};\n\nexport default EncounterDetail;\n\nconst TopBar = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  overflow: hidden;\n  flex: 1 1;\n  width: 100%;\n  max-width: calc(100% - 20px);\n  height: 45px;\n  padding: 10px;\n\n  @media (max-width: 576px) {\n    max-width: calc(100% - 20px);\n  }\n`;\n\nconst Message = styled.div`\n  padding: 5px;\n  width: 150px;\n  height: 30px;\n  line-height: 30px;\n  border-radius: 5px;\n  float: right;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  float: right;\n  line-height: 30px;\n  display: block;\n  height: 30px;\n  padding: 10px;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n","import React from \"react\";\nimport { RouteComponentProps, useHistory } from \"react-router\";\nimport Encounter from \"../../../../../data/encounter/Encounter\";\nimport { MyAppDatabase } from \"../../../../../database/MyDatabase\";\nimport { useItemByAttr } from \"../../../../../hooks/DexieHooks\";\nimport { createNewWithId } from \"../../../../../services/DatabaseService\";\nimport ErrorTile from \"../../../../general_elements/ErrorTile\";\nimport { LoadingSpinner } from \"../../../../Loading\";\nimport EncounterDetail from \"../EncounterDetail\";\n\ntype TParams = { name: string };\n\nconst NameToEncounter = ({ match }: RouteComponentProps<TParams>) => {\n  let history = useHistory();\n  const db = new MyAppDatabase();\n  const [encounter, loading, error] = useItemByAttr(db.encounters, \"name\", match.params.name);\n\n  const createNewEncounter = () => {\n    let newEncounter = new Encounter(0, match.params.name);\n    delete newEncounter.id;\n    createNewWithId(\"encounters\", newEncounter, (id) => {\n      history.push(`/encounter-detail/id/${id}`);\n    });\n  };\n\n  return (\n    <>\n      {!error && loading && <LoadingSpinner />}\n      {error && !loading && <>Error occured</>}\n      {!error && !loading && encounter === undefined && (\n        <ErrorTile\n          text={\"No such encounter exists. Want to creat such encounter?\"}\n          buttonText={\"Add\"}\n          onButton={() => createNewEncounter()}\n        />\n      )}\n      {!error && !loading && encounter !== undefined ? (\n        <EncounterDetail encounter={encounter} isNew={encounter.name === \"\" ? true : false} />\n      ) : (\n        \"\"\n      )}\n    </>\n  );\n};\n\nexport default NameToEncounter;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  value: number;\n  label: string;\n  max?: number;\n  step?: number;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  onChange: (value: number) => void;\n}\n\nconst NumberField = ({ value, max, step, label, icon, transform, onChange }: $Props) => {\n  return (\n    <Field>\n      <LabelText>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      {max && (\n        <Input\n          type=\"number\"\n          max={max}\n          step={step ? step : 1}\n          value={value}\n          onChange={(e) => onChange(+e.target.value)}\n        />\n      )}\n      {!max && (\n        <Input\n          type=\"number\"\n          step={step ? step : 1}\n          value={value}\n          onChange={(e) => onChange(+e.target.value)}\n        />\n      )}\n    </Field>\n  );\n};\n\nexport default NumberField;\n\nconst Field = styled.label`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1;\n`;\n\nconst Input = styled.input`\n  flex: 1 1 auto;\n  max-width: 6em;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  border-radius: 5px;\n`;\n"],"sourceRoot":""}