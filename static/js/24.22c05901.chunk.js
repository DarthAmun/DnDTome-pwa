/*! For license information please see 24.22c05901.chunk.js.LICENSE.txt */
(this.webpackJsonpdndtome=this.webpackJsonpdndtome||[]).push([[24,1],{105:function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},115:function(e,t,n){"use strict";var r=n(150),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var a=Object.create(n(130));a.inherits=n(105);var o=n(255),s=n(258);a.inherits(f,o);for(var c=i(s.prototype),u=0;u<c.length;u++){var l=c[u];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(59),i=function e(t,n,i,a,o,s){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.map=void 0,this.dimension=void 0,this.markers=void 0,this.sources=void 0,this.id=t,this.name=n||"",this.sources=i||"",this.map=a||"",this.dimension=o||{height:1,width:1},this.markers=s||[]};function a(e){var t=void 0!==e.name&&"string"==typeof e.name,n=void 0!==e.sources&&"string"==typeof e.sources,r=void 0!==e.map&&"string"==typeof e.map;return e&&t&&n&&r}},125:function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,a=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(){void 0!==a&&e.removeListener("error",a),n([].slice.call(arguments))}var a;"error"!==t&&(a=function(n){e.removeListener(t,i),r(n)},e.once("error",a)),e.once(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,a,o,s;if(u(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=l(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,s=c,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)a(c,this,t);else{var u=c.length,l=g(c,u);for(n=0;n<u;++n)a(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},130:function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=e.isBuffer}).call(this,n(97).Buffer)},133:function(e,t,n){"use strict";var r=n(4),i=n(28),a=n(65),o=n(16),s=n(118),c=n(1),u=n.n(c),l=n(656),f=n(721),d=n(722),h=n(657),p=n(658),m=n(659),g=n(3),b=n(66),v=n(63),y=n(9),w=n(62);function x(){var e=Object(r.a)(["\n  position: absolute;\n  z-index: 1000;\n  top: 0px;\n\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  padding: 10px;\n  border-radius: 10px;\n  box-shadow: ",";\n"]);return x=function(){return e},e}var E=function(e){var t=e.activeElement,n=e.onSave,r=e.onClose,a=e.onDelete,s=Object(c.useState)(t.text),l=Object(o.a)(s,2),f=l[0],d=l[1];Object(c.useEffect)((function(){d(t.text)}),[t]);return u.a.createElement(O,null,u.a.createElement(v.a,{value:f,label:"Label",onChange:d}),u.a.createElement(w.a,{text:"Cancel",icon:y.fb,onClick:r}),u.a.createElement(w.a,{text:"Delete",icon:y.fb,onClick:a}),u.a.createElement(w.a,{text:"Save",icon:y.V,onClick:function(){return function(){var e=Object(i.a)({},t);e.text=f,n(e)}()}}))},O=g.b.div(x(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.main.backgroundColor}),(function(e){return e.theme.tile.boxShadow}));function S(){var e=Object(r.a)(["\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  position: relative;\n\n  height: calc(100vh - 265px);\n  width: calc(100% - 6px);\n\n  & .leaflet-popup {\n    .leaflet-popup-content-wrapper {\n      background-color: ",";\n      color: ",";\n    }\n    .leaflet-popup-tip {\n      background-color: ",";\n    }\n  }\n"]);return S=function(){return e},e}t.a=function(e){var t=e.location,n=e.editable,r=e.onEdit,s=Object(c.useState)(!1),h=Object(o.a)(s,2),p=h[0],m=h[1],g=Object(c.useState)(),b=Object(o.a)(g,2),v=b[0],y=b[1],w=Object(c.useRef)(null),x=Object(c.useState)(null),O=Object(o.a)(x,2),S=O[0],_=O[1],C=Object(c.useState)(),T=Object(o.a)(C,2),I=T[0],P=T[1],A=Object(c.useState)(),R=Object(o.a)(A,2),L=R[0],M=R[1],U=Object(c.useCallback)((function(e,t){return t?U(t,e%t):e}),[]);Object(c.useEffect)((function(){if(void 0!==t.dimension&&void 0!==t.map&&""!==t.map&&t.dimension!=={height:0,width:0}){var e=U(t.dimension.width,t.dimension.height),n=t.dimension.width/e,r=t.dimension.height/e;M([[-r/2,-n/2],[r/2,n/2]])}}),[t.map,t.dimension,U]),Object(c.useEffect)((function(){var e;null!==S&&L&&S.fitBounds([[.5*(e=L)[0][0],.5*e[0][1]],[.5*e[1][0],.5*e[1][1]]])}),[S,L]),Object(c.useEffect)((function(){if(w&&w.current){var e=w.current.clientHeight;P(e+"px")}}),[]);return u.a.createElement(k,{ref:w},p&&void 0!==v&&u.a.createElement(E,{activeElement:t.markers[v],onSave:function(e){if(n&&void 0!==r&&void 0!==v){var o=Object(a.a)(t.markers);o[v]=e,r(Object(i.a)(Object(i.a)({},t),{},{markers:o}))}},onDelete:function(){if(n&&void 0!==r&&void 0!==v){var e=Object(a.a)(t.markers);e.splice(v,1),m(!1),y(void 0),r(Object(i.a)(Object(i.a)({},t),{},{markers:e}))}},onClose:function(){return m(!1)}}),t.map&&I&&L&&u.a.createElement(l.a,{style:{height:I,width:"100%"},center:[0,0],zoom:1,scrollWheelZoom:!1,whenCreated:_},u.a.createElement(f.a,{url:""}),u.a.createElement(d.a,{bounds:L,url:t.map}),u.a.createElement(j,{markerPositions:t.markers,location:t,editable:n,onEdit:r,setActive:y,setEditDialaog:m})))};var j=function(e){var t=e.location,r=e.editable,o=e.markerPositions,c=e.onEdit,l=e.setActive,f=e.setEditDialaog;Object(h.a)({click:function(e){r&&void 0!==c&&c(Object(i.a)(Object(i.a)({},t),{},{markers:[].concat(Object(a.a)(t.markers),[{position:e.latlng,text:"New"}])}))}});var d=new s.Icon({iconRetinaUrl:n(195),iconUrl:n(196),shadowUrl:n(197),iconSize:[25,41],iconAnchor:[12,41]});return u.a.createElement(u.a.Fragment,null,o&&o.map((function(e,t){return u.a.createElement(p.a,{key:t,position:e.position,icon:d},u.a.createElement(m.a,{autoPan:!0,minWidth:120,onOpen:function(){return function(e){r&&void 0!==c&&(console.log(e),l(e),f(!0))}(t)}},u.a.createElement(b.a,{text:e.text})))})))},k=g.b.div(S(),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}))},150:function(e,t,n){"use strict";(function(t){"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick((function(){e.apply(null,a)}))}}}:e.exports=t}).call(this,n(35))},169:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},181:function(e,t,n){var r=n(97),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),a(i,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},251:function(e,t,n){"use strict";var r=n(475),i=n(476);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=y(e));return e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),f=["%","/","?",";","#"].concat(l),d=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(477);function y(e,t,n){if(e&&i.isObject(e)&&e instanceof a)return e;var r=new a;return r.parse(e,t,n),r}a.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var y=e=u.join(s);if(y=y.trim(),!n&&1===e.split("#").length){var w=c.exec(y);if(w)return this.path=y,this.href=y,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=o.exec(y);if(x){var E=(x=x[0]).toLowerCase();this.protocol=E,y=y.substr(x.length)}if(n||x||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===y.substr(0,2);!O||x&&g[x]||(y=y.substr(2),this.slashes=!0)}if(!g[x]&&(O||x&&!b[x])){for(var S,j,k=-1,_=0;_<d.length;_++){-1!==(C=y.indexOf(d[_]))&&(-1===k||C<k)&&(k=C)}-1!==(j=-1===k?y.lastIndexOf("@"):y.lastIndexOf("@",k))&&(S=y.slice(0,j),y=y.slice(j+1),this.auth=decodeURIComponent(S)),k=-1;for(_=0;_<f.length;_++){var C;-1!==(C=y.indexOf(f[_]))&&(-1===k||C<k)&&(k=C)}-1===k&&(k=y.length),this.host=y.slice(0,k),y=y.slice(k),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var I=this.hostname.split(/\./),P=(_=0,I.length);_<P;_++){var A=I[_];if(A&&!A.match(h)){for(var R="",L=0,M=A.length;L<M;L++)A.charCodeAt(L)>127?R+="x":R+=A[L];if(!R.match(h)){var U=I.slice(0,_),N=I.slice(_+1),B=A.match(p);B&&(U.push(B[1]),N.unshift(B[2])),N.length&&(y="/"+N.join(".")+y),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=r.toASCII(this.hostname));var q=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+q,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!m[E])for(_=0,P=l.length;_<P;_++){var H=l[_];if(-1!==y.indexOf(H)){var F=encodeURIComponent(H);F===H&&(F=escape(H)),y=y.split(H).join(F)}}var z=y.indexOf("#");-1!==z&&(this.hash=y.substr(z),y=y.slice(0,z));var W=y.indexOf("?");if(-1!==W?(this.search=y.substr(W),this.query=y.substr(W+1),t&&(this.query=v.parse(this.query)),y=y.slice(0,W)):t&&(this.search="",this.query={}),y&&(this.pathname=y),b[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){q=this.pathname||"";var G=this.search||"";this.path=q+G}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=v.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},a.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return b[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!b[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var h=f[d];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||y||n.host&&e.pathname,E=x,O=n.pathname&&n.pathname.split("/")||[],S=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!b[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===O[0]?O[0]=n.host:O.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===O[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,O=p;else if(p.length)O||(O=[]),O.pop(),O=O.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(S)n.hostname=n.host=O.shift(),(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!O.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var j=O.slice(-1)[0],k=(n.host||e.host||O.length>1)&&("."===j||".."===j)||""===j,_=0,C=O.length;C>=0;C--)"."===(j=O[C])?O.splice(C,1):".."===j?(O.splice(C,1),_++):_&&(O.splice(C,1),_--);if(!x&&!E)for(;_--;_)O.unshift("..");!x||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),k&&"/"!==O.join("/").substr(-1)&&O.push("");var T,I=""===O[0]||O[0]&&"/"===O[0].charAt(0);S&&(n.hostname=n.host=I?"":O.length?O.shift():"",(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift()));return(x=x||n.host&&O.length)&&!I&&O.unshift(""),O.length?n.pathname=O.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},252:function(e,t,n){(function(e){t.fetch=s(e.fetch)&&s(e.ReadableStream),t.writableStream=s(e.WritableStream),t.abortController=s(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(c){}var n;function r(){if(void 0!==n)return n;if(e.XMLHttpRequest){n=new e.XMLHttpRequest;try{n.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(c){n=null}}else n=null;return n}function i(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(c){}return!1}var a="undefined"!==typeof e.ArrayBuffer,o=a&&s(e.ArrayBuffer.prototype.slice);function s(e){return"function"===typeof e}t.arraybuffer=t.fetch||a&&i("arraybuffer"),t.msstream=!t.fetch&&o&&i("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&a&&i("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!r()&&s(r().overrideMimeType),t.vbArray=s(e.VBArray),n=null}).call(this,n(17))},253:function(e,t,n){(function(e,r,i){var a=n(252),o=n(105),s=n(254),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(t,n,o,c){var u=this;if(s.Readable.call(u),u._mode=o,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",(function(){e.nextTick((function(){u.emit("close")}))})),"fetch"===o){if(u._fetchResponse=n,u.url=n.url,u.statusCode=n.status,u.statusMessage=n.statusText,n.headers.forEach((function(e,t){u.headers[t.toLowerCase()]=e,u.rawHeaders.push(t,e)})),a.writableStream){var l=new WritableStream({write:function(e){return new Promise((function(t,n){u._destroyed?n():u.push(new r(e))?t():u._resumeFetch=t}))},close:function(){i.clearTimeout(c),u._destroyed||u.push(null)},abort:function(e){u._destroyed||u.emit("error",e)}});try{return void n.body.pipeTo(l).catch((function(e){i.clearTimeout(c),u._destroyed||u.emit("error",e)}))}catch(p){}}var f=n.body.getReader();!function e(){f.read().then((function(t){if(!u._destroyed){if(t.done)return i.clearTimeout(c),void u.push(null);u.push(new r(t.value)),e()}})).catch((function(e){i.clearTimeout(c),u._destroyed||u.emit("error",e)}))}()}else{if(u._xhr=t,u._pos=0,u.url=t.responseURL,u.statusCode=t.status,u.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===u.headers[n]&&(u.headers[n]=[]),u.headers[n].push(t[2])):void 0!==u.headers[n]?u.headers[n]+=", "+t[2]:u.headers[n]=t[2],u.rawHeaders.push(t[1],t[2])}})),u._charset="x-user-defined",!a.overrideMimeType){var d=u.rawHeaders["mime-type"];if(d){var h=d.match(/;\s*charset=([^;])(;|$)/);h&&(u._charset=h[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};o(u,s.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==c.DONE)break;try{n=new i.VBArray(t.responseBody).toArray()}catch(l){}if(null!==n){e.push(new r(n));break}case"text":try{n=t.responseText}catch(l){e._mode="text:vbarray";break}if(n.length>e._pos){var a=n.substr(e._pos);if("x-user-defined"===e._charset){for(var o=new r(a.length),s=0;s<a.length;s++)o[s]=255&a.charCodeAt(s);e.push(o)}else e.push(a,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==c.DONE||!t.response)break;n=t.response,e.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==c.LOADING||!n)break;e.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==c.LOADING)break;var u=new i.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(n)}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,n(35),n(97).Buffer,n(17))},254:function(e,t,n){(t=e.exports=n(255)).Stream=t,t.Readable=t,t.Writable=n(258),t.Duplex=n(115),t.Transform=n(260),t.PassThrough=n(487)},255:function(e,t,n){"use strict";(function(t,r){var i=n(150);e.exports=y;var a,o=n(467);y.ReadableState=v;n(125).EventEmitter;var s=function(e,t){return e.listeners(t).length},c=n(256),u=n(181).Buffer,l=t.Uint8Array||function(){};var f=Object.create(n(130));f.inherits=n(105);var d=n(482),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,m=n(483),g=n(257);f.inherits(y,c);var b=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var r=t instanceof(a=a||n(115));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(259).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(a=a||n(115),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function w(e,t,n,r,i){var a,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,O(e)}(e,o)):(i||(a=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof l||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"===typeof t||o.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):x(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?x(e,o,t,!1):j(e,o)):x(e,o,t,!1))):r||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&O(e)),j(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},y.prototype.unshift=function(e){return w(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(259).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(S,e):S(e))}function S(e){h("emit readable"),e.emit("readable"),T(e)}function j(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(k,e,t))}function k(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function _(e){h("readable nexttick read 0"),e.read(0)}function C(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),T(e),t.flowing&&!t.reading&&e.read(0)}function T(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0===(e-=o)){o===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0===(e-=o)){o===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function P(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function R(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):O(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&P(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(n,t))),null===(r=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&P(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,h("pipe count=%d opts=%j",a.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:y;function u(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",b),e.removeListener("finish",v),e.removeListener("drain",f),e.removeListener("error",g),e.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",m),d=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function l(){h("onend"),e.end()}a.endEmitted?i.nextTick(c):n.once("end",c),e.on("unpipe",u);var f=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,T(e))}}(n);e.on("drain",f);var d=!1;var p=!1;function m(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==R(a.pipes,e))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(t){h("onerror",t),y(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",v),y()}function v(){h("onfinish"),e.removeListener("close",b),y()}function y(){h("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",b),e.once("finish",v),e.emit("pipe",n),a.flowing||(h("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var o=R(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},y.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&O(this):i.nextTick(_,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(C,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<b.length;a++)e.on(b[a],this.emit.bind(this,b[a]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=I}).call(this,n(17),n(35))},256:function(e,t,n){e.exports=n(125).EventEmitter},257:function(e,t,n){"use strict";var r=n(150);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},258:function(e,t,n){"use strict";(function(t,r,i){var a=n(150);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=v;var s,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:a.nextTick;v.WritableState=b;var u=Object.create(n(130));u.inherits=n(105);var l={deprecate:n(485)},f=n(256),d=n(181).Buffer,h=i.Uint8Array||function(){};var p,m=n(257);function g(){}function b(e,t){s=s||n(115),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(a.nextTick(i,r),a.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),S(e,t))}(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),r?c(w,e,n,o,i):w(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function v(e){if(s=s||n(115),!p.call(v,this)&&!(this instanceof s))return new v(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),f.call(this)}function y(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),S(e,t)}function x(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)i[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;i.allBuffers=c,y(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var n=E(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(O,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(v,f),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===v&&(e&&e._writableState instanceof b)}})):p=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,d.isBuffer(r)||r instanceof h);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=g),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,a){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=d.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,r,i,a);return c}(this,i,s,e,t,n)),o},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,n){var r=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?a.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(35),n(45).setImmediate,n(17))},259:function(e,t,n){"use strict";var r=n(486).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},260:function(e,t,n){"use strict";e.exports=o;var r=n(115),i=Object.create(n(130));function a(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(105),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},261:function(e,t){},262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeHandlers=void 0;var r=n(494),i=n(495),a=n(496),o=n(497),s=n(498),c=n(263),u=n(499),l=n(500),f=n(501),d=n(502),h=n(503),p=n(504),m=n(505),g=n(506),b=n(507),v=n(508);t.typeHandlers={bmp:r.BMP,cur:i.CUR,dds:a.DDS,gif:o.GIF,icns:s.ICNS,ico:c.ICO,j2c:u.J2C,jp2:l.JP2,jpg:f.JPG,ktx:d.KTX,png:h.PNG,pnm:p.PNM,psd:m.PSD,svg:g.SVG,tiff:b.TIFF,webp:v.WEBP}},263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICO=void 0;function r(e,t){var n=e.readUInt8(t);return 0===n?256:n}function i(e,t){var n=6+16*t;return{height:r(e,n+1),width:r(e,n)}}t.ICO={validate:function(e){return 0===e.readUInt16LE(0)&&1===e.readUInt16LE(2)},calculate:function(e){var t=e.readUInt16LE(4),n=i(e,0);if(1===t)return n;for(var r=[n],a=1;a<t;a+=1)r.push(i(e,a));return{height:n.height,images:r,width:n.width}}}},264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readUInt=void 0,t.readUInt=function(e,t,n,r){return n=n||0,e["readUInt"+t+(r?"BE":"LE")].call(e,n)}},473:function(e,t,n){},474:function(e,t,n){"use strict";(function(e){var r=n(4),i=n(28),a=n(1),o=n.n(a),s=n(3),c=n(63),u=n(133),l=n(9),f=n(79);function d(){var e=Object(r.a)(["\n  color: ",";\n  font-size: 16px;\n  padding: 5px;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return d=function(){return e},e}function h(){var e=Object(r.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return h=function(){return e},e}t.a=function(t){var r=t.location,s=t.onEdit;return Object(a.useEffect)((function(){if(void 0!==r.map&&""!==r.map){var t=n(251),a=n(480),o=n(491),c=t.parse(r.map);a.get(c,(function(t){var n=[];t.on("data",(function(e){n.push(e)})).on("end",(function(){var t=e.concat(n),a=o(t);console.log(a),s(Object(i.a)(Object(i.a)({},r),{},{dimension:{height:a.height,width:a.width}}))}))}))}}),[r.map]),o.a.createElement(p,null,o.a.createElement(m,null,o.a.createElement(c.a,{value:r.name,label:"Name",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{name:e}))}}),o.a.createElement(c.a,{value:r.map,label:"Picture",icon:l.G,onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{map:e}))}}),o.a.createElement(f.a,{value:r.dimension.width,label:"Map width",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{dimension:Object(i.a)(Object(i.a)({},r.dimension),{},{width:e})}))}}),o.a.createElement(f.a,{value:r.dimension.height,label:"Map height",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{dimension:Object(i.a)(Object(i.a)({},r.dimension),{},{height:e})}))}}),o.a.createElement(c.a,{value:r.sources,label:"Sources",icon:l.H,onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{sources:e}))}})),o.a.createElement(u.a,{editable:!0,location:r,onEdit:s}))};var p=s.b.div(h()),m=s.b.div(d(),(function(e){return e.theme.tile.color}))}).call(this,n(97).Buffer)},475:function(e,t,n){(function(e,r){var i;!function(a){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r&&r;o.global!==o&&o.window!==o&&o.self;var s,c=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,p=String.fromCharCode;function m(e){throw new RangeError(d[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function b(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(f,".")).split("."),t).join(".")}function v(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function y(e){return g(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=36)e=h(e/35);return h(r+36*e/(e+38))}function E(e){var t,n,r,i,a,o,s,u,l,f,d,p=[],g=e.length,b=0,v=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),p.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(a=b,o=1,s=36;i>=g&&m("invalid-input"),((u=(d=e.charCodeAt(i++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:36)>=36||u>h((c-b)/o))&&m("overflow"),b+=u*o,!(u<(l=s<=w?1:s>=w+26?26:s-w));s+=36)o>h(c/(f=36-l))&&m("overflow"),o*=f;w=x(b-a,t=p.length+1,0==a),h(b/t)>c-v&&m("overflow"),v+=h(b/t),b%=t,p.splice(b++,0,v)}return y(p)}function O(e){var t,n,r,i,a,o,s,u,l,f,d,g,b,y,E,O=[];for(g=(e=v(e)).length,t=128,n=0,a=72,o=0;o<g;++o)(d=e[o])<128&&O.push(p(d));for(r=i=O.length,i&&O.push("-");r<g;){for(s=c,o=0;o<g;++o)(d=e[o])>=t&&d<s&&(s=d);for(s-t>h((c-n)/(b=r+1))&&m("overflow"),n+=(s-t)*b,t=s,o=0;o<g;++o)if((d=e[o])<t&&++n>c&&m("overflow"),d==t){for(u=n,l=36;!(u<(f=l<=a?1:l>=a+26?26:l-a));l+=36)E=u-f,y=36-f,O.push(p(w(f+E%y,0))),u=h(E/y);O.push(p(w(u,0))),a=x(n,b,r==i),n=0,++r}++n,++t}return O.join("")}s={version:"1.4.1",ucs2:{decode:v,encode:y},decode:E,encode:O,toASCII:function(e){return b(e,(function(e){return l.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return b(e,(function(e){return u.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(169)(e),n(17))},476:function(e,t,n){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},477:function(e,t,n){"use strict";t.decode=t.parse=n(478),t.encode=t.stringify=n(479)},478:function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){t=t||"&",n=n||"=";var o={};if("string"!==typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var c=1e3;a&&"number"===typeof a.maxKeys&&(c=a.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var f,d,h,p,m=e[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(f=m.substr(0,g),d=m.substr(g+1)):(f=m,d=""),h=decodeURIComponent(f),p=decodeURIComponent(d),r(o,h)?i(o[h])?o[h].push(p):o[h]=[o[h],p]:o[h]=p}return o};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},479:function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?a(o(e),(function(o){var s=encodeURIComponent(r(o))+n;return i(e[o])?a(e[o],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[o]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},480:function(e,t,n){(function(e){var r=n(481),i=n(253),a=n(489),o=n(490),s=n(251),c=t;c.request=function(t,n){t="string"===typeof t?s.parse(t):a(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",o=t.protocol||i,c=t.hostname||t.host,u=t.port,l=t.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),t.url=(c?o+"//"+c:"")+(u?":"+u:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var f=new r(t);return n&&f.on("response",n),f},c.get=function(e,t){var n=c.request(e,t);return n.end(),n},c.ClientRequest=r,c.IncomingMessage=i.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=o,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n(17))},481:function(e,t,n){(function(t,r,i){var a=n(252),o=n(105),s=n(253),c=n(254),u=n(488),l=s.IncomingMessage,f=s.readyStates;var d=e.exports=function(e){var n,r=this;c.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!a.abortController)i=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!a.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=function(e,t){return a.fetch&&t?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&e?"arraybuffer":a.vbArray&&e?"text:vbarray":"text"}(n,i),r._fetchTimer=null,r.on("finish",(function(){r._onFinish()}))};o(d,c.Writable),d.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===h.indexOf(n)&&(this._headers[n]={name:e,value:t})},d.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},d.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},d.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,o=e._headers,s=null;"GET"!==n.method&&"HEAD"!==n.method&&(s=a.arraybuffer?u(t.concat(e._body)):a.blobConstructor?new r.Blob(e._body.map((function(e){return u(e)})),{type:(o["content-type"]||{}).value||""}):t.concat(e._body).toString());var c=[];if(Object.keys(o).forEach((function(e){var t=o[e].name,n=o[e].value;Array.isArray(n)?n.forEach((function(e){c.push([t,e])})):c.push([t,n])})),"fetch"===e._mode){var l=null;if(a.abortController){var d=new AbortController;l=d.signal,e._fetchAbortController=d,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=r.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),n.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:c,body:s||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:l}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var h=e._xhr=new r.XMLHttpRequest;try{h.open(e._opts.method,e._opts.url,!0)}catch(p){return void i.nextTick((function(){e.emit("error",p)}))}"responseType"in h&&(h.responseType=e._mode.split(":")[0]),"withCredentials"in h&&(h.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in h&&h.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(h.timeout=n.requestTimeout,h.ontimeout=function(){e.emit("requestTimeout")}),c.forEach((function(e){h.setRequestHeader(e[0],e[1])})),e._response=null,h.onreadystatechange=function(){switch(h.readyState){case f.LOADING:case f.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(h.onprogress=function(){e._onXHRProgress()}),h.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{h.send(s)}catch(p){return void i.nextTick((function(){e.emit("error",p)}))}}}},d.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(n){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},d.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},d.prototype._write=function(e,t,n){this._body.push(e),n()},d.prototype.abort=d.prototype.destroy=function(){this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},d.prototype.end=function(e,t,n){"function"===typeof e&&(n=e,e=void 0),c.Writable.prototype.end.call(this,e,t,n)},d.prototype.flushHeaders=function(){},d.prototype.setTimeout=function(){},d.prototype.setNoDelay=function(){},d.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n(97).Buffer,n(17),n(35))},482:function(e,t){},483:function(e,t,n){"use strict";var r=n(181).Buffer,i=n(484);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,a=r.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=a,i=s,t.copy(n,i),s+=o.data.length,o=o.next;return a},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},484:function(e,t){},485:function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(17))},486:function(e,t,n){var r=n(97),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},487:function(e,t,n){"use strict";e.exports=a;var r=n(260),i=Object.create(n(130));function a(e){if(!(this instanceof a))return new a(e);r.call(this,e)}i.inherits=n(105),i.inherits(a,r),a.prototype._transform=function(e,t,n){n(null,e)}},488:function(e,t,n){var r=n(97).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"===typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,i=0;i<n;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},489:function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},490:function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},491:function(e,t,n){"use strict";(function(r,i){var a=n(72),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.types=t.setConcurrency=t.imageSize=void 0;var s=n(261),c=n(492),u=n(493),l=n(262),f=n(509),d=new u.default({concurrency:100,autostart:!0});function h(e,t){var n=f.detector(e);if(n&&n in l.typeHandlers){var r=l.typeHandlers[n].calculate(e,t);if(void 0!==r)return r.type=n,r}throw new TypeError("unsupported file type: "+n+" (file: "+t+")")}function p(e,t){if(r.isBuffer(e))return h(e);if("string"!==typeof e)throw new TypeError("invalid invocation");var n=c.resolve(e);if("function"!==typeof t)return h(function(e){var t=s.openSync(e,"r"),n=s.fstatSync(t).size;if(n<=0)throw s.closeSync(t),new Error("Empty file");var i=Math.min(n,524288),a=r.alloc(i);return s.readSync(t,a,0,i,0),s.closeSync(t),a}(n),n);d.push((function(){return function(e){return o(this,void 0,void 0,a.mark((function t(){var n,i,o,c,u;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.promises.open(e,"r");case 2:return n=t.sent,t.next=5,n.stat();case 5:if(i=t.sent,!((o=i.size)<=0)){t.next=11;break}return t.next=10,n.close();case 10:throw new Error("Empty file");case 11:return c=Math.min(o,524288),u=r.alloc(c),t.next=15,n.read(u,0,c,0);case 15:return t.next=17,n.close();case 17:return t.abrupt("return",u);case 18:case"end":return t.stop()}}),t)})))}(n).then((function(e){return i.nextTick(t,null,h(e,n))})).catch(t)}))}e.exports=t=p,t.default=p,t.imageSize=p,t.setConcurrency=function(e){d.concurrency=e},t.types=Object.keys(l.typeHandlers)}).call(this,n(97).Buffer,n(35))},492:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,i="/"===o.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var a=t.isAbsolute(e),o="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!a).join("/"))||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),a=r(n.split("/")),o=Math.min(i.length,a.length),s=o,c=0;c<o;c++)if(i[c]!==a[c]){s=c;break}var u=[];for(c=s;c<i.length;c++)u.push("..");return(u=u.concat(a.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!i){r=a;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(i=!1,r=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){n=o+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(35))},493:function(e,t,n){var r=n(105),i=n(125).EventEmitter;function a(e){if(!(this instanceof a))return new a(e);i.call(this),e=e||{},this.concurrency=e.concurrency||1/0,this.timeout=e.timeout||0,this.autostart=e.autostart||!1,this.results=e.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}}e.exports=a,e.exports.default=a,r(a,i);["pop","shift","indexOf","lastIndexOf"].forEach((function(e){a.prototype[e]=function(){return Array.prototype[e].apply(this.jobs,arguments)}})),a.prototype.slice=function(e,t){return this.jobs=this.jobs.slice(e,t),this},a.prototype.reverse=function(){return this.jobs.reverse(),this};function o(){for(var e in this.timers){var t=this.timers[e];delete this.timers[e],clearTimeout(t)}}function s(e){var t=this;function n(e){t.end(e)}this.on("error",n),this.on("end",(function r(i){t.removeListener("error",n),t.removeListener("end",r),e(i,this.results)}))}function c(e){this.session++,this.running=!1,this.emit("end",e)}["push","unshift","splice"].forEach((function(e){a.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this.autostart&&this.start(),t}})),Object.defineProperty(a.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),a.prototype.start=function(e){if(e&&s.call(this,e),this.running=!0,!(this.pending>=this.concurrency))if(0!==this.jobs.length){var t=this,n=this.jobs.shift(),r=!0,i=this.session,a=null,o=!1,u=null,l=n.timeout||this.timeout;l&&(a=setTimeout((function(){o=!0,t.listeners("timeout").length>0?t.emit("timeout",d,n):d()}),l),this.timers[a]=a),this.results&&(u=this.results.length,this.results[u]=null),this.pending++,t.emit("start",n);var f=n(d);f&&f.then&&"function"===typeof f.then&&f.then((function(e){return d(null,e)})).catch((function(e){return d(e||!0)})),this.running&&this.jobs.length>0&&this.start()}else 0===this.pending&&c.call(this);function d(e,s){r&&t.session===i&&(r=!1,t.pending--,null!==a&&(delete t.timers[a],clearTimeout(a)),e?t.emit("error",e,n):!1===o&&(null!==u&&(t.results[u]=Array.prototype.slice.call(arguments,1)),t.emit("success",s,n)),t.session===i&&(0===t.pending&&0===t.jobs.length?c.call(t):t.running&&t.start()))}},a.prototype.stop=function(){this.running=!1},a.prototype.end=function(e){o.call(this),this.jobs.length=0,this.pending=0,c.call(this,e)}},494:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BMP=void 0,t.BMP={validate:function(e){return"BM"===e.toString("ascii",0,2)},calculate:function(e){return{height:Math.abs(e.readInt32LE(22)),width:e.readUInt32LE(18)}}}},495:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CUR=void 0;var r=n(263);t.CUR={validate:function(e){return 0===e.readUInt16LE(0)&&2===e.readUInt16LE(2)},calculate:function(e){return r.ICO.calculate(e)}}},496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DDS=void 0,t.DDS={validate:function(e){return 542327876===e.readUInt32LE(0)},calculate:function(e){return{height:e.readUInt32LE(12),width:e.readUInt32LE(16)}}}},497:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GIF=void 0;var r=/^GIF8[79]a/;t.GIF={validate:function(e){var t=e.toString("ascii",0,6);return r.test(t)},calculate:function(e){return{height:e.readUInt16LE(8),width:e.readUInt16LE(6)}}}},498:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICNS=void 0;var r={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function i(e,t){var n=t+4;return[e.toString("ascii",t,n),e.readUInt32BE(n)]}function a(e){var t=r[e];return{width:t,height:t,type:e}}t.ICNS={validate:function(e){return"icns"===e.toString("ascii",0,4)},calculate:function(e){var t=e.length,n=e.readUInt32BE(4),r=8,o=i(e,r),s=a(o[0]);if((r+=o[1])===n)return s;for(var c={height:s.height,images:[s],width:s.width};r<n&&r<t;)s=a((o=i(e,r))[0]),r+=o[1],c.images.push(s);return c}}},499:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.J2C=void 0,t.J2C={validate:function(e){return"ff4fff51"===e.toString("hex",0,4)},calculate:function(e){return{height:e.readUInt32BE(12),width:e.readUInt32BE(8)}}}},500:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JP2=void 0;var r="66747970",i="6a703268",a="6a502020",o="72726571",s=function(e){return{height:e.readUInt32BE(4),width:e.readUInt32BE(8)}};t.JP2={validate:function(e){var t=e.toString("hex",4,8),n=e.readUInt32BE(0);if(t!==a||n<1)return!1;var i=n+4,o=e.readUInt32BE(n);return e.slice(i,i+o).toString("hex",0,4)===r},calculate:function(e){var t=e.readUInt32BE(0),n=t+4+e.readUInt16BE(t+2);switch(e.toString("hex",n,n+4)){case o:return n=n+4+4+function(e){var t=e.readUInt8(0),n=1+2*t;return(n=n+2+e.readUInt16BE(n)*(2+t))+2+e.readUInt16BE(n)*(16+t)}(e.slice(n+4)),s(e.slice(n+8,n+24));case i:return s(e.slice(n+8,n+24));default:throw new TypeError("Unsupported header found: "+e.toString("ascii",n,n+4))}}}},501:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JPG=void 0;var r=n(264);function i(e){return"45786966"===e.toString("hex",2,6)}function a(e,t){return{height:e.readUInt16BE(t),width:e.readUInt16BE(t+2)}}function o(e,t){var n=e.slice(2,t),i=n.toString("hex",6,8),a="4d4d"===i;if(a||"4949"===i)return function(e,t){for(var n=r.readUInt(e,16,14,t),i=0;i<n;i++){var a=16+12*i,o=a+12;if(a>e.length)return;var s=e.slice(a,o);if(274===r.readUInt(s,16,0,t)){if(3!==r.readUInt(s,16,2,t))return;if(1!==r.readUInt(s,32,4,t))return;return r.readUInt(s,16,8,t)}}}(n,a)}function s(e,t){if(t>e.length)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(255!==e[t])throw new TypeError("Invalid JPG, marker table corrupted")}t.JPG={validate:function(e){return"ffd8"===e.toString("hex",0,2)},calculate:function(e){var t,n;for(e=e.slice(4);e.length;){var r=e.readUInt16BE(0);if(i(e)&&(t=o(e,r)),s(e,r),192===(n=e[r+1])||193===n||194===n){var c=a(e,r+5);return t?{height:c.height,orientation:t,width:c.width}:c}e=e.slice(r+2)}throw new TypeError("Invalid JPG, no size found")}}},502:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KTX=void 0;t.KTX={validate:function(e){return"KTX 11"===e.toString("ascii",1,7)},calculate:function(e){return{height:e.readUInt32LE(40),width:e.readUInt32LE(36)}}}},503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PNG=void 0;t.PNG={validate:function(e){if("PNG\r\n\x1a\n"===e.toString("ascii",1,8)){var t=e.toString("ascii",12,16);if("CgBI"===t&&(t=e.toString("ascii",28,32)),"IHDR"!==t)throw new TypeError("Invalid PNG");return!0}return!1},calculate:function(e){return"CgBI"===e.toString("ascii",12,16)?{height:e.readUInt32BE(36),width:e.readUInt32BE(32)}:{height:e.readUInt32BE(20),width:e.readUInt32BE(16)}}}},504:function(e,t,n){"use strict";var r=n(281);Object.defineProperty(t,"__esModule",{value:!0}),t.PNM=void 0;var i={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},a=Object.keys(i),o={default:function(e){for(var t=[];e.length>0;){var n=e.shift();if("#"!==n[0]){t=n.split(" ");break}}if(2===t.length)return{height:parseInt(t[1],10),width:parseInt(t[0],10)};throw new TypeError("Invalid PNM")},pam:function(e){for(var t={};e.length>0;){var n=e.shift();if(!(n.length>16||n.charCodeAt(0)>128)){var i=n.split(" "),a=r(i,2),o=a[0],s=a[1];if(o&&s&&(t[o.toLowerCase()]=parseInt(s,10)),t.height&&t.width)break}}if(t.height&&t.width)return{height:t.height,width:t.width};throw new TypeError("Invalid PAM")}};t.PNM={validate:function(e){var t=e.toString("ascii",0,2);return a.includes(t)},calculate:function(e){var t=e.toString("ascii",0,2),n=i[t],r=e.toString("ascii",3).split(/[\r\n]+/);return(o[n]||o.default)(r)}}},505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PSD=void 0,t.PSD={validate:function(e){return"8BPS"===e.toString("ascii",0,4)},calculate:function(e){return{height:e.readUInt32BE(14),width:e.readUInt32BE(18)}}}},506:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVG=void 0;var r=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,i={height:/\sheight=(['"])([^%]+?)\1/,root:r,viewbox:/\sviewBox=(['"])(.+?)\1/,width:/\swidth=(['"])([^%]+?)\1/},a={cm:96/2.54,em:16,ex:8,m:96/2.54*100,mm:96/2.54/10,pc:96/72/12,pt:96/72};function o(e){var t=/([0-9.]+)([a-z]*)/.exec(e);if(t)return Math.round(parseFloat(t[1])*(a[t[2]]||1))}function s(e){var t=e.split(" ");return{height:o(t[3]),width:o(t[2])}}t.SVG={validate:function(e){var t=String(e);return r.test(t)},calculate:function(e){var t=e.toString("utf8").match(i.root);if(t){var n=function(e){var t=e.match(i.width),n=e.match(i.height),r=e.match(i.viewbox);return{height:n&&o(n[2]),viewbox:r&&s(r[2]),width:t&&o(t[2])}}(t[0]);if(n.width&&n.height)return function(e){return{height:e.height,width:e.width}}(n);if(n.viewbox)return function(e,t){var n=t.width/t.height;return e.width?{height:Math.floor(e.width/n),width:e.width}:e.height?{height:e.height,width:Math.floor(e.height*n)}:{height:t.height,width:t.width}}(n,n.viewbox)}throw new TypeError("Invalid SVG")}}},507:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.TIFF=void 0;var r=n(261),i=n(264);function a(e,t){var n=i.readUInt(e,16,8,t);return(i.readUInt(e,16,10,t)<<16)+n}function o(e){if(e.length>24)return e.slice(12)}var s=["49492a00","4d4d002a"];t.TIFF={validate:function(e){return s.includes(e.toString("hex",0,4))},calculate:function(t,n){if(!n)throw new TypeError("Tiff doesn't support buffer");var s="BE"===function(e){var t=e.toString("ascii",0,2);return"II"===t?"LE":"MM"===t?"BE":void 0}(t),c=function(e,t){for(var n={},r=e;r&&r.length;){var s=i.readUInt(r,16,0,t),c=i.readUInt(r,16,2,t),u=i.readUInt(r,32,4,t);if(0===s)break;1!==u||3!==c&&4!==c||(n[s]=a(r,t)),r=o(r)}return n}(function(t,n,a){var o=i.readUInt(t,32,4,a),s=1024,c=r.statSync(n).size;o+s>c&&(s=c-o-10);var u=e.alloc(s),l=r.openSync(n,"r");return r.readSync(l,u,0,s,o),r.closeSync(l),u.slice(2)}(t,n,s),s),u=c[256],l=c[257];if(!u||!l)throw new TypeError("Invalid Tiff. Missing tags");return{height:l,width:u}}}}).call(this,n(97).Buffer)},508:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEBP=void 0,t.WEBP={validate:function(e){var t="RIFF"===e.toString("ascii",0,4),n="WEBP"===e.toString("ascii",8,12),r="VP8"===e.toString("ascii",12,15);return t&&n&&r},calculate:function(e){var t=e.toString("ascii",12,16);if(e=e.slice(20,30),"VP8X"===t){var n=e[0];if(0===(192&n)&&0===(1&n))return function(e){return{height:1+e.readUIntLE(7,3),width:1+e.readUIntLE(4,3)}}(e);throw new TypeError("Invalid WebP")}if("VP8 "===t&&47!==e[0])return function(e){return{height:16383&e.readInt16LE(8),width:16383&e.readInt16LE(6)}}(e);var r=e.toString("hex",3,6);if("VP8L"===t&&"9d012a"!==r)return function(e){return{height:1+((15&e[4])<<10|e[3]<<2|(192&e[2])>>6),width:1+((63&e[2])<<8|e[1])}}(e);throw new TypeError("Invalid WebP")}}},509:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detector=void 0;var r=n(262),i=Object.keys(r.typeHandlers),a={56:"psd",66:"bmp",68:"dds",71:"gif",73:"tiff",77:"tiff",82:"webp",105:"icns",137:"png",255:"jpg"};t.detector=function(e){var t=e[0];if(t in a){var n=a[t];if(r.typeHandlers[n].validate(e))return n}return i.find((function(t){return r.typeHandlers[t].validate(e)}))}},523:function(e,t,n){"use strict";var r=n(4),i=n(16),a=n(1),o=n.n(a),s=n(2),c=n(3),u=n(9),l=n(62),f=n(133),d=n(75);n(473);function h(){var e=Object(r.a)([""]);return h=function(){return e},e}function p(){var e=Object(r.a)(["\n  margin: -10px 5px -10px -10px;\n  height: 47px;\n  width: 47px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  background-color: white;\n  overflow: hidden;\n"]);return p=function(){return e},e}function m(){var e=Object(r.a)(["\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return m=function(){return e},e}function g(){var e=Object(r.a)(["\n  height: 30px;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 50px 5px 5px 50px;\n  background-color: ",";\n"]);return g=function(){return e},e}function b(){var e=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ",";\n"]);return b=function(){return e},e}function v(){var e=Object(r.a)(["\n  color: ",";\n  font-size: 16px;\n  max-width: 800px;\n  padding: 5px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return v=function(){return e},e}function y(){var e=Object(r.a)(["\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]);return y=function(){return e},e}var w=function(e){var t=e.location,n=Object(a.useState)(!1),r=Object(i.a)(n,2),s=r[0],c=r[1],h=Object(a.useCallback)((function(){return void 0!==t?""===t.map||null===t.map?"":t.map:""}),[t]);return o.a.createElement(x,null,o.a.createElement(E,null,""!==h()?o.a.createElement(S,null,o.a.createElement(k,{pic:h()}),o.a.createElement("b",null,t.name)):o.a.createElement(O,null,o.a.createElement("b",null,t.name))),o.a.createElement(f.a,{editable:!1,location:t}),o.a.createElement(E,null,o.a.createElement(j,null,!s&&o.a.createElement(l.a,{text:"Send ".concat(t.name),icon:u.N,onClick:function(){return c(!0)}}),!!s&&o.a.createElement(d.a,{data:t,mode:"THIS"}))))},x=c.b.div(y()),E=c.b.div(v(),(function(e){return e.theme.tile.color})),O=c.b.div(b(),(function(e){return e.theme.tile.backgroundColor})),S=c.b.div(g(),(function(e){return e.theme.tile.backgroundColor})),j=c.b.div(m()),k=function(e){var t=e.pic,n={backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==t?o.a.createElement(_,{style:n}):o.a.createElement(C,null)},_=c.b.div(p(),(function(e){return e.theme.main.highlight})),C=c.b.div(h()),T=n(474),I=n(70),P=n(60),A=n(58),R=n(13),L=n(77),M=n(71);function U(){var e=Object(r.a)(["\n  float: right;\n  line-height: 30px;\n  display: block;\n  height: 30px;\n  padding: 10px;\n  color: ",";\n"]);return U=function(){return e},e}function N(){var e=Object(r.a)(["\n  padding: 5px;\n  width: 150px;\n  height: 30px;\n  line-height: 30px;\n  border-radius: 5px;\n  float: right;\n"]);return N=function(){return e},e}function B(){var e=Object(r.a)(["\n  color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  flex: 1 1;\n  min-width: calc(100% - 20px);\n  height: 45px;\n  padding: 10px;\n"]);return B=function(){return e},e}t.a=function(e){var t=e.location,n=e.isNew,r=Object(a.useState)(n),c=Object(i.a)(r,2),l=c[0],f=c[1],d=Object(a.useState)(t),h=Object(i.a)(d,2),p=h[0],m=h[1],g=Object(a.useState)(!1),b=Object(i.a)(g,2),v=b[0],y=b[1],x=Object(a.useState)(!1),E=Object(i.a)(x,2),O=E[0],S=E[1],j=Object(a.useState)(""),k=Object(i.a)(j,2),_=k[0],C=k[1],R=Object(a.useState)(!1),U=Object(i.a)(R,2),N=U[0],B=U[1],F=Object(s.g)();Object(a.useEffect)((function(){p!==t&&B(!0)}),[p,t]);var z=Object(a.useCallback)((function(e,t){Object(A.s)(e,t,(function(e){e>0?(B(!1),C("Saved successful!"),y(!0)):(C("Something went wrong!"),y(!0)),setTimeout((function(){y(!1)}),3e3)}))}),[]);return o.a.createElement(o.a.Fragment,null,O&&o.a.createElement(L.a,{message:"Delete ".concat(t.name,"?"),icon:u.u,confirmeText:"Delete",confirmeClick:function(){Object(A.o)("locations",t.id),F.goBack()},abortText:"Back",abortClick:function(){S(!1)}}),o.a.createElement(q,null,o.a.createElement(I.a,{icon:u.c,action:function(){return F.goBack()}}),o.a.createElement(M.a,{mode:l.toString()},o.a.createElement(M.b,{onClick:function(){return f(!1)}},"View"),o.a.createElement(M.c,{onClick:function(){return f(!0)}},"Edit")),N&&o.a.createElement(H,{icon:u.u,title:"Unsaved changes!"}),l&&o.a.createElement(o.a.Fragment,null,o.a.createElement(P.a,{onClick:function(){return z("locations",p)},icon:u.V}),o.a.createElement(P.a,{onClick:function(){S(!0)},icon:u.gb}),_&&v&&o.a.createElement(D,null,_))),l?o.a.createElement(T.a,{location:p,onEdit:function(e){return m(e)}}):o.a.createElement(w,{location:p}))};var q=c.b.div(B(),(function(e){return e.theme.tile.color})),D=c.b.div(N()),H=Object(c.b)(R.a)(U(),(function(e){return e.theme.main.highlight}))},58:function(e,t,n){"use strict";n.d(t,"r",(function(){return c})),n.d(t,"s",(function(){return u})),n.d(t,"p",(function(){return l})),n.d(t,"q",(function(){return f})),n.d(t,"o",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"a",(function(){return w})),n.d(t,"f",(function(){return x})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return k}));var r=n(72),i=n.n(r),a=n(28),o=n(76),s=n(74),c=function(e,t){var n=new s.a;n.open().then((function(){n.table(e).update(t.id,t)})).finally((function(){n.close()}))},u=function(e,t,n){var r=new s.a;r.open().then((function(){r.table(e).update(t.id,t).then((function(e){n(e)}))})).finally((function(){r.close()}))},l=function(e,t,n){var r=new s.a;return r.open().then(Object(o.a)(i.a.mark((function o(){var s;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return delete t.id,i.next=3,r.table(e).put(Object(a.a)(Object(a.a)({},t),{},{filename:n}));case 3:return s=i.sent,i.abrupt("return",s);case 5:case"end":return i.stop()}}),o)})))).finally((function(){r.close()}))},f=function(e,t,n){var r=new s.a;r.open().then((function(){r.table(e).add(t).then((function(e){n(e)}))})).finally((function(){r.close()}))},d=function(e,t){var n=new s.a;void 0!==t&&n.open().then((function(){n.table(e).delete(t)})).finally((function(){n.close()}))},h=function(e,t){var n=new s.a;n.open().then((function(){n.table(e).toArray().then((function(e){t(e)}))})).finally((function(){n.close()}))},p=function(e,t){var n=new s.a;n.open().then((function(){n.table(e).count((function(e){t(e)}))})).finally((function(){n.close()}))},m=function(e){var t=new s.a;return t.open().then((function(){return t.table(e).count()})).finally((function(){t.close()}))},g=function(e,t,n,r){var i=new s.a;i.open().then((function(){i.table(e).where(t).equalsIgnoreCase(n).toArray().then((function(e){r(e[0])}))})).finally((function(){i.close()}))},b=function(e,t,n){var r=new s.a;return r.open().then(Object(o.a)(i.a.mark((function a(){var o;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.table(e).where(t).equalsIgnoreCase(n).toArray();case 2:return o=i.sent,i.abrupt("return",o[0]);case 4:case"end":return i.stop()}}),a)})))).finally((function(){r.close()}))},v=function(e,t,n){var r=new s.a;return"string"===typeof n?r.open().then(Object(o.a)(i.a.mark((function a(){return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.table(e).where(t).equalsIgnoreCase(n).count();case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),a)})))).finally((function(){r.close()})):"number"===typeof n?r.open().then(Object(o.a)(i.a.mark((function a(){return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.table(e).where(t).equals(n).count();case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),a)})))).finally((function(){r.close()})):r.open().then(Object(o.a)(i.a.mark((function a(){return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.table(e).where(t).equalsIgnoreCase(""+n).count();case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),a)})))).finally((function(){r.close()}))},y=function(e){var t=new s.a;return t.open().then(Object(o.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.table(e).toArray();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).finally((function(){t.close()}))},w=function(e,t){var n=[];t.forEach((function(t){if("string"===typeof t.value)if(e[t.fieldName]instanceof Array){var r=!1;e[t.fieldName].forEach((function(e){e.toLowerCase().includes(t.value.toLowerCase())&&(r=!0)})),r?n.push(!0):n.push(!1)}else n.push(e[t.fieldName].toLowerCase().includes(t.value.toLowerCase()));else if("number"===typeof t.value)n.push(e[t.fieldName]===t.value);else if("boolean"===typeof t.value)n.push(e[t.fieldName]===t.value);else if(t.value instanceof Array){var i=!1;t.value.forEach((function(n){"string"===typeof n?e[t.fieldName].toLowerCase().includes(n.toLowerCase())&&(i=!0):"number"===typeof n?e[t.fieldName]===n&&(i=!0):"boolean"===typeof n&&e[t.fieldName]===n&&(i=!0)})),n.push(i)}}));var r=!0;return n.forEach((function(e){e||(r=!1)})),r},x=function(e,t,n){var r=new s.a;r.open().then((function(){var i="name",a=!1;t.forEach((function(e){0!==e.sort&&(i=e.fieldName,2===e.sort&&(a=!0))})),a?r.table(e).filter((function(e){return w(e,t)})).reverse().sortBy(i).then((function(e){n(e)})):r.table(e).filter((function(e){return w(e,t)})).sortBy(i).then((function(e){n(e)}))})).finally((function(){r.close()}))},E=function(e,t,n){var r=new s.a;r.open().then((function(){r.table(e).orderBy(t).uniqueKeys((function(e){n(e)}))})).finally((function(){r.close()}))},O=function(e,t){var n=new s.a;return n.open().then((function(){return n.table(e).orderBy(t).uniqueKeys()})).finally((function(){n.close()}))},S=function(e,t,n){var r=new s.a;r.open().then((function(){r.table(e).put(t).then((function(e){n(e)}))})).finally((function(){r.close()}))},j=function(e){var t=new s.a;t.open().then((function(){t.table(e).clear()})).finally((function(){t.close()}))},k=function(e,t,n){x(e,t,(function(e){if(window.navigator&&window.navigator.msSaveOrOpenBlob){var t=new Blob([decodeURIComponent(encodeURI(JSON.stringify(e)))],{type:"application/json;charset=utf-8;"});navigator.msSaveOrOpenBlob(t,n)}else{var r=document.createElement("a");r.download=n,r.href="data:application/json;charset=utf-8;,"+encodeURIComponent(JSON.stringify(e)),r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}))}},60:function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3),s=n(13);function c(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return c=function(){return e},e}function u(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  cursor: not-allowed;\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  cursor: pointer;\n\n  font-size: 16px;\n  overflow: hidden;\n  height: ",";\n  line-height: ",";\n  float: ",";\n  padding: 10px;\n  margin: 5px;\n  border-radius: 10px;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n\n  transition: color 0.2s;\n\n  &:hover {\n    color: white;\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n"]);return l=function(){return e},e}t.a=function(e){var t=e.icon,n=e.floatLeft,r=e.disabled,i=e.transform,o=e.onClick;return a.a.createElement(a.a.Fragment,null,!r&&a.a.createElement(f,{left:n,onClick:o},a.a.createElement(h,{icon:t,transform:i})),r&&a.a.createElement(d,null,a.a.createElement(h,{icon:t,transform:i})))};var f=o.b.div(l(),(function(e){return e.theme.buttons.color}),(function(e){return e.theme.buttons.backgroundColor}),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.height}),(function(e){return e.left?"left":"right"})),d=Object(o.b)(f)(u(),(function(e){return e.theme.buttons.backgroundColor}),(function(e){return e.theme.buttons.color})),h=Object(o.b)(s.a)(c())},62:function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3),s=n(13);function c(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  margin-right: 5px;\n"]);return c=function(){return e},e}function u(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: ",";\n  line-height: ",";\n  float: right;\n  padding: 10px;\n  margin: 5px;\n  border-radius: 10px;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  box-sizing: content-box;\n  border: none;\n\n  transition: color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n"]);return u=function(){return e},e}t.a=function(e){var t=e.text,n=e.icon,r=e.transform,i=e.disabled,o=e.onClick;return a.a.createElement(l,{onClick:o,disabled:i},n?a.a.createElement(f,{icon:n,transform:r}):""," ",t)};var l=o.b.button(u(),(function(e){return e.theme.buttons.color}),(function(e){return e.theme.buttons.backgroundColor}),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.hoverColor}),(function(e){return e.theme.buttons.disabled})),f=Object(o.b)(s.a)(c())},63:function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3),s=n(13);function c(){var e=Object(r.a)(["\n  flex: 3 1 auto;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n  width: 0;\n  min-width: 100px;\n"]);return c=function(){return e},e}function u(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return l=function(){return e},e}function f(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return f=function(){return e},e}t.a=function(e){var t=e.value,n=e.label,r=e.placeholder,i=e.icon,o=e.transform,s=e.onChange;return a.a.createElement(d,null,a.a.createElement(p,null,i?a.a.createElement(h,{icon:i,transform:o}):""," ",n),a.a.createElement(m,{type:"text",value:t,onChange:function(e){return s(e.target.value)},placeholder:r}))};var d=o.b.label(f(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),h=Object(o.b)(s.a)(l(),(function(e){return e.theme.main.highlight})),p=o.b.div(u()),m=o.b.input(c(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}))},66:function(e,t,n){"use strict";var r=n(4),i=n(16),a=n(1),o=n.n(a),s=n(2),c=n(3),u=n(32),l=n(14),f=n(9),d=n(13),h=n(30),p=n(33),m=n(58),g=function(e){var t=e.type,n=e.name,r=Object(a.useState)(!0),s=Object(i.a)(r,2),c=s[0],g=s[1],b=Object(a.useState)(!1),v=Object(i.a)(b,2),y=v[0],w=v[1];Object(a.useEffect)((function(){Object(m.n)(t+"s","name",n).then((function(e){w(e>0),g(!1)}))}),[t,n]);return o.a.createElement(o.a.Fragment,null,c&&o.a.createElement(u.b,null),!c&&!y&&o.a.createElement(u.a,null),!c&&y&&o.a.createElement(o.a.Fragment,null,function(e){switch(e){case"spell":return o.a.createElement(d.a,{icon:f.K});case"item":return o.a.createElement(l.e,null);case"gear":return o.a.createElement(l.b,null);case"race":return o.a.createElement(l.o,null);case"class":return o.a.createElement(l.i,null);case"selection":return o.a.createElement(u.c,null);case"char":return o.a.createElement(d.a,{icon:f.F});case"monster":return o.a.createElement(d.a,{icon:f.r});case"encounter":return o.a.createElement(l.m,null);case"campaign":return o.a.createElement(l.c,null);case"quest":return o.a.createElement(l.k,null);case"event":return o.a.createElement(h.a,null);case"world":return o.a.createElement(l.l,null);case"location":return o.a.createElement(d.a,{icon:f.J});case"npc":return o.a.createElement(l.g,null);case"randomTable":return o.a.createElement(d.a,{icon:f.cb});case"book":return o.a.createElement(l.d,null);case"group":return o.a.createElement(p.a,null);default:return""}}(t)))};function b(){var e=Object(r.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: 5px;\n  text-align: center;\n"]);return b=function(){return e},e}function v(){var e=Object(r.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: 2px 5px 2px 5px;\n"]);return v=function(){return e},e}function y(){var e=Object(r.a)(["\n  white-space: pre-line;\n"]);return y=function(){return e},e}function w(){var e=Object(r.a)(["\n  display: inline-block;\n  background-color: ",";\n  border-radius: 5px;\n  text-decoration: none;\n  color: ",";\n  font-size: 14px;\n  padding: 0px 5px 0px 5px;\n  cursor: pointer;\n  white-space: pre;\n"]);return w=function(){return e},e}t.a=function(e){var t=e.text,n=Object(a.useState)(),r=Object(i.a)(n,2),c=r[0],u=r[1],l=Object(s.g)(),f=function(e,t,n){return e.substr(0,t)+e.substr(n+1)},d=Object(a.useCallback)((function(e){if(void 0!==e){if(e.includes("[[")&&e.includes("]]")){var t=e.split("[["),n=[];return t.forEach((function(e,t){if(e.includes("]]")){var r=e.split("]]"),i=r[0].split("."),a="/"+i[0]+"-detail/name/"+i[1];n.push(o.a.createElement(E,{key:t},o.a.createElement(x,{onClick:function(){return l.push(a)}},o.a.createElement(g,{type:i[0],name:i[1]})," ",i[1]),o.a.createElement(E,null,r[1])))}else""!==e&&n.push(o.a.createElement(E,{key:t},e))})),o.a.createElement(o.a.Fragment,null,n)}return o.a.createElement(E,null,e)}}),[l]),h=Object(a.useCallback)((function(e){if(e.includes("||table||")){var n=t.split("||table||"),r=n[1].split("||"),i=!0;return o.a.createElement(o.a.Fragment,null,d(n[0]),o.a.createElement("table",null,o.a.createElement("tbody",null,r.map((function(e,t){if(e.includes("|")){if(i){i=!1;var n=e.split("|");return o.a.createElement("tr",{key:t},n.map((function(e,t){return o.a.createElement(O,{key:t},e)})))}var r=e.split("|");return o.a.createElement("tr",{key:t},r.map((function(e,t){return o.a.createElement(S,{key:t},d(e))})))}return o.a.createElement(o.a.Fragment,null)})))),d(n[2]))}return d(e)}),[t,d]),p=Object(a.useCallback)((function(e){for(;e.includes("{{");){var t=e.indexOf("{{"),n=e.indexOf("}}")+1;e=f(e,t,n)}return h(e)}),[h]);return Object(a.useEffect)((function(){if(void 0!==t){var e=p(t);u(e)}}),[t,l,p]),o.a.createElement(o.a.Fragment,null,c)};var x=c.b.span(w(),(function(e){return e.theme.tile.backgroundColorLink}),(function(e){return e.theme.tile.backgroundColor})),E=c.b.span(y()),O=c.b.th(v(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color})),S=c.b.td(b(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}))},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(16),i=n(1),a=(n(29),function(e,t){var n=Object(i.useState)(!0),a=Object(r.a)(n,2),o=a[0],s=a[1],c=Object(i.useCallback)((function(e,t){switch(t.type){case"resolved":return[t.data,!1,void 0];case"empty":return[void 0,!1,void 0];case"error":return[void 0,!1,t.error];default:return[void 0,!0,void 0]}}),[]),u=Object(i.useReducer)(c,[void 0,!0,void 0]),l=Object(r.a)(u,2),f=l[0],d=l[1];return Object(i.useEffect)((function(){if(o){e.get(t).then((function(e){d(void 0!==e?{type:"resolved",data:e}:{type:"empty"})})).catch((function(e){d({type:"error",error:e})})),s(!1)}}),[e,t,o]),f}),o=function(e,t,n){var a=Object(i.useState)(!0),o=Object(r.a)(a,2),s=o[0],c=o[1],u=Object(i.useCallback)((function(e,t){switch(t.type){case"resolved":return[t.data,!1,void 0];case"empty":return[void 0,!1,void 0];case"error":return[void 0,!1,t.error];default:return[void 0,!0,void 0]}}),[]),l=Object(i.useReducer)(u,[void 0,!0,void 0]),f=Object(r.a)(l,2),d=f[0],h=f[1];return Object(i.useEffect)((function(){if(s){e.where(t).equals(n).first().then((function(e){h(void 0!==e?{type:"resolved",data:e}:{type:"empty"})})).catch((function(e){h({type:"error",error:e})})),c(!1)}}),[e,t,n,s]),d}},678:function(e,t,n){"use strict";n.r(t);var r=n(16),i=n(1),a=n.n(i),o=n(2),s=n(117),c=n(74),u=n(67),l=n(27),f=n(523),d=n(58),h=n(86);t.default=function(e){var t=e.match,n=Object(o.g)(),i=new c.a,p=Object(u.b)(i.locations,"name",t.params.name),m=Object(r.a)(p,3),g=m[0],b=m[1],v=m[2];return a.a.createElement(a.a.Fragment,null,!v&&b&&a.a.createElement(l.b,null),v&&!b&&a.a.createElement(a.a.Fragment,null,"Error occured"),!v&&!b&&void 0===g&&a.a.createElement(h.a,{text:"No such location exists. Want to creat such location?",buttonText:"Add",onButton:function(){return function(){var e=new s.a(0,t.params.name);delete e.id,Object(d.b)("locations",e,(function(e){n.push("/location-detail/id/".concat(e))}))}()}}),!v&&!b&&void 0!==g&&a.a.createElement(f.a,{location:g,isNew:""===g.name}))}},70:function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3),s=n(13);function c(){var e=Object(r.a)(["\n  float: left;\n  font-size: calc("," + 10px);\n  margin: 10px 0px 0px 10px;\n  cursor: pointer;\n"]);return c=function(){return e},e}function u(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n"]);return u=function(){return e},e}t.a=function(e){var t=e.icon,n=e.transform,r=e.action;return a.a.createElement(f,{onClick:r},a.a.createElement(l,{icon:t,transform:n}))};var l=Object(o.b)(s.a)(u(),(function(e){return e.theme.main.highlight}),(function(e){return e.theme.buttons.color})),f=o.b.div(c(),(function(e){return e.theme.buttons.height}))},71:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(4),i=n(3);function a(){var e=Object(r.a)(["\n  width: auto;\n  height: ",";\n  float: right;\n  color: ",";\n\n  "," {\n    background-color: ",";\n  }\n\n  "," {\n    background-color: ",";\n  }\n"]);return a=function(){return e},e}function o(){var e=Object(r.a)(["\n  margin: 5px 5px 5px 0px;\n\n  border-radius: 0px 5px 5px 0px;\n"]);return o=function(){return e},e}function s(){var e=Object(r.a)(["\n  width: auto;\n  padding: 10px;\n  margin: 5px 0px 5px 5px;\n  height: ",";\n  line-height: ",";\n  float: left;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  border-radius: 5px 0px 0px 5px;\n\n  transition: color 0.2s, background-color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n"]);return s=function(){return e},e}var c=i.b.div(s(),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.hoverColor})),u=Object(i.b)(c)(o()),l=i.b.div(a(),(function(e){return e.theme.buttons.height}),(function(e){return e.theme.buttons.color}),c,(function(e){return"true"!==e.mode?function(e){return e.theme.buttons.backgroundColor}:function(e){return e.theme.tile.backgroundColor}}),u,(function(e){return"true"===e.mode?function(e){return e.theme.buttons.backgroundColor}:function(e){return e.theme.tile.backgroundColor}}))},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(59),i=n(184),a=n(182),o=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this,"DnDTomeDB")).spells=void 0,e.items=void 0,e.gears=void 0,e.monsters=void 0,e.races=void 0,e.subraces=void 0,e.classes=void 0,e.subclasses=void 0,e.chars=void 0,e.encounters=void 0,e.books=void 0,e.selections=void 0,e.randomTables=void 0,e.campaigns=void 0,e.quests=void 0,e.npcs=void 0,e.worlds=void 0,e.locations=void 0,e.events=void 0,e.groups=void 0,e.version(1).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic"}),e.version(2).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment"}),e.version(3).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties"}),e.version(4).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment"}),e.version(5).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",chars:"++id, name, player, prof, level, pic, classes, race, background, ac, hp, currentHp, hitDice, init, speed, str, dex, con, int, wis, cha, strSave, dexSave, conSave, intSave, wisSave, chaSave, strSaveProf, dexSaveProf, conSaveProf, intSaveProf, wisSaveProf, chaSaveProf, actions, bonusActions, reactions, features, classFeatures, racialFeatures, profsLangs, senses, passivPerception, passivInsight, passivInvestigation, notesOne, notesTwo, notesThree, acrobatics, animalHandling, arcana, athletics, deception, history, insight, intimidation, investigation, medicine, nature, perception, performance, persuasion, religion, sleightOfHand, stealth, survival, acrobaticsProf, animalHandlingProf, arcanaProf, athleticsProf, deceptionProf, historyProf, insightProf, intimidationProf, investigationProf, medicineProf, natureProf, perceptionProf, performanceProf, persuasionProf, religionProf, sleightOfHandProf, stealthProf, survivalProf, spellNotes, alignment, inspiration, castingHit, castingDC"}),e.version(6).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",chars:"++id, name, player, prof, level, pic, classes, race, background, ac, hp, currentHp, hitDice, init, speed, str, dex, con, int, wis, cha, strSave, dexSave, conSave, intSave, wisSave, chaSave, strSaveProf, dexSaveProf, conSaveProf, intSaveProf, wisSaveProf, chaSaveProf, actions, bonusActions, reactions, features, classFeatures, racialFeatures, profsLangs, senses, passivPerception, passivInsight, passivInvestigation, notesOne, notesTwo, notesThree, acrobatics, animalHandling, arcana, athletics, deception, history, insight, intimidation, investigation, medicine, nature, perception, performance, persuasion, religion, sleightOfHand, stealth, survival, acrobaticsProf, animalHandlingProf, arcanaProf, athleticsProf, deceptionProf, historyProf, insightProf, intimidationProf, investigationProf, medicineProf, natureProf, perceptionProf, performanceProf, persuasionProf, religionProf, sleightOfHandProf, stealthProf, survivalProf, spellNotes, alignment, inspiration, castingHit, castingDC",chars_spells:"++id, char_id, spell_id, prepared",chars_monsters:"++id, char_id, monster_id",chars_items:"++id, char_id, item_id, gear_id, amount, equiped, attuned, damage, hit, range, properties"}),e.version(7).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC"}),e.version(8).stores({chars_spells:null,chars_monsters:null,chars_items:null,spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players"}),e.version(9).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags"}),e.version(10).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename"}),e.version(11).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename"}),e.version(12).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename"}),e.version(13).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename"}),e.version(14).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename",campaigns:"++id, name, pic, description, world, quests, npcs, notes, players, sources, filename"}),e.version(15).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename",campaigns:"++id, name, pic, description, world, quests, npcs, notes, players, sources, filename",quests:"++id, name, pic, locations, origin, description, rewards, followQuest, sources, filename",npcs:"++id, name, pic, char, traits, description, sources, filename",worlds:"++id, name, map, description, locations, events, notes, sources, filename",locations:"++id, name, map, description, events, notes, sources, filename",events:"++id, name, description, locations, npcs, notes, sources, filename"}),e.version(16).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename",campaigns:"++id, name, pic, description, world, quests, npcs, notes, players, map, sources, filename",quests:"++id, name, pic, locations, origin, description, rewards, followQuest, sources, filename",npcs:"++id, name, pic, char, traits, description, sources, filename",worlds:"++id, name, map, description, locations, events, notes, sources, filename",locations:"++id, name, map, description, events, notes, sources, filename",events:"++id, name, description, locations, npcs, notes, sources, filename"}),e.version(17).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename",campaigns:"++id, name, pic, description, world, npcs, notes, logs, players, flow, map, sources, filename",quests:"++id, name, pic, description, rewards, followQuest, sources, filename",npcs:"++id, name, pic, char, traits, description, sources, filename",worlds:"++id, name, map, description, events, notes, sources, filename",locations:"++id, name, map, dimension, description, events, notes, markers, sources, filename",events:"++id, name, description, npcs, notes, sources, filename"}),e.version(18).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic, filename",items:"++id, name, sources, pic, description, type, rarity, attunment, magicBonus, base, filename",gears:"++id, name, sources, pic, description, type, cost, damage, weight, properties, filename",monsters:"++id, name, type, subtype, cr, ac, hp, str, dex, con, int, wis, cha, senses, lang, speed, source, skills, savingThrows, dmgImmunities, dmgResistance, dmgVulnerabilitie, conImmunities, sAblt, ablt, lAblt, pic, size, alignment",races:"++id, name, abilityScores, age, alignment, size, speed, lang, traits, sources, pic, filename",subraces:"++id, name, type, abilityScores, traits, sources, filename",classes:"++id, name, featureSets, hitDice, proficiencies, equipment, sources, pic, filename",subclasses:"++id, name, type, features, sources, filename",chars:"++id, name, player, pic, classes, race, background, spells, spellSlots, activeSelections, items, monsters, ac, hp, currentHp, init, speed, str, dex, con, int, wis, cha, saves, actions, bonusActions, reactions, profsLangs, senses, money, skills, spellNotes, alignment, inspiration, castingHit, castingDC",encounters:"++id, name, monsters, players",books:"++id, name, cover, data, pages, tags",selections:"++id, name, selectionOptions, filename",randomTables:"++id, name, rows, header, filename",campaigns:"++id, name, pic, description, world, npcs, notes, logs, players, flow, map, sources, filename",quests:"++id, name, pic, description, rewards, followQuest, sources, filename",npcs:"++id, name, pic, char, traits, description, sources, filename",worlds:"++id, name, map, description, locations, events, sources, filename",locations:"++id, name, map, dimension, markers, sources, filename",events:"++id, name, description, date, sources, filename",groups:"++id, name, pic, description, npcs, players, monsters, flow, sources, filename"}),e.spells=e.table("spells"),e.items=e.table("items"),e.gears=e.table("gears"),e.monsters=e.table("monsters"),e.races=e.table("races"),e.subraces=e.table("subraces"),e.classes=e.table("classes"),e.subclasses=e.table("subclasses"),e.chars=e.table("chars"),e.encounters=e.table("encounters"),e.books=e.table("books"),e.selections=e.table("selections"),e.randomTables=e.table("randomTables"),e.campaigns=e.table("campaigns"),e.quests=e.table("quests"),e.npcs=e.table("npcs"),e.worlds=e.table("worlds"),e.locations=e.table("locations"),e.events=e.table("events"),e.groups=e.table("groups"),e}return n}(n(154).a)},75:function(e,t,n){"use strict";var r=n(4),i=n(16),a=n(1),o=n.n(a),s=n(3),c=n(94),u=n.n(c),l=n(58),f=n(9),d=n(63),h=n(13);function p(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ",";\n"]);return p=function(){return e},e}t.a=function(e){var t=e.data,n=e.mode,r=Object(a.useState)(""),s=Object(i.a)(r,2),c=s[0],h=s[1],p=Object(a.useState)(),g=Object(i.a)(p,2),b=g[0],v=g[1],y=Object(a.useState)(),w=Object(i.a)(y,2),x=w[0],E=w[1];return Object(a.useEffect)((function(){if(void 0===b){var e=function(){for(var e,t,n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<13;i++)n+=r[(e=0,t=r.length-1,Math.floor(Math.random()*(t-e+1))+e)];return n}(),n=new u.a(e,{host:"peerjs.thedndtome.com",secure:!0});console.log(n),n.on("connection",(function(e){e.on("error",(function(e){E(e)})),e.on("open",(function(){e.send(t)}))})),v(n)}}),[t,b]),Object(a.useEffect)((function(){void 0!==b&&(b.disconnected&&!b.destroyed&&b.reconnect(),"ALL"===n&&"string"===typeof t?Object(l.g)(t).then((function(e){console.log(e),h(t),b.on("connection",(function(t){t.on("error",(function(e){E(e)})),t.on("open",(function(){t.send(e)}))}))})):"THIS"===n&&"string"!==typeof t&&(h(t.name),b.on("connection",(function(e){e.on("error",(function(e){E(e)})),e.on("open",(function(){e.send(t)}))}))))}),[t,n,b]),o.a.createElement(o.a.Fragment,null,void 0!==b&&null!==b.id&&o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{value:b.id,label:"Your ".concat(c," ID:"),onChange:function(){}})),x&&o.a.createElement(m,{icon:f.t}))};var m=Object(s.b)(h.a)(p(),(function(e){return e.theme.main.highlight}))},77:function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3),s=n(13),c=n(62);function u(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  margin-right: 5px;\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n  width: 100%;\n"]);return l=function(){return e},e}function f(){var e=Object(r.a)(["\n  width: 100%;\n  text-align: center;\n"]);return f=function(){return e},e}function d(){var e=Object(r.a)(["\n  width: 180px;\n  position: absolute;\n  z-index: 1010;\n  top: 10px;\n  left: calc(50% - 100px);\n  padding: 10px;\n  background-color: ",";\n  color: ",";\n"]);return d=function(){return e},e}t.a=function(e){var t=e.message,n=e.icon,r=e.confirmeText,i=e.confirmeClick,o=e.abortText,s=e.abortClick;return a.a.createElement(h,null,a.a.createElement(p,null,n?a.a.createElement(g,{icon:n}):""," ",t),a.a.createElement(m,null,a.a.createElement(c.a,{text:o,onClick:s}),a.a.createElement(c.a,{text:r,onClick:i})))};var h=o.b.div(d(),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.color})),p=o.b.div(f()),m=o.b.div(l()),g=Object(o.b)(s.a)(u())},79:function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3),s=n(13);function c(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  max-width: 6em;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n"]);return c=function(){return e},e}function u(){var e=Object(r.a)(["\n  flex: 1 1;\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return l=function(){return e},e}function f(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return f=function(){return e},e}t.a=function(e){var t=e.value,n=e.max,r=e.label,i=e.icon,o=e.transform,s=e.onChange;return a.a.createElement(d,null,a.a.createElement(p,null,i?a.a.createElement(h,{icon:i,transform:o}):""," ",r),n&&a.a.createElement(m,{type:"number",max:n,value:t,onChange:function(e){return s(+e.target.value)}}),!n&&a.a.createElement(m,{type:"number",value:t,onChange:function(e){return s(+e.target.value)}}))};var d=o.b.label(f(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),h=Object(o.b)(s.a)(l(),(function(e){return e.theme.main.highlight})),p=o.b.div(u()),m=o.b.input(c(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}))},86:function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=n(3),s=n(9),c=n(62);function u(){var e=Object(r.a)(["\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ",";\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n  display: inline-block;\n  color: ",";\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n"]);return l=function(){return e},e}function f(){var e=Object(r.a)(["\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n"]);return f=function(){return e},e}function d(){var e=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ",";\n  text-align: center;\n  border-radius: 5px;\n"]);return d=function(){return e},e}function h(){var e=Object(r.a)(["\n  flex: 1 1 15em;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n"]);return h=function(){return e},e}t.a=function(e){var t=e.text,n=e.buttonText,r=e.onButton;return a.a.createElement(p,null,a.a.createElement(g,null,a.a.createElement(m,null,a.a.createElement("b",null,"A problem occured!")),a.a.createElement(v,null,a.a.createElement(b,null,"Text: "),t),a.a.createElement(c.a,{text:n,onClick:function(){return r()},icon:s.Q})))};var p=o.b.div(h(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.boxShadow})),m=o.b.div(d(),(function(e){return e.theme.tile.headerColor})),g=o.b.div(f()),b=o.b.span(l(),(function(e){return e.theme.tile.backgroundColorLink})),v=o.b.div(u(),(function(e){return e.theme.tile.backgroundColor}))},98:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=98}}]);
//# sourceMappingURL=24.22c05901.chunk.js.map