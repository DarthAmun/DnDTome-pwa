{"version":3,"sources":["data/races/Trait.tsx","data/races/Race.tsx","data/races/Subrace.tsx","components/entities/races/details/RaceView.tsx","components/entities/races/details/RaceEditView.tsx","components/entities/races/details/RaceDetail.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/entities/races/details/link_wrapper/NameToRace.tsx","components/general_elements/ErrorTile.tsx"],"names":["Trait","name","text","level","this","isTrait","arg","undefined","nameCheck","textCheck","levelCheck","Race","id","filename","pic","abilityScores","age","alignment","size","speed","lang","traits","sources","isRace","picCheck","abilityScoresCheck","ageCheck","alignmentCheck","sizeCheck","speedCheck","langCheck","traitsCheck","Array","isArray","sourcesCheck","Subrace","type","isSubrace","typeCheck","RaceView","race","useState","send","setSend","subraces","setSubraces","history","useHistory","useEffect","reciveAllFiltered","fieldName","value","sort","results","getPicture","useCallback","CenterWrapper","ImageView","View","Name","PropWrapper","Prop","Text","PropTitle","FormatedText","length","map","subrace","index","link","SubraceLink","key","onClick","push","CreateButton","newSubrace","createNewWithId","createNewSubrace","icon","faPlusCircle","Icon","faLink","TextButton","faPaperPlane","P2PSender","data","mode","trait","TraitWrapper","TraitName","TraitLevel","TraitText","styled","div","theme","tile","color","backgroundColor","main","highlight","span","backgroundColorLink","Link","FontAwesomeIcon","Image","ImageElm","src","Empty","img","button","RaceEditView","onEdit","onTraitChange","oldTrait","field","StringField","label","onChange","ShortTextField","faImage","TraitView","IconButton","faTrash","indexOf","splice","removeTrait","faPlus","NumberField","RaceDetail","isNew","editMode","setMode","raceObj","editRace","showAlert","setAlert","showDeleteDialog","setDeleteDialog","message","setMessage","unsavedChanges","setUnsavedChanges","Dialog","faExclamationTriangle","confirmeText","confirmeClick","remove","goBack","abortText","abortClick","TopBar","BackButton","faArrowLeft","action","toString","title","tableName","updateWithCallback","result","setTimeout","updateRace","faSave","Message","_toConsumableArray","arr","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","NameToRace","match","db","MyAppDatabase","useItemByAttr","races","params","loading","error","buttonText","onButton","newRace","createNewRace","ErrorTile","Tile","boxShadow","headerColor"],"mappings":"qLAEqBA,EAInB,WAAYC,EAAcC,EAAcC,GAAgB,yBAHxDF,UAGuD,OAFvDC,UAEuD,OADvDC,WACuD,EACrDC,KAAKH,KAAOA,EACZG,KAAKF,KAAOA,EACZE,KAAKD,MAAQA,GAIV,SAASE,EAAQC,GACtB,QAAYC,IAARD,EAAmB,CACrB,IAAME,OAAyBD,IAAbD,EAAIL,MAAyC,iBAAZK,EAAIL,KACjDQ,OAAyBF,IAAbD,EAAIJ,MAAyC,iBAAZI,EAAIJ,KACjDQ,OAA2BH,IAAdD,EAAIH,OAA2C,iBAAbG,EAAIH,MACzD,OAAOG,GAAOE,GAAaC,GAAaC,EAExC,OAAO,I,0HCjBUC,EAcnB,WACEV,EACAW,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GACC,yBA1BHV,QA0BE,OAzBFX,UAyBE,OAxBFc,mBAwBE,OAvBFC,SAuBE,OAtBFC,eAsBE,OArBFC,UAqBE,OApBFC,WAoBE,OAnBFC,UAmBE,OAlBFC,YAkBE,OAjBFC,aAiBE,OAhBFT,cAgBE,OAfFC,SAeE,EACAV,KAAKH,KAAOA,GAAQ,GACpBG,KAAKQ,GAAKA,EACVR,KAAKS,SAAWA,GAAY,GAC5BT,KAAKU,IAAMA,GAAO,GAClBV,KAAKW,cAAgBA,GAAiB,GACtCX,KAAKY,IAAMA,GAAO,GAClBZ,KAAKa,UAAYA,GAAa,GAC9Bb,KAAKc,KAAOA,GAAQ,GACpBd,KAAKe,MAAQA,GAAS,GACtBf,KAAKgB,KAAOA,GAAQ,GACpBhB,KAAKiB,OAASA,GAAU,GACxBjB,KAAKkB,QAAUA,GAAW,IAIvB,SAASC,EAAOjB,GACrB,IAAME,OAAyBD,IAAbD,EAAIL,MAAyC,iBAAZK,EAAIL,KACjDuB,OAAuBjB,IAAZD,EAAIQ,KAAuC,iBAAXR,EAAIQ,IAC/CW,OACkBlB,IAAtBD,EAAIS,eAA2D,iBAArBT,EAAIS,cAC1CW,OAAuBnB,IAAZD,EAAIU,KAAuC,iBAAXV,EAAIU,IAC/CW,OACcpB,IAAlBD,EAAIW,WAAmD,iBAAjBX,EAAIW,UACtCW,OAAyBrB,IAAbD,EAAIY,MAAyC,iBAAZZ,EAAIY,KACjDW,OAA2BtB,IAAdD,EAAIa,OAA2C,iBAAbb,EAAIa,MACnDW,OAAyBvB,IAAbD,EAAIc,MAAyC,iBAAZd,EAAIc,KACjDW,OACWxB,IAAfD,EAAIe,QACJW,MAAMC,QAAQ3B,EAAIe,SAClBhB,YAAQC,EAAIe,OAAO,IACfa,OACY3B,IAAhBD,EAAIgB,SAA+C,iBAAfhB,EAAIgB,QAC1C,OACEhB,GACAE,GACAgB,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAG,I,0HCvEiBC,EASnB,WACElC,EACAW,EACAwB,EACAvB,EACAE,EACAM,EACAC,GACC,yBAhBHV,QAgBE,OAfFX,UAeE,OAdFmC,UAcE,OAbFrB,mBAaE,OAZFM,YAYE,OAXFC,aAWE,OAVFT,cAUE,EACAT,KAAKH,KAAOA,GAAQ,GACpBG,KAAKQ,GAAKA,EACVR,KAAKgC,KAAOA,GAAQ,GACpBhC,KAAKS,SAAWA,GAAY,GAC5BT,KAAKW,cAAgBA,GAAiB,GACtCX,KAAKiB,OAASA,GAAU,GACxBjB,KAAKkB,QAAUA,GAAW,IAIvB,SAASe,EAAU/B,GACxB,IAAME,OAAyBD,IAAbD,EAAIL,MAAyC,iBAAZK,EAAIL,KACjDqC,OAAyB/B,IAAbD,EAAI8B,MAAyC,iBAAZ9B,EAAI8B,KACjDX,OACkBlB,IAAtBD,EAAIS,eAA2D,iBAArBT,EAAIS,cAC1CgB,OACWxB,IAAfD,EAAIe,QACJW,MAAMC,QAAQ3B,EAAIe,SAClBhB,YAAQC,EAAIe,OAAO,IACfa,OACY3B,IAAhBD,EAAIgB,SAA+C,iBAAfhB,EAAIgB,QAC1C,OACEhB,GACAE,GACA8B,GACAb,GACAM,GACAG,I,++GC7BJ,IAwHeK,EAxHE,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,KAAmB,EACbC,oBAAkB,GADL,mBAC9BC,EAD8B,KACxBC,EADwB,OAELF,mBAAoB,IAFf,mBAE9BG,EAF8B,KAEpBC,EAFoB,KAGjCC,EAAUC,cAEdC,qBAAU,WACRC,YACE,WACA,CAAC,CAAEC,UAAW,OAAQC,MAAOX,EAAKvC,KAAMmD,KAAM,KAC9C,SAACC,GACCR,EAAYQ,QAGf,CAACb,IAEJ,IAAMc,EAAaC,uBAAY,WAC7B,YAAahD,IAATiC,EACe,KAAbA,EAAK1B,KAA2B,OAAb0B,EAAK1B,IACnB,GAEF0B,EAAK1B,IAEP,KACN,CAAC0B,IAWJ,OACE,kBAACgB,EAAD,KACoB,KAAjBF,IACC,kBAACG,EAAD,KACE,kBAAC,EAAD,CAAO3C,IAAKwC,OAGd,GAEF,kBAACI,EAAD,KACE,kBAACC,EAAD,KACE,2BAAInB,EAAKvC,OAEX,kBAAC2D,EAAD,KACE,kBAACC,EAAD,KACE,kBAAC,IAAD,MACCrB,EAAKzB,eAER,kBAAC+C,EAAD,KACE,kBAACC,EAAD,aACA,kBAACC,EAAA,EAAD,CAAc9D,KAAMsC,EAAKxB,OAE3B,kBAAC8C,EAAD,KACE,kBAACC,EAAD,mBACA,kBAACC,EAAA,EAAD,CAAc9D,KAAMsC,EAAKvB,aAE3B,kBAAC6C,EAAD,KACE,kBAACC,EAAD,cACA,kBAACC,EAAA,EAAD,CAAc9D,KAAMsC,EAAKtB,QAE3B,kBAAC4C,EAAD,KACE,kBAACC,EAAD,eACA,kBAACC,EAAA,EAAD,CAAc9D,KAAMsC,EAAKrB,SAE3B,kBAAC2C,EAAD,KACE,kBAACC,EAAD,kBACA,kBAACC,EAAA,EAAD,CAAc9D,KAAMsC,EAAKpB,QAE3B,kBAAC0C,EAAD,KACE,kBAACC,EAAD,kBACqB,IAApBnB,EAASqB,QACRrB,EAASsB,KAAI,SAACC,EAAkBC,GAC9B,IAAMC,EAAe,sBAAwBF,EAAQvD,GACrD,OACE,kBAAC0D,EAAD,CAAaC,IAAKH,EAAOI,QAAS,kBAAM1B,EAAQ2B,KAAKJ,KAClDF,EAAQlE,SAIjB,kBAACyE,GAAD,CAAcF,QAAS,kBA1DR,WACvB,IAAIG,EAAa,IAAIxC,WACdwC,EAAW/D,GAClB+D,EAAWvC,KAAOI,EAAKvC,KACvB2E,YAAgB,WAAYD,GAAY,SAAC/D,GACvCkC,EAAQ2B,KAAR,6BAAmC7D,OAqDAiE,KAC3B,kBAAC,IAAD,CAAiBC,KAAMC,QAG3B,kBAAClB,EAAD,KACE,kBAACmB,EAAD,CAAMF,KAAMG,MACXzC,EAAKlB,UAGV,kBAACsC,EAAD,MACIlB,GACA,kBAACwC,EAAA,EAAD,CACEhF,KAAI,eAAUsC,EAAKvC,MACnB6E,KAAMK,IACNX,QAAS,kBAAM7B,GAAQ,QAGxBD,GAAQ,kBAAC0C,EAAA,EAAD,CAAWC,KAAM7C,EAAM8C,KAAM,WAG5C,kBAAC5B,EAAD,KACGlB,EAAKnB,OAAO6C,KAAI,SAACqB,EAAcnB,GAC9B,OACE,kBAACoB,EAAD,KACE,kBAACC,EAAD,KAAYF,EAAMtF,MAClB,kBAACyF,EAAD,KAAaH,EAAMpF,OACnB,kBAACwF,EAAD,KACE,kBAAC3B,EAAA,EAAD,CAAc9D,KAAMqF,EAAMrF,eAYpCsD,EAAgBoC,IAAOC,IAAV,KASbnC,EAAOkC,IAAOC,IAAV,KACC,qBAAGC,MAAkBC,KAAKC,SAe/BvC,EAAYmC,YAAOlC,EAAPkC,CAAH,KAKTjC,EAAOiC,IAAOC,IAAV,KASY,qBAAGC,MAAkBC,KAAKE,mBAG1CrC,EAAcgC,IAAOC,IAAV,KAUXhC,EAAO+B,IAAOC,IAAV,KAQY,qBAAGC,MAAkBC,KAAKE,mBAOnC,qBAAGH,MAAkBI,KAAKC,aAIjCpC,EAAY6B,IAAOQ,KAAV,KAEJ,qBAAGN,MAAkBC,KAAKM,uBAK/Bb,EAAeI,YAAOhC,EAAPgC,CAAH,KACZH,EAAYG,IAAOC,IAAV,KACO,qBAAGC,MAAkBC,KAAKE,mBAM1CP,EAAaE,YAAOH,EAAPG,CAAH,KAGVD,EAAYC,YAAOH,EAAPG,CAAH,KAIT9B,EAAO8B,IAAOC,IAAV,KAQY,qBAAGC,MAAkBC,KAAKE,mBAG1CK,EAAOV,IAAOQ,KAAV,KAEY,qBAAGN,MAAkBC,KAAKM,uBAGrC,qBAAGP,MAAkBC,KAAKE,mBAM/B3B,EAAcsB,YAAOU,EAAPV,CAAH,KAOXZ,EAAOY,YAAOW,IAAPX,CAAH,KAMC,qBAAGE,MAAkBI,KAAKC,aAO/BK,EAAQ,SAAC,GAA0B,IAAxB1F,EAAuB,EAAvBA,IACf,MAAY,KAARA,EACK,kBAAC2F,EAAD,CAAUC,IAAK5F,IAEf,kBAAC6F,EAAD,OAILF,EAAWb,IAAOgB,IAAV,KAIRD,EAAQf,IAAOC,IAAV,KAELnB,GAAekB,IAAOiB,OAAV,KACI,qBAAGf,MAAkBC,KAAKM,uBAErC,qBAAGP,MAAkBC,KAAKE,mB,s4CC/QrC,IAuHea,GAvHM,SAAC,GAA8B,IAA5BtE,EAA2B,EAA3BA,KAAMuE,EAAqB,EAArBA,OACtBC,EAAgB,SACpBC,EACAC,EACA/D,GAEA,IAAI9B,EAASmB,EAAKnB,OAAO6C,KAAI,SAACqB,GAC5B,OAAIA,IAAU0B,EACL,6BACF1B,GADL,mBAEG2B,EAAQ/D,IAGJoC,KAGXwB,EAAO,6BAAKvE,GAAN,IAAYnB,OAAQA,MAmB5B,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC8F,GAAA,EAAD,CACEhE,MAAOX,EAAKvC,KACZmH,MAAM,OACNC,SAAU,SAACpH,GAAD,OAAU8G,EAAO,6BAAKvE,GAAN,IAAYvC,KAAMA,QAE9C,kBAACkH,GAAA,EAAD,CACEhE,MAAOX,EAAKzB,cACZqG,MAAM,iBACNC,SAAU,SAACtG,GAAD,OACRgG,EAAO,6BAAKvE,GAAN,IAAYzB,cAAeA,QAGrC,kBAACuG,GAAA,EAAD,CACEnE,MAAOX,EAAKxB,IACZoG,MAAM,MACNC,SAAU,SAACrG,GAAD,OAAS+F,EAAO,6BAAKvE,GAAN,IAAYxB,IAAKA,QAE5C,kBAACsG,GAAA,EAAD,CACEnE,MAAOX,EAAKvB,UACZmG,MAAM,YACNC,SAAU,SAACpG,GAAD,OAAe8F,EAAO,6BAAKvE,GAAN,IAAYvB,UAAWA,QAExD,kBAACqG,GAAA,EAAD,CACEnE,MAAOX,EAAKtB,KACZkG,MAAM,OACNC,SAAU,SAACnG,GAAD,OAAU6F,EAAO,6BAAKvE,GAAN,IAAYtB,KAAMA,QAE9C,kBAACoG,GAAA,EAAD,CACEnE,MAAOX,EAAKrB,MACZiG,MAAM,QACNC,SAAU,SAAClG,GAAD,OAAW4F,EAAO,6BAAKvE,GAAN,IAAYrB,MAAOA,QAEhD,kBAACmG,GAAA,EAAD,CACEnE,MAAOX,EAAKpB,KACZgG,MAAM,WACNC,SAAU,SAACjG,GAAD,OAAU2F,EAAO,6BAAKvE,GAAN,IAAYpB,KAAMA,QAE9C,kBAAC+F,GAAA,EAAD,CACEhE,MAAOX,EAAK1B,IACZsG,MAAM,UACNtC,KAAMyC,IACNF,SAAU,SAACvG,GAAD,OAASiG,EAAO,6BAAKvE,GAAN,IAAY1B,IAAKA,QAE5C,kBAACqG,GAAA,EAAD,CACEhE,MAAOX,EAAKlB,QACZ8F,MAAM,UACNtC,KAAMG,IACNoC,SAAU,SAAC/F,GAAD,OAAayF,EAAO,6BAAKvE,GAAN,IAAYlB,QAASA,SAGtD,kBAACkG,GAAD,KACGhF,EAAKnB,OAAO6C,KAAI,SAACqB,EAAcnB,GAC9B,OACE,kBAAC,GAAD,CAAcG,IAAKH,GACjB,kBAAC,GAAD,CACEjB,MAAOoC,EAAMtF,KACbmH,MAAM,OACNC,SAAU,SAACpH,GAAD,OAAU+G,EAAczB,EAAO,OAAQtF,MAEnD,kBAAC,GAAD,CACEkD,MAAOoC,EAAMpF,MACbiH,MAAM,QACNC,SAAU,SAAClH,GAAD,OAAW6G,EAAczB,EAAO,QAASpF,MAErD,kBAACsH,GAAA,EAAD,CAAY3C,KAAM4C,KAASlD,QAAS,kBA5E5B,SAACyC,GACnB,IAAI5F,EAASmB,EAAKnB,OACZ+C,EAAgB/C,EAAOsG,QAAQV,IACtB,IAAX7C,IACF/C,EAAOuG,OAAOxD,EAAO,GACrB2C,EAAO,6BAAKvE,GAAN,IAAYnB,OAAQA,MAuEwBwG,CAAYtC,MACtD,kBAAC,GAAD,CACEpC,MAAOoC,EAAMrF,KACbkH,MAAM,OACNC,SAAU,SAACnH,GAAD,OAAU8G,EAAczB,EAAO,OAAQrF,UAKzD,kBAAC,GAAD,KACE,kBAACuH,GAAA,EAAD,CAAY3C,KAAMgD,IAAQtD,QAAS,WA5FzCuC,EAAO,6BACFvE,GADC,IAEJnB,OAAO,GAAD,oBAAMmB,EAAKnB,QAAX,CAAmB,CAAEpB,KAAM,YAAaE,MAAO,EAAGD,KAAM,gBAmG9DsD,GAAgBoC,IAAOC,IAAV,MASbtD,GAAWqD,IAAOC,IAAV,MACH,qBAAGC,MAAkBC,KAAKC,SAc/BwB,GAAY5B,YAAOrD,GAAPqD,CAAH,MAETJ,GAAeI,IAAOC,IAAV,MAWZJ,GAAYG,YAAOuB,KAAPvB,CAAH,MACO,qBAAGE,MAAkBC,KAAKE,mBAM1CP,GAAaE,YAAOmC,KAAPnC,CAAH,MACM,qBAAGE,MAAkBC,KAAKE,mBAM1CN,GAAYC,YAAO0B,KAAP1B,CAAH,MACO,qBAAGE,MAAkBC,KAAKE,mB,6lBC9FjC+B,IA5EI,SAAC,GAA6B,IAA3BxF,EAA0B,EAA1BA,KAAMyF,EAAoB,EAApBA,MAAoB,EAClBxF,mBAAkBwF,GADA,mBACvCC,EADuC,KAC7BC,EAD6B,OAElB1F,mBAAeD,GAFG,mBAEvC4F,EAFuC,KAE9BC,EAF8B,OAGhB5F,oBAAkB,GAHF,mBAGvC6F,EAHuC,KAG5BC,EAH4B,OAIF9F,oBAAkB,GAJhB,mBAIvC+F,EAJuC,KAIrBC,EAJqB,OAKhBhG,mBAAiB,IALD,mBAKvCiG,EALuC,KAK9BC,EAL8B,OAMFlG,oBAAkB,GANhB,mBAMvCmG,EANuC,KAMvBC,EANuB,KAO1C/F,EAAUC,cAMdC,qBAAU,WACJoF,IAAY5F,GACdqG,GAAkB,KAEnB,CAACT,EAAS5F,IAkBb,OACE,oCACGgG,GACC,kBAACM,GAAA,EAAD,CACEJ,QAAO,iBAAYlG,EAAKvC,KAAjB,KACP6E,KAAMiE,IACNC,aAAc,SACdC,cAAe,WACbC,YAAO,QAAS1G,EAAK5B,IACrBkC,EAAQqG,UAEVC,UAAW,OACXC,WAAY,WACVZ,GAAgB,MAItB,kBAACa,GAAD,KACE,kBAACC,GAAA,EAAD,CAAYzE,KAAM0E,IAAaC,OAAQ,kBAAM3G,EAAQqG,YACrD,kBAAC,KAAD,CAAY7D,KAAM4C,EAASwB,YACzB,kBAAC,KAAD,CAAYlF,QAAS,kBAAM2D,GAAQ,KAAnC,QACA,kBAAC,KAAD,CAAa3D,QAAS,kBAAM2D,GAAQ,KAApC,SAEDS,GAAkB,kBAAC,GAAD,CAAM9D,KAAMiE,IAAuBY,MAAO,qBAC5DzB,GACC,oCACE,kBAACT,GAAA,EAAD,CAAYjD,QAAS,kBA1CZ,SAACoF,EAAmBxB,GACrCyB,YAAmBD,EAAWxB,GAAS,SAAC0B,GAClCA,EAAS,GACXjB,GAAkB,GAClBF,EAAW,qBACXJ,GAAS,KAETI,EAAW,yBACXJ,GAAS,IAEXwB,YAAW,WACTxB,GAAS,KACR,QA8B8ByB,CAAW,QAAS5B,IAAUtD,KAAMmF,MAC/D,kBAACxC,GAAA,EAAD,CAAYjD,QAAS,WApD7BiE,GAAgB,IAoDiC3D,KAAM4C,OAC9CgB,GAAWJ,GAAa,kBAAC4B,GAAD,KAAUxB,KAIxCR,EACC,kBAAC,GAAD,CAAc1F,KAAM4F,EAASrB,OAAQ,SAAC5D,GAAD,OAAWkF,EAASlF,MAEzD,kBAAC,EAAD,CAAUX,KAAM4F,MAtExB,IA8EMkB,GAAS1D,IAAOC,IAAV,MACD,qBAAGC,MAAkBC,KAAKC,SAS/BkE,GAAUtE,IAAOC,IAAV,MASPb,GAAOY,YAAOW,IAAPX,CAAH,MAMC,qBAAGE,MAAkBI,KAAKC,c,0FC5HtB,SAASgE,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIpI,MAAMC,QAAQmI,GAAM,OAAO,OAAAC,EAAA,GAAiBD,GDGzC,CAAkBA,IELZ,SAA0BE,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOtI,MAAM0I,KAAKJ,GFIvD,CAAgBF,IAAQ,OAAAO,EAAA,GAA2BP,IGLvE,WACb,MAAM,IAAIQ,UAAU,wIHIwE,K,qIIsC/EC,UA/BI,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,MAChBhI,EAAUC,cACRgI,EAAK,IAAIC,IAF+C,EAG/BC,YAAcF,EAAGG,MAAO,OAAQJ,EAAMK,OAAOlL,MAHd,mBAGvDuC,EAHuD,KAGjD4I,EAHiD,KAGxCC,EAHwC,KAa9D,OACE,qCACIA,GAASD,GAAW,kBAAC,IAAD,MACrBC,IAAUD,GAAW,sDACpBC,IAAUD,QAAoB7K,IAATiC,GACrB,kBAAC,IAAD,CACEtC,KAAM,gDACNoL,WAAY,MACZC,SAAU,kBAhBI,WACpB,IAAIC,EAAU,IAAI7K,IAAKmK,EAAMK,OAAOlL,aAC7BuL,EAAQ5K,GACfgE,YAAgB,QAAS4G,GAAS,SAAC5K,GACjCkC,EAAQ2B,KAAR,0BAAgC7D,OAYZ6K,OAGlBJ,IAAUD,QAAoB7K,IAATiC,GACrB,kBAAC,IAAD,CAAYA,KAAMA,EAAMyF,MAAqB,KAAdzF,EAAKvC,U,swCCR7ByL,IAjBG,SAAC,GAA4C,IAA1CxL,EAAyC,EAAzCA,KAAMoL,EAAmC,EAAnCA,WAAYC,EAAuB,EAAvBA,SACrC,OACE,kBAACI,EAAD,KACE,kBAAC/H,EAAD,KACE,kBAACD,EAAD,KACE,kDAEF,kBAACG,EAAD,KACE,kBAACC,EAAD,eACC7D,GAEH,kBAAC,IAAD,CAAYA,KAAMoL,EAAY9G,QAAS,kBAAM+G,KAAYzG,KAAMC,SAQvE,IAAM4G,EAAO/F,IAAOC,IAAV,KAEC,qBAAGC,MAAkBC,KAAKC,SACf,qBAAGF,MAAkBC,KAAKE,mBAGhC,qBAAGH,MAAkBC,KAAK6F,aAUpCjI,EAAOiC,IAAOC,IAAV,KAOC,qBAAGC,MAAkBC,KAAK8F,eAK/BjI,EAAcgC,IAAOC,IAAV,KASX9B,EAAY6B,IAAOQ,KAAV,KAEJ,qBAAGN,MAAkBC,KAAKM,uBAK/BvC,EAAO8B,IAAOC,IAAV,KAQY,qBAAGC,MAAkBC,KAAKE","file":"static/js/59.c686fd69.chunk.js","sourcesContent":["import IEntity from \"../IEntity\";\n\nexport default class Trait implements IEntity {\n  name: string;\n  text: string;\n  level: number;\n  constructor(name: string, text: string, level: number) {\n    this.name = name;\n    this.text = text;\n    this.level = level;\n  }\n}\n\nexport function isTrait(arg: any): arg is Trait {\n  if (arg !== undefined) {\n    const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n    const textCheck = arg.text !== undefined && typeof arg.text == \"string\";\n    const levelCheck = arg.level !== undefined && typeof arg.level == \"number\";\n    return arg && nameCheck && textCheck && levelCheck;\n  } else {\n    return true;\n  }\n}\n","import IEntity from \"../IEntity\";\nimport Trait, { isTrait } from \"./Trait\";\n\nexport default class Race implements IEntity {\n  id?: number;\n  name: string;\n  abilityScores: string;\n  age: string;\n  alignment: string;\n  size: string;\n  speed: string;\n  lang: string;\n  traits: Trait[];\n  sources: string;\n  filename: string;\n  pic: string;\n\n  constructor(\n    name?: string,\n    id?: number,\n    filename?: string,\n    pic?: string,\n    abilityScores?: string,\n    age?: string,\n    alignment?: string,\n    size?: string,\n    speed?: string,\n    lang?: string,\n    traits?: Trait[],\n    sources?: string\n  ) {\n    this.name = name || \"\";\n    this.id = id;\n    this.filename = filename || \"\";\n    this.pic = pic || \"\";\n    this.abilityScores = abilityScores || \"\";\n    this.age = age || \"\";\n    this.alignment = alignment || \"\";\n    this.size = size || \"\";\n    this.speed = speed || \"\";\n    this.lang = lang || \"\";\n    this.traits = traits || [];\n    this.sources = sources || \"\";\n  }\n}\n\nexport function isRace(arg: any): arg is Race {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const picCheck = arg.pic !== undefined && typeof arg.pic == \"string\";\n  const abilityScoresCheck =\n    arg.abilityScores !== undefined && typeof arg.abilityScores == \"string\";\n  const ageCheck = arg.age !== undefined && typeof arg.age == \"string\";\n  const alignmentCheck =\n    arg.alignment !== undefined && typeof arg.alignment == \"string\";\n  const sizeCheck = arg.size !== undefined && typeof arg.size == \"string\";\n  const speedCheck = arg.speed !== undefined && typeof arg.speed == \"string\";\n  const langCheck = arg.lang !== undefined && typeof arg.lang == \"string\";\n  const traitsCheck =\n    arg.traits !== undefined &&\n    Array.isArray(arg.traits) &&\n    isTrait(arg.traits[0]);\n  const sourcesCheck =\n    arg.sources !== undefined && typeof arg.sources == \"string\";\n  return (\n    arg &&\n    nameCheck &&\n    picCheck &&\n    abilityScoresCheck &&\n    ageCheck &&\n    alignmentCheck &&\n    sizeCheck &&\n    speedCheck &&\n    langCheck &&\n    traitsCheck &&\n    sourcesCheck\n  );\n}\n\nexport function findRaceFormattError(\n  arg: any\n): {\n  nameCheck: boolean;\n  picCheck: boolean;\n  abilityScoresCheck: boolean;\n  ageCheck: boolean;\n  alignmentCheck: boolean;\n  sizeCheck: boolean;\n  speedCheck: boolean;\n  langCheck: boolean;\n  traitsCheck: boolean;\n  sourcesCheck: boolean;\n} {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const picCheck = arg.pic !== undefined && typeof arg.pic == \"string\";\n  const abilityScoresCheck =\n    arg.abilityScores !== undefined && typeof arg.abilityScores == \"string\";\n  const ageCheck = arg.age !== undefined && typeof arg.age == \"string\";\n  const alignmentCheck =\n    arg.alignment !== undefined && typeof arg.alignment == \"string\";\n  const sizeCheck = arg.size !== undefined && typeof arg.size == \"string\";\n  const speedCheck = arg.speed !== undefined && typeof arg.speed == \"string\";\n  const langCheck = arg.lang !== undefined && typeof arg.lang == \"string\";\n  const traitsCheck =\n    arg.traits !== undefined &&\n    Array.isArray(arg.traits) &&\n    isTrait(arg.traits[0]);\n  const sourcesCheck =\n    arg.sources !== undefined && typeof arg.sources == \"string\";\n  return {\n    nameCheck: nameCheck,\n    picCheck: picCheck,\n    abilityScoresCheck: abilityScoresCheck,\n    ageCheck: ageCheck,\n    alignmentCheck: alignmentCheck,\n    sizeCheck: sizeCheck,\n    speedCheck: speedCheck,\n    langCheck: langCheck,\n    traitsCheck: traitsCheck,\n    sourcesCheck: sourcesCheck,\n  };\n}\n","import IEntity from \"../IEntity\";\nimport Trait, { isTrait } from \"./Trait\";\n\nexport default class Subrace implements IEntity {\n  id?: number;\n  name: string;\n  type: string;\n  abilityScores: string;\n  traits: Trait[];\n  sources: string;\n  filename: string;\n\n  constructor(\n    name?: string,\n    id?: number,\n    type?: string,\n    filename?: string,\n    abilityScores?: string,\n    traits?: Trait[],\n    sources?: string\n  ) {\n    this.name = name || \"\";\n    this.id = id;\n    this.type = type || \"\";\n    this.filename = filename || \"\";\n    this.abilityScores = abilityScores || \"\";\n    this.traits = traits || [];\n    this.sources = sources || \"\";\n  }\n}\n\nexport function isSubrace(arg: any): arg is Subrace {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const typeCheck = arg.type !== undefined && typeof arg.type == \"string\";\n  const abilityScoresCheck =\n    arg.abilityScores !== undefined && typeof arg.abilityScores == \"string\";\n  const traitsCheck =\n    arg.traits !== undefined &&\n    Array.isArray(arg.traits) &&\n    isTrait(arg.traits[0]);\n  const sourcesCheck =\n    arg.sources !== undefined && typeof arg.sources == \"string\";\n  return (\n    arg &&\n    nameCheck &&\n    typeCheck &&\n    abilityScoresCheck &&\n    traitsCheck &&\n    sourcesCheck\n  );\n}\n\nexport function findSubraceFormattError(\n  arg: any\n): {\n  nameCheck: boolean;\n  typeCheck: boolean;\n  abilityScoresCheck: boolean;\n  traitsCheck: boolean;\n  sourcesCheck: boolean;\n} {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const typeCheck = arg.type !== undefined && typeof arg.type == \"string\";\n  const abilityScoresCheck =\n    arg.abilityScores !== undefined && typeof arg.abilityScores == \"string\";\n  const traitsCheck =\n    arg.traits !== undefined &&\n    Array.isArray(arg.traits) &&\n    isTrait(arg.traits[0]);\n  const sourcesCheck =\n    arg.sources !== undefined && typeof arg.sources == \"string\";\n  return {\n    nameCheck: nameCheck,\n    typeCheck: typeCheck,\n    abilityScoresCheck: abilityScoresCheck,\n    traitsCheck: traitsCheck,\n    sourcesCheck: sourcesCheck,\n  };\n}\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { reciveAllFiltered, createNewWithId } from \"../../../../services/DatabaseService\";\nimport Race from \"../../../../data/races/Race\";\nimport Trait from \"../../../../data/races/Trait\";\nimport Subrace from \"../../../../data/races/Subrace\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faLink, faPaperPlane, faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { GiUpgrade } from \"react-icons/gi\";\nimport FormatedText from \"../../../general_elements/FormatedText\";\nimport TextButton from \"../../../form_elements/TextButton\";\nimport P2PSender from \"../../../p2p/P2PSender\";\n\ninterface $Props {\n  race: Race;\n}\n\nconst RaceView = ({ race }: $Props) => {\n  const [send, setSend] = useState<boolean>(false);\n  const [subraces, setSubraces] = useState<Subrace[]>([]);\n  let history = useHistory();\n\n  useEffect(() => {\n    reciveAllFiltered(\n      \"subraces\",\n      [{ fieldName: \"type\", value: race.name, sort: 0 }],\n      (results: any[]) => {\n        setSubraces(results);\n      }\n    );\n  }, [race]);\n\n  const getPicture = useCallback(() => {\n    if (race !== undefined) {\n      if (race.pic === \"\" || race.pic === null) {\n        return \"\";\n      }\n      return race.pic;\n    }\n    return \"\";\n  }, [race]);\n\n  const createNewSubrace = () => {\n    let newSubrace = new Subrace();\n    delete newSubrace.id;\n    newSubrace.type = race.name;\n    createNewWithId(\"subraces\", newSubrace, (id) => {\n      history.push(`/subrace-detail/id/${id}`);\n    });\n  };\n\n  return (\n    <CenterWrapper>\n      {getPicture() !== \"\" ? (\n        <ImageView>\n          <Image pic={getPicture()}></Image>\n        </ImageView>\n      ) : (\n        \"\"\n      )}\n      <View>\n        <Name>\n          <b>{race.name}</b>\n        </Name>\n        <PropWrapper>\n          <Prop>\n            <GiUpgrade />\n            {race.abilityScores}\n          </Prop>\n          <Text>\n            <PropTitle>Age:</PropTitle>\n            <FormatedText text={race.age} />\n          </Text>\n          <Text>\n            <PropTitle>Alignment:</PropTitle>\n            <FormatedText text={race.alignment} />\n          </Text>\n          <Text>\n            <PropTitle>Size:</PropTitle>\n            <FormatedText text={race.size} />\n          </Text>\n          <Text>\n            <PropTitle>Speed:</PropTitle>\n            <FormatedText text={race.speed} />\n          </Text>\n          <Text>\n            <PropTitle>Language:</PropTitle>\n            <FormatedText text={race.lang} />\n          </Text>\n          <Text>\n            <PropTitle>Subraces:</PropTitle>\n            {subraces.length !== 0 &&\n              subraces.map((subrace: Subrace, index: number) => {\n                const link: string = \"/subrace-detail/id/\" + subrace.id;\n                return (\n                  <SubraceLink key={index} onClick={() => history.push(link)}>\n                    {subrace.name}\n                  </SubraceLink>\n                );\n              })}\n            <CreateButton onClick={() => createNewSubrace()}>\n              <FontAwesomeIcon icon={faPlusCircle} />\n            </CreateButton>\n          </Text>\n          <Prop>\n            <Icon icon={faLink} />\n            {race.sources}\n          </Prop>\n        </PropWrapper>\n        <PropWrapper>\n          {!send && (\n            <TextButton\n              text={`Send ${race.name}`}\n              icon={faPaperPlane}\n              onClick={() => setSend(true)}\n            />\n          )}\n          {!!send && <P2PSender data={race} mode={\"THIS\"} />}\n        </PropWrapper>\n      </View>\n      <View>\n        {race.traits.map((trait: Trait, index: number) => {\n          return (\n            <TraitWrapper>\n              <TraitName>{trait.name}</TraitName>\n              <TraitLevel>{trait.level}</TraitLevel>\n              <TraitText>\n                <FormatedText text={trait.text} />\n              </TraitText>\n            </TraitWrapper>\n          );\n        })}\n      </View>\n    </CenterWrapper>\n  );\n};\n\nexport default RaceView;\n\nconst CenterWrapper = styled.div`\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nconst View = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 auto;\n  max-width: 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n`;\n\nconst ImageView = styled(View)`\n  justify-content: flex-end;\n  flex: 1 1 300px;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 5px 5px 10px 5px;\n  width: calc(100% - 30px);\n  color: var(--card-title-color);\n  text-align: center;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst Prop = styled.div`\n  flex: 1 1 auto;\n  max-width: 100%;\n  height: auto;\n  margin: 2px;\n  float: left;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ${({ theme }) => theme.main.highlight};\n  }\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst TraitWrapper = styled(PropWrapper)``;\nconst TraitName = styled.div`\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 3 3 auto;\n`;\nconst TraitLevel = styled(TraitName)`\n  flex: 1 1 auto;\n`;\nconst TraitText = styled(TraitName)`\n  flex: 4 4 auto;\n`;\n\nconst Text = styled.div`\n  height: auto;\n  width: calc(100% - 24px);\n  margin: 2px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n\nconst Link = styled.span`\n  display: inline-block;\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  text-decoration: none;\n  color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 10px;\n  padding: 0px 5px 0px 5px;\n  cursor: pointer;\n`;\n\nconst SubraceLink = styled(Link)`\n  font-size: 16px;\n  margin: 5px;\n  padding: 5px;\n  cursor: pointer;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\ninterface $ImageProps {\n  pic: string;\n}\n\nconst Image = ({ pic }: $ImageProps) => {\n  if (pic !== \"\") {\n    return <ImageElm src={pic}></ImageElm>;\n  } else {\n    return <Empty />;\n  }\n};\n\nconst ImageElm = styled.img`\n  margin: 5px;\n  max-height: 60vh;\n`;\nconst Empty = styled.div``;\n\nconst CreateButton = styled.button`\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 10px;\n  padding: 0px 5px 0px 5px;\n  margin: 5px;\n  border: none;\n  box-sizing: content-box;\n  height: 28px;\n  line-height: 28px;\n  float: right;\n  cursor: pointer;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Race from \"../../../../data/races/Race\";\n\nimport StringField from \"../../../form_elements/StringField\";\nimport ShortTextField from \"../../../form_elements/ShortTextField\";\n\nimport {\n  faLink,\n  faImage,\n  faPlus,\n  faTrash,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport Trait from \"../../../../data/races/Trait\";\nimport NumberField from \"../../../form_elements/NumberField\";\nimport IconButton from \"../../../form_elements/IconButton\";\n\ninterface $Props {\n  race: Race;\n  onEdit: (value: Race) => void;\n}\n\nconst RaceEditView = ({ race, onEdit }: $Props) => {\n  const onTraitChange = (\n    oldTrait: Trait,\n    field: string,\n    value: string | number\n  ) => {\n    let traits = race.traits.map((trait: Trait) => {\n      if (trait === oldTrait) {\n        return {\n          ...trait,\n          [field]: value,\n        };\n      } else {\n        return trait;\n      }\n    });\n    onEdit({ ...race, traits: traits });\n  };\n\n  const addNewTrait = () => {\n    onEdit({\n      ...race,\n      traits: [...race.traits, { name: \"New Trait\", level: 1, text: \"\" }],\n    });\n  };\n\n  const removeTrait = (oldTrait: Trait) => {\n    let traits = race.traits;\n    const index: number = traits.indexOf(oldTrait);\n    if (index !== -1) {\n      traits.splice(index, 1);\n      onEdit({ ...race, traits: traits });\n    }\n  };\n\n  return (\n    <CenterWrapper>\n      <RaceView>\n        <StringField\n          value={race.name}\n          label=\"Name\"\n          onChange={(name) => onEdit({ ...race, name: name })}\n        />\n        <StringField\n          value={race.abilityScores}\n          label=\"Ability Scores\"\n          onChange={(abilityScores) =>\n            onEdit({ ...race, abilityScores: abilityScores })\n          }\n        />\n        <ShortTextField\n          value={race.age}\n          label=\"Age\"\n          onChange={(age) => onEdit({ ...race, age: age })}\n        />\n        <ShortTextField\n          value={race.alignment}\n          label=\"Alignment\"\n          onChange={(alignment) => onEdit({ ...race, alignment: alignment })}\n        />\n        <ShortTextField\n          value={race.size}\n          label=\"Size\"\n          onChange={(size) => onEdit({ ...race, size: size })}\n        />\n        <ShortTextField\n          value={race.speed}\n          label=\"Speed\"\n          onChange={(speed) => onEdit({ ...race, speed: speed })}\n        />\n        <ShortTextField\n          value={race.lang}\n          label=\"Language\"\n          onChange={(lang) => onEdit({ ...race, lang: lang })}\n        />\n        <StringField\n          value={race.pic}\n          label=\"Picture\"\n          icon={faImage}\n          onChange={(pic) => onEdit({ ...race, pic: pic })}\n        />\n        <StringField\n          value={race.sources}\n          label=\"Sources\"\n          icon={faLink}\n          onChange={(sources) => onEdit({ ...race, sources: sources })}\n        />\n      </RaceView>\n      <TraitView>\n        {race.traits.map((trait: Trait, index: number) => {\n          return (\n            <TraitWrapper key={index}>\n              <TraitName\n                value={trait.name}\n                label=\"Name\"\n                onChange={(name) => onTraitChange(trait, \"name\", name)}\n              />\n              <TraitLevel\n                value={trait.level}\n                label=\"Level\"\n                onChange={(level) => onTraitChange(trait, \"level\", level)}\n              />\n              <IconButton icon={faTrash} onClick={() => removeTrait(trait)} />\n              <TraitText\n                value={trait.text}\n                label=\"Text\"\n                onChange={(text) => onTraitChange(trait, \"text\", text)}\n              />\n            </TraitWrapper>\n          );\n        })}\n        <TraitWrapper>\n          <IconButton icon={faPlus} onClick={() => addNewTrait()} />\n        </TraitWrapper>\n      </TraitView>\n    </CenterWrapper>\n  );\n};\n\nexport default RaceEditView;\n\nconst CenterWrapper = styled.div`\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nconst RaceView = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  flex: 1 1 600px;\n  padding: 5px;\n  margin: 5px;\n  height: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: flex-start;\n  align-content: flex-start;\n`;\n\nconst TraitView = styled(RaceView)``;\n\nconst TraitWrapper = styled.div`\n  flex: 1 1 600px;\n  height: auto;\n  width: calc(100% - 6px);\n  float: left;\n  padding: 3px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\nconst TraitName = styled(StringField)`\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 3 3 auto;\n`;\nconst TraitLevel = styled(NumberField)`\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 1 1 auto;\n`;\nconst TraitText = styled(ShortTextField)`\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  padding: 10px;\n  border-radius: 5px;\n  margin: 2px;\n  flex: 4 4 auto;\n`;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\n\nimport {\n  faArrowLeft,\n  faSave,\n  faTrash,\n  faExclamationTriangle,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport RaceView from \"./RaceView\";\nimport RaceEditView from \"./RaceEditView\";\nimport BackButton from \"../../../form_elements/BackButton\";\nimport Race from \"../../../../data/races/Race\";\nimport IconButton from \"../../../form_elements/IconButton\";\nimport { remove, updateWithCallback } from \"../../../../services/DatabaseService\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Dialog from \"../../../general_elements/Dialog\";\nimport { EditToggle, ToggleLeft, ToggleRight } from \"../../../general_elements/ToggleStyle\";\n\ninterface $Props {\n  race: Race;\n  isNew: boolean;\n}\n\nconst RaceDetail = ({ race, isNew }: $Props) => {\n  const [editMode, setMode] = useState<boolean>(isNew);\n  const [raceObj, editRace] = useState<Race>(race);\n  const [showAlert, setAlert] = useState<boolean>(false);\n  const [showDeleteDialog, setDeleteDialog] = useState<boolean>(false);\n  const [message, setMessage] = useState<string>(\"\");\n  const [unsavedChanges, setUnsavedChanges] = useState<boolean>(false);\n  let history = useHistory();\n\n  const deleteRace = () => {\n    setDeleteDialog(true);\n  };\n\n  useEffect(() => {\n    if (raceObj !== race) {\n      setUnsavedChanges(true);\n    }\n  }, [raceObj, race]);\n\n  const updateRace = (tableName: string, raceObj: Race) => {\n    updateWithCallback(tableName, raceObj, (result) => {\n      if (result > 0) {\n        setUnsavedChanges(false);\n        setMessage(\"Saved successful!\");\n        setAlert(true);\n      } else {\n        setMessage(\"Something went wrong!\");\n        setAlert(true);\n      }\n      setTimeout(() => {\n        setAlert(false);\n      }, 3000);\n    });\n  };\n\n  return (\n    <>\n      {showDeleteDialog && (\n        <Dialog\n          message={`Delete ${race.name}?`}\n          icon={faExclamationTriangle}\n          confirmeText={\"Delete\"}\n          confirmeClick={() => {\n            remove(\"races\", race.id);\n            history.goBack();\n          }}\n          abortText={\"Back\"}\n          abortClick={() => {\n            setDeleteDialog(false);\n          }}\n        />\n      )}\n      <TopBar>\n        <BackButton icon={faArrowLeft} action={() => history.goBack()} />\n        <EditToggle mode={editMode.toString()}>\n          <ToggleLeft onClick={() => setMode(false)}>View</ToggleLeft>\n          <ToggleRight onClick={() => setMode(true)}>Edit</ToggleRight>\n        </EditToggle>\n        {unsavedChanges && <Icon icon={faExclamationTriangle} title={\"Unsaved changes!\"} />}\n        {editMode && (\n          <>\n            <IconButton onClick={() => updateRace(\"races\", raceObj)} icon={faSave} />\n            <IconButton onClick={() => deleteRace()} icon={faTrash} />\n            {message && showAlert && <Message>{message}</Message>}\n          </>\n        )}\n      </TopBar>\n      {editMode ? (\n        <RaceEditView race={raceObj} onEdit={(value) => editRace(value)} />\n      ) : (\n        <RaceView race={raceObj} />\n      )}\n    </>\n  );\n};\n\nexport default RaceDetail;\n\nconst TopBar = styled.div`\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 16px;\n  overflow: hidden;\n  flex: 1 1;\n  min-width: calc(100% - 20px);\n  height: 45px;\n  padding: 10px;\n`;\n\nconst Message = styled.div`\n  padding: 5px;\n  width: 150px;\n  height: 30px;\n  line-height: 30px;\n  border-radius: 5px;\n  float: right;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  float: right;\n  line-height: 30px;\n  display: block;\n  height: 30px;\n  padding: 10px;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\nimport { RouteComponentProps, useHistory } from \"react-router\";\nimport { MyAppDatabase } from \"../../../../../database/MyDatabase\";\nimport { useItemByAttr } from \"../../../../../hooks/DexieHooks\";\nimport { LoadingSpinner } from \"../../../../Loading\";\nimport RaceDetail from \"../RaceDetail\";\nimport Race from \"../../../../../data/races/Race\";\nimport { createNewWithId } from \"../../../../../services/DatabaseService\";\nimport ErrorTile from \"../../../../general_elements/ErrorTile\";\n\ntype TParams = { name: string };\n\nconst NameToRace = ({ match }: RouteComponentProps<TParams>) => {\n  let history = useHistory();\n  const db = new MyAppDatabase();\n  const [race, loading, error] = useItemByAttr(db.races, \"name\", match.params.name);\n\n  const createNewRace = () => {\n    let newRace = new Race(match.params.name);\n    delete newRace.id;\n    createNewWithId(\"races\", newRace, (id) => {\n      history.push(`/race-detail/id/${id}`);\n    });\n  };\n\n  return (\n    <>\n      {!error && loading && <LoadingSpinner />}\n      {error && !loading && <>Error occured</>}\n      {!error && !loading && race === undefined && (\n        <ErrorTile\n          text={\"No such race exists. Want to creat such race?\"}\n          buttonText={\"Add\"}\n          onButton={() => createNewRace()}\n        />\n      )}\n      {!error && !loading && race !== undefined && (\n        <RaceDetail race={race} isNew={race.name === \"\" ? true : false} />\n      )}\n    </>\n  );\n};\n\nexport default NameToRace;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport TextButton from \"../form_elements/TextButton\";\n\ninterface $Props {\n  text: string;\n  buttonText: string;\n  onButton: () => void;\n}\n\nconst ErrorTile = ({ text, buttonText, onButton }: $Props) => {\n  return (\n    <Tile>\n      <PropWrapper>\n        <Name>\n          <b>A problem occured!</b>\n        </Name>\n        <Text>\n          <PropTitle>Text: </PropTitle>\n          {text}\n        </Text>\n        <TextButton text={buttonText} onClick={() => onButton()} icon={faPlusCircle} />\n      </PropWrapper>\n    </Tile>\n  );\n};\n\nexport default ErrorTile;\n\nconst Tile = styled.div`\n  flex: 1 1 15em;\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ${({ theme }) => theme.tile.boxShadow};\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ${({ theme }) => theme.tile.headerColor};\n  text-align: center;\n  border-radius: 5px;\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst PropTitle = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.tile.backgroundColorLink};\n  text-decoration: none;\n  margin: 0px 5px 0px 5px;\n`;\n\nconst Text = styled.div`\n  height: auto;\n  width: calc(100% - 30px);\n  margin: 10px 5px 5px 5px;\n  float: left;\n  line-height: 18px;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n`;\n"],"sourceRoot":""}